(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function nS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var _d={exports:{}},cl={};var m_;function iS(){if(m_)return cl;m_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return cl.Fragment=t,cl.jsx=i,cl.jsxs=i,cl}var p_;function rS(){return p_||(p_=1,_d.exports=iS()),_d.exports}var K=rS(),vd={exports:{}},bt={};var g_;function sS(){if(g_)return bt;g_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.iterator;function j(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,J={};function ot(M,X,L){this.props=M,this.context=X,this.refs=J,this.updater=L||W}ot.prototype.isReactComponent={},ot.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},ot.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ft(){}ft.prototype=ot.prototype;function dt(M,X,L){this.props=M,this.context=X,this.refs=J,this.updater=L||W}var zt=dt.prototype=new ft;zt.constructor=dt,nt(zt,ot.prototype),zt.isPureReactComponent=!0;var Ht=Array.isArray;function Ct(){}var A={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(M,X,L){var Q=L.ref;return{$$typeof:r,type:M,key:X,ref:Q!==void 0?Q:null,props:L}}function O(M,X){return R(M.type,X,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function V(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(L){return X[L]})}var I=/\/+/g;function Yt(M,X){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):X.toString(36)}function ce(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ct,Ct):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,X,L,Q,et){var st=typeof M;(st==="undefined"||st==="boolean")&&(M=null);var at=!1;if(M===null)at=!0;else switch(st){case"bigint":case"string":case"number":at=!0;break;case"object":switch(M.$$typeof){case r:case t:at=!0;break;case S:return at=M._init,G(at(M._payload),X,L,Q,et)}}if(at)return et=et(M),at=Q===""?"."+Yt(M,0):Q,Ht(et)?(L="",at!=null&&(L=at.replace(I,"$&/")+"/"),G(et,X,L,"",function(Ve){return Ve})):et!=null&&(D(et)&&(et=O(et,L+(et.key==null||M&&M.key===et.key?"":(""+et.key).replace(I,"$&/")+"/")+at)),X.push(et)),1;at=0;var yt=Q===""?".":Q+":";if(Ht(M))for(var Et=0;Et<M.length;Et++)Q=M[Et],st=yt+Yt(Q,Et),at+=G(Q,X,L,st,et);else if(Et=j(M),typeof Et=="function")for(M=Et.call(M),Et=0;!(Q=M.next()).done;)Q=Q.value,st=yt+Yt(Q,Et++),at+=G(Q,X,L,st,et);else if(st==="object"){if(typeof M.then=="function")return G(ce(M),X,L,Q,et);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return at}function rt(M,X,L){if(M==null)return M;var Q=[],et=0;return G(M,Q,"","",function(st){return X.call(L,st,et++)}),Q}function lt(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(L){(M._status===0||M._status===-1)&&(M._status=1,M._result=L)},function(L){(M._status===0||M._status===-1)&&(M._status=2,M._result=L)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Dt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Lt={map:rt,forEach:function(M,X,L){rt(M,function(){X.apply(this,arguments)},L)},count:function(M){var X=0;return rt(M,function(){X++}),X},toArray:function(M){return rt(M,function(X){return X})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return bt.Activity=w,bt.Children=Lt,bt.Component=ot,bt.Fragment=i,bt.Profiler=l,bt.PureComponent=dt,bt.StrictMode=a,bt.Suspense=y,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,bt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return A.H.useMemoCache(M)}},bt.cache=function(M){return function(){return M.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(M,X,L){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var Q=nt({},M.props),et=M.key;if(X!=null)for(st in X.key!==void 0&&(et=""+X.key),X)!b.call(X,st)||st==="key"||st==="__self"||st==="__source"||st==="ref"&&X.ref===void 0||(Q[st]=X[st]);var st=arguments.length-2;if(st===1)Q.children=L;else if(1<st){for(var at=Array(st),yt=0;yt<st;yt++)at[yt]=arguments[yt+2];Q.children=at}return R(M.type,et,Q)},bt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},bt.createElement=function(M,X,L){var Q,et={},st=null;if(X!=null)for(Q in X.key!==void 0&&(st=""+X.key),X)b.call(X,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(et[Q]=X[Q]);var at=arguments.length-2;if(at===1)et.children=L;else if(1<at){for(var yt=Array(at),Et=0;Et<at;Et++)yt[Et]=arguments[Et+2];et.children=yt}if(M&&M.defaultProps)for(Q in at=M.defaultProps,at)et[Q]===void 0&&(et[Q]=at[Q]);return R(M,st,et)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(M){return{$$typeof:p,render:M}},bt.isValidElement=D,bt.lazy=function(M){return{$$typeof:S,_payload:{_status:-1,_result:M},_init:lt}},bt.memo=function(M,X){return{$$typeof:_,type:M,compare:X===void 0?null:X}},bt.startTransition=function(M){var X=A.T,L={};A.T=L;try{var Q=M(),et=A.S;et!==null&&et(L,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(Ct,Dt)}catch(st){Dt(st)}finally{X!==null&&L.types!==null&&(X.types=L.types),A.T=X}},bt.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},bt.use=function(M){return A.H.use(M)},bt.useActionState=function(M,X,L){return A.H.useActionState(M,X,L)},bt.useCallback=function(M,X){return A.H.useCallback(M,X)},bt.useContext=function(M){return A.H.useContext(M)},bt.useDebugValue=function(){},bt.useDeferredValue=function(M,X){return A.H.useDeferredValue(M,X)},bt.useEffect=function(M,X){return A.H.useEffect(M,X)},bt.useEffectEvent=function(M){return A.H.useEffectEvent(M)},bt.useId=function(){return A.H.useId()},bt.useImperativeHandle=function(M,X,L){return A.H.useImperativeHandle(M,X,L)},bt.useInsertionEffect=function(M,X){return A.H.useInsertionEffect(M,X)},bt.useLayoutEffect=function(M,X){return A.H.useLayoutEffect(M,X)},bt.useMemo=function(M,X){return A.H.useMemo(M,X)},bt.useOptimistic=function(M,X){return A.H.useOptimistic(M,X)},bt.useReducer=function(M,X,L){return A.H.useReducer(M,X,L)},bt.useRef=function(M){return A.H.useRef(M)},bt.useState=function(M){return A.H.useState(M)},bt.useSyncExternalStore=function(M,X,L){return A.H.useSyncExternalStore(M,X,L)},bt.useTransition=function(){return A.H.useTransition()},bt.version="19.2.3",bt}var y_;function om(){return y_||(y_=1,vd.exports=sS()),vd.exports}var Zt=om();const Wv=nS(Zt);var Ed={exports:{}},hl={},Td={exports:{}},Sd={};var __;function aS(){return __||(__=1,(function(r){function t(G,rt){var lt=G.length;G.push(rt);t:for(;0<lt;){var Dt=lt-1>>>1,Lt=G[Dt];if(0<l(Lt,rt))G[Dt]=rt,G[lt]=Lt,lt=Dt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var rt=G[0],lt=G.pop();if(lt!==rt){G[0]=lt;t:for(var Dt=0,Lt=G.length,M=Lt>>>1;Dt<M;){var X=2*(Dt+1)-1,L=G[X],Q=X+1,et=G[Q];if(0>l(L,lt))Q<Lt&&0>l(et,L)?(G[Dt]=et,G[Q]=lt,Dt=Q):(G[Dt]=L,G[X]=lt,Dt=X);else if(Q<Lt&&0>l(et,lt))G[Dt]=et,G[Q]=lt,Dt=Q;else break t}}return rt}function l(G,rt){var lt=G.sortIndex-rt.sortIndex;return lt!==0?lt:G.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],S=1,w=null,x=3,j=!1,W=!1,nt=!1,J=!1,ot=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function zt(G){for(var rt=i(_);rt!==null;){if(rt.callback===null)a(_);else if(rt.startTime<=G)a(_),rt.sortIndex=rt.expirationTime,t(y,rt);else break;rt=i(_)}}function Ht(G){if(nt=!1,zt(G),!W)if(i(y)!==null)W=!0,Ct||(Ct=!0,V());else{var rt=i(_);rt!==null&&ce(Ht,rt.startTime-G)}}var Ct=!1,A=-1,b=5,R=-1;function O(){return J?!0:!(r.unstable_now()-R<b)}function D(){if(J=!1,Ct){var G=r.unstable_now();R=G;var rt=!0;try{t:{W=!1,nt&&(nt=!1,ft(A),A=-1),j=!0;var lt=x;try{e:{for(zt(G),w=i(y);w!==null&&!(w.expirationTime>G&&O());){var Dt=w.callback;if(typeof Dt=="function"){w.callback=null,x=w.priorityLevel;var Lt=Dt(w.expirationTime<=G);if(G=r.unstable_now(),typeof Lt=="function"){w.callback=Lt,zt(G),rt=!0;break e}w===i(y)&&a(y),zt(G)}else a(y);w=i(y)}if(w!==null)rt=!0;else{var M=i(_);M!==null&&ce(Ht,M.startTime-G),rt=!1}}break t}finally{w=null,x=lt,j=!1}rt=void 0}}finally{rt?V():Ct=!1}}}var V;if(typeof dt=="function")V=function(){dt(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Yt=I.port2;I.port1.onmessage=D,V=function(){Yt.postMessage(null)}}else V=function(){ot(D,0)};function ce(G,rt){A=ot(function(){G(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(G){switch(x){case 1:case 2:case 3:var rt=3;break;default:rt=x}var lt=x;x=rt;try{return G()}finally{x=lt}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(G,rt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var lt=x;x=G;try{return rt()}finally{x=lt}},r.unstable_scheduleCallback=function(G,rt,lt){var Dt=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Dt+lt:Dt):lt=Dt,G){case 1:var Lt=-1;break;case 2:Lt=250;break;case 5:Lt=1073741823;break;case 4:Lt=1e4;break;default:Lt=5e3}return Lt=lt+Lt,G={id:S++,callback:rt,priorityLevel:G,startTime:lt,expirationTime:Lt,sortIndex:-1},lt>Dt?(G.sortIndex=lt,t(_,G),i(y)===null&&G===i(_)&&(nt?(ft(A),A=-1):nt=!0,ce(Ht,lt-Dt))):(G.sortIndex=Lt,t(y,G),W||j||(W=!0,Ct||(Ct=!0,V()))),G},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(G){var rt=x;return function(){var lt=x;x=rt;try{return G.apply(this,arguments)}finally{x=lt}}}})(Sd)),Sd}var v_;function oS(){return v_||(v_=1,Td.exports=aS()),Td.exports}var bd={exports:{}},Xe={};var E_;function lS(){if(E_)return Xe;E_=1;var r=om();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:y,containerInfo:_,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xe.createPortal=function(y,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,S)},Xe.flushSync=function(y){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=S,a.d.f()}},Xe.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Xe.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Xe.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var S=_.as,w=p(S,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:j}):S==="script"&&a.d.X(y,{crossOrigin:w,integrity:x,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xe.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Xe.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,w=p(S,_.crossOrigin);a.d.L(y,S,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xe.preloadModule=function(y,_){if(typeof y=="string")if(_){var S=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Xe.requestFormReset=function(y){a.d.r(y)},Xe.unstable_batchedUpdates=function(y,_){return y(_)},Xe.useFormState=function(y,_,S){return d.H.useFormState(y,_,S)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.3",Xe}var T_;function uS(){if(T_)return bd.exports;T_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),bd.exports=lS(),bd.exports}var S_;function cS(){if(S_)return hl;S_=1;var r=oS(),t=om(),i=uS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,x=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),ft=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),zt=Symbol.for("react.forward_ref"),Ht=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Yt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case ot:return"Profiler";case J:return"StrictMode";case Ht:return"Suspense";case Ct:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case dt:return e.displayName||"Context";case ft:return(e._context.displayName||"Context")+".Consumer";case zt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case A:return n=e.displayName||null,n!==null?n:Yt(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return Yt(e(n))}catch{}}return null}var ce=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Dt=[],Lt=-1;function M(e){return{current:e}}function X(e){0>Lt||(e.current=Dt[Lt],Dt[Lt]=null,Lt--)}function L(e,n){Lt++,Dt[Lt]=e.current,e.current=n}var Q=M(null),et=M(null),st=M(null),at=M(null);function yt(e,n){switch(L(st,n),L(et,e),L(Q,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ly(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ly(n),e=Py(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(Q),L(Q,e)}function Et(){X(Q),X(et),X(st)}function Ve(e){e.memoizedState!==null&&L(at,e);var n=Q.current,s=Py(n,e.type);n!==s&&(L(et,e),L(Q,s))}function rn(e){et.current===e&&(X(Q),X(et)),at.current===e&&(X(at),al._currentValue=lt)}var ti,ss;function dn(e){if(ti===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ti=n&&n[1]||"",ss=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ti+e+ss}var ze=!1;function ei(e,n){if(!e||ze)return"";ze=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){B=H}e.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var F=`
`+C[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{ze=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?dn(s):""}function ni(e,n){switch(e.tag){case 26:case 27:case 5:return dn(e.type);case 16:return dn("Lazy");case 13:return e.child!==n&&n!==null?dn("Suspense Fallback"):dn("Suspense");case 19:return dn("SuspenseList");case 0:case 15:return ei(e.type,!1);case 11:return ei(e.type.render,!1);case 1:return ei(e.type,!0);case 31:return dn("Activity");default:return""}}function oo(e){try{var n="",s=null;do n+=ni(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,lr=r.unstable_cancelCallback,vh=r.unstable_shouldYield,Hl=r.unstable_requestPaint,tn=r.unstable_now,as=r.unstable_getCurrentPriorityLevel,lo=r.unstable_ImmediatePriority,uo=r.unstable_UserBlockingPriority,ur=r.unstable_NormalPriority,Eh=r.unstable_LowPriority,Gl=r.unstable_IdlePriority,Fl=r.log,Ql=r.unstable_setDisableYieldValue,zn=null,je=null;function bn(e){if(typeof Fl=="function"&&Ql(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(zn,e)}catch{}}var de=Math.clz32?Math.clz32:Kl,Yl=Math.log,Ks=Math.LN2;function Kl(e){return e>>>=0,e===0?32:31-(Yl(e)/Ks|0)|0}var ii=256,os=262144,ve=4194304;function ri(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function si(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ri(o):(g&=E,g!==0?h=ri(g):s||(s=E&~e,s!==0&&(h=ri(s))))):(E=o&~f,E!==0?h=ri(E):g!==0?h=ri(g):s||(s=o&~e,s!==0&&(h=ri(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Th(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xl(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ai(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ls(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-de(s),$=1<<F;E[F]=0,C[F]=-1;var B=z[F];if(B!==null)for(z[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}s&=~$}o!==0&&us(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function us(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function co(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-de(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function ho(e,n){var s=n&-n;return s=(s&42)!==0?1:cs(s),(s&(e.suspendedLanes|n))!==0?0:s}function cs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $l(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:o_(e.type))}function Bn(e,n){var s=rt.p;try{return rt.p=e,n()}finally{rt.p=s}}var qn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+qn,xe="__reactProps$"+qn,oi="__reactContainer$"+qn,Xs="__reactEvents$"+qn,bh="__reactListeners$"+qn,Zl="__reactHandles$"+qn,Jl="__reactResources$"+qn,li="__reactMarker$"+qn;function $s(e){delete e[Ee],delete e[xe],delete e[Xs],delete e[bh],delete e[Zl]}function ui(e){var n=e[Ee];if(n)return n;for(var s=e.parentNode;s;){if(n=s[oi]||s[Ee]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Fy(e);e!==null;){if(s=e[Ee])return s;e=Fy(e)}return n}e=s,s=e.parentNode}return null}function An(e){if(e=e[Ee]||e[oi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ci(e){var n=e[Jl];return n||(n=e[Jl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[li]=!0}var fo=new Set,mo={};function hi(e,n){fi(e,n),fi(e+"Capture",n)}function fi(e,n){for(mo[e]=n,e=0;e<n.length;e++)fo.add(n[e])}var po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),go={},yo={};function Wl(e){return _e.call(yo,e)?!0:_e.call(go,e)?!1:po.test(e)?yo[e]=!0:(go[e]=!0,!1)}function Zs(e,n,s){if(Wl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function pn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Se(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _o(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=cr(e)?"checked":"value";e._valueTracker=_o(e,n,""+e[n])}}function hs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=cr(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fs=/[\n"\\]/g;function sn(e){return e.replace(fs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Js(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?vo(e,g,ke(n)):s!=null?vo(e,g,ke(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function tu(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}s=s!=null?""+ke(s):"",n=n!=null?""+ke(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Kt(e)}function vo(e,n,s){n==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function hr(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+ke(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function eu(e,n,s){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ke(s):""}function fr(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ce(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=ke(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Kt(e)}function an(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||nu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function To(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Eo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Eo(e,f,n[f])}function Ws(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ta(e){return dr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var So=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mr=null,mi=null;function ds(e){var n=An(e);if(n&&(e=n.stateNode)){var s=e[xe]||null;t:switch(e=n.stateNode,n.type){case"input":if(Js(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[xe]||null;if(!h)throw Error(a(90));Js(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&hs(o)}break t;case"textarea":eu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&hr(e,!!s.multiple,n,!1)}}}var ea=!1;function pr(e,n,s){if(ea)return e(n,s);ea=!0;try{var o=e(n);return o}finally{if(ea=!1,(mr!==null||mi!==null)&&($u(),mr&&(n=mr,e=mi,mi=mr=null,ds(n),e)))for(n=0;n<e.length;n++)ds(e[n])}}function Gn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[xe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ms=!1;if(Rn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){ms=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{ms=!1}var pi=null,bo=null,ps=null;function Ao(){if(ps)return ps;var e,n=bo,s=n.length,o,h="value"in pi?pi.value:pi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return ps=h.slice(e,1<o?1-o:void 0)}function gs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function Fn(){return!1}function Be(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xi:Fn,this.isPropagationStopped=Fn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),n}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=Be(ki),gr=w({},ki,{view:0,detail:0}),wo=Be(gr),yr,na,yi,ia=w({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(yr=e.screenX-yi.screenX,na=e.screenY-yi.screenY):na=yr=0,yi=e),yr)},movementY:function(e){return"movementY"in e?e.movementY:na}}),Ro=Be(ia),ys=w({},ia,{dataTransfer:0}),ru=Be(ys),su=w({},gr,{relatedTarget:0}),_s=Be(su),Io=w({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),au=Be(Io),ra=w({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ou=Be(ra),lu=w({},ki,{data:0}),_i=Be(lu),uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=hu[e])?!!n[e]:!1}function _r(){return fu}var en=w({},gr,{key:function(e){if(e.key){var n=uu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return e.type==="keypress"?gs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),du=Be(en),mu=w({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Be(mu),u=w({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),m=Be(u),v=w({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(v),U=w({},ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Be(U),it=w({},ki,{newState:0,oldState:0}),wt=Be(it),me=[9,13,27,32],Gt=Rn&&"CompositionEvent"in window,ae=null;Rn&&"documentMode"in document&&(ae=document.documentMode);var In=Rn&&"TextEvent"in window&&!ae,vi=Rn&&(!Gt||ae&&8<ae&&11>=ae),Qn=" ",Yn=!1;function vs(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var aa=!1;function RT(e,n){switch(e){case"compositionend":return sa(n);case"keypress":return n.which!==32?null:(Yn=!0,Qn);case"textInput":return e=n.data,e===Qn&&Yn?null:e;default:return null}}function IT(e,n){if(aa)return e==="compositionend"||!Gt&&vs(e,n)?(e=Ao(),ps=bo=pi=null,aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var CT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Km(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!CT[e.type]:n==="textarea"}function Xm(e,n,s,o){mr?mi?mi.push(o):mi=[o]:mr=o,n=ic(n,"onChange"),0<n.length&&(s=new gi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Co=null,Do=null;function DT(e){Oy(e,0)}function pu(e){var n=mn(e);if(hs(n))return e}function $m(e,n){if(e==="change")return n}var Zm=!1;if(Rn){var Ah;if(Rn){var wh="oninput"in document;if(!wh){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),wh=typeof Jm.oninput=="function"}Ah=wh}else Ah=!1;Zm=Ah&&(!document.documentMode||9<document.documentMode)}function Wm(){Co&&(Co.detachEvent("onpropertychange",tp),Do=Co=null)}function tp(e){if(e.propertyName==="value"&&pu(Do)){var n=[];Xm(n,Do,e,wn(e)),pr(DT,n)}}function NT(e,n,s){e==="focusin"?(Wm(),Co=n,Do=s,Co.attachEvent("onpropertychange",tp)):e==="focusout"&&Wm()}function OT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pu(Do)}function MT(e,n){if(e==="click")return pu(n)}function VT(e,n){if(e==="input"||e==="change")return pu(n)}function xT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:xT;function No(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!_e.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function ep(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function np(e,n){var s=ep(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ep(s)}}function ip(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ip(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function rp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=di(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=di(e.document)}return n}function Rh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var kT=Rn&&"documentMode"in document&&11>=document.documentMode,oa=null,Ih=null,Oo=null,Ch=!1;function sp(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ch||oa==null||oa!==di(o)||(o=oa,"selectionStart"in o&&Rh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Oo&&No(Oo,o)||(Oo=o,o=ic(Ih,"onSelect"),0<o.length&&(n=new gi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=oa)))}function Es(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var la={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionrun:Es("Transition","TransitionRun"),transitionstart:Es("Transition","TransitionStart"),transitioncancel:Es("Transition","TransitionCancel"),transitionend:Es("Transition","TransitionEnd")},Dh={},ap={};Rn&&(ap=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function Ts(e){if(Dh[e])return Dh[e];if(!la[e])return e;var n=la[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in ap)return Dh[e]=n[s];return e}var op=Ts("animationend"),lp=Ts("animationiteration"),up=Ts("animationstart"),UT=Ts("transitionrun"),LT=Ts("transitionstart"),PT=Ts("transitioncancel"),cp=Ts("transitionend"),hp=new Map,Nh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nh.push("scrollEnd");function Kn(e,n){hp.set(e,n),hi(n,[e])}var gu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],ua=0,Oh=0;function yu(){for(var e=ua,n=Oh=ua=0;n<e;){var s=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&fp(s,h,f)}}function _u(e,n,s,o){Cn[ua++]=e,Cn[ua++]=n,Cn[ua++]=s,Cn[ua++]=o,Oh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Mh(e,n,s,o){return _u(e,n,s,o),vu(e)}function Ss(e,n){return _u(e,null,null,n),vu(e)}function fp(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function vu(e){if(50<Wo)throw Wo=0,qf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ca={};function zT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,n,s,o){return new zT(e,n,s,o)}function Vh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,n){var s=e.alternate;return s===null?(s=yn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function dp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Eu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Vh(e)&&(g=1);else if(typeof e=="string")g=G1(e,s,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=yn(31,s,n,h),e.elementType=R,e.lanes=f,e;case nt:return bs(s.children,h,f,n);case J:g=8,h|=24;break;case ot:return e=yn(12,s,n,h|2),e.elementType=ot,e.lanes=f,e;case Ht:return e=yn(13,s,n,h),e.elementType=Ht,e.lanes=f,e;case Ct:return e=yn(19,s,n,h),e.elementType=Ct,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case ft:g=9;break t;case zt:g=11;break t;case A:g=14;break t;case b:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=yn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function bs(e,n,s,o){return e=yn(7,e,o,n),e.lanes=s,e}function xh(e,n,s){return e=yn(6,e,null,n),e.lanes=s,e}function mp(e){var n=yn(18,null,null,0);return n.stateNode=e,n}function kh(e,n,s){return n=yn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var pp=new WeakMap;function Dn(e,n){if(typeof e=="object"&&e!==null){var s=pp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:oo(n)},pp.set(e,n),n)}return{value:e,source:n,stack:oo(n)}}var ha=[],fa=0,Tu=null,Mo=0,Nn=[],On=0,vr=null,Ei=1,Ti="";function Pi(e,n){ha[fa++]=Mo,ha[fa++]=Tu,Tu=e,Mo=n}function gp(e,n,s){Nn[On++]=Ei,Nn[On++]=Ti,Nn[On++]=vr,vr=e;var o=Ei;e=Ti;var h=32-de(o)-1;o&=~(1<<h),s+=1;var f=32-de(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ei=1<<32-de(n)+h|s<<h|o,Ti=f+e}else Ei=1<<f|s<<h|o,Ti=e}function Uh(e){e.return!==null&&(Pi(e,1),gp(e,1,0))}function Lh(e){for(;e===Tu;)Tu=ha[--fa],ha[fa]=null,Mo=ha[--fa],ha[fa]=null;for(;e===vr;)vr=Nn[--On],Nn[On]=null,Ti=Nn[--On],Nn[On]=null,Ei=Nn[--On],Nn[On]=null}function yp(e,n){Nn[On++]=Ei,Nn[On++]=Ti,Nn[On++]=vr,Ei=n.id,Ti=n.overflow,vr=e}var qe=null,ie=null,Pt=!1,Er=null,Mn=!1,Ph=Error(a(519));function Tr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vo(Dn(n,e)),Ph}function _p(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[xe]=o,s){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(s=0;s<el.length;s++)Ot(el[s],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),tu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),fr(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||ky(n.textContent,s)?(o.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),o.onScroll!=null&&Ot("scroll",n),o.onScrollEnd!=null&&Ot("scrollend",n),o.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||Tr(e,!0)}function vp(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qe=qe.return}}function da(e){if(e!==qe)return!1;if(!Pt)return vp(e),Pt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||id(e.type,e.memoizedProps)),s=!s),s&&ie&&Tr(e),vp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=Gy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=Gy(e)}else n===27?(n=ie,kr(e.type)?(e=ld,ld=null,ie=e):ie=n):ie=qe?xn(e.stateNode.nextSibling):null;return!0}function As(){ie=qe=null,Pt=!1}function zh(){var e=Er;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Er=null),e}function Vo(e){Er===null?Er=[e]:Er.push(e)}var jh=M(null),ws=null,zi=null;function Sr(e,n,s){L(jh,n._currentValue),n._currentValue=s}function ji(e){e._currentValue=jh.current,X(jh)}function Bh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function qh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Bh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Bh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ma(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;gn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===at.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}h=h.return}e!==null&&qh(n,e,s,o),n.flags|=262144}function Su(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rs(e){ws=e,zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Ep(ws,e)}function bu(e,n){return ws===null&&Rs(e),Ep(e,n)}function Ep(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},zi===null){if(e===null)throw Error(a(308));zi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else zi=zi.next=n;return s}var jT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},BT=r.unstable_scheduleCallback,qT=r.unstable_NormalPriority,be={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hh(){return{controller:new jT,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&BT(qT,function(){e.controller.abort()})}var ko=null,Gh=0,pa=0,ga=null;function HT(e,n){if(ko===null){var s=ko=[];Gh=0,pa=Kf(),ga={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Gh++,n.then(Tp,Tp),n}function Tp(){if(--Gh===0&&ko!==null){ga!==null&&(ga.status="fulfilled");var e=ko;ko=null,pa=0,ga=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function GT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Sp=G.S;G.S=function(e,n){sy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&HT(e,n),Sp!==null&&Sp(e,n)};var Is=M(null);function Fh(){var e=Is.current;return e!==null?e:ne.pooledCache}function Au(e,n){n===null?L(Is,Is.current):L(Is,n.pool)}function bp(){var e=Fh();return e===null?null:{parent:be._currentValue,pool:e}}var ya=Error(a(460)),Qh=Error(a(474)),wu=Error(a(542)),Ru={then:function(){}};function Ap(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Hn,Hn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ip(e),e;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ip(e),e}throw Ds=n,ya}}function Cs(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ds=s,ya):s}}var Ds=null;function Rp(){if(Ds===null)throw Error(a(459));var e=Ds;return Ds=null,e}function Ip(e){if(e===ya||e===wu)throw Error(a(483))}var _a=null,Uo=0;function Iu(e){var n=Uo;return Uo+=1,_a===null&&(_a=[]),wp(_a,e,n)}function Lo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Cu(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Cp(e){function n(k,N){if(e){var P=k.deletions;P===null?(k.deletions=[N],k.flags|=16):P.push(N)}}function s(k,N){if(!e)return null;for(;N!==null;)n(k,N),N=N.sibling;return null}function o(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=Li(k,N),k.index=0,k.sibling=null,k}function f(k,N,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<N?(k.flags|=67108866,N):P):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,N,P,Y){return N===null||N.tag!==6?(N=xh(P,k.mode,Y),N.return=k,N):(N=h(N,P),N.return=k,N)}function C(k,N,P,Y){var pt=P.type;return pt===nt?F(k,N,P.props.children,Y,P.key):N!==null&&(N.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===b&&Cs(pt)===N.type)?(N=h(N,P.props),Lo(N,P),N.return=k,N):(N=Eu(P.type,P.key,P.props,null,k.mode,Y),Lo(N,P),N.return=k,N)}function z(k,N,P,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=kh(P,k.mode,Y),N.return=k,N):(N=h(N,P.children||[]),N.return=k,N)}function F(k,N,P,Y,pt){return N===null||N.tag!==7?(N=bs(P,k.mode,Y,pt),N.return=k,N):(N=h(N,P),N.return=k,N)}function $(k,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=xh(""+N,k.mode,P),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case j:return P=Eu(N.type,N.key,N.props,null,k.mode,P),Lo(P,N),P.return=k,P;case W:return N=kh(N,k.mode,P),N.return=k,N;case b:return N=Cs(N),$(k,N,P)}if(ce(N)||V(N))return N=bs(N,k.mode,P,null),N.return=k,N;if(typeof N.then=="function")return $(k,Iu(N),P);if(N.$$typeof===dt)return $(k,bu(k,N),P);Cu(k,N)}return null}function B(k,N,P,Y){var pt=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pt!==null?null:E(k,N,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case j:return P.key===pt?C(k,N,P,Y):null;case W:return P.key===pt?z(k,N,P,Y):null;case b:return P=Cs(P),B(k,N,P,Y)}if(ce(P)||V(P))return pt!==null?null:F(k,N,P,Y,null);if(typeof P.then=="function")return B(k,N,Iu(P),Y);if(P.$$typeof===dt)return B(k,N,bu(k,P),Y);Cu(k,P)}return null}function H(k,N,P,Y,pt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,E(N,k,""+Y,pt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:return k=k.get(Y.key===null?P:Y.key)||null,C(N,k,Y,pt);case W:return k=k.get(Y.key===null?P:Y.key)||null,z(N,k,Y,pt);case b:return Y=Cs(Y),H(k,N,P,Y,pt)}if(ce(Y)||V(Y))return k=k.get(P)||null,F(N,k,Y,pt,null);if(typeof Y.then=="function")return H(k,N,P,Iu(Y),pt);if(Y.$$typeof===dt)return H(k,N,P,bu(N,Y),pt);Cu(N,Y)}return null}function ct(k,N,P,Y){for(var pt=null,Bt=null,ht=N,It=N=0,Vt=null;ht!==null&&It<P.length;It++){ht.index>It?(Vt=ht,ht=null):Vt=ht.sibling;var qt=B(k,ht,P[It],Y);if(qt===null){ht===null&&(ht=Vt);break}e&&ht&&qt.alternate===null&&n(k,ht),N=f(qt,N,It),Bt===null?pt=qt:Bt.sibling=qt,Bt=qt,ht=Vt}if(It===P.length)return s(k,ht),Pt&&Pi(k,It),pt;if(ht===null){for(;It<P.length;It++)ht=$(k,P[It],Y),ht!==null&&(N=f(ht,N,It),Bt===null?pt=ht:Bt.sibling=ht,Bt=ht);return Pt&&Pi(k,It),pt}for(ht=o(ht);It<P.length;It++)Vt=H(ht,k,It,P[It],Y),Vt!==null&&(e&&Vt.alternate!==null&&ht.delete(Vt.key===null?It:Vt.key),N=f(Vt,N,It),Bt===null?pt=Vt:Bt.sibling=Vt,Bt=Vt);return e&&ht.forEach(function(jr){return n(k,jr)}),Pt&&Pi(k,It),pt}function _t(k,N,P,Y){if(P==null)throw Error(a(151));for(var pt=null,Bt=null,ht=N,It=N=0,Vt=null,qt=P.next();ht!==null&&!qt.done;It++,qt=P.next()){ht.index>It?(Vt=ht,ht=null):Vt=ht.sibling;var jr=B(k,ht,qt.value,Y);if(jr===null){ht===null&&(ht=Vt);break}e&&ht&&jr.alternate===null&&n(k,ht),N=f(jr,N,It),Bt===null?pt=jr:Bt.sibling=jr,Bt=jr,ht=Vt}if(qt.done)return s(k,ht),Pt&&Pi(k,It),pt;if(ht===null){for(;!qt.done;It++,qt=P.next())qt=$(k,qt.value,Y),qt!==null&&(N=f(qt,N,It),Bt===null?pt=qt:Bt.sibling=qt,Bt=qt);return Pt&&Pi(k,It),pt}for(ht=o(ht);!qt.done;It++,qt=P.next())qt=H(ht,k,It,qt.value,Y),qt!==null&&(e&&qt.alternate!==null&&ht.delete(qt.key===null?It:qt.key),N=f(qt,N,It),Bt===null?pt=qt:Bt.sibling=qt,Bt=qt);return e&&ht.forEach(function(eS){return n(k,eS)}),Pt&&Pi(k,It),pt}function ee(k,N,P,Y){if(typeof P=="object"&&P!==null&&P.type===nt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case j:t:{for(var pt=P.key;N!==null;){if(N.key===pt){if(pt=P.type,pt===nt){if(N.tag===7){s(k,N.sibling),Y=h(N,P.props.children),Y.return=k,k=Y;break t}}else if(N.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===b&&Cs(pt)===N.type){s(k,N.sibling),Y=h(N,P.props),Lo(Y,P),Y.return=k,k=Y;break t}s(k,N);break}else n(k,N);N=N.sibling}P.type===nt?(Y=bs(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=Eu(P.type,P.key,P.props,null,k.mode,Y),Lo(Y,P),Y.return=k,k=Y)}return g(k);case W:t:{for(pt=P.key;N!==null;){if(N.key===pt)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){s(k,N.sibling),Y=h(N,P.children||[]),Y.return=k,k=Y;break t}else{s(k,N);break}else n(k,N);N=N.sibling}Y=kh(P,k.mode,Y),Y.return=k,k=Y}return g(k);case b:return P=Cs(P),ee(k,N,P,Y)}if(ce(P))return ct(k,N,P,Y);if(V(P)){if(pt=V(P),typeof pt!="function")throw Error(a(150));return P=pt.call(P),_t(k,N,P,Y)}if(typeof P.then=="function")return ee(k,N,Iu(P),Y);if(P.$$typeof===dt)return ee(k,N,bu(k,P),Y);Cu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(s(k,N.sibling),Y=h(N,P),Y.return=k,k=Y):(s(k,N),Y=xh(P,k.mode,Y),Y.return=k,k=Y),g(k)):s(k,N)}return function(k,N,P,Y){try{Uo=0;var pt=ee(k,N,P,Y);return _a=null,pt}catch(ht){if(ht===ya||ht===wu)throw ht;var Bt=yn(29,ht,null,k.mode);return Bt.lanes=Y,Bt.return=k,Bt}}}var Ns=Cp(!0),Dp=Cp(!1),br=!1;function Yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ar(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wr(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=vu(e),fp(e,null,s),n}return _u(e,o,n,s),vu(e)}function Po(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,co(e,s)}}function Xh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var $h=!1;function zo(){if($h){var e=ga;if(e!==null)throw e}}function jo(e,n,s,o){$h=!1;var h=e.updateQueue;br=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=C))}if(f!==null){var $=h.baseState;g=0,F=z=C=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Mt&B)===B:(o&B)===B){B!==0&&B===pa&&($h=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=e,_t=E;B=n;var ee=s;switch(_t.tag){case 1:if(ct=_t.payload,typeof ct=="function"){$=ct.call(ee,$,B);break t}$=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=_t.payload,B=typeof ct=="function"?ct.call(ee,$,B):ct,B==null)break t;$=w({},$,B);break t;case 2:br=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=H,C=$):F=F.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(C=$),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Nr|=g,e.lanes=g,e.memoizedState=$}}function Np(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Op(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Np(s[e],n)}var va=M(null),Du=M(0);function Mp(e,n){e=Xi,L(Du,e),L(va,n),Xi=e|n.baseLanes}function Zh(){L(Du,Xi),L(va,va.current)}function Jh(){Xi=Du.current,X(va),X(Du)}var _n=M(null),Vn=null;function Rr(e){var n=e.alternate;L(pe,pe.current&1),L(_n,e),Vn===null&&(n===null||va.current!==null||n.memoizedState!==null)&&(Vn=e)}function Wh(e){L(pe,pe.current),L(_n,e),Vn===null&&(Vn=e)}function Vp(e){e.tag===22?(L(pe,pe.current),L(_n,e),Vn===null&&(Vn=e)):Ir()}function Ir(){L(pe,pe.current),L(_n,_n.current)}function vn(e){X(_n),Vn===e&&(Vn=null),X(pe)}var pe=M(0);function Nu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ad(s)||od(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bi=0,Rt=null,Wt=null,Ae=null,Ou=!1,Ea=!1,Os=!1,Mu=0,Bo=0,Ta=null,FT=0;function he(){throw Error(a(321))}function tf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!gn(e[s],n[s]))return!1;return!0}function ef(e,n,s,o,h,f){return Bi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?gg:yf,Os=!1,f=s(o,h),Os=!1,Ea&&(f=kp(n,s,o,h)),xp(e),f}function xp(e){G.H=Go;var n=Wt!==null&&Wt.next!==null;if(Bi=0,Ae=Wt=Rt=null,Ou=!1,Bo=0,Ta=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&Su(e)&&(we=!0))}function kp(e,n,s,o){Rt=e;var h=0;do{if(Ea&&(Ta=null),Bo=0,Ea=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Wt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=yg,f=n(s,o)}while(Ea);return f}function QT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?qo(n):n,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function nf(){var e=Mu!==0;return Mu=0,e}function rf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function sf(e){if(Ou){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ou=!1}Bi=0,Ae=Wt=Rt=null,Ea=!1,Bo=Mu=0,Ta=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Rt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ge(){if(Wt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var n=Ae===null?Rt.memoizedState:Ae.next;if(n!==null)Ae=n,Wt=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ae===null?Rt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(e){var n=Bo;return Bo+=1,Ta===null&&(Ta=[]),e=wp(Ta,e,n),n=Rt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?gg:yf),e}function xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qo(e);if(e.$$typeof===dt)return He(e)}throw Error(a(438,String(e)))}function af(e){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Vu(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=O;return n.index++,s}function qi(e,n){return typeof n=="function"?n(e):n}function ku(e){var n=ge();return of(n,Wt,e)}function of(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,z=n,F=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Mt&$)===$:(Bi&$)===$){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===pa&&(F=!0);else if((Bi&B)===B){z=z.next,B===pa&&(F=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=$,g=f):C=C.next=$,Rt.lanes|=B,Nr|=B;$=z.action,Os&&s(f,$),f=z.hasEagerState?z.eagerState:s(f,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=B,g=f):C=C.next=B,Rt.lanes|=$,Nr|=$;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=E,!gn(f,e.memoizedState)&&(we=!0,F&&(s=ga,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function lf(e){var n=ge(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);gn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Up(e,n,s){var o=Rt,h=ge(),f=Pt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!gn((Wt||h).memoizedState,s);if(g&&(h.memoizedState=s,we=!0),h=h.queue,hf(zp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Sa(9,{destroy:void 0},Pp.bind(null,o,h,s,n),null),ne===null)throw Error(a(349));f||(Bi&127)!==0||Lp(o,n,s)}return s}function Lp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=Vu(),Rt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Pp(e,n,s,o){n.value=s,n.getSnapshot=o,jp(n)&&Bp(e)}function zp(e,n,s){return s(function(){jp(n)&&Bp(e)})}function jp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!gn(e,s)}catch{return!0}}function Bp(e){var n=Ss(e,2);n!==null&&hn(n,e,2)}function uf(e){var n=nn();if(typeof e=="function"){var s=e;if(e=s(),Os){bn(!0);try{s()}finally{bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},n}function qp(e,n,s,o){return e.baseState=s,of(e,Wt,typeof o=="function"?o:qi)}function YT(e,n,s,o,h){if(Pu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Hp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Hp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(h,o),C=G.S;C!==null&&C(g,E),Gp(e,n,E)}catch(z){cf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,o),Gp(e,n,f)}catch(z){cf(e,n,z)}}function Gp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Fp(e,n,o)},function(o){return cf(e,n,o)}):Fp(e,n,s)}function Fp(e,n,s){n.status="fulfilled",n.value=s,Qp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Hp(e,s)))}function cf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Qp(n),n=n.next;while(n!==o)}e.action=null}function Qp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Yp(e,n){return n}function Kp(e,n){if(Pt){var s=ne.formState;if(s!==null){t:{var o=Rt;if(Pt){if(ie){e:{for(var h=ie,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=xn(h.nextSibling),o=h.data==="F!";break t}}Tr(o)}o=!1}o&&(n=s[0])}}return s=nn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yp,lastRenderedState:n},s.queue=o,s=dg.bind(null,Rt,o),o.dispatch=s,o=uf(!1),f=gf.bind(null,Rt,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=YT.bind(null,Rt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Xp(e){var n=ge();return $p(n,Wt,e)}function $p(e,n,s){if(n=of(e,n,Yp)[0],e=ku(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=qo(n)}catch(g){throw g===ya?wu:g}else o=n;n=ge();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Rt.flags|=2048,Sa(9,{destroy:void 0},KT.bind(null,h,s),null)),[o,f,e]}function KT(e,n){e.action=n}function Zp(e){var n=ge(),s=Wt;if(s!==null)return $p(n,s,e);ge(),n=n.memoizedState,s=ge();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Sa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Vu(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Jp(){return ge().memoizedState}function Uu(e,n,s,o){var h=nn();Rt.flags|=e,h.memoizedState=Sa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Lu(e,n,s,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Wt!==null&&o!==null&&tf(o,Wt.memoizedState.deps)?h.memoizedState=Sa(n,f,s,o):(Rt.flags|=e,h.memoizedState=Sa(1|n,f,s,o))}function Wp(e,n){Uu(8390656,8,e,n)}function hf(e,n){Lu(2048,8,e,n)}function XT(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=Vu(),Rt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function tg(e){var n=ge().memoizedState;return XT({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function eg(e,n){return Lu(4,2,e,n)}function ng(e,n){return Lu(4,4,e,n)}function ig(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function rg(e,n,s){s=s!=null?s.concat([e]):null,Lu(4,4,ig.bind(null,n,e),s)}function ff(){}function sg(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&tf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function ag(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&tf(n,o[1]))return o[0];if(o=e(),Os){bn(!0);try{e()}finally{bn(!1)}}return s.memoizedState=[o,n],o}function df(e,n,s){return s===void 0||(Bi&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=oy(),Rt.lanes|=e,Nr|=e,s)}function og(e,n,s,o){return gn(s,n)?s:va.current!==null?(e=df(e,s,o),gn(e,n)||(we=!0),e):(Bi&42)===0||(Bi&1073741824)!==0&&(Mt&261930)===0?(we=!0,e.memoizedState=s):(e=oy(),Rt.lanes|=e,Nr|=e,n)}function lg(e,n,s,o,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,gf(e,!1,n,s);try{var C=h(),z=G.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=GT(C,o);Ho(e,n,F,Sn(e))}else Ho(e,n,o,Sn(e))}catch($){Ho(e,n,{then:function(){},status:"rejected",reason:$},Sn())}finally{rt.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function $T(){}function mf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=ug(e).queue;lg(e,h,n,lt,s===null?$T:function(){return cg(e),s(o)})}function ug(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:lt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function cg(e){var n=ug(e);n.next===null&&(n=e.alternate.memoizedState),Ho(e,n.next.queue,{},Sn())}function pf(){return He(al)}function hg(){return ge().memoizedState}function fg(){return ge().memoizedState}function ZT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Sn();e=Ar(s);var o=wr(n,e,s);o!==null&&(hn(o,n,s),Po(o,n,s)),n={cache:Hh()},e.payload=n;return}n=n.return}}function JT(e,n,s){var o=Sn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Pu(e)?mg(n,s):(s=Mh(e,n,s,o),s!==null&&(hn(s,e,o),pg(s,n,o)))}function dg(e,n,s){var o=Sn();Ho(e,n,s,o)}function Ho(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Pu(e))mg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,gn(E,g))return _u(e,n,h,0),ne===null&&yu(),!1}catch{}if(s=Mh(e,n,h,o),s!==null)return hn(s,e,o),pg(s,n,o),!0}return!1}function gf(e,n,s,o){if(o={lane:2,revertLane:Kf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Pu(e)){if(n)throw Error(a(479))}else n=Mh(e,s,o,2),n!==null&&hn(n,e,2)}function Pu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function mg(e,n){Ea=Ou=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function pg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,co(e,s)}}var Go={readContext:He,use:xu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Go.useEffectEvent=he;var gg={readContext:He,use:xu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:Wp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Uu(4194308,4,ig.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Uu(4194308,4,e,n)},useInsertionEffect:function(e,n){Uu(4,2,e,n)},useMemo:function(e,n){var s=nn();n=n===void 0?null:n;var o=e();if(Os){bn(!0);try{e()}finally{bn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=nn();if(s!==void 0){var h=s(n);if(Os){bn(!0);try{s(n)}finally{bn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=JT.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=uf(e);var n=e.queue,s=dg.bind(null,Rt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:ff,useDeferredValue:function(e,n){var s=nn();return df(s,e,n)},useTransition:function(){var e=uf(!1);return e=lg.bind(null,Rt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Rt,h=nn();if(Pt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ne===null)throw Error(a(349));(Mt&127)!==0||Lp(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Wp(zp.bind(null,o,f,e),[e]),o.flags|=2048,Sa(9,{destroy:void 0},Pp.bind(null,o,f,s,n),null),s},useId:function(){var e=nn(),n=ne.identifierPrefix;if(Pt){var s=Ti,o=Ei;s=(o&~(1<<32-de(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Mu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=FT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:pf,useFormState:Kp,useActionState:Kp,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=gf.bind(null,Rt,!0,s),s.dispatch=n,[e,n]},useMemoCache:af,useCacheRefresh:function(){return nn().memoizedState=ZT.bind(null,Rt)},useEffectEvent:function(e){var n=nn(),s={impl:e};return n.memoizedState=s,function(){if((Ft&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},yf={readContext:He,use:xu,useCallback:sg,useContext:He,useEffect:hf,useImperativeHandle:rg,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:ag,useReducer:ku,useRef:Jp,useState:function(){return ku(qi)},useDebugValue:ff,useDeferredValue:function(e,n){var s=ge();return og(s,Wt.memoizedState,e,n)},useTransition:function(){var e=ku(qi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:Up,useId:hg,useHostTransitionStatus:pf,useFormState:Xp,useActionState:Xp,useOptimistic:function(e,n){var s=ge();return qp(s,Wt,e,n)},useMemoCache:af,useCacheRefresh:fg};yf.useEffectEvent=tg;var yg={readContext:He,use:xu,useCallback:sg,useContext:He,useEffect:hf,useImperativeHandle:rg,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:ag,useReducer:lf,useRef:Jp,useState:function(){return lf(qi)},useDebugValue:ff,useDeferredValue:function(e,n){var s=ge();return Wt===null?df(s,e,n):og(s,Wt.memoizedState,e,n)},useTransition:function(){var e=lf(qi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:Up,useId:hg,useHostTransitionStatus:pf,useFormState:Zp,useActionState:Zp,useOptimistic:function(e,n){var s=ge();return Wt!==null?qp(s,Wt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:af,useCacheRefresh:fg};yg.useEffectEvent=tg;function _f(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var vf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Sn(),h=Ar(o);h.payload=n,s!=null&&(h.callback=s),n=wr(e,h,o),n!==null&&(hn(n,e,o),Po(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Sn(),h=Ar(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=wr(e,h,o),n!==null&&(hn(n,e,o),Po(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Sn(),o=Ar(s);o.tag=2,n!=null&&(o.callback=n),n=wr(e,o,s),n!==null&&(hn(n,e,s),Po(n,e,s))}};function _g(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!No(s,o)||!No(h,f):!0}function vg(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&vf.enqueueReplaceState(n,n.state,null)}function Ms(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Eg(e){gu(e)}function Tg(e){console.error(e)}function Sg(e){gu(e)}function zu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function bg(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ef(e,n,s){return s=Ar(s),s.tag=3,s.payload={element:null},s.callback=function(){zu(e,n)},s}function Ag(e){return e=Ar(e),e.tag=3,e}function wg(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){bg(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){bg(n,s,o),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function WT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ma(n,s,h,!0),s=_n.current,s!==null){switch(s.tag){case 31:case 13:return Vn===null?Zu():s.alternate===null&&fe===0&&(fe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Ru?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Ff(e,o,h)),!1;case 22:return s.flags|=65536,o===Ru?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Ff(e,o,h)),!1}throw Error(a(435,s.tag))}return Ff(e,o,h),Zu(),!1}if(Pt)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Ph&&(e=Error(a(422),{cause:o}),Vo(Dn(e,s)))):(o!==Ph&&(n=Error(a(423),{cause:o}),Vo(Dn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Dn(o,s),h=Ef(e.stateNode,o,h),Xh(e,h),fe!==4&&(fe=2)),!1;var f=Error(a(520),{cause:o});if(f=Dn(f,s),Jo===null?Jo=[f]:Jo.push(f),fe!==4&&(fe=2),n===null)return!0;o=Dn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Ef(s.stateNode,o,e),Xh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Or===null||!Or.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Ag(h),wg(h,e,s,o),Xh(s,h),!1}s=s.return}while(s!==null);return!1}var Tf=Error(a(461)),we=!1;function Ge(e,n,s,o){n.child=e===null?Dp(n,null,s,o):Ns(n,e.child,s,o)}function Rg(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Rs(n),o=ef(e,n,s,g,f,h),E=nf(),e!==null&&!we?(rf(e,n,h),Hi(e,n,h)):(Pt&&E&&Uh(n),n.flags|=1,Ge(e,n,o,h),n.child)}function Ig(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Vh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Cg(e,n,f,o,h)):(e=Eu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Df(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:No,s(g,o)&&e.ref===n.ref)return Hi(e,n,h)}return n.flags|=1,e=Li(f,o),e.ref=n.ref,e.return=n,n.child=e}function Cg(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(No(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,Df(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,Hi(e,n,h)}return Sf(e,n,s,o,h)}function Dg(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Ng(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Au(n,f!==null?f.cachePool:null),f!==null?Mp(n,f):Zh(),Vp(n);else return o=n.lanes=536870912,Ng(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Au(n,f.cachePool),Mp(n,f),Ir(),n.memoizedState=null):(e!==null&&Au(n,null),Zh(),Ir());return Ge(e,n,h,s),n.child}function Fo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ng(e,n,s,o,h){var f=Fh();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Au(n,null),Zh(),Vp(n),e!==null&&ma(e,n,o,!0),n.childLanes=h,null}function ju(e,n){return n=qu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Og(e,n,s){return Ns(n,e.child,null,s),e=ju(n,n.pendingProps),e.flags|=2,vn(n),n.memoizedState=null,e}function t1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Pt){if(o.mode==="hidden")return e=ju(n,o),n.lanes=536870912,Fo(null,e);if(Wh(n),(e=ie)?(e=Hy(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},s=mp(e),s.return=n,n.child=s,qe=n,ie=null)):e=null,e===null)throw Tr(n);return n.lanes=536870912,null}return ju(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Wh(n),h)if(n.flags&256)n.flags&=-257,n=Og(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||ma(e,n,s,!1),h=(s&e.childLanes)!==0,we||h){if(o=ne,o!==null&&(g=ho(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ss(e,g),hn(o,e,g),Tf;Zu(),n=Og(e,n,s)}else e=f.treeContext,ie=xn(g.nextSibling),qe=n,Pt=!0,Er=null,Mn=!1,e!==null&&yp(n,e),n=ju(n,o),n.flags|=4096;return n}return e=Li(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Bu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Sf(e,n,s,o,h){return Rs(n),s=ef(e,n,s,o,void 0,h),o=nf(),e!==null&&!we?(rf(e,n,h),Hi(e,n,h)):(Pt&&o&&Uh(n),n.flags|=1,Ge(e,n,s,h),n.child)}function Mg(e,n,s,o,h,f){return Rs(n),n.updateQueue=null,s=kp(n,o,s,h),xp(e),o=nf(),e!==null&&!we?(rf(e,n,f),Hi(e,n,f)):(Pt&&o&&Uh(n),n.flags|=1,Ge(e,n,s,f),n.child)}function Vg(e,n,s,o,h){if(Rs(n),n.stateNode===null){var f=ca,g=s.contextType;typeof g=="object"&&g!==null&&(f=He(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Yh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?He(g):ca,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(_f(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&vf.enqueueReplaceState(f,f.state,null),jo(n,o,f,h),zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Ms(s,E);f.props=C;var z=f.context,F=s.contextType;g=ca,typeof F=="object"&&F!==null&&(g=He(F));var $=s.getDerivedStateFromProps;F=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&vg(n,f,o,g),br=!1;var B=n.memoizedState;f.state=B,jo(n,o,f,h),zo(),z=n.memoizedState,E||B!==z||br?(typeof $=="function"&&(_f(n,s,$,o),z=n.memoizedState),(C=br||_g(n,s,C,o,B,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Kh(e,n),g=n.memoizedProps,F=Ms(s,g),f.props=F,$=n.pendingProps,B=f.context,z=s.contextType,C=ca,typeof z=="object"&&z!==null&&(C=He(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||B!==C)&&vg(n,f,o,C),br=!1,B=n.memoizedState,f.state=B,jo(n,o,f,h),zo();var H=n.memoizedState;g!==$||B!==H||br||e!==null&&e.dependencies!==null&&Su(e.dependencies)?(typeof E=="function"&&(_f(n,s,E,o),H=n.memoizedState),(F=br||_g(n,s,F,o,B,H,C)||e!==null&&e.dependencies!==null&&Su(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Bu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ns(n,e.child,null,h),n.child=Ns(n,null,s,h)):Ge(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Hi(e,n,h),e}function xg(e,n,s,o){return As(),n.flags|=256,Ge(e,n,s,o),n.child}var bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Af(e){return{baseLanes:e,cachePool:bp()}}function wf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Tn),e}function kg(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pt){if(h?Rr(n):Ir(),(e=ie)?(e=Hy(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},s=mp(e),s.return=n,n.child=s,qe=n,ie=null)):e=null,e===null)throw Tr(n);return od(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ir(),h=n.mode,E=qu({mode:"hidden",children:E},h),o=bs(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Af(s),o.childLanes=wf(e,g,s),n.memoizedState=bf,Fo(null,o)):(Rr(n),Rf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Rr(n),n.flags&=-257,n=If(e,n,s)):n.memoizedState!==null?(Ir(),n.child=e.child,n.flags|=128,n=null):(Ir(),E=o.fallback,h=n.mode,o=qu({mode:"visible",children:o.children},h),E=bs(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ns(n,e.child,null,s),o=n.child,o.memoizedState=Af(s),o.childLanes=wf(e,g,s),n.memoizedState=bf,n=Fo(null,o));else if(Rr(n),od(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Vo({value:o,source:null,stack:null}),n=If(e,n,s)}else if(we||ma(e,n,s,!1),g=(s&e.childLanes)!==0,we||g){if(g=ne,g!==null&&(o=ho(g,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Ss(e,o),hn(g,e,o),Tf;ad(E)||Zu(),n=If(e,n,s)}else ad(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ie=xn(E.nextSibling),qe=n,Pt=!0,Er=null,Mn=!1,e!==null&&yp(n,e),n=Rf(n,o.children),n.flags|=4096);return n}return h?(Ir(),E=o.fallback,h=n.mode,C=e.child,z=C.sibling,o=Li(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=Li(z,E):(E=bs(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Fo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Af(s):(h=E.cachePool,h!==null?(C=be._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=bp(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=wf(e,g,s),n.memoizedState=bf,Fo(e.child,o)):(Rr(n),s=e.child,e=s.sibling,s=Li(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Rf(e,n){return n=qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function qu(e,n){return e=yn(22,e,null,n),e.lanes=0,e}function If(e,n,s){return Ns(n,e.child,null,s),e=Rf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ug(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Bh(e.return,n,s)}function Cf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Lg(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=pe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,L(pe,g),Ge(e,n,o,s),o=Pt?Mo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ug(e,s,n);else if(e.tag===19)Ug(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Nu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Cf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Nu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Cf(n,!0,s,null,f,o);break;case"together":Cf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Hi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Nr|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ma(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Li(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Li(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Df(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Su(e)))}function e1(e,n,s){switch(n.tag){case 3:yt(n,n.stateNode.containerInfo),Sr(n,be,e.memoizedState.cache),As();break;case 27:case 5:Ve(n);break;case 4:yt(n,n.stateNode.containerInfo);break;case 10:Sr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Wh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Rr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?kg(e,n,s):(Rr(n),e=Hi(e,n,s),e!==null?e.sibling:null);Rr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ma(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Lg(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),L(pe,pe.current),o)break;return null;case 22:return n.lanes=0,Dg(e,n,s,n.pendingProps);case 24:Sr(n,be,e.memoizedState.cache)}return Hi(e,n,s)}function Pg(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Df(e,s)&&(n.flags&128)===0)return we=!1,e1(e,n,s);we=(e.flags&131072)!==0}else we=!1,Pt&&(n.flags&1048576)!==0&&gp(n,Mo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Cs(n.elementType),n.type=e,typeof e=="function")Vh(e)?(o=Ms(e,o),n.tag=1,n=Vg(null,n,e,o,s)):(n.tag=0,n=Sf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===zt){n.tag=11,n=Rg(null,n,e,o,s);break t}else if(h===A){n.tag=14,n=Ig(null,n,e,o,s);break t}}throw n=Yt(e)||e,Error(a(306,n,""))}}return n;case 0:return Sf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Ms(o,n.pendingProps),Vg(e,n,o,h,s);case 3:t:{if(yt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Kh(e,n),jo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Sr(n,be,o),o!==f.cache&&qh(n,[be],s,!0),zo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=xg(e,n,o,s);break t}else if(o!==h){h=Dn(Error(a(424)),n),Vo(h),n=xg(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ie=xn(e.firstChild),qe=n,Pt=!0,Er=null,Mn=!0,s=Dp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(As(),o===h){n=Hi(e,n,s);break t}Ge(e,n,o,s)}n=n.child}return n;case 26:return Bu(e,n),e===null?(s=Xy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Pt||(s=n.type,e=n.pendingProps,o=rc(st.current).createElement(s),o[Ee]=n,o[xe]=e,Fe(o,s,e),Te(o),n.stateNode=o):n.memoizedState=Xy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ve(n),e===null&&Pt&&(o=n.stateNode=Qy(n.type,n.pendingProps,st.current),qe=n,Mn=!0,h=ie,kr(n.type)?(ld=h,ie=xn(o.firstChild)):ie=h),Ge(e,n,n.pendingProps.children,s),Bu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Pt&&((h=o=ie)&&(o=O1(o,n.type,n.pendingProps,Mn),o!==null?(n.stateNode=o,qe=n,ie=xn(o.firstChild),Mn=!1,h=!0):h=!1),h||Tr(n)),Ve(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,id(h,f)?o=null:g!==null&&id(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=ef(e,n,QT,null,null,s),al._currentValue=h),Bu(e,n),Ge(e,n,o,s),n.child;case 6:return e===null&&Pt&&((e=s=ie)&&(s=M1(s,n.pendingProps,Mn),s!==null?(n.stateNode=s,qe=n,ie=null,e=!0):e=!1),e||Tr(n)),null;case 13:return kg(e,n,s);case 4:return yt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ns(n,null,o,s):Ge(e,n,o,s),n.child;case 11:return Rg(e,n,n.type,n.pendingProps,s);case 7:return Ge(e,n,n.pendingProps,s),n.child;case 8:return Ge(e,n,n.pendingProps.children,s),n.child;case 12:return Ge(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Sr(n,n.type,o.value),Ge(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Rs(n),h=He(h),o=o(h),n.flags|=1,Ge(e,n,o,s),n.child;case 14:return Ig(e,n,n.type,n.pendingProps,s);case 15:return Cg(e,n,n.type,n.pendingProps,s);case 19:return Lg(e,n,s);case 31:return t1(e,n,s);case 22:return Dg(e,n,s,n.pendingProps);case 24:return Rs(n),o=He(be),e===null?(h=Fh(),h===null&&(h=ne,f=Hh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Yh(n),Sr(n,be,h)):((e.lanes&s)!==0&&(Kh(e,n),jo(n,null,null,s),zo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Sr(n,be,o)):(o=f.cache,Sr(n,be,o),o!==h.cache&&qh(n,[be],s,!0))),Ge(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Gi(e){e.flags|=4}function Nf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(hy())e.flags|=8192;else throw Ds=Ru,Qh}else e.flags&=-16777217}function zg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!t_(n))if(hy())e.flags|=8192;else throw Ds=Ru,Qh}function Hu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Xl():536870912,e.lanes|=n,Ra|=n)}function Qo(e,n){if(!Pt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function n1(e,n,s){var o=n.pendingProps;switch(Lh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ji(be),Et(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(da(n)?Gi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zh())),re(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Gi(n),f!==null?(re(n),zg(n,f)):(re(n),Nf(n,h,null,o,s))):f?f!==e.memoizedState?(Gi(n),re(n),zg(n,f)):(re(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Gi(n),re(n),Nf(n,h,e,o,s)),null;case 27:if(rn(n),s=st.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return re(n),null}e=Q.current,da(n)?_p(n):(e=Qy(h,o,s),n.stateNode=e,Gi(n))}return re(n),null;case 5:if(rn(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return re(n),null}if(f=Q.current,da(n))_p(n);else{var g=rc(st.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ee]=n,f[xe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Gi(n)}}return re(n),Nf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=st.current,da(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||ky(e.nodeValue,s)),e||Tr(n,!0)}else e=rc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return re(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=da(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ee]=n}else As(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),e=!1}else s=zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return re(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=da(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=n}else As(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),h=!1}else h=zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Hu(n,n.updateQueue),re(n),null);case 4:return Et(),e===null&&Jf(n.stateNode.containerInfo),re(n),null;case 10:return ji(n.type),re(n),null;case 19:if(X(pe),o=n.memoizedState,o===null)return re(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Qo(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Nu(e),f!==null){for(n.flags|=128,Qo(o,!1),e=f.updateQueue,n.updateQueue=e,Hu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)dp(s,e),s=s.sibling;return L(pe,pe.current&1|2),Pt&&Pi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>Ku&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Nu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Hu(n,e),Qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Pt)return re(n),null}else 2*tn()-o.renderingStartTime>Ku&&s!==536870912&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,s=pe.current,L(pe,h?s&1|2:s&1),Pt&&Pi(n,o.treeForkCount),e):(re(n),null);case 22:case 23:return vn(n),Jh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),s=n.updateQueue,s!==null&&Hu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&X(Is),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ji(be),re(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function i1(e,n){switch(Lh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ji(be),Et(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return rn(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(a(340));As()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));As()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(pe),null;case 4:return Et(),null;case 10:return ji(n.type),null;case 22:case 23:return vn(n),Jh(),e!==null&&X(Is),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ji(be),null;case 25:return null;default:return null}}function jg(e,n){switch(Lh(n),n.tag){case 3:ji(be),Et();break;case 26:case 27:case 5:rn(n);break;case 4:Et();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:X(pe);break;case 10:ji(n.type);break;case 22:case 23:vn(n),Jh(),e!==null&&X(Is);break;case 24:ji(be)}}function Yo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){$t(n,n.return,E)}}function Cr(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=s,z=E;try{z()}catch(F){$t(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){$t(n,n.return,F)}}function Bg(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Op(n,s)}catch(o){$t(e,e.return,o)}}}function qg(e,n,s){s.props=Ms(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){$t(e,n,o)}}function Ko(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){$t(e,n,h)}}function Si(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){$t(e,n,h)}else s.current=null}function Hg(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){$t(e,e.return,h)}}function Of(e,n,s){try{var o=e.stateNode;w1(o,e.type,s,n),o[xe]=n}catch(h){$t(e,e.return,h)}}function Gg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&kr(e.type)||e.tag===4}function Mf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Gg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&kr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Hn));else if(o!==4&&(o===27&&kr(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Vf(e,n,s),e=e.sibling;e!==null;)Vf(e,n,s),e=e.sibling}function Gu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&kr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Gu(e,n,s),e=e.sibling;e!==null;)Gu(e,n,s),e=e.sibling}function Fg(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,s),n[Ee]=e,n[xe]=s}catch(f){$t(e,e.return,f)}}var Fi=!1,Re=!1,xf=!1,Qg=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function r1(e,n){if(e=e.containerInfo,ed=hc,e=rp(e),Rh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,C=-1,z=0,F=0,$=e,B=null;e:for(;;){for(var H;$!==s||h!==0&&$.nodeType!==3||(E=g+h),$!==f||o!==0&&$.nodeType!==3||(C=g+o),$.nodeType===3&&(g+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===e)break e;if(B===s&&++z===h&&(E=g),B===f&&++F===o&&(C=g),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(nd={focusedElem:e,selectionRange:s},hc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ct=Ms(s.type,h);e=o.getSnapshotBeforeUpdate(ct,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(_t){$t(s,s.return,_t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)sd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function Yg(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Yi(e,s),o&4&&Yo(5,s);break;case 1:if(Yi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){$t(s,s.return,g)}else{var h=Ms(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){$t(s,s.return,g)}}o&64&&Bg(s),o&512&&Ko(s,s.return);break;case 3:if(Yi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Op(e,n)}catch(g){$t(s,s.return,g)}}break;case 27:n===null&&o&4&&Fg(s);case 26:case 5:Yi(e,s),n===null&&o&4&&Hg(s),o&512&&Ko(s,s.return);break;case 12:Yi(e,s);break;case 31:Yi(e,s),o&4&&$g(e,s);break;case 13:Yi(e,s),o&4&&Zg(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=d1.bind(null,s),V1(e,s))));break;case 22:if(o=s.memoizedState!==null||Fi,!o){n=n!==null&&n.memoizedState!==null||Re,h=Fi;var f=Re;Fi=o,(Re=n)&&!f?Ki(e,s,(s.subtreeFlags&8772)!==0):Yi(e,s),Fi=h,Re=f}break;case 30:break;default:Yi(e,s)}}function Kg(e){var n=e.alternate;n!==null&&(e.alternate=null,Kg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&$s(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,on=!1;function Qi(e,n,s){for(s=s.child;s!==null;)Xg(e,n,s),s=s.sibling}function Xg(e,n,s){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(zn,s)}catch{}switch(s.tag){case 26:Re||Si(s,n),Qi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Re||Si(s,n);var o=oe,h=on;kr(s.type)&&(oe=s.stateNode,on=!1),Qi(e,n,s),il(s.stateNode),oe=o,on=h;break;case 5:Re||Si(s,n);case 6:if(o=oe,h=on,oe=null,Qi(e,n,s),oe=o,on=h,oe!==null)if(on)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(s.stateNode)}catch(f){$t(s,n,f)}else try{oe.removeChild(s.stateNode)}catch(f){$t(s,n,f)}break;case 18:oe!==null&&(on?(e=oe,By(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),xa(e)):By(oe,s.stateNode));break;case 4:o=oe,h=on,oe=s.stateNode.containerInfo,on=!0,Qi(e,n,s),oe=o,on=h;break;case 0:case 11:case 14:case 15:Cr(2,s,n),Re||Cr(4,s,n),Qi(e,n,s);break;case 1:Re||(Si(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&qg(s,n,o)),Qi(e,n,s);break;case 21:Qi(e,n,s);break;case 22:Re=(o=Re)||s.memoizedState!==null,Qi(e,n,s),Re=o;break;default:Qi(e,n,s)}}function $g(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{xa(e)}catch(s){$t(n,n.return,s)}}}function Zg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xa(e)}catch(s){$t(n,n.return,s)}}function s1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Qg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Qg),n;default:throw Error(a(435,e.tag))}}function Fu(e,n){var s=s1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=m1.bind(null,e,o);o.then(h,h)}})}function ln(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(kr(E.type)){oe=E.stateNode,on=!1;break t}break;case 5:oe=E.stateNode,on=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(oe===null)throw Error(a(160));Xg(f,g,h),oe=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Jg(n,e),n=n.sibling}var Xn=null;function Jg(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),un(e),o&4&&(Cr(3,e,e.return),Yo(3,e),Cr(5,e,e.return));break;case 1:ln(n,e),un(e),o&512&&(Re||s===null||Si(s,s.return)),o&64&&Fi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Xn;if(ln(n,e),un(e),o&512&&(Re||s===null||Si(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,s),f[Ee]=e,Te(f),o=f;break t;case"link":var g=Jy("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,s),h.head.appendChild(f);break;case"meta":if(g=Jy("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else Wy(h,e.type,e.stateNode);else e.stateNode=Zy(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?Wy(h,e.type,e.stateNode):Zy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Of(e,e.memoizedProps,s.memoizedProps)}break;case 27:ln(n,e),un(e),o&512&&(Re||s===null||Si(s,s.return)),s!==null&&o&4&&Of(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ln(n,e),un(e),o&512&&(Re||s===null||Si(s,s.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(ct){$t(e,e.return,ct)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Of(e,h,s!==null?s.memoizedProps:h)),o&1024&&(xf=!0);break;case 6:if(ln(n,e),un(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ct){$t(e,e.return,ct)}}break;case 3:if(oc=null,h=Xn,Xn=sc(n.containerInfo),ln(n,e),Xn=h,un(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{xa(n.containerInfo)}catch(ct){$t(e,e.return,ct)}xf&&(xf=!1,Wg(e));break;case 4:o=Xn,Xn=sc(e.stateNode.containerInfo),ln(n,e),un(e),Xn=o;break;case 12:ln(n,e),un(e);break;case 31:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 13:ln(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Yu=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=Fi,F=Re;if(Fi=z||h,Re=F||C,ln(n,e),Re=F,Fi=z,un(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||Fi||Re||Vs(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var $=C.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ct){$t(C,C.return,ct)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ct){$t(C,C.return,ct)}}}else if(n.tag===18){if(s===null){C=n;try{var H=C.stateNode;h?qy(H,!0):qy(C.stateNode,!1)}catch(ct){$t(C,C.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Fu(e,s))));break;case 19:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 30:break;case 21:break;default:ln(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Gg(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Mf(e);Gu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(an(g,""),s.flags&=-33);var E=Mf(e);Gu(e,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,z=Mf(e);Vf(e,z,C);break;default:throw Error(a(161))}}catch(F){$t(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Wg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Wg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Yi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yg(e,n.alternate,n),n=n.sibling}function Vs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cr(4,n,n.return),Vs(n);break;case 1:Si(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&qg(n,n.return,s),Vs(n);break;case 27:il(n.stateNode);case 26:case 5:Si(n,n.return),Vs(n);break;case 22:n.memoizedState===null&&Vs(n);break;case 30:Vs(n);break;default:Vs(n)}e=e.sibling}}function Ki(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,s),Yo(4,f);break;case 1:if(Ki(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Np(C[h],E)}catch(z){$t(o,o.return,z)}}s&&g&64&&Bg(f),Ko(f,f.return);break;case 27:Fg(f);case 26:case 5:Ki(h,f,s),s&&o===null&&g&4&&Hg(f),Ko(f,f.return);break;case 12:Ki(h,f,s);break;case 31:Ki(h,f,s),s&&g&4&&$g(h,f);break;case 13:Ki(h,f,s),s&&g&4&&Zg(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,s),Ko(f,f.return);break;case 30:break;default:Ki(h,f,s)}n=n.sibling}}function kf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&xo(s))}function Uf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e))}function $n(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ty(e,n,s,o),n=n.sibling}function ty(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(e,n,s,o),h&2048&&Yo(9,n);break;case 1:$n(e,n,s,o);break;case 3:$n(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e)));break;case 12:if(h&2048){$n(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){$t(n,n.return,C)}}else $n(e,n,s,o);break;case 31:$n(e,n,s,o);break;case 13:$n(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?$n(e,n,s,o):Xo(e,n):f._visibility&2?$n(e,n,s,o):(f._visibility|=2,ba(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&kf(g,n);break;case 24:$n(e,n,s,o),h&2048&&Uf(n.alternate,n);break;default:$n(e,n,s,o)}}function ba(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:ba(f,g,E,C,h),Yo(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?ba(f,g,E,C,h):Xo(f,g):(F._visibility|=2,ba(f,g,E,C,h)),h&&z&2048&&kf(g.alternate,g);break;case 24:ba(f,g,E,C,h),h&&z&2048&&Uf(g.alternate,g);break;default:ba(f,g,E,C,h)}n=n.sibling}}function Xo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Xo(s,o),h&2048&&kf(o.alternate,o);break;case 24:Xo(s,o),h&2048&&Uf(o.alternate,o);break;default:Xo(s,o)}n=n.sibling}}var $o=8192;function Aa(e,n,s){if(e.subtreeFlags&$o)for(e=e.child;e!==null;)ey(e,n,s),e=e.sibling}function ey(e,n,s){switch(e.tag){case 26:Aa(e,n,s),e.flags&$o&&e.memoizedState!==null&&F1(s,Xn,e.memoizedState,e.memoizedProps);break;case 5:Aa(e,n,s);break;case 3:case 4:var o=Xn;Xn=sc(e.stateNode.containerInfo),Aa(e,n,s),Xn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=$o,$o=16777216,Aa(e,n,s),$o=o):Aa(e,n,s));break;default:Aa(e,n,s)}}function ny(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Zo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,ry(o,e)}ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)iy(e),e=e.sibling}function iy(e){switch(e.tag){case 0:case 11:case 15:Zo(e),e.flags&2048&&Cr(9,e,e.return);break;case 3:Zo(e);break;case 12:Zo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Qu(e)):Zo(e);break;default:Zo(e)}}function Qu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,ry(o,e)}ny(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cr(8,n,n.return),Qu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Qu(n));break;default:Qu(n)}e=e.sibling}}function ry(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:Cr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ue=o;else t:for(s=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(Kg(o),o===s){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var a1={getCacheForType:function(e){var n=He(be),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return He(be).controller.signal}},o1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,ne=null,Nt=null,Mt=0,Xt=0,En=null,Dr=!1,wa=!1,Lf=!1,Xi=0,fe=0,Nr=0,xs=0,Pf=0,Tn=0,Ra=0,Jo=null,cn=null,zf=!1,Yu=0,sy=0,Ku=1/0,Xu=null,Or=null,Ne=0,Mr=null,Ia=null,$i=0,jf=0,Bf=null,ay=null,Wo=0,qf=null;function Sn(){return(Ft&2)!==0&&Mt!==0?Mt&-Mt:G.T!==null?Kf():$l()}function oy(){if(Tn===0)if((Mt&536870912)===0||Pt){var e=os;os<<=1,(os&3932160)===0&&(os=262144),Tn=e}else Tn=536870912;return e=_n.current,e!==null&&(e.flags|=32),Tn}function hn(e,n,s){(e===ne&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Ca(e,0),Vr(e,Mt,Tn,!1)),ls(e,s),((Ft&2)===0||e!==ne)&&(e===ne&&((Ft&2)===0&&(xs|=s),fe===4&&Vr(e,Mt,Tn,!1)),bi(e))}function ly(e,n,s){if((Ft&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||jn(e,n),h=o?c1(e,n):Gf(e,n,!0),f=o;do{if(h===0){wa&&!o&&Vr(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!l1(s)){h=Gf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=Jo;var C=E.current.memoizedState.isDehydrated;if(C&&(Ca(E,g).flags|=256),g=Gf(E,g,!1),g!==2){if(Lf&&!C){E.errorRecoveryDisabledLanes|=f,xs|=f,h=4;break t}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ca(e,0),Vr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Vr(o,n,Tn,!Dr);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Yu+300-tn(),10<h)){if(Vr(o,n,Tn,!Dr),si(o,0,!0)!==0)break t;$i=n,o.timeoutHandle=zy(uy.bind(null,o,s,cn,Xu,zf,n,Tn,xs,Ra,Dr,f,"Throttled",-0,0),h);break t}uy(o,s,cn,Xu,zf,n,Tn,xs,Ra,Dr,f,null,-0,0)}}break}while(!0);bi(e)}function uy(e,n,s,o,h,f,g,E,C,z,F,$,B,H){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},ey(n,f,$);var ct=(f&62914560)===f?Yu-tn():(f&4194048)===f?sy-tn():0;if(ct=Q1($,ct),ct!==null){$i=f,e.cancelPendingCommit=ct(yy.bind(null,e,n,f,s,o,h,g,E,C,F,$,null,B,H)),Vr(e,f,g,!z);return}}yy(e,n,f,s,o,h,g,E,C)}function l1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vr(e,n,s,o){n&=~Pf,n&=~xs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&us(e,s,n)}function $u(){return(Ft&6)===0?(tl(0),!1):!0}function Hf(){if(Nt!==null){if(Xt===0)var e=Nt.return;else e=Nt,zi=ws=null,sf(e),_a=null,Uo=0,e=Nt;for(;e!==null;)jg(e.alternate,e),e=e.return;Nt=null}}function Ca(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,C1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),$i=0,Hf(),ne=e,Nt=s=Li(e.current,null),Mt=n,Xt=0,En=null,Dr=!1,wa=jn(e,n),Lf=!1,Ra=Tn=Pf=xs=Nr=fe=0,cn=Jo=null,zf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return Xi=n,yu(),s}function cy(e,n){Rt=null,G.H=Go,n===ya||n===wu?(n=Rp(),Xt=3):n===Qh?(n=Rp(),Xt=4):Xt=n===Tf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Nt===null&&(fe=1,zu(e,Dn(n,e.current)))}function hy(){var e=_n.current;return e===null?!0:(Mt&4194048)===Mt?Vn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===Vn:!1}function fy(){var e=G.H;return G.H=Go,e===null?Go:e}function dy(){var e=G.A;return G.A=a1,e}function Zu(){fe=4,Dr||(Mt&4194048)!==Mt&&_n.current!==null||(wa=!0),(Nr&134217727)===0&&(xs&134217727)===0||ne===null||Vr(ne,Mt,Tn,!1)}function Gf(e,n,s){var o=Ft;Ft|=2;var h=fy(),f=dy();(ne!==e||Mt!==n)&&(Xu=null,Ca(e,n)),n=!1;var g=fe;t:do try{if(Xt!==0&&Nt!==null){var E=Nt,C=En;switch(Xt){case 8:Hf(),g=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var z=Xt;if(Xt=0,En=null,Da(e,E,C,z),s&&wa){g=0;break t}break;default:z=Xt,Xt=0,En=null,Da(e,E,C,z)}}u1(),g=fe;break}catch(F){cy(e,F)}while(!0);return n&&e.shellSuspendCounter++,zi=ws=null,Ft=o,G.H=h,G.A=f,Nt===null&&(ne=null,Mt=0,yu()),g}function u1(){for(;Nt!==null;)my(Nt)}function c1(e,n){var s=Ft;Ft|=2;var o=fy(),h=dy();ne!==e||Mt!==n?(Xu=null,Ku=tn()+500,Ca(e,n)):wa=jn(e,n);t:do try{if(Xt!==0&&Nt!==null){n=Nt;var f=En;e:switch(Xt){case 1:Xt=0,En=null,Da(e,n,f,1);break;case 2:case 9:if(Ap(f)){Xt=0,En=null,py(n);break}n=function(){Xt!==2&&Xt!==9||ne!==e||(Xt=7),bi(e)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Ap(f)?(Xt=0,En=null,py(n)):(Xt=0,En=null,Da(e,n,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var E=Nt;if(g?t_(g):E.stateNode.complete){Xt=0,En=null;var C=E.sibling;if(C!==null)Nt=C;else{var z=E.return;z!==null?(Nt=z,Ju(z)):Nt=null}break e}}Xt=0,En=null,Da(e,n,f,5);break;case 6:Xt=0,En=null,Da(e,n,f,6);break;case 8:Hf(),fe=6;break t;default:throw Error(a(462))}}h1();break}catch(F){cy(e,F)}while(!0);return zi=ws=null,G.H=o,G.A=h,Ft=s,Nt!==null?0:(ne=null,Mt=0,yu(),fe)}function h1(){for(;Nt!==null&&!vh();)my(Nt)}function my(e){var n=Pg(e.alternate,e,Xi);e.memoizedProps=e.pendingProps,n===null?Ju(e):Nt=n}function py(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Mg(s,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Mg(s,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:sf(n);default:jg(s,n),n=Nt=dp(n,Xi),n=Pg(s,n,Xi)}e.memoizedProps=e.pendingProps,n===null?Ju(e):Nt=n}function Da(e,n,s,o){zi=ws=null,sf(n),_a=null,Uo=0;var h=n.return;try{if(WT(e,h,n,s,Mt)){fe=1,zu(e,Dn(s,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;fe=1,zu(e,Dn(s,e.current)),Nt=null;return}n.flags&32768?(Pt||o===1?e=!0:wa||(Mt&536870912)!==0?e=!1:(Dr=e=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),gy(n,e)):Ju(n)}function Ju(e){var n=e;do{if((n.flags&32768)!==0){gy(n,Dr);return}e=n.return;var s=n1(n.alternate,n,Xi);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);fe===0&&(fe=5)}function gy(e,n){do{var s=i1(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);fe=6,Nt=null}function yy(e,n,s,o,h,f,g,E,C){e.cancelPendingCommit=null;do Wu();while(Ne!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Oh,Sh(e,s,f,g,E,C),e===ne&&(Nt=ne=null,Mt=0),Ia=n,Mr=e,$i=s,jf=f,Bf=h,ay=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,p1(ur,function(){return Sy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=rt.p,rt.p=2,g=Ft,Ft|=4;try{r1(e,n,s)}finally{Ft=g,rt.p=h,G.T=o}}Ne=1,_y(),vy(),Ey()}}function _y(){if(Ne===1){Ne=0;var e=Mr,n=Ia,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Ft;Ft|=4;try{Jg(n,e);var f=nd,g=rp(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&ip(E.ownerDocument.documentElement,E)){if(C!==null&&Rh(E)){var z=C.start,F=C.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),ct=E.textContent.length,_t=Math.min(C.start,ct),ee=C.end===void 0?_t:Math.min(C.end,ct);!H.extend&&_t>ee&&(g=ee,ee=_t,_t=g);var k=np(E,_t),N=np(E,ee);if(k&&N&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var P=$.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),_t>ee?(H.addRange(P),H.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),H.addRange(P))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}hc=!!ed,nd=ed=null}finally{Ft=h,rt.p=o,G.T=s}}e.current=n,Ne=2}}function vy(){if(Ne===2){Ne=0;var e=Mr,n=Ia,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Ft;Ft|=4;try{Yg(e,n.alternate,n)}finally{Ft=h,rt.p=o,G.T=s}}Ne=3}}function Ey(){if(Ne===4||Ne===3){Ne=0,Hl();var e=Mr,n=Ia,s=$i,o=ay;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,Ia=Mr=null,Ty(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Or=null),Vi(s),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=rt.p,rt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,rt.p=h}}($i&3)!==0&&Wu(),bi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===qf?Wo++:(Wo=0,qf=e):Wo=0,tl(0)}}function Ty(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,xo(n)))}function Wu(){return _y(),vy(),Ey(),Sy()}function Sy(){if(Ne!==5)return!1;var e=Mr,n=jf;jf=0;var s=Vi($i),o=G.T,h=rt.p;try{rt.p=32>s?32:s,G.T=null,s=Bf,Bf=null;var f=Mr,g=$i;if(Ne=0,Ia=Mr=null,$i=0,(Ft&6)!==0)throw Error(a(331));var E=Ft;if(Ft|=4,iy(f.current),ty(f,f.current,g,s),Ft=E,tl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{rt.p=h,G.T=o,Ty(e,n)}}function by(e,n,s){n=Dn(s,n),n=Ef(e.stateNode,n,2),e=wr(e,n,2),e!==null&&(ls(e,2),bi(e))}function $t(e,n,s){if(e.tag===3)by(e,e,s);else for(;n!==null;){if(n.tag===3){by(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Or===null||!Or.has(o))){e=Dn(s,e),s=Ag(2),o=wr(n,s,2),o!==null&&(wg(s,o,n,e),ls(o,2),bi(o));break}}n=n.return}}function Ff(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new o1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Lf=!0,h.add(s),e=f1.bind(null,e,n,s),n.then(e,e))}function f1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ne===e&&(Mt&s)===s&&(fe===4||fe===3&&(Mt&62914560)===Mt&&300>tn()-Yu?(Ft&2)===0&&Ca(e,0):Pf|=s,Ra===Mt&&(Ra=0)),bi(e)}function Ay(e,n){n===0&&(n=Xl()),e=Ss(e,n),e!==null&&(ls(e,n),bi(e))}function d1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Ay(e,s)}function m1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Ay(e,s)}function p1(e,n){return De(e,n)}var tc=null,Na=null,Qf=!1,ec=!1,Yf=!1,xr=0;function bi(e){e!==Na&&e.next===null&&(Na===null?tc=Na=e:Na=Na.next=e),ec=!0,Qf||(Qf=!0,y1())}function tl(e,n){if(!Yf&&ec){Yf=!0;do for(var s=!1,o=tc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Cy(o,f))}else f=Mt,f=si(o,o===ne?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||jn(o,f)||(s=!0,Cy(o,f));o=o.next}while(s);Yf=!1}}function g1(){wy()}function wy(){ec=Qf=!1;var e=0;xr!==0&&I1()&&(e=xr);for(var n=tn(),s=null,o=tc;o!==null;){var h=o.next,f=Ry(o,n);f===0?(o.next=null,s===null?tc=h:s.next=h,h===null&&(Na=s)):(s=o,(e!==0||(f&3)!==0)&&(ec=!0)),o=h}Ne!==0&&Ne!==5||tl(e),xr!==0&&(xr=0)}function Ry(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-de(f),E=1<<g,C=h[g];C===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Th(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=ne,s=Mt,s=si(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&lr(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||jn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&lr(o),Vi(s)){case 2:case 8:s=uo;break;case 32:s=ur;break;case 268435456:s=Gl;break;default:s=ur}return o=Iy.bind(null,e),s=De(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&lr(o),e.callbackPriority=2,e.callbackNode=null,2}function Iy(e,n){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Wu()&&e.callbackNode!==s)return null;var o=Mt;return o=si(e,e===ne?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ly(e,o,n),Ry(e,tn()),e.callbackNode!=null&&e.callbackNode===s?Iy.bind(null,e):null)}function Cy(e,n){if(Wu())return null;ly(e,n,!0)}function y1(){D1(function(){(Ft&6)!==0?De(lo,g1):wy()})}function Kf(){if(xr===0){var e=pa;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),xr=e}return xr}function Dy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ta(""+e)}function Ny(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function _1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Dy((h[xe]||null).action),g=o.submitter;g&&(n=(n=g[xe]||null)?Dy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new gi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(xr!==0){var C=g?Ny(h,g):new FormData(h);mf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?Ny(h,g):new FormData(h),mf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Xf=0;Xf<Nh.length;Xf++){var $f=Nh[Xf],v1=$f.toLowerCase(),E1=$f[0].toUpperCase()+$f.slice(1);Kn(v1,"on"+E1)}Kn(op,"onAnimationEnd"),Kn(lp,"onAnimationIteration"),Kn(up,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(UT,"onTransitionRun"),Kn(LT,"onTransitionStart"),Kn(PT,"onTransitionCancel"),Kn(cp,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function Oy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){gu(F)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){gu(F)}h.currentTarget=null,f=C}}}}function Ot(e,n){var s=n[Xs];s===void 0&&(s=n[Xs]=new Set);var o=e+"__bubble";s.has(o)||(My(n,e,2,!1),s.add(o))}function Zf(e,n,s){var o=0;n&&(o|=4),My(s,e,o,n)}var nc="_reactListening"+Math.random().toString(36).slice(2);function Jf(e){if(!e[nc]){e[nc]=!0,fo.forEach(function(s){s!=="selectionchange"&&(T1.has(s)||Zf(s,!1,e),Zf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[nc]||(n[nc]=!0,Zf("selectionchange",!1,n))}}function My(e,n,s,o){switch(o_(n)){case 2:var h=X1;break;case 8:h=$1;break;default:h=dd}s=h.bind(null,n,s,e),h=void 0,!ms||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Wf(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ui(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}pr(function(){var z=f,F=wn(s),$=[];t:{var B=hp.get(e);if(B!==void 0){var H=gi,ct=e;switch(e){case"keypress":if(gs(s)===0)break t;case"keydown":case"keyup":H=du;break;case"focusin":ct="focus",H=_s;break;case"focusout":ct="blur",H=_s;break;case"beforeblur":case"afterblur":H=_s;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case op:case lp:case up:H=au;break;case cp:H=T;break;case"scroll":case"scrollend":H=wo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ui;break;case"toggle":case"beforetoggle":H=wt}var _t=(n&4)!==0,ee=!_t&&(e==="scroll"||e==="scrollend"),k=_t?B!==null?B+"Capture":null:B;_t=[];for(var N=z,P;N!==null;){var Y=N;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=Gn(N,k),Y!=null&&_t.push(nl(N,Y,P))),ee)break;N=N.return}0<_t.length&&(B=new H(B,ct,null,s,F),$.push({event:B,listeners:_t}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&s!==So&&(ct=s.relatedTarget||s.fromElement)&&(ui(ct)||ct[oi]))break t;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ct=s.relatedTarget||s.toElement,H=z,ct=ct?ui(ct):null,ct!==null&&(ee=c(ct),_t=ct.tag,ct!==ee||_t!==5&&_t!==27&&_t!==6)&&(ct=null)):(H=null,ct=z),H!==ct)){if(_t=Ro,Y="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Ui,Y="onPointerLeave",k="onPointerEnter",N="pointer"),ee=H==null?B:mn(H),P=ct==null?B:mn(ct),B=new _t(Y,N+"leave",H,s,F),B.target=ee,B.relatedTarget=P,Y=null,ui(F)===z&&(_t=new _t(k,N+"enter",ct,s,F),_t.target=P,_t.relatedTarget=ee,Y=_t),ee=Y,H&&ct)e:{for(_t=S1,k=H,N=ct,P=0,Y=k;Y;Y=_t(Y))P++;Y=0;for(var pt=N;pt;pt=_t(pt))Y++;for(;0<P-Y;)k=_t(k),P--;for(;0<Y-P;)N=_t(N),Y--;for(;P--;){if(k===N||N!==null&&k===N.alternate){_t=k;break e}k=_t(k),N=_t(N)}_t=null}else _t=null;H!==null&&Vy($,B,H,_t,!1),ct!==null&&ee!==null&&Vy($,ee,ct,_t,!0)}}t:{if(B=z?mn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Bt=$m;else if(Km(B))if(Zm)Bt=VT;else{Bt=OT;var ht=NT}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Ws(z.elementType)&&(Bt=$m):Bt=MT;if(Bt&&(Bt=Bt(e,z))){Xm($,Bt,s,F);break t}ht&&ht(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&vo(B,"number",B.value)}switch(ht=z?mn(z):window,e){case"focusin":(Km(ht)||ht.contentEditable==="true")&&(oa=ht,Ih=z,Oo=null);break;case"focusout":Oo=Ih=oa=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,sp($,s,F);break;case"selectionchange":if(kT)break;case"keydown":case"keyup":sp($,s,F)}var It;if(Gt)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else aa?vs(e,s)&&(Vt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Vt="onCompositionStart");Vt&&(vi&&s.locale!=="ko"&&(aa||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&aa&&(It=Ao()):(pi=F,bo="value"in pi?pi.value:pi.textContent,aa=!0)),ht=ic(z,Vt),0<ht.length&&(Vt=new _i(Vt,e,null,s,F),$.push({event:Vt,listeners:ht}),It?Vt.data=It:(It=sa(s),It!==null&&(Vt.data=It)))),(It=In?RT(e,s):IT(e,s))&&(Vt=ic(z,"onBeforeInput"),0<Vt.length&&(ht=new _i("onBeforeInput","beforeinput",null,s,F),$.push({event:ht,listeners:Vt}),ht.data=It)),_1($,e,z,s,F)}Oy($,n)})}function nl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ic(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(e,s),h!=null&&o.unshift(nl(e,h,f)),h=Gn(e,n),h!=null&&o.push(nl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function S1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=Gn(s,f),z!=null&&g.unshift(nl(s,z,C))):h||(z=Gn(s,f),z!=null&&g.push(nl(s,z,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var b1=/\r\n?/g,A1=/\u0000|\uFFFD/g;function xy(e){return(typeof e=="string"?e:""+e).replace(b1,`
`).replace(A1,"")}function ky(e,n){return n=xy(n),xy(e)===n}function te(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(e,""+o);break;case"className":pn(e,"class",o);break;case"tabIndex":pn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(e,s,o);break;case"style":To(e,o,f);break;case"data":if(n!=="object"){pn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ta(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&te(e,n,"name",h.name,h,null),te(e,n,"formEncType",h.formEncType,h,null),te(e,n,"formMethod",h.formMethod,h,null),te(e,n,"formTarget",h.formTarget,h,null)):(te(e,n,"encType",h.encType,h,null),te(e,n,"method",h.method,h,null),te(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ta(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ta(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),Zs(e,"popover",o);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Zs(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=iu.get(s)||s,Zs(e,s,o))}}function td(e,n,s,o,h,f){switch(s){case"style":To(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?an(e,o):(typeof o=="number"||typeof o=="bigint")&&an(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[xe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Zs(e,s,o)}}}function Fe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,f,g,s,null)}}h&&te(e,n,"srcSet",s.srcSet,s,null),o&&te(e,n,"src",s.src,s,null);return;case"input":Ot("invalid",e);var E=f=g=h=null,C=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":C=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:te(e,n,o,F,s,null)}}tu(e,f,E,C,z,g,h,!1);return;case"select":Ot("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:te(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?hr(e,!!o,n,!1):s!=null&&hr(e,!!o,s,!0);return;case"textarea":Ot("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:te(e,n,g,E,s,null)}fr(e,o,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(o=s[C],o!=null)&&(C==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":te(e,n,C,o,s,null));return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<el.length;o++)Ot(el[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,z,o,s,null)}return;default:if(Ws(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&td(e,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&te(e,n,E,o,s,null))}function w1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,z=null,F=null;for(H in s){var $=s[H];if(s.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=$;default:o.hasOwnProperty(H)||te(e,n,H,null,o,$)}}for(var B in o){var H=o[B];if($=s[B],o.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":F=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==$&&te(e,n,B,H,o,$)}}Js(e,g,E,C,z,F,f,h);return;case"select":H=g=E=B=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||te(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&te(e,n,h,f,o,C)}n=E,s=g,o=H,B!=null?hr(e,!!s,B,!1):!!o!=!!s&&(n!=null?hr(e,!!s,n,!0):hr(e,!!s,s?[]:"",!1));return;case"textarea":H=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&te(e,n,g,h,o,f)}eu(e,B,H);return;case"option":for(var ct in s)B=s[ct],s.hasOwnProperty(ct)&&B!=null&&!o.hasOwnProperty(ct)&&(ct==="selected"?e.selected=!1:te(e,n,ct,null,o,B));for(C in o)B=o[C],H=s[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":te(e,n,C,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in s)B=s[_t],s.hasOwnProperty(_t)&&B!=null&&!o.hasOwnProperty(_t)&&te(e,n,_t,null,o,B);for(z in o)if(B=o[z],H=s[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:te(e,n,z,B,o,H)}return;default:if(Ws(n)){for(var ee in s)B=s[ee],s.hasOwnProperty(ee)&&B!==void 0&&!o.hasOwnProperty(ee)&&td(e,n,ee,void 0,o,B);for(F in o)B=o[F],H=s[F],!o.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||td(e,n,F,B,o,H);return}}for(var k in s)B=s[k],s.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&te(e,n,k,null,o,B);for($ in o)B=o[$],H=s[$],!o.hasOwnProperty($)||B===H||B==null&&H==null||te(e,n,$,B,o,H)}function Uy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function R1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Uy(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],z=C.startTime;if(z>E)break;var F=C.transferSize,$=C.initiatorType;F&&Uy($)&&(C=C.responseEnd,g+=F*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ed=null,nd=null;function rc(e){return e.nodeType===9?e:e.ownerDocument}function Ly(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Py(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function id(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var rd=null;function I1(){var e=window.event;return e&&e.type==="popstate"?e===rd?!1:(rd=e,!0):(rd=null,!1)}var zy=typeof setTimeout=="function"?setTimeout:void 0,C1=typeof clearTimeout=="function"?clearTimeout:void 0,jy=typeof Promise=="function"?Promise:void 0,D1=typeof queueMicrotask=="function"?queueMicrotask:typeof jy<"u"?function(e){return jy.resolve(null).then(e).catch(N1)}:zy;function N1(e){setTimeout(function(){throw e})}function kr(e){return e==="head"}function By(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),xa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")il(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,il(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&il(e.ownerDocument.body);s=h}while(s);xa(n)}function qy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function sd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":sd(s),$s(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function O1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function M1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=xn(e.nextSibling),e===null))return null;return e}function Hy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=xn(e.nextSibling),e===null))return null;return e}function ad(e){return e.data==="$?"||e.data==="$~"}function od(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function V1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function xn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ld=null;function Gy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return xn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Fy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Qy(e,n,s){switch(n=rc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);$s(e)}var kn=new Map,Yy=new Set;function sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=rt.d;rt.d={f:x1,r:k1,D:U1,C:L1,L:P1,m:z1,X:B1,S:j1,M:q1};function x1(){var e=Zi.f(),n=$u();return e||n}function k1(e){var n=An(e);n!==null&&n.tag===5&&n.type==="form"?cg(n):Zi.r(e)}var Oa=typeof document>"u"?null:document;function Ky(e,n,s){var o=Oa;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Yy.has(h)||(Yy.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),Te(n),o.head.appendChild(n)))}}function U1(e){Zi.D(e),Ky("dns-prefetch",e,null)}function L1(e,n){Zi.C(e,n),Ky("preconnect",e,n)}function P1(e,n,s){Zi.L(e,n,s);var o=Oa;if(o&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+sn(s.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=Ma(e);break;case"script":f=Va(e)}kn.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(rl(f))||n==="script"&&o.querySelector(sl(f))||(n=o.createElement("link"),Fe(n,"link",e),Te(n),o.head.appendChild(n)))}}function z1(e,n){Zi.m(e,n);var s=Oa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Va(e)}if(!kn.has(f)&&(e=w({rel:"modulepreload",href:e},n),kn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(sl(f)))return}o=s.createElement("link"),Fe(o,"link",e),Te(o),s.head.appendChild(o)}}}function j1(e,n,s){Zi.S(e,n,s);var o=Oa;if(o&&e){var h=ci(o).hoistableStyles,f=Ma(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(rl(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=kn.get(f))&&ud(e,s);var C=g=o.createElement("link");Te(C),Fe(C,"link",e),C._p=new Promise(function(z,F){C.onload=z,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ac(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function B1(e,n){Zi.X(e,n);var s=Oa;if(s&&e){var o=ci(s).hoistableScripts,h=Va(e),f=o.get(h);f||(f=s.querySelector(sl(h)),f||(e=w({src:e,async:!0},n),(n=kn.get(h))&&cd(e,n),f=s.createElement("script"),Te(f),Fe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function q1(e,n){Zi.M(e,n);var s=Oa;if(s&&e){var o=ci(s).hoistableScripts,h=Va(e),f=o.get(h);f||(f=s.querySelector(sl(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&cd(e,n),f=s.createElement("script"),Te(f),Fe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Xy(e,n,s,o){var h=(h=st.current)?sc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ma(s.href),s=ci(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ma(s.href);var f=ci(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(rl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),kn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(e,s),f||H1(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Va(s),s=ci(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ma(e){return'href="'+sn(e)+'"'}function rl(e){return'link[rel="stylesheet"]['+e+"]"}function $y(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function H1(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",s),Te(n),e.head.appendChild(n))}function Va(e){return'[src="'+sn(e)+'"]'}function sl(e){return"script[async]"+e}function Zy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+sn(s.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),Fe(o,"style",h),ac(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ma(s.href);var f=e.querySelector(rl(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=$y(s),(h=kn.get(h))&&ud(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Fe(f,"link",o),n.state.loading|=4,ac(f,s.precedence,e),n.instance=f;case"script":return f=Va(s.src),(h=e.querySelector(sl(f)))?(n.instance=h,Te(h),h):(o=s,(h=kn.get(f))&&(o=w({},s),cd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ac(o,s.precedence,e));return n.instance}function ac(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var oc=null;function Jy(e,n,s){if(oc===null){var o=new Map,h=oc=new Map;h.set(s,o)}else h=oc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[li]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function Wy(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function G1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function t_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function F1(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ma(o.href),f=n.querySelector(rl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=lc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Te(f);return}f=n.ownerDocument||n,o=$y(o),(h=kn.get(h))&&ud(o,h),f=f.createElement("link"),Te(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Fe(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=lc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var hd=0;function Q1(e,n){return e.stylesheets&&e.count===0&&cc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&cc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&hd===0&&(hd=62500*R1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&cc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>hd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uc=null;function cc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,uc=new Map,n.forEach(Y1,e),uc=null,lc.call(e))}function Y1(e,n){if(!(n.state.loading&4)){var s=uc.get(e);if(s)var o=s.get(null);else{s=new Map,uc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=lc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var al={$$typeof:dt,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function K1(e,n,s,o,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function e_(e,n,s,o,h,f,g,E,C,z,F,$){return e=new K1(e,n,s,g,C,z,F,$,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),e.current=f,f.stateNode=e,n=Hh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Yh(f),e}function n_(e){return e?(e=ca,e):ca}function i_(e,n,s,o,h,f){h=n_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ar(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=wr(e,o,n),s!==null&&(hn(s,e,n),Po(s,e,n))}function r_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function fd(e,n){r_(e,n),(e=e.alternate)&&r_(e,n)}function s_(e){if(e.tag===13||e.tag===31){var n=Ss(e,67108864);n!==null&&hn(n,e,67108864),fd(e,67108864)}}function a_(e){if(e.tag===13||e.tag===31){var n=Sn();n=cs(n);var s=Ss(e,n);s!==null&&hn(s,e,n),fd(e,n)}}var hc=!0;function X1(e,n,s,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=2,dd(e,n,s,o)}finally{rt.p=f,G.T=h}}function $1(e,n,s,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=8,dd(e,n,s,o)}finally{rt.p=f,G.T=h}}function dd(e,n,s,o){if(hc){var h=md(o);if(h===null)Wf(e,n,o,fc,s),l_(e,o);else if(J1(h,e,n,s,o))o.stopPropagation();else if(l_(e,o),n&4&&-1<Z1.indexOf(e)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ri(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-de(g);E.entanglements[1]|=C,g&=~C}bi(f),(Ft&6)===0&&(Ku=tn()+500,tl(0))}}break;case 31:case 13:E=Ss(f,2),E!==null&&hn(E,f,2),$u(),fd(f,2)}if(f=md(o),f===null&&Wf(e,n,o,fc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Wf(e,n,o,null,s)}}function md(e){return e=wn(e),pd(e)}var fc=null;function pd(e){if(fc=null,e=ui(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return fc=e,null}function o_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(as()){case lo:return 2;case uo:return 8;case ur:case Eh:return 32;case Gl:return 268435456;default:return 32}default:return 32}}var gd=!1,Ur=null,Lr=null,Pr=null,ol=new Map,ll=new Map,zr=[],Z1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l_(e,n){switch(e){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(n.pointerId)}}function ul(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&s_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function J1(e,n,s,o,h){switch(n){case"focusin":return Ur=ul(Ur,e,n,s,o,h),!0;case"dragenter":return Lr=ul(Lr,e,n,s,o,h),!0;case"mouseover":return Pr=ul(Pr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return ol.set(f,ul(ol.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ll.set(f,ul(ll.get(f)||null,e,n,s,o,h)),!0}return!1}function u_(e){var n=ui(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Bn(e.priority,function(){a_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Bn(e.priority,function(){a_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=md(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);So=o,s.target.dispatchEvent(o),So=null}else return n=An(s),n!==null&&s_(n),e.blockedOn=s,!1;n.shift()}return!0}function c_(e,n,s){dc(e)&&s.delete(n)}function W1(){gd=!1,Ur!==null&&dc(Ur)&&(Ur=null),Lr!==null&&dc(Lr)&&(Lr=null),Pr!==null&&dc(Pr)&&(Pr=null),ol.forEach(c_),ll.forEach(c_)}function mc(e,n){e.blockedOn===n&&(e.blockedOn=null,gd||(gd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,W1)))}var pc=null;function h_(e){pc!==e&&(pc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){pc===e&&(pc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(pd(o||s)===null)continue;break}var f=An(s);f!==null&&(e.splice(n,3),n-=3,mf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function xa(e){function n(C){return mc(C,e)}Ur!==null&&mc(Ur,e),Lr!==null&&mc(Lr,e),Pr!==null&&mc(Pr,e),ol.forEach(n),ll.forEach(n);for(var s=0;s<zr.length;s++){var o=zr[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<zr.length&&(s=zr[0],s.blockedOn===null);)u_(s),s.blockedOn===null&&zr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[xe]||null;if(typeof f=="function")g||h_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[xe]||null)E=g.formAction;else if(pd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),h_(s)}}}function f_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function yd(e){this._internalRoot=e}gc.prototype.render=yd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Sn();i_(s,o,e,n,null,null)},gc.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;i_(e.current,2,null,e,null,null),$u(),n[oi]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var n=$l();e={blockedOn:null,target:e,priority:n};for(var s=0;s<zr.length&&n!==0&&n<zr[s].priority;s++);zr.splice(s,0,e),s===0&&u_(e)}};var d_=t.version;if(d_!=="19.2.3")throw Error(a(527,d_,"19.2.3"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var tS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{zn=yc.inject(tS),je=yc}catch{}}return hl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Eg,f=Tg,g=Sg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=e_(e,1,!1,null,null,s,o,null,h,f,g,f_),e[oi]=n.current,Jf(e),new yd(n)},hl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Eg,g=Tg,E=Sg,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=e_(e,1,!0,n,s??null,o,h,C,f,g,E,f_),n.context=n_(null),s=n.current,o=Sn(),o=cs(o),h=Ar(o),h.callback=null,wr(s,h,o),s=o,n.current.lanes=s,ls(n,s),bi(n),e[oi]=n.current,Jf(e),new gc(n)},hl.version="19.2.3",hl}var b_;function hS(){if(b_)return Ed.exports;b_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ed.exports=cS(),Ed.exports}var fS=hS();const dS=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mS=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),A_=r=>{const t=mS(r);return t.charAt(0).toUpperCase()+t.slice(1)},t0=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),pS=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var gS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yS=Zt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>Zt.createElement("svg",{ref:y,...gS,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:t0("lucide",l),...!c&&!pS(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,S])=>Zt.createElement(_,S)),...Array.isArray(c)?c:[c]]));const Wa=(r,t)=>{const i=Zt.forwardRef(({className:a,...l},c)=>Zt.createElement(yS,{ref:c,iconNode:t,className:t0(`lucide-${dS(A_(r))}`,`lucide-${r}`,a),...l}));return i.displayName=A_(r),i};const _S=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],vS=Wa("grip-vertical",_S);const ES=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],TS=Wa("plus",ES);const SS=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],bS=Wa("redo-2",SS);const AS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wS=Wa("settings",AS);const RS=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],IS=Wa("undo-2",RS);const CS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],DS=Wa("x",CS);function e0(r){var t,i,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var l=r.length;for(t=0;t<l;t++)r[t]&&(i=e0(r[t]))&&(a&&(a+=" "),a+=i)}else for(i in r)r[i]&&(a&&(a+=" "),a+=i);return a}function Ji(){for(var r,t,i=0,a="",l=arguments.length;i<l;i++)(r=arguments[i])&&(t=e0(r))&&(a&&(a+=" "),a+=t);return a}const NS=({viewMode:r,setViewMode:t,onAddTask:i,...a})=>K.jsxs("header",{className:"h-16 border-b border-border bg-void flex items-center justify-between px-6 z-40 shadow-lg shrink-0",children:[K.jsxs("div",{className:"flex items-center gap-3",children:[K.jsx("div",{className:"w-8 h-8 rounded border border-bronze/50 flex items-center justify-center bg-bronze/10",children:K.jsx("span",{className:"font-header text-bronze font-bold text-lg",children:"S"})}),K.jsxs("div",{children:[K.jsx("h1",{className:"font-header text-xl tracking-widest text-stone",children:"ST MARY SOMERSET"}),K.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 font-mono tracking-wider",children:[K.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),K.jsx("span",{children:"ONLINE"}),K.jsx("span",{className:"text-gray-600 pl-2",children:"v1.5.7"})]})]})]}),K.jsxs("div",{className:"flex items-center gap-6",children:[K.jsx("button",{onClick:a.onImportData,className:"text-xs bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/30 px-3 py-1 rounded transition-colors",title:"Overwrite current data with 2021 Programme v2",children:"IMPORT DATA"}),K.jsxs("div",{className:"flex items-center gap-2",children:[K.jsx("button",{onClick:a.onUndo,disabled:!a.canUndo,className:Ji("p-2 rounded hover:bg-white/10 text-gray-400 transition-colors",!a.canUndo&&"opacity-30 cursor-not-allowed"),children:K.jsx(IS,{size:18})}),K.jsx("button",{onClick:a.onRedo,disabled:!a.canRedo,className:Ji("p-2 rounded hover:bg-white/10 text-gray-400 transition-colors",!a.canRedo&&"opacity-30 cursor-not-allowed"),children:K.jsx(bS,{size:18})})]}),K.jsx("div",{className:"hidden md:flex bg-panel border border-border rounded-lg p-1 gap-1 font-mono text-xs",children:["day","week","month","year"].map(l=>K.jsx("button",{onClick:()=>t(l),className:Ji("px-3 py-1 rounded transition-colors uppercase",r===l?"bg-bronze/20 text-bronze border border-bronze/30 shadow-glow":"hover:bg-border text-gray-400"),children:l},l))}),K.jsx("button",{onClick:()=>a.setShowSummaryOnly(!a.showSummaryOnly),className:Ji("text-xs font-mono px-3 py-1 rounded border transition-colors uppercase",a.showSummaryOnly?"bg-bronze text-midnight border-bronze font-bold":"bg-transparent text-gray-400 border-border hover:border-bronze/50"),children:"SUMMARIES"}),K.jsxs("div",{className:"relative group",children:[K.jsxs("button",{className:"bg-bronze hover:bg-bronzeDark text-midnight font-bold px-4 py-2 rounded font-header text-sm tracking-wide transition-colors flex items-center gap-2",children:[K.jsx(TS,{size:16}),"ADD"]}),K.jsxs("div",{className:"absolute top-full right-0 mt-1 w-48 bg-panel border border-border shadow-xl rounded overflow-hidden hidden group-hover:block z-50",children:[K.jsx("button",{onClick:()=>i("phase"),className:"w-full text-left px-4 py-3 hover:bg-white/5 text-gray-300 hover:text-bronze text-xs font-mono border-b border-white/5 transition-colors",children:"+ NEW PHASE (Root)"}),K.jsx("button",{onClick:()=>i("task"),className:"w-full text-left px-4 py-3 hover:bg-white/5 text-gray-300 hover:text-bronze text-xs font-mono border-b border-white/5 transition-colors",children:"+ NEW TASK (Sibling)"}),K.jsx("button",{onClick:()=>i("subtask"),className:"w-full text-left px-4 py-3 hover:bg-white/5 text-gray-300 hover:text-bronze text-xs font-mono transition-colors",children:"+ NEW SUBTASK (Child)"})]})]}),K.jsx("button",{className:"text-gray-400 hover:text-white transition-colors p-2",children:K.jsx(wS,{size:20})})]})]}),OS=({tasks:r,selectedTaskId:t,onSelectTask:i,onEditTask:a,onReorderTasks:l,scrollRef:c,onScroll:d})=>{const[p,y]=Zt.useState(null),_=(j,W)=>{j.dataTransfer.effectAllowed="move",j.dataTransfer.setData("text/plain",W.toString()),j.dataTransfer.setDragImage(j.currentTarget,0,0),setTimeout(()=>{j.target&&j.target.classList.add("opacity-30")},0)},S=j=>{j.target&&j.target.classList.remove("opacity-30"),y(null)},w=(j,W)=>{j.preventDefault(),j.stopPropagation();const nt=j.currentTarget.getBoundingClientRect(),J=nt.top+nt.height/2,ot=j.clientY<J?"top":"bottom";(!p||p.index!==W||p.position!==ot)&&y({index:W,position:ot})},x=(j,W)=>{j.preventDefault(),j.stopPropagation();const nt=j.dataTransfer.getData("text/plain"),J=parseInt(nt,10);if(p&&!isNaN(J)){let ot=W;p.position==="bottom"&&(ot=W+1),J!==ot&&J!==ot-1&&l(J,ot)}y(null)};return K.jsxs("div",{className:"w-80 flex-shrink-0 bg-panel border-r border-border flex flex-col z-30 shadow-2xl relative h-full",children:[K.jsxs("div",{className:"h-[60px] border-b border-border bg-void/50 flex items-center px-4 text-xs font-mono text-bronze uppercase tracking-widest flex-shrink-0",children:[K.jsx("div",{className:"w-8 text-center",children:"#"}),K.jsx("div",{className:"flex-1 pl-2",children:"Task Name"}),K.jsx("div",{className:"w-16 text-right",children:"Dur."})]}),K.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden relative",onDragLeave:()=>y(null),ref:c,onScroll:d,children:r.map((j,W)=>{const nt=j.childIds&&j.childIds.length>0,J=t===j.id,ot=j.level===0?"pl-2 font-bold uppercase tracking-wider text-bronze":j.level===1?"pl-6 font-semibold text-stone":"pl-10 text-stone/80 text-xs";return K.jsxs("div",{className:Ji("h-14 flex items-center px-2 cursor-pointer border-b border-border transition-colors relative",nt?"bg-white/5":"hover:bg-white/5",J?"bg-bronze/20 border-l-2 border-l-bronze":"border-l-2 border-l-transparent",p&&p.index===W?"bg-bronze/10":""),draggable:!0,onDragStart:ft=>_(ft,W),onDragEnd:S,onDragOver:ft=>w(ft,W),onDrop:ft=>x(ft,W),onClick:()=>i(j.id),onDoubleClick:ft=>{ft.stopPropagation(),a(j)},children:[p&&p.index===W&&p.position==="top"&&K.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-bronze z-50 shadow-[0_0_10px_rgba(217,119,6,0.8)] pointer-events-none"}),p&&p.index===W&&p.position==="bottom"&&K.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-bronze z-50 shadow-[0_0_10px_rgba(217,119,6,0.8)] pointer-events-none"}),K.jsx("div",{className:"w-8 h-full flex items-center justify-center text-bronze/50 cursor-grab active:cursor-grabbing hover:text-bronze pointer-events-none",children:K.jsx(vS,{size:14})}),K.jsxs("div",{className:"flex-1 flex items-center h-full pointer-events-none overflow-hidden",children:[K.jsx("div",{className:"w-12 text-center text-xs text-gray-500 font-mono select-none flex-shrink-0",children:j.wbs}),K.jsx("div",{className:Ji("flex-1 truncate select-none",ot),children:j.name}),K.jsxs("div",{className:"w-12 text-right font-mono text-xs text-bronze select-none flex-shrink-0",children:[j.duration,"d"]})]})]},j.id)})})]})},dl=(r,t)=>{const i=new Date(r);return i.setDate(i.getDate()+t),i},MS=(r,t)=>Math.round((new Date(r)-new Date(t))/864e5),fl=r=>{const t=new Map;r.forEach(d=>t.set(d.id,{...d,children:[],_isProcessed:!1}));const i=[];r.forEach(d=>{const p=t.get(d.id);let y=p.parentId;if(!y&&d.id.includes(".")&&!d.id.startsWith("t")){const _=d.id.split(".");_.pop();const S=_.join(".");t.has(S)&&(y=S,p.parentId=y)}y&&t.has(y)?t.get(y).children.push(p):i.push(p)});const a=(d,p)=>{const y=d.children&&d.children.length>0;if(d.isSummary=y,d.wbs=p,d.children.forEach((_,S)=>{const w=`${p}.${S+1}`;a(_,w)}),y){let _=null,S=null;d.children.forEach(w=>{const x=new Date(w.startDate),j=dl(x,w.duration);(!_||x<_)&&(_=x),(!S||j>S)&&(S=j)}),_&&S&&(d.startDate=_.toISOString(),d.duration=MS(S,_),d.duration<1&&(d.duration=1))}};i.forEach((d,p)=>{a(d,`${p+1}`)});const l=[],c=(d,p=0)=>{d.forEach(y=>{y.level=p,p===0?y.category="phase":p===1?y.category="task":y.category="subtask",y.childIds=y.children.map(x=>x.id);const{children:_,_isProcessed:S,...w}=y;l.push(w),c(y.children,p+1)})};return c(i),l},VS=({task:r,style:t,isSummary:i,onMouseDown:a,onDoubleClick:l})=>{const c=r.childIds&&r.childIds.length>0,d=r.type==="milestone";return K.jsx("div",{className:Ji("absolute select-none group touch-none flex items-center z-20"),title:`DEBUG: ID=${r.id} WBS=${r.wbs} Cat=${r.category} Level=${r.level} Kids=${r.childIds?.length||0}`,style:t,onMouseDown:a,onDoubleClick:p=>{c||(p.stopPropagation(),l&&l(p))},children:d?K.jsx("div",{className:"w-6 h-6 rotate-45 bg-bronze shadow-lg border border-white/20 hover:scale-110 transition-transform cursor-pointer"}):K.jsxs("div",{className:"w-full h-full relative",children:[K.jsxs("div",{className:Ji("w-full h-full rounded border overflow-hidden transition-shadow",!c&&"cursor-grab active:cursor-grabbing shadow-ingot hover:brightness-110 border-white/10",c?"bg-bronze/40 border-bronze/50 rounded-sm":""),style:c?{}:{background:`linear-gradient(90deg, #9A8C74 ${r.progress}%, #2A2E35 ${r.progress}%)`},children:[!c&&r.duration>2&&K.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-[10px] font-mono font-bold text-white mix-blend-difference pointer-events-none",children:[r.progress,"%"]}),c&&K.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-bronze/80"})]}),!c&&K.jsx("div",{"data-resize":"right",className:"absolute right-0 top-0 bottom-0 w-4 cursor-e-resize z-20 opacity-0 group-hover:opacity-100 hover:bg-white/10 transition-opacity"}),K.jsx("div",{className:Ji("absolute left-full ml-3 top-1/2 -translate-y-1/2 text-xs text-stone whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-30",c?"font-bold text-bronze":"font-bold"),children:r.name})]})})},xS=({tasks:r,viewMode:t,projectStartDate:i,onScroll:a,onTaskDragStart:l,onEditTask:c,scrollRef:d})=>{const p=Zt.useRef(null),y=t==="day"?60:t==="week"?40:t==="month"?15:5,_=56,S=t==="year"?365*5:365*2,w=S*y,x=Math.max(r.length*_+100,600),j=[],W=[];let nt=new Date(dl(i,-7)),J=null,ot=0,ft=null,dt=0;for(let A=0;A<S;A++){const b=new Date(nt),R=A*y;let O="";if(t==="year"?O=b.getFullYear().toString():O=b.toLocaleString("default",{month:"long",year:"numeric"}),O!==J&&(J&&j.push({label:J,left:ot,width:R-ot}),J=O,ot=R),t==="year"){const D=b.toLocaleString("default",{month:"short"});D!==ft&&(ft&&W.push({label:ft,left:dt,width:R-dt,isYearView:!0}),ft=D,dt=R)}else W.push({label:b.getDate(),subLabel:b.toLocaleString("default",{weekday:"narrow"}),left:R,width:y,isWeekend:b.getDay()===0||b.getDay()===6,isYearView:!1});nt.setDate(nt.getDate()+1)}j.push({label:J,left:ot,width:S*y-ot}),t==="year"&&ft&&W.push({label:ft,left:dt,width:S*y-dt,isYearView:!0});const zt=A=>{p.current&&(p.current.scrollLeft=A.target.scrollLeft),a&&a(A)},Ht=(A,b)=>{const O=Math.round((new Date(A.startDate)-new Date(dl(i,-7)))/864e5)*y,D=A.duration*y,V=b*_+12,I=_-24;return{left:`${O}px`,top:`${V}px`,width:`${Math.max(D,2)}px`,height:`${I}px`}},Ct=()=>{const A=[];return r.forEach((b,R)=>{if(!b.dependencies||b.dependencies.length===0)return;const O=Math.round((new Date(b.startDate)-new Date(dl(i,-7)))/(1e3*60*60*24))*y,D=R*_+_/2+12;b.dependencies.forEach(V=>{const I=r.find(Lt=>Lt.id===V),Yt=r.findIndex(Lt=>Lt.id===V);if(!I||Yt===-1)return;const G=(Math.round((new Date(I.startDate)-new Date(dl(i,-7)))/(1e3*60*60*24))+I.duration)*y,rt=Yt*_+_/2+12,lt=Math.abs(O-G)*.5,Dt=`M ${G} ${rt} C ${G+lt} ${rt}, ${O-lt} ${D}, ${O} ${D}`;A.push(K.jsx("path",{d:Dt,stroke:"#5C5242",strokeWidth:"1.5",fill:"none",className:"opacity-60",markerEnd:"url(#arrowhead)"},`${V}-${b.id}`))})}),A};return K.jsxs("div",{className:"flex-1 flex flex-col relative bg-midnight overflow-hidden h-full",children:[K.jsxs("div",{className:"h-[60px] bg-void/90 border-b border-border flex-shrink-0 relative overflow-hidden z-20 shadow-sm",ref:p,children:[K.jsx("div",{className:"h-[30px] border-b border-border/30 flex relative min-w-max",children:j.map((A,b)=>K.jsx("div",{className:"h-full border-r border-border/30 flex items-center bg-void/90 overflow-hidden",style:{width:A.width},children:K.jsx("span",{className:"sticky left-0 px-4 text-xs font-header text-bronze tracking-widest uppercase whitespace-nowrap",children:A.label})},b))}),K.jsx("div",{className:"h-[30px] w-[max-content] relative",children:W.map((A,b)=>K.jsx("div",{className:`absolute top-0 h-full border-r border-border/30 flex flex-col justify-center items-center text-[10px] select-none ${!A.isYearView&&A.isWeekend?"bg-white/5":""} ${A.isYearView?"bg-void/50":""}`,style:{left:A.left,width:A.width},children:A.isYearView?K.jsx("span",{className:"text-stone font-bold tracking-wider",children:A.label}):K.jsxs(K.Fragment,{children:[K.jsx("span",{className:"text-gray-500",children:A.subLabel}),K.jsx("span",{className:"text-stone font-bold",children:A.label})]})},b))})]}),K.jsx("div",{className:"flex-1 overflow-auto relative bg-grid-pattern bg-[length:40px_40px]",onScroll:zt,ref:d,children:K.jsxs("div",{style:{width:w,height:x},className:"relative",children:[K.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-10 overflow-visible",children:[K.jsx("defs",{children:K.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:K.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#5C5242"})})}),Ct()]}),r.map((A,b)=>{const R=A.childIds&&A.childIds.length>0;return K.jsx(VS,{task:A,style:Ht(A,b),isSummary:R,onMouseDown:O=>{R||l(O,A)},onDoubleClick:()=>c(A)},A.id)})]})})]})},kS=({task:r,onClose:t,onSave:i})=>{const[a,l]=Zt.useState({...r});return K.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:K.jsxs("div",{className:"w-[400px] bg-panel border border-bronze/50 shadow-2xl rounded-lg overflow-hidden",children:[K.jsxs("div",{className:"h-12 bg-void/50 border-b border-border flex items-center justify-between px-4",children:[K.jsx("h2",{className:"font-header text-bronze tracking-wide",children:r.category==="phase"?"Edit Phase":"Edit Task"}),K.jsx("button",{onClick:t,className:"text-stone hover:text-white",children:K.jsx(DS,{size:18})})]}),K.jsxs("div",{className:"p-6 space-y-4 font-mono text-sm",children:[K.jsxs("div",{className:"space-y-1",children:[K.jsx("label",{className:"text-gray-500 uppercase text-[10px] tracking-wider",children:"Phase Name"}),K.jsx("input",{type:"text",value:a.name,onChange:c=>l({...a,name:c.target.value}),className:"w-full bg-midnight border border-border px-3 py-2 text-stone focus:border-bronze outline-none rounded"})]}),K.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[K.jsxs("div",{className:"space-y-1",children:[K.jsx("label",{className:"text-gray-500 uppercase text-[10px] tracking-wider",children:"Start Date"}),K.jsx("input",{type:"date",min:"2000-01-01",max:"2100-12-31",value:a.startDate?a.startDate.split("T")[0]:"",onChange:c=>l({...a,startDate:new Date(c.target.value).toISOString()}),className:"w-full bg-midnight border border-border px-3 py-2 text-stone focus:border-bronze outline-none rounded text-xs"})]}),K.jsxs("div",{className:"space-y-1",children:[K.jsx("label",{className:"text-gray-500 uppercase text-[10px] tracking-wider",children:"Duration (Days)"}),K.jsx("input",{type:"number",value:a.duration,onChange:c=>l({...a,duration:parseInt(c.target.value)}),className:"w-full bg-midnight border border-border px-3 py-2 text-stone focus:border-bronze outline-none rounded"})]}),K.jsxs("div",{className:"space-y-1",children:[K.jsx("label",{className:"text-gray-500 uppercase text-[10px] tracking-wider",children:"Progress (%)"}),K.jsx("input",{type:"number",min:"0",max:"100",value:a.progress,onChange:c=>l({...a,progress:parseInt(c.target.value)}),className:"w-full bg-midnight border border-border px-3 py-2 text-stone focus:border-bronze outline-none rounded"})]})]}),K.jsxs("div",{className:"space-y-1",children:[K.jsx("label",{className:"text-gray-500 uppercase text-[10px] tracking-wider",children:"Depends On (IDs, comma sep)"}),K.jsx("input",{type:"text",placeholder:"e.g. t1, t2",value:a.dependencies?a.dependencies.join(", "):"",onChange:c=>{const p=c.target.value.split(",").map(y=>y.trim()).filter(Boolean);l({...a,dependencies:p})},className:"w-full bg-midnight border border-border px-3 py-2 text-stone focus:border-bronze outline-none rounded font-mono text-xs"})]})]}),K.jsxs("div",{className:"p-4 border-t border-border bg-void/30 flex justify-between gap-2",children:[K.jsx("button",{onClick:()=>{t(),i(null,!0)},className:"px-4 py-2 hover:bg-red-500/10 text-red-400 border border-red-500/20 rounded transition-colors text-xs font-bold",children:"DELETE"}),K.jsxs("div",{className:"flex gap-2",children:[K.jsx("button",{onClick:t,className:"px-4 py-2 hover:bg-white/5 rounded text-stone transition-colors",children:"Cancel"}),K.jsx("button",{onClick:()=>{const d=new Date(a.startDate).getFullYear();if(isNaN(d)||d<2e3||d>2100){alert("Please enter a valid year between 2000 and 2100.");return}if(a.duration<1){alert("Duration must be at least 1 day.");return}i(a)},className:"px-4 py-2 bg-bronze hover:bg-bronzeDark text-midnight font-bold rounded font-header tracking-wide transition-colors",children:"Confirm Updates"})]})]})]})})},Ad=[{id:"Phase1",name:"Phase 1",startDate:"2021-01-19",duration:1,progress:0,type:"task",dependencies:[],parentId:null},{id:"1",name:"Approved Inspection",startDate:"2021-01-19",duration:29,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"1.1",name:"Revise Plans",startDate:"2021-01-19",duration:9,progress:0,type:"task",dependencies:[],parentId:"1"},{id:"1.2",name:"Get Plan Check",startDate:"2021-01-29",duration:13,progress:0,type:"task",dependencies:[],parentId:"1"},{id:"1.3",name:"Confirm Remaining Items",startDate:"2021-02-12",duration:3,progress:0,type:"task",dependencies:[],parentId:"1"},{id:"1.4",name:"Inspection 1",startDate:"2021-02-16",duration:1,progress:0,type:"task",dependencies:[],parentId:"1"},{id:"1.5",name:"Inspection 2",startDate:"2021-05-01",duration:1,progress:0,type:"task",dependencies:[],parentId:"1"},{id:"2",name:"Clear-down",startDate:"2021-01-19",duration:51,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"2.1",name:"Ebay items",startDate:"2021-01-19",duration:29,progress:0,type:"task",dependencies:[],parentId:"2"},{id:"2.2",name:"Assemble rubbish",startDate:"2021-01-24",duration:6,progress:0,type:"task",dependencies:[],parentId:"2"},{id:"2.3",name:"Skip",startDate:"2021-01-31",duration:1,progress:0,type:"task",dependencies:[],parentId:"2"},{id:"2.4",name:"Remove rubbish zone",startDate:"2021-02-01",duration:6,progress:0,type:"task",dependencies:[],parentId:"2"},{id:"2.5",name:"Move other things to storage",startDate:"2021-02-08",duration:6,progress:0,type:"task",dependencies:[],parentId:"2"},{id:"3",name:"Fire Hardware",startDate:"2021-02-08",duration:63,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"3.1",name:"Build wall L02",startDate:"2021-02-08",duration:6,progress:0,type:"task",dependencies:[],parentId:"3"},{id:"3.2",name:"Hang fire door L01",startDate:"2021-02-15",duration:6,progress:0,type:"task",dependencies:[],parentId:"3"},{id:"3.3",name:"Fit hardware to fire doors",startDate:"2021-02-22",duration:13,progress:0,type:"task",dependencies:[],parentId:"3"},{id:"3.4",name:"Wall/ceiling linings",startDate:"2021-03-08",duration:14,progress:0,type:"task",dependencies:[],parentId:"3"},{id:"3.5",name:"Boxing in services",startDate:"2021-03-23",duration:20,progress:0,type:"task",dependencies:[],parentId:"3"},{id:"4",name:"Sprinklers",startDate:"2021-04-13",duration:38,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"4.1",name:"Pipework",startDate:"2021-04-13",duration:13,progress:0,type:"task",dependencies:[],parentId:"4"},{id:"4.2",name:"Pressure Test",startDate:"2021-04-27",duration:3,progress:0,type:"task",dependencies:[],parentId:"4"},{id:"4.3",name:"Fix sprinkler heads",startDate:"2021-05-01",duration:6,progress:0,type:"task",dependencies:[],parentId:"4"},{id:"4.4",name:"Connect supply",startDate:"2021-05-08",duration:6,progress:0,type:"task",dependencies:[],parentId:"4"},{id:"4.5",name:"Commission",startDate:"2021-05-15",duration:6,progress:0,type:"task",dependencies:[],parentId:"4"},{id:"5",name:"Fire Alarm",startDate:"2021-01-19",duration:22,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"5.1",name:"Complete wiring",startDate:"2021-01-19",duration:4,progress:0,type:"task",dependencies:[],parentId:"5"},{id:"5.2",name:"Wire up",startDate:"2021-01-24",duration:2,progress:0,type:"task",dependencies:[],parentId:"5"},{id:"5.3",name:"(plastering a pre-requisite)",startDate:"2021-01-27",duration:3,progress:0,type:"task",dependencies:[],parentId:"5"},{id:"6",name:"Hot water",startDate:"2021-01-19",duration:62,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"6.1",name:"Discharge Pipework /Other",startDate:"2021-01-19",duration:13,progress:0,type:"task",dependencies:[],parentId:"6"},{id:"6.2",name:"Tradesman pause",startDate:"2021-02-02",duration:32,progress:0,type:"task",dependencies:[],parentId:"6"},{id:"6.3",name:"Boiler & cylinder install",startDate:"2021-03-07",duration:6,progress:0,type:"task",dependencies:[],parentId:"6"},{id:"6.4",name:"pressure testing/commis",startDate:"2021-03-14",duration:1,progress:0,type:"task",dependencies:[],parentId:"6"},{id:"6.5",name:"flue to roof incl. cowl",startDate:"2021-03-01",duration:6,progress:0,type:"task",dependencies:[],parentId:"6"},{id:"7",name:"UFH",startDate:"2021-02-02",duration:34,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"7.1",name:"Manifold install",startDate:"2021-02-02",duration:6,progress:0,type:"task",dependencies:[],parentId:"7"},{id:"7.2",name:"Complete piping",startDate:"2021-02-09",duration:6,progress:0,type:"task",dependencies:[],parentId:"7"},{id:"7.3",name:"Repair damaged pipework",startDate:"2021-02-16",duration:6,progress:0,type:"task",dependencies:[],parentId:"7"},{id:"7.4",name:"Connect supply",startDate:"2021-02-23",duration:6,progress:0,type:"task",dependencies:[],parentId:"7"},{id:"7.5",name:"Wiring",startDate:"2021-03-02",duration:6,progress:0,type:"task",dependencies:[],parentId:"7"},{id:"8",name:"Envelope",startDate:"2021-05-22",duration:23,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"8.1",name:"Re-gutter roof",startDate:"2021-05-22",duration:6,progress:0,type:"task",dependencies:[],parentId:"8"},{id:"8.2",name:"Weld window L01",startDate:"2021-05-29",duration:1,progress:0,type:"task",dependencies:[],parentId:"8"},{id:"8.3",name:"Front door openable - lock",startDate:"2021-05-31",duration:9,progress:0,type:"task",dependencies:[],parentId:"8"},{id:"8.4",name:"cowls for vents",startDate:"2021-06-10",duration:4,progress:0,type:"task",dependencies:[],parentId:"8"},{id:"9",name:"Temporary Making Good",startDate:"2021-06-15",duration:20,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"9.1",name:"Floor paint to L04",startDate:"2021-06-15",duration:6,progress:0,type:"task",dependencies:[],parentId:"9"},{id:"9.2",name:"Boxing in services",startDate:"2021-06-22",duration:13,progress:0,type:"task",dependencies:[],parentId:"9"},{id:"10",name:"Lighting",startDate:"2021-07-06",duration:62,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"10.1",name:"Design / Schedule",startDate:"2021-07-06",duration:6,progress:0,type:"task",dependencies:[],parentId:"10"},{id:"10.2",name:"Digidim/DALI",startDate:"2021-07-13",duration:6,progress:0,type:"task",dependencies:[],parentId:"10"},{id:"10.3",name:"Fittings",startDate:"2021-07-20",duration:20,progress:0,type:"task",dependencies:[],parentId:"10"},{id:"10.4",name:"Switches",startDate:"2021-08-10",duration:13,progress:0,type:"task",dependencies:[],parentId:"10"},{id:"10.5",name:"Making good",startDate:"2021-08-24",duration:13,progress:0,type:"task",dependencies:[],parentId:"10"},{id:"11",name:"Kitchen",startDate:"2021-09-07",duration:62,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"11.1",name:"Carcassing",startDate:"2021-09-07",duration:13,progress:0,type:"task",dependencies:[],parentId:"11"},{id:"11.2",name:"Doors",startDate:"2021-09-21",duration:13,progress:0,type:"task",dependencies:[],parentId:"11"},{id:"11.3",name:"Appliances",startDate:"2021-10-05",duration:6,progress:0,type:"task",dependencies:[],parentId:"11"},{id:"11.4",name:"Electrics",startDate:"2021-10-12",duration:13,progress:0,type:"task",dependencies:[],parentId:"11"},{id:"11.5",name:"Making good",startDate:"2021-10-26",duration:13,progress:0,type:"task",dependencies:[],parentId:"11"},{id:"12",name:"Showerroom",startDate:"2021-11-08",duration:55,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"12.1",name:"Tiling",startDate:"2021-11-08",duration:6,progress:0,type:"task",dependencies:[],parentId:"12"},{id:"12.2",name:"Shower screen",startDate:"2021-11-15",duration:6,progress:0,type:"task",dependencies:[],parentId:"12"},{id:"12.3",name:"Plastering",startDate:"2021-11-22",duration:13,progress:0,type:"task",dependencies:[],parentId:"12"},{id:"12.4",name:"Lighting",startDate:"2021-12-06",duration:6,progress:0,type:"task",dependencies:[],parentId:"12"},{id:"12.5",name:"Making good",startDate:"2021-12-13",duration:20,progress:0,type:"task",dependencies:[],parentId:"12"}],US=()=>{};var w_={};const n0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},LS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},i0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,S=c>>2,w=(c&3)<<4|p>>4;let x=(p&15)<<2|_>>6,j=_&63;y||(j=64,d||(x=64)),a.push(i[S],i[w],i[x],i[j])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(n0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):LS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||w==null)throw new PS;const x=c<<2|p>>4;if(a.push(x),_!==64){const j=p<<4&240|_>>2;if(a.push(j),w!==64){const W=_<<6&192|w;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class PS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zS=function(r){const t=n0(r);return i0.encodeByteArray(t,!0)},xc=function(r){return zS(r).replace(/\./g,"")},r0=function(r){try{return i0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function jS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const BS=()=>jS().__FIREBASE_DEFAULTS__,qS=()=>{if(typeof process>"u"||typeof w_>"u")return;const r=w_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},HS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&r0(r[1]);return t&&JSON.parse(t)},eh=()=>{try{return US()||BS()||qS()||HS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},s0=r=>eh()?.emulatorHosts?.[r],GS=r=>{const t=s0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},a0=()=>eh()?.config,o0=r=>eh()?.[`_${r}`];class FS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function to(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function l0(r){return(await fetch(r,{credentials:"include"})).ok}function QS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[xc(JSON.stringify(i)),xc(JSON.stringify(d)),""].join(".")}const _l={};function YS(){const r={prod:[],emulator:[]};for(const t of Object.keys(_l))_l[t]?r.emulator.push(t):r.prod.push(t);return r}function KS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let R_=!1;function u0(r,t){if(typeof window>"u"||typeof document>"u"||!to(window.location.host)||_l[r]===t||_l[r]||R_)return;_l[r]=t;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",c=YS().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,j){x.setAttribute("width","24"),x.setAttribute("id",j),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{R_=!0,d()},x}function S(x,j){x.setAttribute("id",j),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function w(){const x=KS(a),j=i("text"),W=document.getElementById(j)||document.createElement("span"),nt=i("learnmore"),J=document.getElementById(nt)||document.createElement("a"),ot=i("preprendIcon"),ft=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const dt=x.element;p(dt),S(J,nt);const zt=_();y(ft,ot),dt.append(ft,W,J,zt),document.body.appendChild(dt)}c?(W.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function $S(){const r=eh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function WS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tb(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function eb(){return!$S()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nb(){try{return typeof indexedDB=="object"}catch{return!1}}function ib(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const rb="FirebaseError";class or extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=rb,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vl.prototype.create)}}class Vl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?sb(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new or(l,p,a)}}function sb(r,t){return r.replace(ab,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const ab=/\{\$([^}]+)}/g;function ob(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function zs(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(I_(c)&&I_(d)){if(!zs(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function I_(r){return r!==null&&typeof r=="object"}function xl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function lb(r,t){const i=new ub(r,t);return i.subscribe.bind(i)}class ub{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");cb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=wd),l.error===void 0&&(l.error=wd),l.complete===void 0&&(l.complete=wd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cb(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function wd(){}function Pn(r){return r&&r._delegate?r._delegate:r}class js{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ks="[DEFAULT]";class hb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new FS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(db(t))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=ks){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ks){return this.instances.has(t)}getOptions(t=ks){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:fb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=ks){return this.component?this.component.multipleInstances?t:ks:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fb(r){return r===ks?void 0:r}function db(r){return r.instantiationMode==="EAGER"}class mb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new hb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var xt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xt||(xt={}));const pb={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},gb=xt.INFO,yb={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},_b=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=yb[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class lm{constructor(t){this.name=t,this._logLevel=gb,this._logHandler=_b,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?pb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const vb=(r,t)=>t.some(i=>r instanceof i);let C_,D_;function Eb(){return C_||(C_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tb(){return D_||(D_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c0=new WeakMap,Ld=new WeakMap,h0=new WeakMap,Rd=new WeakMap,um=new WeakMap;function Sb(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Yr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&c0.set(i,r)}).catch(()=>{}),um.set(t,r),t}function bb(r){if(Ld.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Ld.set(r,t)}let Pd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Ld.get(r);if(t==="objectStoreNames")return r.objectStoreNames||h0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Yr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Ab(r){Pd=r(Pd)}function wb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Id(this),t,...i);return h0.set(a,t.sort?t.sort():[t]),Yr(a)}:Tb().includes(r)?function(...t){return r.apply(Id(this),t),Yr(c0.get(this))}:function(...t){return Yr(r.apply(Id(this),t))}}function Rb(r){return typeof r=="function"?wb(r):(r instanceof IDBTransaction&&bb(r),vb(r,Eb())?new Proxy(r,Pd):r)}function Yr(r){if(r instanceof IDBRequest)return Sb(r);if(Rd.has(r))return Rd.get(r);const t=Rb(r);return t!==r&&(Rd.set(r,t),um.set(t,r)),t}const Id=r=>um.get(r);function Ib(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Yr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Yr(d.result),y.oldVersion,y.newVersion,Yr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const Cb=["get","getKey","getAll","getAllKeys","count"],Db=["put","add","delete","clear"],Cd=new Map;function N_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Cd.get(t))return Cd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=Db.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||Cb.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Cd.set(t,c),c}Ab(r=>({...r,get:(t,i,a)=>N_(t,i)||r.get(t,i,a),has:(t,i)=>!!N_(t,i)||r.has(t,i)}));class Nb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Ob(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Ob(r){return r.getComponent()?.type==="VERSION"}const zd="@firebase/app",O_="0.14.6";const nr=new lm("@firebase/app"),Mb="@firebase/app-compat",Vb="@firebase/analytics-compat",xb="@firebase/analytics",kb="@firebase/app-check-compat",Ub="@firebase/app-check",Lb="@firebase/auth",Pb="@firebase/auth-compat",zb="@firebase/database",jb="@firebase/data-connect",Bb="@firebase/database-compat",qb="@firebase/functions",Hb="@firebase/functions-compat",Gb="@firebase/installations",Fb="@firebase/installations-compat",Qb="@firebase/messaging",Yb="@firebase/messaging-compat",Kb="@firebase/performance",Xb="@firebase/performance-compat",$b="@firebase/remote-config",Zb="@firebase/remote-config-compat",Jb="@firebase/storage",Wb="@firebase/storage-compat",tA="@firebase/firestore",eA="@firebase/ai",nA="@firebase/firestore-compat",iA="firebase",rA="12.6.0";const jd="[DEFAULT]",sA={[zd]:"fire-core",[Mb]:"fire-core-compat",[xb]:"fire-analytics",[Vb]:"fire-analytics-compat",[Ub]:"fire-app-check",[kb]:"fire-app-check-compat",[Lb]:"fire-auth",[Pb]:"fire-auth-compat",[zb]:"fire-rtdb",[jb]:"fire-data-connect",[Bb]:"fire-rtdb-compat",[qb]:"fire-fn",[Hb]:"fire-fn-compat",[Gb]:"fire-iid",[Fb]:"fire-iid-compat",[Qb]:"fire-fcm",[Yb]:"fire-fcm-compat",[Kb]:"fire-perf",[Xb]:"fire-perf-compat",[$b]:"fire-rc",[Zb]:"fire-rc-compat",[Jb]:"fire-gcs",[Wb]:"fire-gcs-compat",[tA]:"fire-fst",[nA]:"fire-fst-compat",[eA]:"fire-vertex","fire-js":"fire-js",[iA]:"fire-js-all"};const kc=new Map,aA=new Map,Bd=new Map;function M_(r,t){try{r.container.addComponent(t)}catch(i){nr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Qa(r){const t=r.name;if(Bd.has(t))return nr.debug(`There were multiple attempts to register component ${t}.`),!1;Bd.set(t,r);for(const i of kc.values())M_(i,r);for(const i of aA.values())M_(i,r);return!0}function cm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Zn(r){return r==null?!1:r.settings!==void 0}const oA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new Vl("app","Firebase",oA);class lA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}const eo=rA;function f0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:jd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Kr.create("bad-app-name",{appName:String(l)});if(i||(i=a0()),!i)throw Kr.create("no-options");const c=kc.get(l);if(c){if(zs(i,c.options)&&zs(a,c.config))return c;throw Kr.create("duplicate-app",{appName:l})}const d=new mb(l);for(const y of Bd.values())d.addComponent(y);const p=new lA(i,a,d);return kc.set(l,p),p}function d0(r=jd){const t=kc.get(r);if(!t&&r===jd&&a0())return f0();if(!t)throw Kr.create("no-app",{appName:r});return t}function Xr(r,t,i){let a=sA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),nr.warn(d.join(" "));return}Qa(new js(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const uA="firebase-heartbeat-database",cA=1,Al="firebase-heartbeat-store";let Dd=null;function m0(){return Dd||(Dd=Ib(uA,cA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Al)}catch(i){console.warn(i)}}}}).catch(r=>{throw Kr.create("idb-open",{originalErrorMessage:r.message})})),Dd}async function hA(r){try{const i=(await m0()).transaction(Al),a=await i.objectStore(Al).get(p0(r));return await i.done,a}catch(t){if(t instanceof or)nr.warn(t.message);else{const i=Kr.create("idb-get",{originalErrorMessage:t?.message});nr.warn(i.message)}}}async function V_(r,t){try{const a=(await m0()).transaction(Al,"readwrite");await a.objectStore(Al).put(t,p0(r)),await a.done}catch(i){if(i instanceof or)nr.warn(i.message);else{const a=Kr.create("idb-set",{originalErrorMessage:i?.message});nr.warn(a.message)}}}function p0(r){return`${r.name}!${r.options.appId}`}const fA=1024,dA=30;class mA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new gA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=x_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>dA){const l=yA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){nr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=x_(),{heartbeatsToSend:i,unsentEntries:a}=pA(this._heartbeatsCache.heartbeats),l=xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return nr.warn(t),""}}}function x_(){return new Date().toISOString().substring(0,10)}function pA(r,t=fA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),k_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),k_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class gA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nb()?ib().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await hA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return V_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return V_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function k_(r){return xc(JSON.stringify({version:2,heartbeats:r})).length}function yA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function _A(r){Qa(new js("platform-logger",t=>new Nb(t),"PRIVATE")),Qa(new js("heartbeat",t=>new mA(t),"PRIVATE")),Xr(zd,O_,r),Xr(zd,O_,"esm2020"),Xr("fire-js","")}_A("");var vA="firebase",EA="12.7.0";Xr(vA,EA,"app");function g0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TA=g0,y0=new Vl("auth","Firebase",g0());const Uc=new lm("@firebase/auth");function SA(r,...t){Uc.logLevel<=xt.WARN&&Uc.warn(`Auth (${eo}): ${r}`,...t)}function Ac(r,...t){Uc.logLevel<=xt.ERROR&&Uc.error(`Auth (${eo}): ${r}`,...t)}function ir(r,...t){throw hm(r,...t)}function wi(r,...t){return hm(r,...t)}function _0(r,t,i){const a={...TA(),[t]:i};return new Vl("auth","Firebase",a).create(t,{appName:r.name})}function $r(r){return _0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return y0.create(r,...t)}function Tt(r,t,...i){if(!r)throw hm(t,...i)}function Wi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Ac(t),new Error(t)}function rr(r,t){r||Wi(t)}function qd(){return typeof self<"u"&&self.location?.href||""}function bA(){return U_()==="http:"||U_()==="https:"}function U_(){return typeof self<"u"&&self.location?.protocol||null}function AA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bA()||JS()||"connection"in navigator)?navigator.onLine:!0}function wA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class kl{constructor(t,i){this.shortDelay=t,this.longDelay=i,rr(i>t,"Short delay should be less than long delay!"),this.isMobile=XS()||WS()}get(){return AA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fm(r,t){rr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class v0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const IA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CA=new kl(3e4,6e4);function nh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function no(r,t,i,a,l={}){return E0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=xl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return ZS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&to(r.emulatorConfig.host)&&(_.credentials="include"),v0.fetch()(await S0(r,r.config.apiHost,i,p),_)})}async function E0(r,t,i){r._canInitEmulator=!1;const a={...RA,...t};try{const l=new DA(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw _c(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw _c(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw _c(r,"user-disabled",d);const S=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw _0(r,S,_);ir(r,S)}}catch(l){if(l instanceof or)throw l;ir(r,"network-request-failed",{message:String(l)})}}async function T0(r,t,i,a,l={}){const c=await no(r,t,i,a,l);return"mfaPendingCredential"in c&&ir(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function S0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?fm(r.config,l):`${r.config.apiScheme}://${l}`;return IA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class DA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(wi(this.auth,"network-request-failed")),CA.get())})}}function _c(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=wi(r,t,a);return l.customData._tokenResponse=i,l}async function NA(r,t){return no(r,"POST","/v1/accounts:delete",t)}async function Lc(r,t){return no(r,"POST","/v1/accounts:lookup",t)}function vl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function OA(r,t=!1){const i=Pn(r),a=await i.getIdToken(t),l=dm(a);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:vl(Nd(l.auth_time)),issuedAtTime:vl(Nd(l.iat)),expirationTime:vl(Nd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Nd(r){return Number(r)*1e3}function dm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const l=r0(i);return l?JSON.parse(l):(Ac("Failed to decode base64 JWT payload"),null)}catch(l){return Ac("Caught error parsing JWT payload as JSON",l?.toString()),null}}function L_(r){const t=dm(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function wl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof or&&MA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function MA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class VA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Hd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Pc(r){const t=r.auth,i=await r.getIdToken(),a=await wl(r,Lc(t,{idToken:i}));Tt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?b0(l.providerUserInfo):[],d=kA(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Hd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,S)}async function xA(r){const t=Pn(r);await Pc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kA(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function b0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function UA(r,t){const i=await E0(r,{},async()=>{const a=xl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await S0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&to(r.emulatorConfig.host)&&(y.credentials="include"),v0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function LA(r,t){return no(r,"POST","/v2/accounts:revokeToken",nh(r,t))}class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):L_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=L_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await UA(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new ja;return a&&(Tt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Tt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function Br(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new VA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Hd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await wl(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return OA(this,t)}reload(){return xA(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Pc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject($r(this.auth));const t=await this.getIdToken();return await wl(this,NA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:w,emailVerified:x,isAnonymous:j,providerData:W,stsTokenManager:nt}=i;Tt(w&&nt,t,"internal-error");const J=ja.fromJSON(this.name,nt);Tt(typeof w=="string",t,"internal-error"),Br(a,t.name),Br(l,t.name),Tt(typeof x=="boolean",t,"internal-error"),Tt(typeof j=="boolean",t,"internal-error"),Br(c,t.name),Br(d,t.name),Br(p,t.name),Br(y,t.name),Br(_,t.name),Br(S,t.name);const ot=new Jn({uid:w,auth:t,email:l,emailVerified:x,displayName:a,isAnonymous:j,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:_,lastLoginAt:S});return W&&Array.isArray(W)&&(ot.providerData=W.map(ft=>({...ft}))),y&&(ot._redirectEventId=y),ot}static async _fromIdTokenResponse(t,i,a=!1){const l=new ja;l.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Pc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?b0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new ja;p.updateFromIdToken(a);const y=new Jn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Hd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const P_=new Map;function tr(r){rr(r instanceof Function,"Expected a class definition");let t=P_.get(r);return t?(rr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,P_.set(r,t),t)}class A0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}A0.type="NONE";const z_=A0;function wc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ba{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=wc(this.userKey,l.apiKey,c),this.fullPersistenceKey=wc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Lc(this.auth,{idToken:t}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ba(tr(z_),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||tr(z_);const d=wc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const S=await _._get(d);if(S){let w;if(typeof S=="string"){const x=await Lc(t,{idToken:S}).catch(()=>{});if(!x)break;w=await Jn._fromGetAccountInfoResponse(t,x,S)}else w=Jn._fromJSON(t,S);_!==c&&(p=w),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ba(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ba(c,t,a))}}function j_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(C0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(w0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(N0(t))return"Blackberry";if(O0(t))return"Webos";if(R0(t))return"Safari";if((t.includes("chrome/")||I0(t))&&!t.includes("edge/"))return"Chrome";if(D0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function w0(r=We()){return/firefox\//i.test(r)}function R0(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function I0(r=We()){return/crios\//i.test(r)}function C0(r=We()){return/iemobile/i.test(r)}function D0(r=We()){return/android/i.test(r)}function N0(r=We()){return/blackberry/i.test(r)}function O0(r=We()){return/webos/i.test(r)}function mm(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function PA(r=We()){return mm(r)&&!!window.navigator?.standalone}function zA(){return tb()&&document.documentMode===10}function M0(r=We()){return mm(r)||D0(r)||O0(r)||N0(r)||/windows phone/i.test(r)||C0(r)}function V0(r,t=[]){let i;switch(r){case"Browser":i=j_(We());break;case"Worker":i=`${j_(We())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${eo}/${a}`}class jA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function BA(r,t={}){return no(r,"GET","/v2/passwordPolicy",nh(r,t))}const qA=6;class HA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??qA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class GA{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B_(this),this.idTokenSubscription=new B_(this),this.beforeStateQueue=new jA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=y0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=tr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ba.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Lc(this,{idToken:t}),a=await Jn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Pc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=wA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zn(this.app))return Promise.reject($r(this));const i=t?Pn(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zn(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await BA(this),i=new HA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Vl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await LA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&tr(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await Ba.create(this,[tr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=V0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&SA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ih(r){return Pn(r)}class B_{constructor(t){this.auth=t,this.observer=null,this.addObserver=lb(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FA(r){pm=r}function QA(r){return pm.loadJS(r)}function YA(){return pm.gapiScript}function KA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function XA(r,t){const i=cm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(zs(c,t??{}))return l;ir(l,"already-initialized")}return i.initialize({options:t})}function $A(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(tr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function ZA(r,t,i){const a=ih(r);Tt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=x0(t),{host:d,port:p}=JA(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Tt(zs(_,a.config.emulator)&&zs(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,to(d)?(l0(`${c}//${d}${y}`),u0("Auth",!0)):WA()}function x0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function JA(r){const t=x0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:q_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:q_(d)}}}function q_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function WA(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class k0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Wi("not implemented")}_getIdTokenResponse(t){return Wi("not implemented")}_linkToIdToken(t,i){return Wi("not implemented")}_getReauthenticationResolver(t){return Wi("not implemented")}}async function qa(r,t){return T0(r,"POST","/v1/accounts:signInWithIdp",nh(r,t))}const tw="http://localhost";class Bs extends k0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Bs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ir("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Bs(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return qa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,qa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,qa(t,i)}buildRequest(){const t={requestUri:tw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=xl(i)}return t}}class U0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ul extends U0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qr extends Ul{constructor(){super("facebook.com")}static credential(t){return Bs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";class Hr extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Bs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Hr.credential(i,a)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";class Gr extends Ul{constructor(){super("github.com")}static credential(t){return Bs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gr.credential(t.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";class Fr extends Ul{constructor(){super("twitter.com")}static credential(t,i){return Bs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Fr.credential(i,a)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";async function ew(r,t){return T0(r,"POST","/v1/accounts:signUp",nh(r,t))}class Jr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Jn._fromIdTokenResponse(t,a,l),d=H_(a);return new Jr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=H_(a);return new Jr({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function H_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function nw(r){if(Zn(r.app))return Promise.reject($r(r));const t=ih(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Jr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await ew(t,{returnSecureToken:!0}),a=await Jr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class zc extends or{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new zc(t,i,a,l)}}function L0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(r,c,t,a):c})}async function iw(r,t,i=!1){const a=await wl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Jr._forOperation(r,"link",a)}async function rw(r,t,i=!1){const{auth:a}=r;if(Zn(a.app))return Promise.reject($r(a));const l="reauthenticate";try{const c=await wl(r,L0(a,l,t,r),i);Tt(c.idToken,a,"internal-error");const d=dm(c.idToken);Tt(d,a,"internal-error");const{sub:p}=d;return Tt(r.uid===p,a,"user-mismatch"),Jr._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ir(a,"user-mismatch"),c}}async function sw(r,t,i=!1){if(Zn(r.app))return Promise.reject($r(r));const a="signIn",l=await L0(r,a,t),c=await Jr._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function aw(r,t,i,a){return Pn(r).onIdTokenChanged(t,i,a)}function ow(r,t,i){return Pn(r).beforeAuthStateChanged(t,i)}function lw(r,t,i,a){return Pn(r).onAuthStateChanged(t,i,a)}const jc="__sak";class P0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(jc,"1"),this.storage.removeItem(jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const uw=1e3,cw=10;class z0 extends P0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);zA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,cw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},uw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}z0.type="LOCAL";const hw=z0;class j0 extends P0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}j0.type="SESSION";const B0=j0;function fw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class rh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new rh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await fw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rh.receivers=[];function gm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class dw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=gm("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const x=w;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(S),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ri(){return window}function mw(r){Ri().location.href=r}function q0(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function pw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gw(){return navigator?.serviceWorker?.controller||null}function yw(){return q0()?self:null}const H0="firebaseLocalStorageDb",_w=1,Bc="firebaseLocalStorage",G0="fbase_key";class Ll{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function sh(r,t){return r.transaction([Bc],t?"readwrite":"readonly").objectStore(Bc)}function vw(){const r=indexedDB.deleteDatabase(H0);return new Ll(r).toPromise()}function Gd(){const r=indexedDB.open(H0,_w);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Bc,{keyPath:G0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Bc)?t(a):(a.close(),await vw(),t(await Gd()))})})}async function G_(r,t,i){const a=sh(r,!0).put({[G0]:t,value:i});return new Ll(a).toPromise()}async function Ew(r,t){const i=sh(r,!1).get(t),a=await new Ll(i).toPromise();return a===void 0?null:a.value}function F_(r,t){const i=sh(r,!0).delete(t);return new Ll(i).toPromise()}const Tw=800,Sw=3;class F0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Sw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return q0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rh._getInstance(yw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pw(),!this.activeServiceWorker)return;this.sender=new dw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||gw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Gd();return await G_(t,jc,"1"),await F_(t,jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>G_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Ew(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>F_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=sh(l,!1).getAll();return new Ll(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Tw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F0.type="LOCAL";const bw=F0;new kl(3e4,6e4);function Aw(r,t){return t?tr(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ym extends k0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return qa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return qa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function ww(r){return sw(r.auth,new ym(r),r.bypassAuthState)}function Rw(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),rw(i,new ym(r),r.bypassAuthState)}async function Iw(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),iw(i,new ym(r),r.bypassAuthState)}class Q0{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ww;case"linkViaPopup":case"linkViaRedirect":return Iw;case"reauthViaPopup":case"reauthViaRedirect":return Rw;default:ir(this.auth,"internal-error")}}resolve(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cw=new kl(2e3,1e4);class za extends Q0{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,za.currentPopupAction&&za.currentPopupAction.cancel(),za.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const t=gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,za.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Cw.get())};t()}}za.currentPopupAction=null;const Dw="pendingRedirect",Rc=new Map;class Nw extends Q0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Rc.get(this.auth._key());if(!t){try{const a=await Ow(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Rc.set(this.auth._key(),t)}return this.bypassAuthState||Rc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ow(r,t){const i=xw(t),a=Vw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Mw(r,t){Rc.set(r._key(),t)}function Vw(r){return tr(r._redirectPersistence)}function xw(r){return wc(Dw,r.config.apiKey,r.name)}async function kw(r,t,i=!1){if(Zn(r.app))return Promise.reject($r(r));const a=ih(r),l=Aw(a,t),d=await new Nw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Uw=600*1e3;class Lw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Pw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!Y0(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(wi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Uw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q_(t))}saveEventToCache(t){this.cachedEventUids.add(Q_(t)),this.lastProcessedEventTime=Date.now()}}function Q_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function Y0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Pw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y0(r);default:return!1}}async function zw(r,t={}){return no(r,"GET","/v1/projects",t)}const jw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bw=/^https?/;async function qw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await zw(r);for(const i of t)try{if(Hw(i))return}catch{}ir(r,"unauthorized-domain")}function Hw(r){const t=qd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Bw.test(i))return!1;if(jw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Gw=new kl(3e4,6e4);function Y_(){const r=Ri().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Fw(r){return new Promise((t,i)=>{function a(){Y_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Y_(),i(wi(r,"network-request-failed"))},timeout:Gw.get()})}if(Ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ri().gapi?.load)a();else{const l=KA("iframefcb");return Ri()[l]=()=>{gapi.load?a():i(wi(r,"network-request-failed"))},QA(`${YA()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Ic=null,t})}let Ic=null;function Qw(r){return Ic=Ic||Fw(r),Ic}const Yw=new kl(5e3,15e3),Kw="__/auth/iframe",Xw="emulator/auth/iframe",$w={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jw(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?fm(t,Xw):`https://${r.config.authDomain}/${Kw}`,a={apiKey:t.apiKey,appName:r.name,v:eo},l=Zw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${xl(a).slice(1)}`}async function Ww(r){const t=await Qw(r),i=Ri().gapi;return Tt(i,r,"internal-error"),t.open({where:document.body,url:Jw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$w,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=wi(r,"network-request-failed"),p=Ri().setTimeout(()=>{c(d)},Yw.get());function y(){Ri().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const t2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e2=500,n2=600,i2="_blank",r2="http://localhost";class K_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s2(r,t,i,a=e2,l=n2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...t2,width:a.toString(),height:l.toString(),top:c,left:d},_=We().toLowerCase();i&&(p=I0(_)?i2:i),w0(_)&&(t=t||r2,y.scrollbars="yes");const S=Object.entries(y).reduce((x,[j,W])=>`${x}${j}=${W},`,"");if(PA(_)&&p!=="_self")return a2(t||"",p),new K_(null);const w=window.open(t||"",p,S);Tt(w,r,"popup-blocked");try{w.focus()}catch{}return new K_(w)}function a2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const o2="__/auth/handler",l2="emulator/auth/handler",u2=encodeURIComponent("fac");async function X_(r,t,i,a,l,c){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:eo,eventId:l};if(t instanceof U0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",ob(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,w]of Object.entries({}))d[S]=w}if(t instanceof Ul){const S=t.getScopes().filter(w=>w!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const y=await r._getAppCheckToken(),_=y?`#${u2}=${encodeURIComponent(y)}`:"";return`${c2(r)}?${xl(p).slice(1)}${_}`}function c2({config:r}){return r.emulator?fm(r,l2):`https://${r.authDomain}/${o2}`}const Od="webStorageSupport";class h2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B0,this._completeRedirectFn=kw,this._overrideRedirectResult=Mw}async _openPopup(t,i,a,l){rr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await X_(t,i,a,qd(),l);return s2(t,c,gm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await X_(t,i,a,qd(),l);return mw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(rr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Ww(t),a=new Lw(t);return i.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Od,{type:Od},l=>{const c=l?.[0]?.[Od];c!==void 0&&i(!!c),ir(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=qw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return M0()||R0()||mm()}}const f2=h2;var $_="@firebase/auth",Z_="1.12.0";class d2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function m2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p2(r){Qa(new js("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V0(r)},_=new GA(a,l,c,y);return $A(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Qa(new js("auth-internal",t=>{const i=ih(t.getProvider("auth").getImmediate());return(a=>new d2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr($_,Z_,m2(r)),Xr($_,Z_,"esm2020")}const g2=300,y2=o0("authIdTokenMaxAge")||g2;let J_=null;const _2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>y2)return;const l=i?.token;J_!==l&&(J_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function v2(r=d0()){const t=cm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=XA(r,{popupRedirectResolver:f2,persistence:[bw,hw,B0]}),a=o0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=_2(c.toString());ow(i,d,()=>d(i.currentUser)),aw(i,p=>d(p))}}const l=s0("auth");return l&&ZA(i,`http://${l}`),i}function E2(){return document.getElementsByTagName("head")?.[0]??document}FA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=wi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",E2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p2("Browser");var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zr,K0;(function(){var r;function t(A,b){function R(){}R.prototype=b.prototype,A.F=b.prototype,A.prototype=new R,A.prototype.constructor=A,A.D=function(O,D,V){for(var I=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)I[Yt-2]=arguments[Yt];return b.prototype[D].apply(O,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(A,b,R){R||(R=0);const O=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)O[D]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(D=0;D<16;++D)O[D]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=A.g[0],R=A.g[1],D=A.g[2];let V=A.g[3],I;I=b+(V^R&(D^V))+O[0]+3614090360&4294967295,b=R+(I<<7&4294967295|I>>>25),I=V+(D^b&(R^D))+O[1]+3905402710&4294967295,V=b+(I<<12&4294967295|I>>>20),I=D+(R^V&(b^R))+O[2]+606105819&4294967295,D=V+(I<<17&4294967295|I>>>15),I=R+(b^D&(V^b))+O[3]+3250441966&4294967295,R=D+(I<<22&4294967295|I>>>10),I=b+(V^R&(D^V))+O[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=V+(D^b&(R^D))+O[5]+1200080426&4294967295,V=b+(I<<12&4294967295|I>>>20),I=D+(R^V&(b^R))+O[6]+2821735955&4294967295,D=V+(I<<17&4294967295|I>>>15),I=R+(b^D&(V^b))+O[7]+4249261313&4294967295,R=D+(I<<22&4294967295|I>>>10),I=b+(V^R&(D^V))+O[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=V+(D^b&(R^D))+O[9]+2336552879&4294967295,V=b+(I<<12&4294967295|I>>>20),I=D+(R^V&(b^R))+O[10]+4294925233&4294967295,D=V+(I<<17&4294967295|I>>>15),I=R+(b^D&(V^b))+O[11]+2304563134&4294967295,R=D+(I<<22&4294967295|I>>>10),I=b+(V^R&(D^V))+O[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=V+(D^b&(R^D))+O[13]+4254626195&4294967295,V=b+(I<<12&4294967295|I>>>20),I=D+(R^V&(b^R))+O[14]+2792965006&4294967295,D=V+(I<<17&4294967295|I>>>15),I=R+(b^D&(V^b))+O[15]+1236535329&4294967295,R=D+(I<<22&4294967295|I>>>10),I=b+(D^V&(R^D))+O[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=V+(R^D&(b^R))+O[6]+3225465664&4294967295,V=b+(I<<9&4294967295|I>>>23),I=D+(b^R&(V^b))+O[11]+643717713&4294967295,D=V+(I<<14&4294967295|I>>>18),I=R+(V^b&(D^V))+O[0]+3921069994&4294967295,R=D+(I<<20&4294967295|I>>>12),I=b+(D^V&(R^D))+O[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=V+(R^D&(b^R))+O[10]+38016083&4294967295,V=b+(I<<9&4294967295|I>>>23),I=D+(b^R&(V^b))+O[15]+3634488961&4294967295,D=V+(I<<14&4294967295|I>>>18),I=R+(V^b&(D^V))+O[4]+3889429448&4294967295,R=D+(I<<20&4294967295|I>>>12),I=b+(D^V&(R^D))+O[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=V+(R^D&(b^R))+O[14]+3275163606&4294967295,V=b+(I<<9&4294967295|I>>>23),I=D+(b^R&(V^b))+O[3]+4107603335&4294967295,D=V+(I<<14&4294967295|I>>>18),I=R+(V^b&(D^V))+O[8]+1163531501&4294967295,R=D+(I<<20&4294967295|I>>>12),I=b+(D^V&(R^D))+O[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=V+(R^D&(b^R))+O[2]+4243563512&4294967295,V=b+(I<<9&4294967295|I>>>23),I=D+(b^R&(V^b))+O[7]+1735328473&4294967295,D=V+(I<<14&4294967295|I>>>18),I=R+(V^b&(D^V))+O[12]+2368359562&4294967295,R=D+(I<<20&4294967295|I>>>12),I=b+(R^D^V)+O[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=V+(b^R^D)+O[8]+2272392833&4294967295,V=b+(I<<11&4294967295|I>>>21),I=D+(V^b^R)+O[11]+1839030562&4294967295,D=V+(I<<16&4294967295|I>>>16),I=R+(D^V^b)+O[14]+4259657740&4294967295,R=D+(I<<23&4294967295|I>>>9),I=b+(R^D^V)+O[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=V+(b^R^D)+O[4]+1272893353&4294967295,V=b+(I<<11&4294967295|I>>>21),I=D+(V^b^R)+O[7]+4139469664&4294967295,D=V+(I<<16&4294967295|I>>>16),I=R+(D^V^b)+O[10]+3200236656&4294967295,R=D+(I<<23&4294967295|I>>>9),I=b+(R^D^V)+O[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=V+(b^R^D)+O[0]+3936430074&4294967295,V=b+(I<<11&4294967295|I>>>21),I=D+(V^b^R)+O[3]+3572445317&4294967295,D=V+(I<<16&4294967295|I>>>16),I=R+(D^V^b)+O[6]+76029189&4294967295,R=D+(I<<23&4294967295|I>>>9),I=b+(R^D^V)+O[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=V+(b^R^D)+O[12]+3873151461&4294967295,V=b+(I<<11&4294967295|I>>>21),I=D+(V^b^R)+O[15]+530742520&4294967295,D=V+(I<<16&4294967295|I>>>16),I=R+(D^V^b)+O[2]+3299628645&4294967295,R=D+(I<<23&4294967295|I>>>9),I=b+(D^(R|~V))+O[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=V+(R^(b|~D))+O[7]+1126891415&4294967295,V=b+(I<<10&4294967295|I>>>22),I=D+(b^(V|~R))+O[14]+2878612391&4294967295,D=V+(I<<15&4294967295|I>>>17),I=R+(V^(D|~b))+O[5]+4237533241&4294967295,R=D+(I<<21&4294967295|I>>>11),I=b+(D^(R|~V))+O[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=V+(R^(b|~D))+O[3]+2399980690&4294967295,V=b+(I<<10&4294967295|I>>>22),I=D+(b^(V|~R))+O[10]+4293915773&4294967295,D=V+(I<<15&4294967295|I>>>17),I=R+(V^(D|~b))+O[1]+2240044497&4294967295,R=D+(I<<21&4294967295|I>>>11),I=b+(D^(R|~V))+O[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=V+(R^(b|~D))+O[15]+4264355552&4294967295,V=b+(I<<10&4294967295|I>>>22),I=D+(b^(V|~R))+O[6]+2734768916&4294967295,D=V+(I<<15&4294967295|I>>>17),I=R+(V^(D|~b))+O[13]+1309151649&4294967295,R=D+(I<<21&4294967295|I>>>11),I=b+(D^(R|~V))+O[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=V+(R^(b|~D))+O[11]+3174756917&4294967295,V=b+(I<<10&4294967295|I>>>22),I=D+(b^(V|~R))+O[2]+718787259&4294967295,D=V+(I<<15&4294967295|I>>>17),I=R+(V^(D|~b))+O[9]+3951481745&4294967295,A.g[0]=A.g[0]+b&4294967295,A.g[1]=A.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+V&4294967295}a.prototype.v=function(A,b){b===void 0&&(b=A.length);const R=b-this.blockSize,O=this.C;let D=this.h,V=0;for(;V<b;){if(D==0)for(;V<=R;)l(this,A,V),V+=this.blockSize;if(typeof A=="string"){for(;V<b;)if(O[D++]=A.charCodeAt(V++),D==this.blockSize){l(this,O),D=0;break}}else for(;V<b;)if(O[D++]=A[V++],D==this.blockSize){l(this,O),D=0;break}}this.h=D,this.o+=b},a.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var b=1;b<A.length-8;++b)A[b]=0;b=this.o*8;for(var R=A.length-8;R<A.length;++R)A[R]=b&255,b/=256;for(this.v(A),A=Array(16),b=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)A[b++]=this.g[R]>>>O&255;return A};function c(A,b){var R=p;return Object.prototype.hasOwnProperty.call(R,A)?R[A]:R[A]=b(A)}function d(A,b){this.h=b;const R=[];let O=!0;for(let D=A.length-1;D>=0;D--){const V=A[D]|0;O&&V==b||(R[D]=V,O=!1)}this.g=R}var p={};function y(A){return-128<=A&&A<128?c(A,function(b){return new d([b|0],b<0?-1:0)}):new d([A|0],A<0?-1:0)}function _(A){if(isNaN(A)||!isFinite(A))return w;if(A<0)return J(_(-A));const b=[];let R=1;for(let O=0;A>=R;O++)b[O]=A/R|0,R*=4294967296;return new d(b,0)}function S(A,b){if(A.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(A.charAt(0)=="-")return J(S(A.substring(1),b));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(b,8));let O=w;for(let V=0;V<A.length;V+=8){var D=Math.min(8,A.length-V);const I=parseInt(A.substring(V,V+D),b);D<8?(D=_(Math.pow(b,D)),O=O.j(D).add(_(I))):(O=O.j(R),O=O.add(_(I)))}return O}var w=y(0),x=y(1),j=y(16777216);r=d.prototype,r.m=function(){if(nt(this))return-J(this).m();let A=0,b=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);A+=(O>=0?O:4294967296+O)*b,b*=4294967296}return A},r.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(W(this))return"0";if(nt(this))return"-"+J(this).toString(A);const b=_(Math.pow(A,6));var R=this;let O="";for(;;){const D=zt(R,b).g;R=ot(R,D.j(b));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(A);if(R=D,W(R))return V+O;for(;V.length<6;)V="0"+V;O=V+O}},r.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function W(A){if(A.h!=0)return!1;for(let b=0;b<A.g.length;b++)if(A.g[b]!=0)return!1;return!0}function nt(A){return A.h==-1}r.l=function(A){return A=ot(this,A),nt(A)?-1:W(A)?0:1};function J(A){const b=A.g.length,R=[];for(let O=0;O<b;O++)R[O]=~A.g[O];return new d(R,~A.h).add(x)}r.abs=function(){return nt(this)?J(this):this},r.add=function(A){const b=Math.max(this.g.length,A.g.length),R=[];let O=0;for(let D=0;D<=b;D++){let V=O+(this.i(D)&65535)+(A.i(D)&65535),I=(V>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);O=I>>>16,V&=65535,I&=65535,R[D]=I<<16|V}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ot(A,b){return A.add(J(b))}r.j=function(A){if(W(this)||W(A))return w;if(nt(this))return nt(A)?J(this).j(J(A)):J(J(this).j(A));if(nt(A))return J(this.j(J(A)));if(this.l(j)<0&&A.l(j)<0)return _(this.m()*A.m());const b=this.g.length+A.g.length,R=[];for(var O=0;O<2*b;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<A.g.length;D++){const V=this.i(O)>>>16,I=this.i(O)&65535,Yt=A.i(D)>>>16,ce=A.i(D)&65535;R[2*O+2*D]+=I*ce,ft(R,2*O+2*D),R[2*O+2*D+1]+=V*ce,ft(R,2*O+2*D+1),R[2*O+2*D+1]+=I*Yt,ft(R,2*O+2*D+1),R[2*O+2*D+2]+=V*Yt,ft(R,2*O+2*D+2)}for(A=0;A<b;A++)R[A]=R[2*A+1]<<16|R[2*A];for(A=b;A<2*b;A++)R[A]=0;return new d(R,0)};function ft(A,b){for(;(A[b]&65535)!=A[b];)A[b+1]+=A[b]>>>16,A[b]&=65535,b++}function dt(A,b){this.g=A,this.h=b}function zt(A,b){if(W(b))throw Error("division by zero");if(W(A))return new dt(w,w);if(nt(A))return b=zt(J(A),b),new dt(J(b.g),J(b.h));if(nt(b))return b=zt(A,J(b)),new dt(J(b.g),b.h);if(A.g.length>30){if(nt(A)||nt(b))throw Error("slowDivide_ only works with positive integers.");for(var R=x,O=b;O.l(A)<=0;)R=Ht(R),O=Ht(O);var D=Ct(R,1),V=Ct(O,1);for(O=Ct(O,2),R=Ct(R,2);!W(O);){var I=V.add(O);I.l(A)<=0&&(D=D.add(R),V=I),O=Ct(O,1),R=Ct(R,1)}return b=ot(A,D.j(b)),new dt(D,b)}for(D=w;A.l(b)>=0;){for(R=Math.max(1,Math.floor(A.m()/b.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),V=_(R),I=V.j(b);nt(I)||I.l(A)>0;)R-=O,V=_(R),I=V.j(b);W(V)&&(V=x),D=D.add(V),A=ot(A,I)}return new dt(D,A)}r.B=function(A){return zt(this,A).h},r.and=function(A){const b=Math.max(this.g.length,A.g.length),R=[];for(let O=0;O<b;O++)R[O]=this.i(O)&A.i(O);return new d(R,this.h&A.h)},r.or=function(A){const b=Math.max(this.g.length,A.g.length),R=[];for(let O=0;O<b;O++)R[O]=this.i(O)|A.i(O);return new d(R,this.h|A.h)},r.xor=function(A){const b=Math.max(this.g.length,A.g.length),R=[];for(let O=0;O<b;O++)R[O]=this.i(O)^A.i(O);return new d(R,this.h^A.h)};function Ht(A){const b=A.g.length+1,R=[];for(let O=0;O<b;O++)R[O]=A.i(O)<<1|A.i(O-1)>>>31;return new d(R,A.h)}function Ct(A,b){const R=b>>5;b%=32;const O=A.g.length-R,D=[];for(let V=0;V<O;V++)D[V]=b>0?A.i(V+R)>>>b|A.i(V+R+1)<<32-b:A.i(V+R);return new d(D,A.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,K0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Zr=d}).apply(typeof W_<"u"?W_:typeof self<"u"?self:typeof window<"u"?window:{});var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var X0,ml,$0,Cc,Fd,Z0,J0,W0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vc=="object"&&vc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,q){for(var it=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)it[wt-2]=arguments[wt];return m.prototype[U].apply(T,it)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let it=0;it<q;it++)u[v+it]=U[it]}else u.push(U)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ot(){var u=A;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ft{constructor(){this.h=this.g=null}add(m,v){const T=dt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new nt(()=>new zt,u=>u.reset());class zt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ht,Ct=!1,A=new ft,b=()=>{const u=Promise.resolve(void 0);Ht=()=>{u.then(R)}};function R(){for(var u;u=ot();){try{u.h.call(u.g)}catch(v){J(v)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ct=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function Yt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(Yt,D),Yt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Yt.Z.h.call(this)},Yt.prototype.h=function(){Yt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),G=0;function rt(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++G,this.da=this.fa=!1}function lt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Dt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Lt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function Q(u){this.src=u,this.g={},this.h=0}Q.prototype.add=function(u,m,v,T,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const it=st(u,m,T,U);return it>-1?(m=u[it],v||(m.fa=!1)):(m=new rt(m,this.src,q,!!T,U),m.fa=v,u.push(m)),m};function et(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(lt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function st(u,m,v,T){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return U}return-1}var at="closure_lm_"+(Math.random()*1e6|0),yt={};function Et(u,m,v,T,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Et(u,m[q],v,T,U);return null}return v=oo(v),u&&u[ce]?u.J(m,v,p(T)?!!T.capture:!1,U):Ve(u,m,v,!1,T,U)}function Ve(u,m,v,T,U,q){if(!m)throw Error("Invalid event type");const it=p(U)?!!U.capture:!!U;let wt=ei(u);if(wt||(u[at]=wt=new Q(u)),v=wt.add(m,v,T,it,q),v.proxy)return v;if(T=rn(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)V||(U=it),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(dn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function rn(){function u(v){return m.call(u.src,u.listener,v)}const m=ze;return u}function ti(u,m,v,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)ti(u,m[q],v,T,U);else T=p(T)?!!T.capture:!!T,v=oo(v),u&&u[ce]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=st(m,v,T,U),v>-1&&(lt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ei(u))&&(m=u.g[m.toString()],u=-1,m&&(u=st(m,v,T,U)),(v=u>-1?m[u]:null)&&ss(v))}function ss(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ce])et(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(dn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=ei(m))?(et(v,u),v.h==0&&(v.src=null,m[at]=null)):lt(u)}}}function dn(u){return u in yt?yt[u]:yt[u]="on"+u}function ze(u,m){if(u.da)u=!0;else{m=new Yt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ss(u),u=v.call(T,m)}return u}function ei(u){return u=u[at],u instanceof Q?u:null}var ni="__closure_events_fn_"+(Math.random()*1e9>>>0);function oo(u){return typeof u=="function"?u:(u[ni]||(u[ni]=function(m){return u.handleEvent(m)}),u[ni])}function _e(){O.call(this),this.i=new Q(this),this.M=this,this.G=null}w(_e,O),_e.prototype[ce]=!0,_e.prototype.removeEventListener=function(u,m,v,T){ti(this,u,m,v,T)};function De(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(T,u),L(m,U)}U=!0;let q,it;if(v)for(it=v.length-1;it>=0;it--)q=m.g=v[it],U=lr(q,T,!0,m)&&U;if(q=m.g=u,U=lr(q,T,!0,m)&&U,U=lr(q,T,!1,m)&&U,v)for(it=0;it<v.length;it++)q=m.g=v[it],U=lr(q,T,!1,m)&&U}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)lt(v[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_e.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function lr(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const it=m[q];if(it&&!it.da&&it.capture==v){const wt=it.listener,me=it.ha||it.src;it.fa&&et(u.i,it),U=wt.call(me,T)!==!1&&U}}return U&&!T.defaultPrevented}function vh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Hl(u){u.g=vh(()=>{u.g=null,u.i&&(u.i=!1,Hl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends O{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Hl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(u){O.call(this),this.h=u,this.g={}}w(as,O);var lo=[];function uo(u){Dt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ss(m)},u),u.g={}}as.prototype.N=function(){as.Z.N.call(this),uo(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=d.JSON.stringify,Eh=d.JSON.parse,Gl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Fl(){}function Ql(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){D.call(this,"d")}w(je,D);function bn(){D.call(this,"c")}w(bn,D);var de={},Yl=null;function Ks(){return Yl=Yl||new _e}de.Ia="serverreachability";function Kl(u){D.call(this,de.Ia,u)}w(Kl,D);function ii(u){const m=Ks();De(m,new Kl(m))}de.STAT_EVENT="statevent";function os(u,m){D.call(this,de.STAT_EVENT,u),this.stat=m}w(os,D);function ve(u){const m=Ks();De(m,new os(m,u))}de.Ja="timingevent";function ri(u,m){D.call(this,de.Ja,u),this.size=m}w(ri,D);function si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function Th(u,m,v,T,U,q){u.info(function(){if(u.g)if(q){var it="",wt=q.split("&");for(let Gt=0;Gt<wt.length;Gt++){var me=wt[Gt].split("=");if(me.length>1){const ae=me[0];me=me[1];const In=ae.split("_");it=In.length>=2&&In[1]=="type"?it+(ae+"="+me+"&"):it+(ae+"=redacted&")}}}else it=null;else it=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+it})}function Xl(u,m,v,T,U,q,it){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+it})}function ai(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sh(u,v)+(T?" "+T:"")})}function ls(u,m){u.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function Sh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let it=1;it<T.length;it++)T[it]=""}}}}return ur(q)}catch{return m}}var us={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ho;function cs(){}w(cs,Fl),cs.prototype.g=function(){return new XMLHttpRequest},ho=new cs;function Vi(u){return encodeURIComponent(String(u))}function $l(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Bn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new as(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Ee={},xe={};function oi(u,m,v){u.M=1,u.A=hs(Se(m)),u.u=v,u.R=!0,Xs(u,null)}function Xs(u,m){u.F=Date.now(),li(u),u.B=Se(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Ws(v.i,"t",T),u.C=0,v=u.j.L,u.h=new qn,u.g=hu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(lo[0]=U.toString()),U=lo);for(let q=0;q<U.length;q++){const it=Et(v,U[q],T||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ii(),Th(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Fn(this.g),me=this.g.ya(),Gt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||wt!=4||me==7||(me==8||Gt<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=bh(this);if(this.o=m==200,Xl(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(T)){var q=T;break e}}q=null}if(u=q)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,u);else{this.o=!1,this.m=3,ve(12),mn(this),An(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=Jl(this,v),ae==xe){wt==4&&(this.m=4,ve(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Ee){this.m=4,ve(15),ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,ae,null),ci(this,ae);if(Zl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),An(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Io(it),it.P=!0,ve(11))}}else ai(this.i,this.l,v,null),ci(this,v);wt==4&&mn(this),this.o&&!this.K&&(wt==4?ou(this.j,this):(this.o=!1,li(this)))}else ki(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),mn(this),An(this)}}}catch{}};function bh(u){if(!Zl(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const T=m.length,U=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),An(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Zl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Jl(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?xe:(v=Number(m.substring(v,T)),isNaN(v)?Ee:(T+=1,T+v>m.length?xe:(m=m.slice(T,T+v),u.C=T+v,m)))}Bn.prototype.cancel=function(){this.K=!0,mn(this)};function li(u){u.T=Date.now()+u.H,$s(u,u.H)}function $s(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=si(_(u.aa,u),m)}function ui(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ls(this.i,this.B),this.M!=2&&(ii(),ve(17)),mn(this),this.m=2,An(this)):$s(this,this.T-u)};function An(u){u.j.I==0||u.K||ou(u.j,u)}function mn(u){ui(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,uo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||fi(v.h,u))){if(!u.L&&fi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ra(v),yr(v);else break t;_s(v),ve(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=si(_(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((u.L||v.g==u)&&ra(v),!I(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Gt=U[m];const ae=Gt[0];if(!(ae<=v.K))if(v.K=ae,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const In=Gt[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const vi=Gt[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Qn=Gt[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(T=1.5*Qn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Yn=u.g;if(Yn){const vs=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vs){var q=T.h;q.g||vs.indexOf("spdy")==-1&&vs.indexOf("quic")==-1&&vs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(po(q,q.h),q.h=null))}if(T.G){const sa=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(T.wa=sa,Kt(T.J,T.G,sa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var it=u;if(T.na=cu(T,T.L?T.ba:null,T.W),it.L){go(T.h,it);var wt=it,me=T.O;me&&(wt.H=me),wt.D&&(ui(wt),li(wt)),T.g=it}else su(T);v.i.length>0&&yi(v)}else Gt[0]!="stop"&&Gt[0]!="close"||_i(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?_i(v,7):wo(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}ii(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function fo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hi(u){return u.h?1:u.g?u.g.size:0}function fi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function po(u,m){u.g?u.g.add(m):u.h=m}function go(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fo.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return j(u.i)}var Wl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zs(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,q=null;T>=0?(U=u[v].substring(0,T),q=u[v].substring(T+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,cr(this,u.u),this.h=u.h,_o(this,iu(u.i)),this.m=u.m):u&&(m=String(u).match(Wl))?(this.l=!1,ke(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),cr(this,m[4]),this.h=di(m[5]||"",!0),_o(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(fs(m,Js,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fs(m,Js,!0),"@"),u.push(Vi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(fs(v,v.charAt(0)=="/"?vo:tu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",fs(v,eu)),u.join("")},pn.prototype.resolve=function(u){const m=Se(this);let v=!!u.j;v?ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)cr(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let it=0;it<U.length;){const wt=U[it++];wt=="."?T&&it==U.length&&q.push(""):wt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&it==U.length&&q.push("")):(q.push(wt),T=!0)}T=q.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?_o(m,iu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Se(u){return new pn(u)}function ke(u,m,v){u.j=v?di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function _o(u,m,v){m instanceof fr?(u.i=m,ta(u.i,u.l)):(v||(m=fs(m,hr)),u.i=new fr(m,u.l))}function Kt(u,m,v){u.i.set(m,v)}function hs(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fs(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Js=/[#\/\?@]/g,tu=/[#\?:]/g,vo=/[#\?]/g,hr=/[#\?@]/g,eu=/#/g;function fr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&Zs(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=fr.prototype,r.add=function(u,m){an(this),this.i=null,u=dr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function nu(u,m){an(u),m=dr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Eo(u,m){return an(u),m=dr(u,m),u.g.has(m)}r.forEach=function(u,m){an(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function To(u,m){an(u);let v=[];if(typeof m=="string")Eo(u,m)&&(v=v.concat(u.g.get(dr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return an(this),this.i=null,u=dr(this,u),Eo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=To(this,u),u.length>0?String(u[0]):m):m};function Ws(u,m,v){nu(u,m),v.length>0&&(u.i=null,u.g.set(dr(u,m),j(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Vi(v);v=To(this,v);for(let q=0;q<v.length;q++){let it=U;v[q]!==""&&(it+="="+Vi(v[q])),u.push(it)}}return this.i=u.join("&")};function iu(u){const m=new fr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function dr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ta(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(nu(this,T),Ws(this,U,v))},u)),u.j=m}function Hn(u,m){const v=new jn;if(d.Image){const T=new Image;T.onload=S(wn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(wn,v,"TestLoadImage: error",!1,m,T),T.onabort=S(wn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(wn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function So(u,m){const v=new jn,T=new AbortController,U=setTimeout(()=>{T.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),wn(v,"TestPingServer: error",!1,m)})}function wn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function mr(){this.g=new Gl}function mi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(mi,Fl),mi.prototype.g=function(){return new ds(this.i,this.h)};function ds(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(ds,_e),r=ds.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?pr(this):Gn(this),this.readyState==3&&ea(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,pr(this))},r.Na=function(u){this.g&&(this.response=u,pr(this))},r.ga=function(){this.g&&pr(this)};function pr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return Dt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function ms(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Rn(v),typeof u=="string"?v!=null&&Vi(v):Kt(u,m,v))}function Jt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Jt,_e);var pi=/^https?$/i,bo=["POST","PUT"];r=Jt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ho.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){ps(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(bo,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,it]of v)this.g.setRequestHeader(q,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){ps(this,q)}};function ps(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ao(u),xi(u)}function Ao(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Jt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?gs(this):this.Xa())},r.Xa=function(){gs(this)};function gs(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let it=String(u.D).match(Wl)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),T=!pi.test(it?it.toLowerCase():"")}v=T}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var U=Fn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Ao(u)}}finally{xi(u)}}}}function xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||De(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Eh(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(I(u[T]))continue;var v=$l(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}Lt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function gr(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,u),this.Za=gi("retryDelaySeedMs",1e4,u),this.Ta=gi("forwardChannelMaxRetries",2,u),this.va=gi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new fo(u&&u.concurrentRequestLimit),this.Ba=new mr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=gr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=cu(this,null,this.W),yi(this)};function wo(u){if(na(u),u.I==3){var m=u.V++,v=Se(u.J);if(Kt(v,"SID",u.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),ys(u,v),m=new Bn(u,u.j,m),m.M=2,m.A=hs(Se(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=hu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}uu(u)}function yr(u){u.g&&(Io(u),u.g.cancel(),u.g=null)}function na(u){yr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function yi(u){if(!mo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ht||b(),Ct||(Ht(),Ct=!0),A.add(m,u),u.D=0}}function ia(u,m){return hi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=si(_(u.Ea,u,m),lu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Bn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),L(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=ru(this,U,m),v=Se(this.J),Kt(v,"RID",u),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),ys(this,v),q&&(this.R?m="headers="+Vi(Rn(q))+"&"+m:this.u&&ms(v,this.u,q)),po(this.h,U),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),U.U=!0,oi(U,v,null)):oi(U,v,m),this.I=2}}else this.I==3&&(u?Ro(this,u):this.i.length==0||mo(this.h)||Ro(this))};function Ro(u,m){var v;m?v=m.l:v=u.V++;const T=Se(u.J);Kt(T,"SID",u.M),Kt(T,"RID",v),Kt(T,"AID",u.K),ys(u,T),u.u&&u.o&&ms(T,u.u,u.o),v=new Bn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=ru(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),po(u.h,v),oi(v,T,m)}function ys(u,m){u.H&&Dt(u.H,function(v,T){Kt(m,T,v)}),u.l&&Dt({},function(v,T){Kt(m,T,v)})}function ru(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let wt=-1;for(;;){const me=["count="+v];wt==-1?v>0?(wt=U[0].g,me.push("ofs="+wt)):wt=0:me.push("ofs="+wt);let Gt=!0;for(let ae=0;ae<v;ae++){var q=U[ae].g;const In=U[ae].map;if(q-=wt,q<0)wt=Math.max(0,U[ae].g-100),Gt=!1;else try{q="req"+q+"_"||"";try{var it=In instanceof Map?In:Object.entries(In);for(const[vi,Qn]of it){let Yn=Qn;p(Qn)&&(Yn=ur(Qn)),me.push(q+vi+"="+encodeURIComponent(Yn))}}catch(vi){throw me.push(q+"type="+encodeURIComponent("_badmap")),vi}}catch{T&&T(In)}}if(Gt){it=me.join("&");break t}}it=void 0}return u=u.i.splice(0,v),m.G=u,it}function su(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ht||b(),Ct||(Ht(),Ct=!0),A.add(m,u),u.A=0}}function _s(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=si(_(u.Da,u),lu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=si(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),yr(this),au(this))};function Io(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function au(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Se(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),ys(u,m),u.u&&u.o&&ms(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=hs(Se(m)),v.u=null,v.R=!0,Xs(v,u)}r.Va=function(){this.C!=null&&(this.C=null,yr(this),_s(this),ve(19))};function ra(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ou(u,m){var v=null;if(u.g==m){ra(u),Io(u),u.g=null;var T=2}else if(fi(u.h,m))v=m.G,go(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Ks(),De(T,new ri(T,v)),yi(u)}else su(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ia(u,m)||T==2&&_s(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function lu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const U=!T;T=new pn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),hs(T),U?Hn(T.toString(),v):So(T.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),uu(u),na(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function uu(u){if(u.I=0,u.ja=[],u.l){const m=yo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function cu(u,m,v){var T=v instanceof pn?Se(v):new pn(v);if(T.g!="")m&&(T.g=m+"."+T.g),cr(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new pn(null);T&&ke(q,T),m&&(q.g=m),U&&cr(q,U),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&Kt(T,v,m),Kt(T,"VER",u.ka),ys(u,T),T}function hu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Jt(new mi({ab:v})):new Jt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}r=fu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _r(){}_r.prototype.g=function(u,m){return new en(u,m)};function en(u,m){_e.call(this),this.g=new gr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ui(this)}w(en,_e),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){wo(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ur(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&yi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,en.Z.N.call(this)};function du(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(du,je);function mu(){bn.call(this),this.status=1}w(mu,bn);function Ui(u){this.g=u}w(Ui,fu),Ui.prototype.ra=function(){De(this.g,"a")},Ui.prototype.qa=function(u){De(this.g,new du(u))},Ui.prototype.pa=function(u){De(this.g,new mu)},Ui.prototype.oa=function(){De(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,W0=function(){return new _r},J0=function(){return Ks()},Z0=de,Fd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},us.NO_ERROR=0,us.TIMEOUT=8,us.HTTP_ERROR=6,Cc=us,co.COMPLETE="complete",$0=co,Ql.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,ml=Ql,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,X0=Jt}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});const tv="@firebase/firestore",ev="4.9.3";class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let io="12.7.0";const qs=new lm("@firebase/firestore");function ka(){return qs.logLevel}function ut(r,...t){if(qs.logLevel<=xt.DEBUG){const i=t.map(_m);qs.debug(`Firestore (${io}): ${r}`,...i)}}function sr(r,...t){if(qs.logLevel<=xt.ERROR){const i=t.map(_m);qs.error(`Firestore (${io}): ${r}`,...i)}}function Ya(r,...t){if(qs.logLevel<=xt.WARN){const i=t.map(_m);qs.warn(`Firestore (${io}): ${r}`,...i)}}function _m(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function vt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,tE(r,a,i)}function tE(r,t,i){let a=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw sr(a),new Error(a)}function Qt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||tE(t,l,a)}function At(r,t){return r}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends or{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ls{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class eE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class T2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class S2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class b2{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Ls;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ls,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ls)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qt(typeof a.accessToken=="string",31837,{l:a}),new eE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class A2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class w2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new A2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const a=c=>{c.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new nv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function I2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=I2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function kt(r,t){return r<t?-1:r>t?1:0}function Qd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Md(l)===Md(c)?kt(l,c):Md(l)?1:-1}return kt(r.length,t.length)}const C2=55296,D2=57343;function Md(r){const t=r.charCodeAt(0);return t>=C2&&t<=D2}function Ka(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const iv="__name__";class Ai{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&vt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ai.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ai?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ai.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return kt(t.length,i.length)}static compareSegments(t,i){const a=Ai.isNumericId(t),l=Ai.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ai.extractNumericId(t).compare(Ai.extractNumericId(i)):Qd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zr.fromString(t.substring(4,t.length-2))}}class le extends Ai{construct(t,i,a){return new le(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new mt(tt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new le(i)}static emptyPath(){return new le([])}}const N2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Ai{construct(t,i,a){return new Ye(t,i,a)}static isValidIdentifier(t){return N2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iv}static keyField(){return new Ye([iv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new mt(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new mt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new mt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new mt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(i)}static emptyPath(){return new Ye([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(le.fromString(t))}static fromName(t){return new gt(le.fromString(t).popFirst(5))}static empty(){return new gt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return le.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new le(t.slice()))}}function O2(r,t,i){if(!i)throw new mt(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function M2(r,t,i,a){if(t===!0&&a===!0)throw new mt(tt.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function rv(r){if(!gt.isDocumentKey(r))throw new mt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function nE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Em(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function Ha(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new mt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Em(r);throw new mt(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ce(r,t){const i={typeString:r};return t&&(i.value=t),i}function Pl(r,t){if(!nE(r))throw new mt(tt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new mt(tt.INVALID_ARGUMENT,i);return!0}const sv=-62135596800,av=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*av);return new se(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new mt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new mt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<sv)throw new mt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/av}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Pl(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-sv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ce("string",se._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new se(0,0))}static max(){return new St(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Rl=-1;function V2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=St.fromTimestamp(a===1e9?new se(i+1,0):new se(i,a));return new Wr(l,gt.empty(),t)}function x2(r){return new Wr(r.readTime,r.key,Rl)}class Wr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Wr(St.min(),gt.empty(),Rl)}static max(){return new Wr(St.max(),gt.empty(),Rl)}}function k2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,t.documentKey),i!==0?i:kt(r.largestBatchId,t.largestBatchId))}const U2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ro(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==U2)throw r;ut("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((S=>{d[_]=S,++p,p===c&&a(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function P2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function so(r){return r.name==="IndexedDbTransactionError"}class ah{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ah.ce=-1;const Tm=-1;function oh(r){return r==null}function qc(r){return r===0&&1/r==-1/0}function z2(r){return typeof r=="number"&&Number.isInteger(r)&&!qc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const iE="";function j2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=ov(t)),t=B2(r.get(i),t);return ov(t)}function B2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case iE:i+="";break;default:i+=c}}return i}function ov(r){return r+iE+""}function lv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Gs(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function rE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Qe.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ec(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ec(this.root,t,this.comparator,!0)}}class Ec{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Qe.RED,this.left=l??Qe.EMPTY,this.right=c??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Qe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Qe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new uv(this.data.getIterator())}getIteratorFrom(t){return new uv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class uv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Wn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new Wn([])}unionWith(t){let i=new Me(Ye.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Wn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ka(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class sE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new sE("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const q2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(r){if(Qt(!!r,39018),typeof r=="string"){let t=0;const i=q2.exec(r);if(Qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function es(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const aE="server_timestamp",oE="__type__",lE="__previous_value__",uE="__local_write_time__";function Sm(r){return(r?.mapValue?.fields||{})[oE]?.stringValue===aE}function lh(r){const t=r.mapValue.fields[lE];return Sm(t)?lh(t):t}function Il(r){const t=ts(r.mapValue.fields[uE].timestampValue);return new se(t.seconds,t.nanos)}class H2{constructor(t,i,a,l,c,d,p,y,_,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=S}}const Hc="(default)";class Cl{constructor(t,i){this.projectId=t,this.database=i||Hc}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(t){return t instanceof Cl&&t.projectId===this.projectId&&t.database===this.database}}const cE="__type__",G2="__max__",Tc={mapValue:{}},hE="__vector__",Gc="value";function ns(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sm(r)?4:Q2(r)?9007199254740991:F2(r)?10:11:vt(28295,{value:r})}function Oi(r,t){if(r===t)return!0;const i=ns(r);if(i!==ns(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Il(r).isEqual(Il(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ts(l.timestampValue),p=ts(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return es(l.bytesValue).isEqual(es(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),p=ye(c.doubleValue);return d===p?qc(d)===qc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Ka(r.arrayValue.values||[],t.arrayValue.values||[],Oi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(lv(d)!==lv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Oi(d[y],p[y])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function Dl(r,t){return(r.values||[]).find((i=>Oi(i,t)))!==void 0}function Xa(r,t){if(r===t)return 0;const i=ns(r),a=ns(t);if(i!==a)return kt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ye(c.integerValue||c.doubleValue),y=ye(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return cv(r.timestampValue,t.timestampValue);case 4:return cv(Il(r),Il(t));case 5:return Qd(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=es(c),y=es(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const S=kt(p[_],y[_]);if(S!==0)return S}return kt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=kt(ye(c.latitude),ye(d.latitude));return p!==0?p:kt(ye(c.longitude),ye(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return hv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Gc]?.arrayValue,S=y[Gc]?.arrayValue,w=kt(_?.values?.length||0,S?.values?.length||0);return w!==0?w:hv(_,S)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Tc.mapValue&&d===Tc.mapValue)return 0;if(c===Tc.mapValue)return 1;if(d===Tc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},S=Object.keys(_);y.sort(),S.sort();for(let w=0;w<y.length&&w<S.length;++w){const x=Qd(y[w],S[w]);if(x!==0)return x;const j=Xa(p[y[w]],_[S[w]]);if(j!==0)return j}return kt(y.length,S.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function cv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return kt(r,t);const i=ts(r),a=ts(t),l=kt(i.seconds,a.seconds);return l!==0?l:kt(i.nanos,a.nanos)}function hv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Xa(i[l],a[l]);if(c)return c}return kt(i.length,a.length)}function $a(r){return Yd(r)}function Yd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ts(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return es(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return gt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Yd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Yd(i.fields[d])}`;return l+"}"})(r.mapValue):vt(61005,{value:r})}function Dc(r){switch(ns(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=lh(r);return t?16+Dc(t):16;case 5:return 2*r.stringValue.length;case 6:return es(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Dc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Gs(a.fields,((c,d)=>{l+=c.length+Dc(d)})),l})(r.mapValue);default:throw vt(13486,{value:r})}}function Kd(r){return!!r&&"integerValue"in r}function bm(r){return!!r&&"arrayValue"in r}function fv(r){return!!r&&"nullValue"in r}function dv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Nc(r){return!!r&&"mapValue"in r}function F2(r){return(r?.mapValue?.fields||{})[cE]?.stringValue===hE}function El(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Gs(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=El(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=El(r.arrayValue.values[i]);return t}return{...r}}function Q2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===G2}class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Nc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=El(i)}setAll(t){let i=Ye.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=El(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Nc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Oi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Nc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Gs(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Un(El(this.value))}}function fE(r){const t=[];return Gs(r.fields,((i,a)=>{const l=new Ye([i]);if(Nc(a)){const c=fE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Wn(t)}class Je{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,St.min(),St.min(),St.min(),Un.empty(),0)}static newFoundDocument(t,i,a,l){return new Je(t,1,i,St.min(),a,l,0)}static newNoDocument(t,i){return new Je(t,2,i,St.min(),St.min(),Un.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,St.min(),St.min(),Un.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fc{constructor(t,i){this.position=t,this.inclusive=i}}function mv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=gt.comparator(gt.fromName(d.referenceValue),i.key):a=Xa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function pv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Oi(r.position[i],t.position[i]))return!1;return!0}class Qc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Y2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class dE{}class Oe extends dE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new X2(t,i,a):i==="array-contains"?new J2(t,a):i==="in"?new W2(t,a):i==="not-in"?new tR(t,a):i==="array-contains-any"?new eR(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new $2(t,a):new Z2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Xa(i,this.value)):i!==null&&ns(this.value)===ns(i)&&this.matchesComparison(Xa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends dE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Mi(t,i)}matches(t){return mE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mE(r){return r.op==="and"}function pE(r){return K2(r)&&mE(r)}function K2(r){for(const t of r.filters)if(t instanceof Mi)return!1;return!0}function Xd(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+$a(r.value);if(pE(r))return r.filters.map((t=>Xd(t))).join(",");{const t=r.filters.map((i=>Xd(i))).join(",");return`${r.op}(${t})`}}function gE(r,t){return r instanceof Oe?(function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&Oi(a.value,l.value)})(r,t):r instanceof Mi?(function(a,l){return l instanceof Mi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&gE(d,l.filters[p])),!0):!1})(r,t):void vt(19439)}function yE(r){return r instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${$a(i.value)}`})(r):r instanceof Mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(yE).join(" ,")+"}"})(r):"Filter"}class X2 extends Oe{constructor(t,i,a){super(t,i,a),this.key=gt.fromName(a.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class $2 extends Oe{constructor(t,i){super(t,"in",i),this.keys=_E("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Z2 extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=_E("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function _E(r,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class J2 extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return bm(i)&&Dl(i.arrayValue,this.value)}}class W2 extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Dl(this.value.arrayValue,i)}}class tR extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Dl(this.value.arrayValue,i)}}class eR extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!bm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Dl(this.value.arrayValue,a)))}}class nR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function gv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new nR(r,t,i,a,l,c,d)}function Am(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Xd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),oh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>$a(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>$a(a))).join(",")),t.Te=i}return t.Te}function wm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Y2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!gE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!pv(r.startAt,t.startAt)&&pv(r.endAt,t.endAt)}function $d(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class uh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iR(r,t,i,a,l,c,d,p){return new uh(r,t,i,a,l,c,d,p)}function Rm(r){return new uh(r)}function yv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function rR(r){return r.collectionGroup!==null}function Tl(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Ye.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Qc(c,a))})),i.has(Ye.keyField().canonicalString())||t.Ie.push(new Qc(Ye.keyField(),a))}return t.Ie}function Ii(r){const t=At(r);return t.Ee||(t.Ee=sR(t,Tl(r))),t.Ee}function sR(r,t){if(r.limitType==="F")return gv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Qc(l.field,c)}));const i=r.endAt?new Fc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Fc(r.startAt.position,r.startAt.inclusive):null;return gv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Zd(r,t,i){return new uh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function ch(r,t){return wm(Ii(r),Ii(t))&&r.limitType===t.limitType}function vE(r){return`${Am(Ii(r))}|lt:${r.limitType}`}function Ua(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>yE(l))).join(", ")}]`),oh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>$a(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>$a(l))).join(",")),`Target(${a})`})(Ii(r))}; limitType=${r.limitType})`}function hh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):gt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Tl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=mv(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Tl(a),l)||a.endAt&&!(function(d,p,y){const _=mv(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Tl(a),l))})(r,t)}function aR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function EE(r){return(t,i)=>{let a=!1;for(const l of Tl(r)){const c=oR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function oR(r,t,i){const a=r.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Xa(y,_):vt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:r.dir})}}class Fs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Gs(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return rE(this.inner)}size(){return this.innerSize}}const lR=new ue(gt.comparator);function ar(){return lR}const TE=new ue(gt.comparator);function pl(...r){let t=TE;for(const i of r)t=t.insert(i.key,i);return t}function SE(r){let t=TE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Us(){return Sl()}function bE(){return Sl()}function Sl(){return new Fs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const uR=new ue(gt.comparator),cR=new Me(gt.comparator);function Ut(...r){let t=cR;for(const i of r)t=t.add(i);return t}const hR=new Me(kt);function fR(){return hR}function Im(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(t)?"-0":t}}function AE(r){return{integerValue:""+r}}function dR(r,t){return z2(t)?AE(t):Im(r,t)}class fh{constructor(){this._=void 0}}function mR(r,t,i){return r instanceof Yc?(function(l,c){const d={fields:{[oE]:{stringValue:aE},[uE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Sm(c)&&(c=lh(c)),c&&(d.fields[lE]=c),{mapValue:d}})(i,t):r instanceof Nl?RE(r,t):r instanceof Ol?IE(r,t):(function(l,c){const d=wE(l,c),p=_v(d)+_v(l.Ae);return Kd(d)&&Kd(l.Ae)?AE(p):Im(l.serializer,p)})(r,t)}function pR(r,t,i){return r instanceof Nl?RE(r,t):r instanceof Ol?IE(r,t):i}function wE(r,t){return r instanceof Kc?(function(a){return Kd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Yc extends fh{}class Nl extends fh{constructor(t){super(),this.elements=t}}function RE(r,t){const i=CE(t);for(const a of r.elements)i.some((l=>Oi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ol extends fh{constructor(t){super(),this.elements=t}}function IE(r,t){let i=CE(t);for(const a of r.elements)i=i.filter((l=>!Oi(l,a)));return{arrayValue:{values:i}}}class Kc extends fh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function _v(r){return ye(r.integerValue||r.doubleValue)}function CE(r){return bm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function gR(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Nl&&l instanceof Nl||a instanceof Ol&&l instanceof Ol?Ka(a.elements,l.elements,Oi):a instanceof Kc&&l instanceof Kc?Oi(a.Ae,l.Ae):a instanceof Yc&&l instanceof Yc})(r.transform,t.transform)}class yR{constructor(t,i){this.version=t,this.transformResults=i}}class er{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new er}static exists(t){return new er(void 0,t)}static updateTime(t){return new er(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class dh{}function DE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new OE(r.key,er.none()):new zl(r.key,r.data,er.none());{const i=r.data,a=Un.empty();let l=new Me(Ye.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Qs(r.key,a,new Wn(l.toArray()),er.none())}}function _R(r,t,i){r instanceof zl?(function(l,c,d){const p=l.value.clone(),y=Ev(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Qs?(function(l,c,d){if(!Oc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Ev(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(NE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function bl(r,t,i,a){return r instanceof zl?(function(c,d,p,y){if(!Oc(c.precondition,d))return p;const _=c.value.clone(),S=Tv(c.fieldTransforms,y,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof Qs?(function(c,d,p,y){if(!Oc(c.precondition,d))return p;const _=Tv(c.fieldTransforms,y,d),S=d.data;return S.setAll(NE(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,p){return Oc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function vR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=wE(a.transform,l||null);c!=null&&(i===null&&(i=Un.empty()),i.set(a.field,c))}return i||null}function vv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ka(a,l,((c,d)=>gR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class zl extends dh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Qs extends dh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function NE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Ev(r,t,i){const a=new Map;Qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,pR(d,p,i[l]))}return a}function Tv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,mR(c,d,t))}return a}class OE extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ER extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&_R(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=bl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=bl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=bE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=DE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(St.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Ka(this.mutations,t.mutations,((i,a)=>vv(i,a)))&&Ka(this.baseMutations,t.baseMutations,((i,a)=>vv(i,a)))}}class Cm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return uR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Cm(t,i,a,l)}}class SR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class bR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ie,jt;function AR(r){switch(r){case tt.OK:return vt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function ME(r){if(r===void 0)return sr("GRPC error has no .code"),tt.UNKNOWN;switch(r){case Ie.OK:return tt.OK;case Ie.CANCELLED:return tt.CANCELLED;case Ie.UNKNOWN:return tt.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return tt.INTERNAL;case Ie.UNAVAILABLE:return tt.UNAVAILABLE;case Ie.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Ie.NOT_FOUND:return tt.NOT_FOUND;case Ie.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Ie.ABORTED:return tt.ABORTED;case Ie.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Ie.DATA_LOSS:return tt.DATA_LOSS;default:return vt(39323,{code:r})}}(jt=Ie||(Ie={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function wR(){return new TextEncoder}const RR=new Zr([4294967295,4294967295],0);function Sv(r){const t=wR().encode(r),i=new K0;return i.update(t),new Uint8Array(i.digest())}function bv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Zr([i,a],0),new Zr([l,c],0)]}class Dm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new gl(`Invalid padding: ${i}`);if(a<0)throw new gl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Zr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Zr.fromNumber(a)));return l.compare(RR)===1&&(l=new Zr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Sv(t),[a,l]=bv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Dm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Sv(t),[a,l]=bv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,jl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new mh(St.min(),l,new ue(kt),ar(),Ut())}}class jl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new jl(a,i,Ut(),Ut(),Ut())}}class Mc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class VE{constructor(t,i){this.targetId=t,this.Ce=i}}class xE{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Av{constructor(){this.ve=0,this.Fe=wv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),i=Ut(),a=Ut();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:vt(38017,{changeType:c})}})),new jl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=wv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class IR{constructor(t){this.Ge=t,this.ze=new Map,this.je=ar(),this.Je=Sc(),this.He=Sc(),this.Ye=new ue(kt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if($d(c))if(a===0){const d=new gt(c.path);this.et(i,d,Je.newNoDocument(d,St.min()))}else Qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=es(a).toUint8Array()}catch(y){if(y instanceof sE)return Ya("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Dm(d,l,c)}catch(y){return Ya(y instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&$d(p.target)){const y=new gt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Je.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ut();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new mh(t,i,this.Ye,this.je,a);return this.je=ar(),this.Je=Sc(),this.He=Sc(),this.Ye=new ue(kt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Av,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(kt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(kt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Av),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Sc(){return new ue(gt.comparator)}function wv(){return new ue(gt.comparator)}const CR={asc:"ASCENDING",desc:"DESCENDING"},DR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NR={and:"AND",or:"OR"};class OR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Jd(r,t){return r.useProto3Json||oh(t)?t:{value:t}}function Xc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function MR(r,t){return Xc(r,t.toTimestamp())}function Ci(r){return Qt(!!r,49232),St.fromTimestamp((function(i){const a=ts(i);return new se(a.seconds,a.nanos)})(r))}function Nm(r,t){return Wd(r,t).canonicalString()}function Wd(r,t){const i=(function(l){return new le(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function UE(r){const t=le.fromString(r);return Qt(BE(t),10190,{key:t.toString()}),t}function tm(r,t){return Nm(r.databaseId,t.path)}function Vd(r,t){const i=UE(t);if(i.get(1)!==r.databaseId.projectId)throw new mt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new mt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(PE(i))}function LE(r,t){return Nm(r.databaseId,t)}function VR(r){const t=UE(r);return t.length===4?le.emptyPath():PE(t)}function em(r){return new le(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function PE(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Rv(r,t,i){return{name:tm(r,t),fields:i.value.mapValue.fields}}function xR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(Qt(S===void 0||typeof S=="string",58123),Ke.fromBase64String(S||"")):(Qt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ke.fromUint8Array(S||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const S=_.code===void 0?tt.UNKNOWN:ME(_.code);return new mt(S,_.message||"")})(d);i=new xE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Vd(r,a.document.name),c=Ci(a.document.updateTime),d=a.document.createTime?Ci(a.document.createTime):St.min(),p=new Un({mapValue:{fields:a.document.fields}}),y=Je.newFoundDocument(l,c,d,p),_=a.targetIds||[],S=a.removedTargetIds||[];i=new Mc(_,S,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Vd(r,a.document),c=a.readTime?Ci(a.readTime):St.min(),d=Je.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Mc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Vd(r,a.document),c=a.removedTargetIds||[];i=new Mc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new bR(l,c),p=a.targetId;i=new VE(p,d)}}return i}function kR(r,t){let i;if(t instanceof zl)i={update:Rv(r,t.key,t.value)};else if(t instanceof OE)i={delete:tm(r,t.key)};else if(t instanceof Qs)i={update:Rv(r,t.key,t.data),updateMask:GR(t.fieldMask)};else{if(!(t instanceof ER))return vt(16599,{Vt:t.type});i={verify:tm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Yc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Nl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ol)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Kc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:MR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(r,t.precondition)),i}function UR(r,t){return r&&r.length>0?(Qt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ci(l.updateTime):Ci(c);return d.isEqual(St.min())&&(d=Ci(c)),new yR(d,l.transformResults||[])})(i,t)))):[]}function LR(r,t){return{documents:[LE(r,t.path)]}}function PR(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=LE(r,l);const c=(function(_){if(_.length!==0)return jE(Mi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(x){return{field:La(x.field),direction:BR(x.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Jd(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function zR(r){let t=VR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Qt(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(w){const x=zE(w);return x instanceof Mi&&pE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((x=>(function(W){return new Qc(Pa(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let x;return x=typeof w=="object"?w.value:w,oh(x)?null:x})(i.limit));let y=null;i.startAt&&(y=(function(w){const x=!!w.before,j=w.values||[];return new Fc(j,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const x=!w.before,j=w.values||[];return new Fc(j,x)})(i.endAt)),iR(t,l,d,c,p,"F",y,_)}function jR(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function zE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Pa(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Pa(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Pa(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Pa(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Oe.create(Pa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Mi.create(i.compositeFilter.filters.map((a=>zE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function BR(r){return CR[r]}function qR(r){return DR[r]}function HR(r){return NR[r]}function La(r){return{fieldPath:r.canonicalString()}}function Pa(r){return Ye.fromServerFormat(r.fieldPath)}function jE(r){return r instanceof Oe?(function(i){if(i.op==="=="){if(dv(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NAN"}};if(fv(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(dv(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NAN"}};if(fv(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(i.field),op:qR(i.op),value:i.value}}})(r):r instanceof Mi?(function(i){const a=i.getFilters().map((l=>jE(l)));return a.length===1?a[0]:{compositeFilter:{op:HR(i.op),filters:a}}})(r):vt(54877,{filter:r})}function GR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function BE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Qr{constructor(t,i,a,l,c=St.min(),d=St.min(),p=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class FR{constructor(t){this.yt=t}}function QR(r){const t=zR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Zd(t,t.limit,"L"):t}class YR{constructor(){this.Cn=new KR}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(Wr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(Wr.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class KR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Me(le.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Me(le.comparator)).toArray()}}const Iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qE=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(qE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class Za{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Za(0)}static cr(){return new Za(-1)}}const Cv="LruGarbageCollector",XR=1048576;function Dv([r,t],[i,a]){const l=kt(r,i);return l===0?kt(t,a):l}class $R{constructor(t){this.Ir=t,this.buffer=new Me(Dv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Dv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ZR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(Cv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){so(i)?ut(Cv,"Ignoring IndexedDB error during garbage collection: ",i):await ro(i)}await this.Vr(3e5)}))}}class JR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(ah.ce);const a=new $R(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Iv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Iv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(_=Date.now(),ka()<=xt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-S}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function WR(r,t){return new JR(r,t)}class tI{constructor(){this.changes=new Fs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class nI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&bl(a.mutation,l,Wn.empty(),se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ut()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ut()){const l=Us();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=pl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Us();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ut())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=ar();const d=Sl(),p=(function(){return Sl()})();return i.forEach(((y,_)=>{const S=a.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof Qs)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),bl(S.mutation,_,S.mutation.getFieldMask(),se.now())):d.set(_.key,Wn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>p.set(_,new eI(S,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Sl();let l=new ue(((d,p)=>d-p)),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let S=a.get(y)||Wn.empty();S=p.applyToLocalView(_,S),a.set(y,S);const w=(l.get(p.batchId)||Ut()).add(y);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,S=y.value,w=bE();S.forEach((x=>{if(!c.has(x)){const j=DE(i.get(x),a.get(x));j!==null&&w.set(x,j),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,w))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):rR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Z.resolve(Us());let p=Rl,y=c;return d.next((_=>Z.forEach(_,((S,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(t,S).next((x=>{y=y.insert(S,x)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Ut()))).next((S=>({batchId:p,changes:SE(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((a=>{let l=pl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=pl();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(y=>{const _=(function(w,x){return new uh(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((S=>{S.forEach(((w,x)=>{d=d.insert(w,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Je.newInvalidDocument(S)))}));let p=pl();return d.forEach(((y,_)=>{const S=c.get(y);S!==void 0&&bl(S.mutation,_,Wn.empty(),se.now()),hh(i,_)&&(p=p.insert(y,_))})),p}))}}class iI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ci(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:QR(l.bundledQuery),readTime:Ci(l.readTime)}})(i)),Z.resolve()}}class rI{constructor(){this.overlays=new ue(gt.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Us();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=Us(),c=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ue(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=Us(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const p=Us(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,S)=>p.set(_,S))),!(p.size()>=l)););return Z.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new SR(i,a));let c=this.qr.get(i);c===void 0&&(c=Ut(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class sI{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class Om{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new gt(new le([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new le([])),a=new Le(i,t),l=new Le(i,t+1);let c=Ut();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||kt(t.Yr,i.Yr)}static Kr(t,i){return kt(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}class aI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new TR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Tm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(kt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;gt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new gt(c),0);let p=new Me(kt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Le(i,0),l=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class oI{constructor(t){this.ri=t,this.docs=(function(){return new ue(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=ar();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ar();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:S}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||k2(x2(S),a)<=0||(l.has(S.key)||hh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,l){vt(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new lI(this)}getSize(t){return Z.resolve(this.size)}}class lI extends tI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class uI{constructor(t){this.persistence=t,this.si=new Fs((i=>Am(i)),wm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Om,this.targetCount=0,this.ai=Za.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Za(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class HE{constructor(t,i){this.ui={},this.overlays={},this.ci=new ah(0),this.li=!1,this.li=!0,this.hi=new sI,this.referenceDelegate=t(this),this.Pi=new uI(this),this.indexManager=new YR,this.remoteDocumentCache=(function(l){return new oI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new FR(i),this.Ii=new iI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new rI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new aI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ut("MemoryPersistence","Starting transaction:",t);const l=new cI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class cI extends L2{constructor(t){super(),this.currentSequenceNumber=t}}class Mm{constructor(t){this.persistence=t,this.Ri=new Om,this.Vi=null}static mi(t){return new Mm(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const l=gt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,St.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class $c{constructor(t,i){this.persistence=t,this.pi=new Fs((a=>j2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=WR(this,i)}static mi(t,i){return new $c(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Dc(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Vm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Ut(),l=Ut();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Vm(t,i.fromCache,a,l)}}class hI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class fI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return eb()?8:P2(We())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new hI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(ka()<=xt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Ua(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(ka()<=xt.DEBUG&&ut("QueryEngine","Query:",Ua(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(ka()<=xt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Ua(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(i))):Z.resolve())}ys(t,i){if(yv(i))return Z.resolve(null);let a=Ii(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Zd(i,null,"F"),a=Ii(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ut(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,Zd(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return yv(i)||l.isEqual(St.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Z.resolve(null):(ka()<=xt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ua(i)),this.vs(t,d,i,V2(l,Rl)).next((p=>p)))}))}Ds(t,i){let a=new Me(EE(t));return i.forEach(((l,c)=>{hh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return ka()<=xt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Ua(i)),this.ps.getDocumentsMatchingQuery(t,i,Wr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const xm="LocalStore",dI=3e8;class mI{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ue(kt),this.xs=new Fs((c=>Am(c)),wm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function pI(r,t,i,a){return new mI(r,t,i,a)}async function GE(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Ut();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}for(const _ of c){p.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function gI(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,S){const w=_.batch,x=w.keys();let j=Z.resolve();return x.forEach((W=>{j=j.next((()=>S.getEntry(y,W))).next((nt=>{const J=_.docVersions.get(W);Qt(J!==null,48541),nt.version.compareTo(J)<0&&(w.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),S.addEntry(nt)))}))})),j.next((()=>p.mutationQueue.removeMutationBatch(y,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Ut();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function FE(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function yI(r,t){const i=At(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((S,w)=>{const x=l.get(w);if(!x)return;p.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,w))));let j=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?j=j.withResumeToken(Ke.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):S.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(S.resumeToken,a)),l=l.insert(w,j),(function(nt,J,ot){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=dI?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(x,j,S)&&p.push(i.Pi.updateTargetData(c,j))}));let y=ar(),_=Ut();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(_I(c,d,t.documentUpdates).next((S=>{y=S.ks,_=S.qs}))),!a.isEqual(St.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(S)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function _I(r,t,i){let a=Ut(),l=Ut();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ar();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(St.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):ut(xm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function vI(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Tm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function EI(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Qr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function nm(r,t,i){const a=At(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!so(d))throw d;ut(xm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Nv(r,t,i){const a=At(r);let l=St.min(),c=Ut();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,S){const w=At(y),x=w.xs.get(S);return x!==void 0?Z.resolve(w.Ms.get(x)):w.Pi.getTargetData(_,S)})(a,d,Ii(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:St.min(),i?c:Ut()))).next((p=>(TI(a,aR(t),p),{documents:p,Qs:c})))))}function TI(r,t,i){let a=r.Os.get(t)||St.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Ov{constructor(){this.activeTargetIds=fR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class SI{constructor(){this.Mo=new Ov,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Ov,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class bI{Oo(t){}shutdown(){}}const Mv="ConnectivityMonitor";class Vv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(Mv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(Mv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let bc=null;function im(){return bc===null?bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():bc++,"0x"+bc.toString(16)}const xd="RestConnection",AI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Hc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=im(),p=this.zo(t,i.toUriEncodedString());ut(xd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),S=to(_);return this.Jo(t,p,y,a,S).then((w=>(ut(xd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Ya(xd,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+io})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=AI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class RI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const $e="WebChannelConnection";class II extends wI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=im();return new Promise(((p,y)=>{const _=new X0;_.setWithCredentials(!0),_.listenOnce($0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Cc.NO_ERROR:const w=_.getResponseJson();ut($e,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case Cc.TIMEOUT:ut($e,`RPC '${t}' ${d} timed out`),y(new mt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const x=_.getStatus();if(ut($e,`RPC '${t}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const W=j?.error;if(W&&W.status&&W.message){const nt=(function(ot){const ft=ot.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(ft)>=0?ft:tt.UNKNOWN})(W.status);y(new mt(nt,W.message))}else y(new mt(tt.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new mt(tt.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ut($e,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);ut($e,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",S,a,15)}))}T_(t,i,a){const l=im(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=W0(),p=J0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const S=c.join("");ut($e,`Creating RPC '${t}' stream ${l}: ${S}`,y);const w=d.createWebChannel(S,y);this.I_(w);let x=!1,j=!1;const W=new RI({Yo:J=>{j?ut($e,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(x||(ut($e,`Opening RPC '${t}' stream ${l} transport.`),w.open(),x=!0),ut($e,`RPC '${t}' stream ${l} sending:`,J),w.send(J))},Zo:()=>w.close()}),nt=(J,ot,ft)=>{J.listen(ot,(dt=>{try{ft(dt)}catch(zt){setTimeout((()=>{throw zt}),0)}}))};return nt(w,ml.EventType.OPEN,(()=>{j||(ut($e,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),nt(w,ml.EventType.CLOSE,(()=>{j||(j=!0,ut($e,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(w))})),nt(w,ml.EventType.ERROR,(J=>{j||(j=!0,Ya($e,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new mt(tt.UNAVAILABLE,"The operation could not be completed")))})),nt(w,ml.EventType.MESSAGE,(J=>{if(!j){const ot=J.data[0];Qt(!!ot,16349);const ft=ot,dt=ft?.error||ft[0]?.error;if(dt){ut($e,`RPC '${t}' stream ${l} received error:`,dt);const zt=dt.status;let Ht=(function(b){const R=Ie[b];if(R!==void 0)return ME(R)})(zt),Ct=dt.message;Ht===void 0&&(Ht=tt.INTERNAL,Ct="Unknown error status: "+zt+" with message "+dt.message),j=!0,W.a_(new mt(Ht,Ct)),w.close()}else ut($e,`RPC '${t}' stream ${l} received:`,ot),W.u_(ot)}})),nt(p,Z0.STAT_EVENT,(J=>{J.stat===Fd.PROXY?ut($e,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===Fd.NOPROXY&&ut($e,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function kd(){return typeof document<"u"?document:null}function ph(r){return new OR(r,!0)}class QE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ut("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const xv="PersistentStream";class YE{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(sr(i.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new mt(tt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(xv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ut(xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CI extends YE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=xR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Ci(d.readTime):St.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=em(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=$d(y)?{documents:LR(c,y)}:{query:PR(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=kE(c,d.resumeToken);const _=Jd(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=Xc(c,d.snapshotVersion.toTimestamp());const _=Jd(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=jR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=em(this.serializer),i.removeTarget=t,this.q_(i)}}class DI extends YE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=UR(t.writeResults,t.commitTime),a=Ci(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=em(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>kR(this.serializer,a)))};this.q_(i)}}class NI{}class OI extends NI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new mt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Wd(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(tt.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Wd(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new mt(tt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sr(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Hs="RemoteStore";class VI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Ys(this)&&(ut(Hs,"Restarting streams for network reachability change."),await(async function(y){const _=At(y);_.Ea.add(4),await Bl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await gh(_)})(this))}))})),this.Ra=new MI(a,l)}}async function gh(r){if(Ys(r))for(const t of r.da)await t(!0)}async function Bl(r){for(const t of r.da)await t(!1)}function KE(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Pm(i)?Lm(i):ao(i).O_()&&Um(i,t))}function km(r,t){const i=At(r),a=ao(i);i.Ia.delete(t),a.O_()&&XE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Ys(i)&&i.Ra.set("Unknown"))}function Um(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ao(r).Y_(t)}function XE(r,t){r.Va.Ue(t),ao(r).Z_(t)}function Lm(r){r.Va=new IR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ao(r).start(),r.Ra.ua()}function Pm(r){return Ys(r)&&!ao(r).x_()&&r.Ia.size>0}function Ys(r){return At(r).Ea.size===0}function $E(r){r.Va=void 0}async function xI(r){r.Ra.set("Online")}async function kI(r){r.Ia.forEach(((t,i)=>{Um(r,t)}))}async function UI(r,t){$E(r),Pm(r)?(r.Ra.ha(t),Lm(r)):r.Ra.set("Unknown")}async function LI(r,t,i){if(r.Ra.set("Online"),t instanceof xE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){ut(Hs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Zc(r,a)}else if(t instanceof Mc?r.Va.Ze(t):t instanceof VE?r.Va.st(t):r.Va.tt(t),!i.isEqual(St.min()))try{const a=await FE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const S=c.Ia.get(y);if(!S)return;c.Ia.set(y,S.withResumeToken(Ke.EMPTY_BYTE_STRING,S.snapshotVersion)),XE(c,y);const w=new Qr(S.target,y,_,S.sequenceNumber);Um(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){ut(Hs,"Failed to raise snapshot:",a),await Zc(r,a)}}async function Zc(r,t,i){if(!so(t))throw t;r.Ea.add(1),await Bl(r),r.Ra.set("Offline"),i||(i=()=>FE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ut(Hs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await gh(r)}))}function ZE(r,t){return t().catch((i=>Zc(r,i,t)))}async function yh(r){const t=At(r),i=is(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Tm;for(;PI(t);)try{const l=await vI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,zI(t,l)}catch(l){await Zc(t,l)}JE(t)&&WE(t)}function PI(r){return Ys(r)&&r.Ta.length<10}function zI(r,t){r.Ta.push(t);const i=is(r);i.O_()&&i.X_&&i.ea(t.mutations)}function JE(r){return Ys(r)&&!is(r).x_()&&r.Ta.length>0}function WE(r){is(r).start()}async function jI(r){is(r).ra()}async function BI(r){const t=is(r);for(const i of r.Ta)t.ea(i.mutations)}async function qI(r,t,i){const a=r.Ta.shift(),l=Cm.from(a,t,i);await ZE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await yh(r)}async function HI(r,t){t&&is(r).X_&&await(async function(a,l){if((function(d){return AR(d)&&d!==tt.ABORTED})(l.code)){const c=a.Ta.shift();is(a).B_(),await ZE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await yh(a)}})(r,t),JE(r)&&WE(r)}async function kv(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),ut(Hs,"RemoteStore received new credentials");const a=Ys(i);i.Ea.add(3),await Bl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await gh(i)}async function GI(r,t){const i=At(r);t?(i.Ea.delete(2),await gh(i)):t||(i.Ea.add(2),await Bl(i),i.Ra.set("Unknown"))}function ao(r){return r.ma||(r.ma=(function(i,a,l){const c=At(i);return c.sa(),new CI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:xI.bind(null,r),t_:kI.bind(null,r),r_:UI.bind(null,r),H_:LI.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Pm(r)?Lm(r):r.Ra.set("Unknown")):(await r.ma.stop(),$E(r))}))),r.ma}function is(r){return r.fa||(r.fa=(function(i,a,l){const c=At(i);return c.sa(),new DI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:jI.bind(null,r),r_:HI.bind(null,r),ta:BI.bind(null,r),na:qI.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await yh(r)):(await r.fa.stop(),r.Ta.length>0&&(ut(Hs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class zm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new zm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jm(r,t){if(sr("AsyncQueue",`${t}: ${r}`),so(r))return new mt(tt.UNAVAILABLE,`${t}: ${r}`);throw r}class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||gt.comparator(i.key,a.key):(i,a)=>gt.comparator(i.key,a.key),this.keyedMap=pl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ga;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Uv{constructor(){this.ga=new ue(gt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Ja{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ja(t,i,Ga.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class FI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class QI{constructor(){this.queries=Lv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=Lv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new mt(tt.ABORTED,"Firestore shutting down"))}}function Lv(){return new Fs((r=>vE(r)),ch)}async function YI(r,t){const i=At(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new FI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=jm(d,`Initialization of query '${Ua(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Bm(i)}async function KI(r,t){const i=At(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function XI(r,t){const i=At(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&Bm(i)}function $I(r,t,i){const a=At(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Bm(r){r.Ca.forEach((t=>{t.next()}))}var rm,Pv;(Pv=rm||(rm={})).Ma="default",Pv.Cache="cache";class ZI{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Ja(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ja.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==rm.Cache}}class tT{constructor(t){this.key=t}}class eT{constructor(t){this.key=t}}class JI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=EE(t),this.tu=new Ga(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Uv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,w)=>{const x=l.get(S),j=hh(this.query,w)?w:null,W=!!x&&this.mutatedKeys.has(x.key),nt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let J=!1;x&&j?x.data.isEqual(j.data)?W!==nt&&(a.track({type:3,doc:j}),J=!0):this.su(x,j)||(a.track({type:2,doc:j}),J=!0,(y&&this.eu(j,y)>0||_&&this.eu(j,_)<0)&&(p=!0)):!x&&j?(a.track({type:0,doc:j}),J=!0):x&&!j&&(a.track({type:1,doc:x}),J=!0,(y||_)&&(p=!0)),J&&(j?(d=d.add(j),c=nt?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,w)=>(function(j,W){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:J})}};return nt(j)-nt(W)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Ja(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Uv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new eT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new tT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ut();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ja.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qm="SyncEngine";class WI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class tC{constructor(t){this.key=t,this.hu=!1}}class eC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fs((p=>vE(p)),ch),this.Iu=new Map,this.Eu=new Set,this.du=new ue(gt.comparator),this.Au=new Map,this.Ru=new Om,this.Vu={},this.mu=new Map,this.fu=Za.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nC(r,t,i=!0){const a=oT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await nT(a,t,i,!0),l}async function iC(r,t){const i=oT(r);await nT(i,t,!0,!1)}async function nT(r,t,i,a){const l=await EI(r.localStore,Ii(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await rC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&KE(r.remoteStore,l),p}async function rC(r,t,i,a,l){r.pu=(w,x,j)=>(async function(nt,J,ot,ft){let dt=J.view.ru(ot);dt.Cs&&(dt=await Nv(nt.localStore,J.query,!1).then((({documents:A})=>J.view.ru(A,dt))));const zt=ft&&ft.targetChanges.get(J.targetId),Ht=ft&&ft.targetMismatches.get(J.targetId)!=null,Ct=J.view.applyChanges(dt,nt.isPrimaryClient,zt,Ht);return jv(nt,J.targetId,Ct.au),Ct.snapshot})(r,w,x,j);const c=await Nv(r.localStore,t,!0),d=new JI(t,c.Qs),p=d.ru(c.documents),y=jl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);jv(r,i,_.au);const S=new WI(t,i,d);return r.Tu.set(t,S),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function sC(r,t,i){const a=At(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!ch(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await nm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&km(a.remoteStore,l.targetId),sm(a,l.targetId)})).catch(ro)):(sm(a,l.targetId),await nm(a.localStore,l.targetId,!0))}async function aC(r,t){const i=At(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),km(i.remoteStore,a.targetId))}async function oC(r,t,i){const a=mC(r);try{const l=await(function(d,p){const y=At(d),_=se.now(),S=p.reduce(((j,W)=>j.add(W.key)),Ut());let w,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let W=ar(),nt=Ut();return y.Ns.getEntries(j,S).next((J=>{W=J,W.forEach(((ot,ft)=>{ft.isValidDocument()||(nt=nt.add(ot))}))})).next((()=>y.localDocuments.getOverlayedDocuments(j,W))).next((J=>{w=J;const ot=[];for(const ft of p){const dt=vR(ft,w.get(ft.key).overlayedDocument);dt!=null&&ot.push(new Qs(ft.key,dt,fE(dt.value.mapValue),er.exists(!0)))}return y.mutationQueue.addMutationBatch(j,_,ot,p)})).next((J=>{x=J;const ot=J.applyToLocalDocumentSet(w,nt);return y.documentOverlayCache.saveOverlays(j,J.batchId,ot)}))})).then((()=>({batchId:x.batchId,changes:SE(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ue(kt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await ql(a,l.changes),await yh(a.remoteStore)}catch(l){const c=jm(l,"Failed to persist write");i.reject(c)}}async function iT(r,t){const i=At(r);try{const a=await yI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Qt(d.hu,14607):l.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await ql(i,a,t)}catch(a){await ro(a)}}function zv(r,t,i){const a=At(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=At(d);y.onlineState=p;let _=!1;y.queries.forEach(((S,w)=>{for(const x of w.Sa)x.va(p)&&(_=!0)})),_&&Bm(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function lC(r,t,i){const a=At(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ue(gt.comparator);d=d.insert(c,Je.newNoDocument(c,St.min()));const p=Ut().add(c),y=new mh(St.min(),new Map,new ue(kt),d,p);await iT(a,y),a.du=a.du.remove(c),a.Au.delete(t),Hm(a)}else await nm(a.localStore,t,!1).then((()=>sm(a,t,i))).catch(ro)}async function uC(r,t){const i=At(r),a=t.batch.batchId;try{const l=await gI(i.localStore,t);sT(i,a,null),rT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await ql(i,l)}catch(l){await ro(l)}}async function cC(r,t,i){const a=At(r);try{const l=await(function(d,p){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return y.mutationQueue.lookupMutationBatch(_,p).next((w=>(Qt(w!==null,37113),S=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,S,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>y.localDocuments.getDocuments(_,S)))}))})(a.localStore,t);sT(a,t,i),rT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await ql(a,l)}catch(l){await ro(l)}}function rT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function sT(r,t,i){const a=At(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function sm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||aT(r,a)}))}function aT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(km(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Hm(r))}function jv(r,t,i){for(const a of i)a instanceof tT?(r.Ru.addReference(a.key,t),hC(r,a)):a instanceof eT?(ut(qm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||aT(r,a.key)):vt(19791,{wu:a})}function hC(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ut(qm,"New document in limbo: "+i),r.Eu.add(a),Hm(r))}function Hm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new gt(le.fromString(t)),a=r.fu.next();r.Au.set(a,new tC(i)),r.du=r.du.insert(i,a),KE(r.remoteStore,new Qr(Ii(Rm(i.path)),a,"TargetPurposeLimboResolution",ah.ce))}}async function ql(r,t,i){const a=At(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(_){l.push(_);const S=Vm.As(y.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const S=At(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(_,(x=>Z.forEach(x.Es,(j=>S.persistence.referenceDelegate.addReference(w,x.targetId,j))).next((()=>Z.forEach(x.ds,(j=>S.persistence.referenceDelegate.removeReference(w,x.targetId,j)))))))))}catch(w){if(!so(w))throw w;ut(xm,"Failed to update sequence numbers: "+w)}for(const w of _){const x=w.targetId;if(!w.fromCache){const j=S.Ms.get(x),W=j.snapshotVersion,nt=j.withLastLimboFreeSnapshotVersion(W);S.Ms=S.Ms.insert(x,nt)}}})(a.localStore,c))}async function fC(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){ut(qm,"User change. New user:",t.toKey());const a=await GE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new mt(tt.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await ql(i,a.Ls)}}function dC(r,t){const i=At(r),a=i.Au.get(t);if(a&&a.hu)return Ut().add(a.key);{let l=Ut();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function oT(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=iT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lC.bind(null,t),t.Pu.H_=XI.bind(null,t.eventManager),t.Pu.yu=$I.bind(null,t.eventManager),t}function mC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cC.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ph(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return pI(this.persistence,new fI,t.initialUser,this.serializer)}Cu(t){return new HE(Mm.mi,this.serializer)}Du(t){return new SI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class pC extends Jc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Qt(this.persistence.referenceDelegate instanceof $c,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new ZR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new HE((a=>$c.mi(a,i)),this.serializer)}}class am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>zv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=fC.bind(null,this.syncEngine),await GI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new QI})()}createDatastore(t){const i=ph(t.databaseInfo.databaseId),a=(function(c){return new II(c)})(t.databaseInfo);return(function(c,d,p,y){return new OI(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new VI(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>zv(this.syncEngine,i,0)),(function(){return Vv.v()?new Vv:new bI})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,S){const w=new eC(l,c,d,p,y,_);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);ut(Hs,"RemoteStore shutting down."),a.Ea.add(5),await Bl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}am.provider={build:()=>new am};class gC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):sr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const rs="FirestoreClient";class yC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ut(rs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ut(rs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=jm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Ud(r,t){r.asyncQueue.verifyOperationInProgress(),ut(rs,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await GE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Bv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await _C(r);ut(rs,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>kv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>kv(t.remoteStore,l))),r._onlineComponents=t}async function _C(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(rs,"Using user provided OfflineComponentProvider");try{await Ud(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===tt.FAILED_PRECONDITION||l.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ya("Error using user provided cache. Falling back to memory cache: "+i),await Ud(r,new Jc)}}else ut(rs,"Using default OfflineComponentProvider"),await Ud(r,new pC(void 0));return r._offlineComponents}async function lT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(rs,"Using user provided OnlineComponentProvider"),await Bv(r,r._uninitializedComponentsProvider._online)):(ut(rs,"Using default OnlineComponentProvider"),await Bv(r,new am))),r._onlineComponents}function vC(r){return lT(r).then((t=>t.syncEngine))}async function qv(r){const t=await lT(r),i=t.eventManager;return i.onListen=nC.bind(null,t.syncEngine),i.onUnlisten=sC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=iC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=aC.bind(null,t.syncEngine),i}function uT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Hv=new Map;const cT="firestore.googleapis.com",Gv=!0;class Fv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cT,this.ssl=Gv}else this.host=t.host,this.ssl=t.ssl??Gv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=qE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<XR)throw new mt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}M2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new mt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new mt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new mt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Gm{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new T2;switch(a.type){case"firstParty":return new w2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new mt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Hv.get(i);a&&(ut("ComponentProvider","Removing Datastore"),Hv.delete(i),a.terminate())})(this),Promise.resolve()}}function EC(r,t,i,a={}){r=Ha(r,Gm);const l=to(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(l0(`https://${p}`),u0("Firestore",!0)),c.host!==cT&&c.host!==p&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!zs(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=Ze.MOCK_USER;else{_=QS(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new mt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ze(w)}r._authCredentials=new S2(new eE(_,S))}}class _h{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new _h(this.firestore,t,this._query)}}class Pe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ml(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pe(this.firestore,t,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Pl(i,Pe._jsonSchema))return new Pe(t,a||null,new gt(le.fromString(i.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:Ce("string",Pe._jsonSchemaVersion),referencePath:Ce("string")};class Ml extends _h{constructor(t,i,a){super(t,i,Rm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pe(this.firestore,null,new gt(t))}withConverter(t){return new Ml(this.firestore,t,this._path)}}function hT(r,t,...i){if(r=Pn(r),arguments.length===1&&(t=vm.newId()),O2("doc","path",t),r instanceof Gm){const a=le.fromString(t,...i);return rv(a),new Pe(r,null,new gt(a))}{if(!(r instanceof Pe||r instanceof Ml))throw new mt(tt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(le.fromString(t,...i));return rv(a),new Pe(r.firestore,r instanceof Ml?r.converter:null,new gt(a))}}const Qv="AsyncQueue";class Yv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QE(this,"async_queue_retry"),this._c=()=>{const a=kd();a&&ut(Qv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=kd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=kd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ls;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!so(t))throw t;ut(Qv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,sr("INTERNAL UNHANDLED ERROR: ",Kv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=zm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:Kv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Kv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function Xv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Wc extends Gm{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Yv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Yv(t),this._firestoreClient=void 0,await t}}}function TC(r,t){const i=typeof r=="object"?r:d0(),a=typeof r=="string"?r:Hc,l=cm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=GS("firestore");c&&EC(l,...c)}return l}function fT(r){if(r._terminated)throw new mt(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||SC(r),r._firestoreClient}function SC(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new H2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,uT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new yC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Ke.fromBase64String(t))}catch(i){throw new mt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Pl(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ce("string",Ln._jsonSchemaVersion),bytes:Ce("string")};class Fm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new mt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class dT{constructor(t){this._methodName=t}}class Di{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new mt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new mt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(t){if(Pl(t,Di._jsonSchema))return new Di(t.latitude,t.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Ce("string",Di._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Ni{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Pl(t,Ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ni(t.vectorValues);throw new mt(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:Ce("string",Ni._jsonSchemaVersion),vectorValues:Ce("object")};const bC=/^__.*__$/;class AC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Qs(t,this.data,this.fieldMask,i,this.fieldTransforms):new zl(t,this.data,i,this.fieldTransforms)}}function mT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class Qm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Qm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return th(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(mT(this.Ac)&&bC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class wC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||ph(t)}Cc(t,i,a,l=!1){return new Qm({Ac:t,methodName:i,Dc:a,path:Ye.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RC(r){const t=r._freezeSettings(),i=ph(r._databaseId);return new wC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function IC(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);_T("Data must be an object, but it was:",d,a);const p=gT(a,d);let y,_;if(c.merge)y=new Wn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const w of c.mergeFields){const x=CC(t,w,i);if(!d.contains(x))throw new mt(tt.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);NC(S,x)||S.push(x)}y=new Wn(S),_=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=d.fieldTransforms;return new AC(new Un(p),y,_)}function pT(r,t){if(yT(r=Pn(r)))return _T("Unsupported field value:",t,r),gT(r,t);if(r instanceof dT)return(function(a,l){if(!mT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=pT(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Pn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return dR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=se.fromDate(a);return{timestampValue:Xc(l.serializer,c)}}if(a instanceof se){const c=new se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Xc(l.serializer,c)}}if(a instanceof Di)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ln)return{bytesValue:kE(l.serializer,a._byteString)};if(a instanceof Pe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Nm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ni)return(function(d,p){return{mapValue:{fields:{[cE]:{stringValue:hE},[Gc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Im(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Em(a)}`)})(r,t)}function gT(r,t){const i={};return rE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gs(r,((a,l)=>{const c=pT(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function yT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Di||r instanceof Ln||r instanceof Pe||r instanceof dT||r instanceof Ni)}function _T(r,t,i){if(!yT(i)||!nE(i)){const a=Em(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function CC(r,t,i){if((t=Pn(t))instanceof Fm)return t._internalPath;if(typeof t=="string")return vT(r,t);throw th("Field path arguments must be of type string or ",r,!1,void 0,i)}const DC=new RegExp("[~\\*/\\[\\]]");function vT(r,t,i){if(t.search(DC)>=0)throw th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Fm(...t.split("."))._internalPath}catch{throw th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function th(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new mt(tt.INVALID_ARGUMENT,p+r+y)}function NC(r,t){return r.some((i=>i.isEqual(t)))}class ET{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new OC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(TT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class OC extends ET{data(){return super.data()}}function TT(r,t){return typeof t=="string"?vT(r,t):t instanceof Fm?t._internalPath:t._delegate._internalPath}function MC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new mt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class VC{convertValue(t,i="none"){switch(ns(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(es(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Gs(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Gc].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new Ni(i)}convertGeoPoint(t){return new Di(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=lh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Il(t));default:return null}}convertTimestamp(t){const i=ts(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=le.fromString(t);Qt(BE(a),9688,{name:t});const l=new Cl(a.get(1),a.get(3)),c=new gt(a.popFirst(5));return l.isEqual(i)||sr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function xC(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class yl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ps extends ET{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(TT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ps._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ps._jsonSchema={type:Ce("string",Ps._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Vc extends Ps{data(t={}){return super.data(t)}}class Fa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new yl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Vc(this._firestore,this._userDataWriter,a.key,a,new yl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new mt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Vc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new yl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Vc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new yl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:kC(p.type),doc:y,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function kC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:Ce("string",Fa._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class ST extends VC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Pe(this.firestore,null,i)}}function UC(r,t,i){r=Ha(r,Pe);const a=Ha(r.firestore,Wc),l=xC(r.converter,t);return PC(a,[IC(RC(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,er.none())])}function LC(r,...t){r=Pn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Xv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Xv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Pe)d=Ha(r.firestore,Wc),p=Rm(r._key.path),c={next:y=>{t[a]&&t[a](zC(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Ha(r,_h);d=Ha(y.firestore,Wc),p=y._query;const _=new ST(d);c={next:S=>{t[a]&&t[a](new Fa(d,_,y,S))},error:t[a+1],complete:t[a+2]},MC(r._query)}return(function(_,S,w,x){const j=new gC(x),W=new ZI(S,j,w);return _.asyncQueue.enqueueAndForget((async()=>YI(await qv(_),W))),()=>{j.Nu(),_.asyncQueue.enqueueAndForget((async()=>KI(await qv(_),W)))}})(fT(d),p,l,c)}function PC(r,t){return(function(a,l){const c=new Ls;return a.asyncQueue.enqueueAndForget((async()=>oC(await vC(a),l,c))),c.promise})(fT(r),t)}function zC(r,t,i){const a=i.docs.get(t._key),l=new ST(r);return new Ps(r,l,t._key,a,new yl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){io=l})(eo),Qa(new js("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Wc(new b2(a.getProvider("auth-internal")),new R2(d,a.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new mt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(_.options.projectId,S)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Xr(tv,ev,t),Xr(tv,ev,"esm2020")})();const jC={apiKey:"AIzaSyBcezJRuEx8vsThQKhi8Az_XdL_XSM6u8g",authDomain:"st-mary-somerset.firebaseapp.com",projectId:"st-mary-somerset",storageBucket:"st-mary-somerset.firebasestorage.app",messagingSenderId:"924281338278",appId:"1:924281338278:web:83affbb1aff93ba797f767"},bT=f0(jC),Ym=v2(bT),AT=TC(bT),wT="default-app",BC=async()=>{try{await nw(Ym)}catch(r){console.error("Firebase Auth Error",r)}},qC=r=>lw(Ym,t=>{if(t){const i=hT(AT,"artifacts",wT,"public","data","st_mary_project","main");return LC(i,a=>{a.exists()?r(a.data()):console.log("No data found, seeding...")})}}),$v=async(r,t)=>{if(!Ym.currentUser)return;const i=hT(AT,"artifacts",wT,"public","data","st_mary_project","main");try{await UC(i,{projectStartDate:t.toISOString(),tasks:r,lastUpdated:new Date().toISOString()}),console.log("Data saved to Firebase")}catch(a){console.error("Error saving data:",a)}},HC=(r,t,i)=>{if(t===i)return!0;const a=new Set,l=[i];for(;l.length>0;){const c=l.pop();if(a.has(c))continue;a.add(c);const d=r.find(p=>p.id===c);if(d){if(d.dependencies&&d.dependencies.includes(t))return!0;d.dependencies&&d.dependencies.forEach(p=>l.push(p))}}return!1},Zv=(r,t)=>{if(!r.dependencies||r.dependencies.length===0)return null;let i=null;return r.dependencies.forEach(a=>{const l=t.find(c=>c.id===a);if(l){const c=new Date(l.startDate);c.setDate(c.getDate()+l.duration),(!i||c>i)&&(i=c)}}),i},Jv=(r,t)=>{const i=[...t],a=new Map(i.map(d=>[d.id,d]));a.set(r.id,r);const l=[r],c=new Set;for(;l.length>0;){const d=l.shift();if(c.has(d.id))continue;c.add(d.id);const p=new Date(d.startDate);p.setDate(p.getDate()+d.duration),i.forEach(y=>{if(y.dependencies&&y.dependencies.includes(d.id)&&new Date(y.startDate)<p){const S=new Date(p),w={...y,startDate:S.toISOString()};a.set(y.id,w);const x=i.findIndex(j=>j.id===y.id);i[x]=w,l.push(w)}})}return i};function GC(){const[r,t]=Zt.useState([]),[i,a]=Zt.useState(null),[l,c]=Zt.useState("week"),[d,p]=Zt.useState(new Date("2024-01-01")),[y,_]=Zt.useState(!1),[S,w]=Zt.useState(null),[x,j]=Zt.useState("list"),[W,nt]=Zt.useState(!1),[J,ot]=Zt.useState(null),ft=Wv.useMemo(()=>{const L=r.filter(at=>at.category==="phase");!J&&L.length>0;const Q=J||L[0]?.id;if(!Q)return r;const et=r.find(at=>at.id===Q);if(!et)return r;let st=r.filter(at=>at.wbs&&at.wbs.startsWith(et.wbs));return y&&(st=st.filter(at=>at.isSummary)),st},[r,J,y]);Zt.useEffect(()=>{const L=r.filter(Q=>Q.category==="phase");!J&&L.length>0&&ot(L[0].id)},[r]),Zt.useEffect(()=>{if(S){const L=r.find(Q=>Q.id===S);L&&(console.log("Selected Task Debug:",{id:L.id,name:L.name,isSummary:L.isSummary,childIdsCount:L.childIds?L.childIds.length:0,childrenCount:L.children?L.children.length:"N/A",parentId:L.parentId,level:L.level}),L.children&&console.log("Children IDs:",L.children.map(Q=>Q.id)))}},[S,r]),Zt.useEffect(()=>{const L=()=>nt(window.innerWidth<1024);return L(),window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[]),Zt.useEffect(()=>{BC();const L=qC(Q=>{if(Q){p(new Date(Q.projectStartDate));const et=fl(Q.tasks);t(et)}});return()=>L&&L()},[]);const dt=L=>{$v(L,d)},zt=Zt.useRef(null),Ht=Zt.useRef(null),Ct=Zt.useRef(!1),A=L=>Q=>{if(Ct.current)return;Ct.current=!0;const et=Q.target.scrollTop;L==="sidebar"&&Ht.current?Ht.current.scrollTop=et:L==="timeline"&&zt.current&&(zt.current.scrollTop=et),setTimeout(()=>{Ct.current=!1},10)},[b,R]=Zt.useState([]),[O,D]=Zt.useState([]),V=(L,Q=!0)=>{const et=fl(L);Q&&(R(st=>[...st,r]),D([])),t(et),dt(et)},I=()=>{if(b.length===0)return;const L=b[b.length-1],Q=b.slice(0,-1);D(et=>[r,...et]),R(Q),t(fl(L)),dt(L)},Yt=()=>{if(O.length===0)return;const L=O[0],Q=O.slice(1);R(et=>[...et,r]),D(Q),t(fl(L)),dt(L)},ce=(L="phase")=>{let Q=null,et=r.length,st=null;if(S&&(st=r.find(yt=>yt.id===S)),L==="subtask")if(st)Q=st.id,et=r.length;else{alert("Select a task to add a subtask to.");return}else L==="task"?st?(Q=st.parentId,et=r.indexOf(st)+1):(Q=J,et=r.length):(Q=null,et=r.length);const at=[...r];if(L==="phase"){const yt=`t${Date.now()}`,Et=`t${Date.now()+1}`,Ve={id:yt,name:"New Phase",startDate:new Date().toISOString(),duration:1,progress:0,type:"task",category:"phase",dependencies:[],parentId:null},rn={id:Et,name:"Phase Task 1",startDate:new Date().toISOString(),duration:5,progress:0,type:"task",dependencies:[],parentId:yt};et===r.length?at.push(Ve,rn):at.splice(et,0,Ve,rn)}else{const yt={id:`t${Date.now()}`,name:"New Task",startDate:new Date().toISOString(),duration:5,progress:0,type:"task",dependencies:[],parentId:Q};et===r.length?at.push(yt):at.splice(et,0,yt)}V(at)},G=L=>{const Q=r.find(yt=>yt.id===L);if(!Q)return;const st=(yt=>r.filter(Et=>Et.id!==yt&&Et.wbs&&Et.wbs.startsWith(r.find(Ve=>Ve.id===yt)?.wbs+".")))(L),at=st.length;if(confirm(`Delete "${Q.name}"? ${at>0?`(Includes ${at} subtasks)`:""}`)){const yt=new Set([L,...st.map(Ve=>Ve.id)]),Et=r.filter(Ve=>!yt.has(Ve.id));V(Et)}},rt=(L,Q)=>{if(L===Q)return;let et=r;y&&(et=r.filter(yt=>yt.isSummary));const st=et[L],at=[...r];if(y){const yt=ze=>{const ei=r.find(ni=>ni.id===ze);return ei?r.filter(ni=>ni.id!==ze&&ni.wbs.startsWith(ei.wbs+".")):[]},Et=[st,...yt(st.id)],Ve=new Set(Et.map(ze=>ze.id)),rn=at.filter(ze=>!Ve.has(ze.id)),ti=et[Q];let dn=rn.findIndex(ze=>ze.id===ti.id);if(L<Q){const ze=yt(ti.id);dn=rn.indexOf(ze[ze.length-1]||ti)+1}rn.splice(dn,0,...Et),V(rn)}else{if(L<0||L>=at.length)return;const[yt]=at.splice(L,1);let Et=Q;Et>L&&(Et-=1),Et=Math.max(0,Math.min(Et,at.length)),at.splice(Et,0,yt),V(at)}},[lt,Dt]=Zt.useState(null),Lt=(L,Q)=>{L.stopPropagation(),Dt({task:Q,startX:L.clientX,originalStartDate:new Date(Q.startDate),originalDuration:Q.duration,type:L.shiftKey?"resize":"move"})},M=L=>{if(!lt)return;const Q=Math.round((L.clientX-lt.startX)/(l==="day"?60:l==="week"?40:20));if(lt.type==="move"){let et=addDays(lt.originalStartDate,Q);const st=Zv(lt.task,r);st&&et<st&&(et=st),t(at=>at.map(yt=>yt.id===lt.task.id?{...yt,startDate:et.toISOString()}:yt))}else if(lt.type==="resize"){const et=Math.max(1,lt.originalDuration+Q);t(st=>st.map(at=>at.id===lt.task.id?{...at,duration:et}:at))}},X=()=>{if(lt){const L=r.find(Q=>Q.id===lt.task.id);if(L){const Q=Jv(L,r);V(Q)}}Dt(null)};return K.jsxs("div",{className:"h-screen w-screen bg-midnight text-stone flex flex-col overflow-hidden font-ui select-none",onMouseMove:M,onMouseUp:X,children:[K.jsx(NS,{viewMode:l,setViewMode:c,onAddTask:ce,onUndo:I,onRedo:Yt,canUndo:b.length>0,canRedo:O.length>0,status,showSummaryOnly:y,setShowSummaryOnly:_,onImportData:()=>{if(confirm("Verify: This will OVERWRITE all current tasks with the Excel data. Continue?")){const L=Ad.reduce((st,at)=>{const yt=new Date(at.startDate);return yt<st?yt:st},new Date(864e13)),Q=new Date(L);Q.setDate(Q.getDate()-7),p(Q),console.log("Importing Tasks (Raw):",Ad);const et=fl(Ad);console.log("Importing Tasks (Processed):",et),t(et),$v(et,Q),alert("Data reset to v1.2.1 (Excel Import) & Timeline adjusted.")}}}),W&&K.jsxs("div",{className:"flex border-b border-border bg-void/50",children:[K.jsx("button",{onClick:()=>j("list"),className:`flex-1 py-2 text-xs font-header tracking-wider uppercase ${x==="list"?"bg-bronze text-midnight":"text-stone"}`,children:"Task List"}),K.jsx("button",{onClick:()=>j("chart"),className:`flex-1 py-2 text-xs font-header tracking-wider uppercase ${x==="chart"?"bg-bronze text-midnight":"text-stone"}`,children:"Timeline"})]}),K.jsx("div",{className:"flex bg-void/30 border-b border-border pl-4 gap-1 pt-2",children:r.filter(L=>L.category==="phase").map(L=>K.jsx("button",{onClick:()=>{ot(L.id),w(null)},className:`px-6 py-2 text-sm font-bold uppercase tracking-wider rounded-t-lg transition-colors border-t border-l border-r border-transparent ${J===L.id?"bg-midnight text-bronze border-border border-b-midnight -mb-[1px] relative z-10":"text-stone/50 hover:text-stone hover:bg-white/5"}`,children:L.name},L.id))}),K.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[K.jsx("div",{className:`w-full lg:w-80 flex-shrink-0 h-full overflow-y-auto no-scrollbar border-r border-border transition-all ${W&&x!=="list"?"hidden":"block"}`,children:K.jsx(OS,{tasks:ft,selectedTaskId:S,onSelectTask:w,onEditTask:a,onReorderTasks:rt,scrollRef:zt,onScroll:A("sidebar")})}),K.jsx(xS,{tasks:ft,viewMode:l,projectStartDate:d,onTaskDragStart:Lt,onEditTask:a,scrollRef:Ht,onScroll:A("timeline")})]}),i&&K.jsx(kS,{task:i,onClose:()=>a(null),onSave:(L,Q)=>{if(Q){G(i.id),a(null);return}let et=!1;if(L.dependencies&&L.dependencies.forEach(Et=>{HC([...r],L.id,Et)&&(alert(`Circular dependency detected! Cannot depend on ${Et}`),et=!0)}),et)return;const st=Zv(L,r);st&&new Date(L.startDate)<st&&(alert("Start date adjusted to obey dependencies."),L.startDate=st.toISOString());const at=r.map(Et=>Et.id===L.id?L:Et),yt=Jv(L,at);t(yt),dt(yt),a(null)}})]})}class FC extends Wv.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,i){console.error("ErrorBoundary caught an error",t,i)}render(){return this.state.hasError?K.jsxs("div",{style:{padding:"2rem",background:"#1a1a1a",color:"#ff5555",height:"100vh",overflow:"auto"},children:[K.jsx("h1",{children:"Application Crash"}),K.jsx("pre",{children:this.state.error?.toString()}),K.jsx("pre",{children:this.state.error?.stack})]}):this.props.children}}fS.createRoot(document.getElementById("root")).render(K.jsx(Zt.StrictMode,{children:K.jsx(FC,{children:K.jsx(GC,{})})}));
