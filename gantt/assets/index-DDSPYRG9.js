(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var _d={exports:{}},cl={};var m_;function eS(){if(m_)return cl;m_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:c}}return cl.Fragment=t,cl.jsx=i,cl.jsxs=i,cl}var p_;function nS(){return p_||(p_=1,_d.exports=eS()),_d.exports}var X=nS(),vd={exports:{}},wt={};var g_;function iS(){if(g_)return wt;g_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),V=Symbol.iterator;function z(w){return w===null||typeof w!="object"?null:(w=V&&w[V]||w["@@iterator"],typeof w=="function"?w:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,$={};function ot(w,j,Z){this.props=w,this.context=j,this.refs=$,this.updater=Z||W}ot.prototype.isReactComponent={},ot.prototype.setState=function(w,j){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,j,"setState")},ot.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function ft(){}ft.prototype=ot.prototype;function gt(w,j,Z){this.props=w,this.context=j,this.refs=$,this.updater=Z||W}var ht=gt.prototype=new ft;ht.constructor=gt,nt(ht,ot.prototype),ht.isPureReactComponent=!0;var _t=Array.isArray;function St(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(w,j,Z){var tt=Z.ref;return{$$typeof:a,type:w,key:j,ref:tt!==void 0?tt:null,props:Z}}function M(w,j){return R(w.type,j,w.props)}function N(w){return typeof w=="object"&&w!==null&&w.$$typeof===a}function k(w){var j={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(Z){return j[Z]})}var I=/\/+/g;function Qt(w,j){return typeof w=="object"&&w!==null&&w.key!=null?k(""+w.key):j.toString(36)}function zt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(St,St):(w.status="pending",w.then(function(j){w.status==="pending"&&(w.status="fulfilled",w.value=j)},function(j){w.status==="pending"&&(w.status="rejected",w.reason=j)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function G(w,j,Z,tt,st){var ut=typeof w;(ut==="undefined"||ut==="boolean")&&(w=null);var bt=!1;if(w===null)bt=!0;else switch(ut){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(w.$$typeof){case a:case t:bt=!0;break;case S:return bt=w._init,G(bt(w._payload),j,Z,tt,st)}}if(bt)return st=st(w),bt=tt===""?"."+Qt(w,0):tt,_t(st)?(Z="",bt!=null&&(Z=bt.replace(I,"$&/")+"/"),G(st,j,Z,"",function(sr){return sr})):st!=null&&(N(st)&&(st=M(st,Z+(st.key==null||w&&w.key===st.key?"":(""+st.key).replace(I,"$&/")+"/")+bt)),j.push(st)),1;bt=0;var ee=tt===""?".":tt+":";if(_t(w))for(var Zt=0;Zt<w.length;Zt++)tt=w[Zt],ut=ee+Qt(tt,Zt),bt+=G(tt,j,Z,ut,st);else if(Zt=z(w),typeof Zt=="function")for(w=Zt.call(w),Zt=0;!(tt=w.next()).done;)tt=tt.value,ut=ee+Qt(tt,Zt++),bt+=G(tt,j,Z,ut,st);else if(ut==="object"){if(typeof w.then=="function")return G(zt(w),j,Z,tt,st);throw j=String(w),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return bt}function rt(w,j,Z){if(w==null)return w;var tt=[],st=0;return G(w,tt,"","",function(ut){return j.call(Z,ut,st++)}),tt}function mt(w){if(w._status===-1){var j=w._result;j=j(),j.then(function(Z){(w._status===0||w._status===-1)&&(w._status=1,w._result=Z)},function(Z){(w._status===0||w._status===-1)&&(w._status=2,w._result=Z)}),w._status===-1&&(w._status=0,w._result=j)}if(w._status===1)return w._result.default;throw w._result}var Lt=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},et={map:rt,forEach:function(w,j,Z){rt(w,function(){j.apply(this,arguments)},Z)},count:function(w){var j=0;return rt(w,function(){j++}),j},toArray:function(w){return rt(w,function(j){return j})||[]},only:function(w){if(!N(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return wt.Activity=b,wt.Children=et,wt.Component=ot,wt.Fragment=i,wt.Profiler=l,wt.PureComponent=gt,wt.StrictMode=s,wt.Suspense=y,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,wt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return C.H.useMemoCache(w)}},wt.cache=function(w){return function(){return w.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(w,j,Z){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var tt=nt({},w.props),st=w.key;if(j!=null)for(ut in j.key!==void 0&&(st=""+j.key),j)!A.call(j,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&j.ref===void 0||(tt[ut]=j[ut]);var ut=arguments.length-2;if(ut===1)tt.children=Z;else if(1<ut){for(var bt=Array(ut),ee=0;ee<ut;ee++)bt[ee]=arguments[ee+2];tt.children=bt}return R(w.type,st,tt)},wt.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},wt.createElement=function(w,j,Z){var tt,st={},ut=null;if(j!=null)for(tt in j.key!==void 0&&(ut=""+j.key),j)A.call(j,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(st[tt]=j[tt]);var bt=arguments.length-2;if(bt===1)st.children=Z;else if(1<bt){for(var ee=Array(bt),Zt=0;Zt<bt;Zt++)ee[Zt]=arguments[Zt+2];st.children=ee}if(w&&w.defaultProps)for(tt in bt=w.defaultProps,bt)st[tt]===void 0&&(st[tt]=bt[tt]);return R(w,ut,st)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(w){return{$$typeof:p,render:w}},wt.isValidElement=N,wt.lazy=function(w){return{$$typeof:S,_payload:{_status:-1,_result:w},_init:mt}},wt.memo=function(w,j){return{$$typeof:_,type:w,compare:j===void 0?null:j}},wt.startTransition=function(w){var j=C.T,Z={};C.T=Z;try{var tt=w(),st=C.S;st!==null&&st(Z,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(St,Lt)}catch(ut){Lt(ut)}finally{j!==null&&Z.types!==null&&(j.types=Z.types),C.T=j}},wt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},wt.use=function(w){return C.H.use(w)},wt.useActionState=function(w,j,Z){return C.H.useActionState(w,j,Z)},wt.useCallback=function(w,j){return C.H.useCallback(w,j)},wt.useContext=function(w){return C.H.useContext(w)},wt.useDebugValue=function(){},wt.useDeferredValue=function(w,j){return C.H.useDeferredValue(w,j)},wt.useEffect=function(w,j){return C.H.useEffect(w,j)},wt.useEffectEvent=function(w){return C.H.useEffectEvent(w)},wt.useId=function(){return C.H.useId()},wt.useImperativeHandle=function(w,j,Z){return C.H.useImperativeHandle(w,j,Z)},wt.useInsertionEffect=function(w,j){return C.H.useInsertionEffect(w,j)},wt.useLayoutEffect=function(w,j){return C.H.useLayoutEffect(w,j)},wt.useMemo=function(w,j){return C.H.useMemo(w,j)},wt.useOptimistic=function(w,j){return C.H.useOptimistic(w,j)},wt.useReducer=function(w,j,Z){return C.H.useReducer(w,j,Z)},wt.useRef=function(w){return C.H.useRef(w)},wt.useState=function(w){return C.H.useState(w)},wt.useSyncExternalStore=function(w,j,Z){return C.H.useSyncExternalStore(w,j,Z)},wt.useTransition=function(){return C.H.useTransition()},wt.version="19.2.3",wt}var y_;function om(){return y_||(y_=1,vd.exports=iS()),vd.exports}var se=om(),Ed={exports:{}},hl={},Td={exports:{}},Sd={};var __;function rS(){return __||(__=1,(function(a){function t(G,rt){var mt=G.length;G.push(rt);t:for(;0<mt;){var Lt=mt-1>>>1,et=G[Lt];if(0<l(et,rt))G[Lt]=rt,G[mt]=et,mt=Lt;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var rt=G[0],mt=G.pop();if(mt!==rt){G[0]=mt;t:for(var Lt=0,et=G.length,w=et>>>1;Lt<w;){var j=2*(Lt+1)-1,Z=G[j],tt=j+1,st=G[tt];if(0>l(Z,mt))tt<et&&0>l(st,Z)?(G[Lt]=st,G[tt]=mt,Lt=tt):(G[Lt]=Z,G[j]=mt,Lt=j);else if(tt<et&&0>l(st,mt))G[Lt]=st,G[tt]=mt,Lt=tt;else break t}}return rt}function l(G,rt){var mt=G.sortIndex-rt.sortIndex;return mt!==0?mt:G.id-rt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var y=[],_=[],S=1,b=null,V=3,z=!1,W=!1,nt=!1,$=!1,ot=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function ht(G){for(var rt=i(_);rt!==null;){if(rt.callback===null)s(_);else if(rt.startTime<=G)s(_),rt.sortIndex=rt.expirationTime,t(y,rt);else break;rt=i(_)}}function _t(G){if(nt=!1,ht(G),!W)if(i(y)!==null)W=!0,St||(St=!0,k());else{var rt=i(_);rt!==null&&zt(_t,rt.startTime-G)}}var St=!1,C=-1,A=5,R=-1;function M(){return $?!0:!(a.unstable_now()-R<A)}function N(){if($=!1,St){var G=a.unstable_now();R=G;var rt=!0;try{t:{W=!1,nt&&(nt=!1,ft(C),C=-1),z=!0;var mt=V;try{e:{for(ht(G),b=i(y);b!==null&&!(b.expirationTime>G&&M());){var Lt=b.callback;if(typeof Lt=="function"){b.callback=null,V=b.priorityLevel;var et=Lt(b.expirationTime<=G);if(G=a.unstable_now(),typeof et=="function"){b.callback=et,ht(G),rt=!0;break e}b===i(y)&&s(y),ht(G)}else s(y);b=i(y)}if(b!==null)rt=!0;else{var w=i(_);w!==null&&zt(_t,w.startTime-G),rt=!1}}break t}finally{b=null,V=mt,z=!1}rt=void 0}}finally{rt?k():St=!1}}}var k;if(typeof gt=="function")k=function(){gt(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Qt=I.port2;I.port1.onmessage=N,k=function(){Qt.postMessage(null)}}else k=function(){ot(N,0)};function zt(G,rt){C=ot(function(){G(a.unstable_now())},rt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return V},a.unstable_next=function(G){switch(V){case 1:case 2:case 3:var rt=3;break;default:rt=V}var mt=V;V=rt;try{return G()}finally{V=mt}},a.unstable_requestPaint=function(){$=!0},a.unstable_runWithPriority=function(G,rt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var mt=V;V=G;try{return rt()}finally{V=mt}},a.unstable_scheduleCallback=function(G,rt,mt){var Lt=a.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Lt+mt:Lt):mt=Lt,G){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=mt+et,G={id:S++,callback:rt,priorityLevel:G,startTime:mt,expirationTime:et,sortIndex:-1},mt>Lt?(G.sortIndex=mt,t(_,G),i(y)===null&&G===i(_)&&(nt?(ft(C),C=-1):nt=!0,zt(_t,mt-Lt))):(G.sortIndex=et,t(y,G),W||z||(W=!0,St||(St=!0,k()))),G},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(G){var rt=V;return function(){var mt=V;V=rt;try{return G.apply(this,arguments)}finally{V=mt}}}})(Sd)),Sd}var v_;function sS(){return v_||(v_=1,Td.exports=rS()),Td.exports}var bd={exports:{}},Ye={};var E_;function aS(){if(E_)return Ye;E_=1;var a=om();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:_,implementation:S}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(y,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,S)},Ye.flushSync=function(y){var _=d.T,S=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=_,s.p=S,s.d.f()}},Ye.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},Ye.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ye.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var S=_.as,b=p(S,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,z=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:V,fetchPriority:z}):S==="script"&&s.d.X(y,{crossOrigin:b,integrity:V,fetchPriority:z,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=p(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},Ye.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,b=p(S,_.crossOrigin);s.d.L(y,S,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(y,_){if(typeof y=="string")if(_){var S=p(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},Ye.requestFormReset=function(y){s.d.r(y)},Ye.unstable_batchedUpdates=function(y,_){return y(_)},Ye.useFormState=function(y,_,S){return d.H.useFormState(y,_,S)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var T_;function oS(){if(T_)return bd.exports;T_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),bd.exports=aS(),bd.exports}var S_;function lS(){if(S_)return hl;S_=1;var a=sS(),t=om(),i=oS();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(s(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,V=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),ft=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Qt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case ot:return"Profiler";case $:return"StrictMode";case _t:return"Suspense";case St:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case gt:return e.displayName||"Context";case ft:return(e._context.displayName||"Context")+".Consumer";case ht:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:Qt(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return Qt(e(n))}catch{}}return null}var zt=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Lt=[],et=-1;function w(e){return{current:e}}function j(e){0>et||(e.current=Lt[et],Lt[et]=null,et--)}function Z(e,n){et++,Lt[et]=e.current,e.current=n}var tt=w(null),st=w(null),ut=w(null),bt=w(null);function ee(e,n){switch(Z(ut,n),Z(st,e),Z(tt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ly(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ly(n),e=Py(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(tt),Z(tt,e)}function Zt(){j(tt),j(st),j(ut)}function sr(e){e.memoizedState!==null&&Z(bt,e);var n=tt.current,r=Py(n,e.type);n!==r&&(Z(st,e),Z(tt,r))}function Ci(e){st.current===e&&(j(tt),j(st)),bt.current===e&&(j(bt),al._currentValue=mt)}var Ve,Di;function We(e){if(Ve===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ve=n&&n[1]||"",Di=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+e+Di}var so=!1;function is(e,n){if(!e||so)return"";so=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var B=H}Reflect.construct(e,[],K)}else{try{K.call()}catch(H){B=H}e.call(K.prototype)}}else{try{throw Error()}catch(H){B=H}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var D=g.split(`
`),P=E.split(`
`);for(h=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===D.length||h===P.length)for(o=D.length-1,h=P.length-1;1<=o&&0<=h&&D[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(D[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||D[o]!==P[h]){var F=`
`+D[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{so=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?We(r):""}function ao(e,n){switch(e.tag){case 26:case 27:case 5:return We(e.type);case 16:return We("Lazy");case 13:return e.child!==n&&n!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return is(e.type,!1);case 11:return is(e.type.render,!1);case 1:return is(e.type,!0);case 31:return We("Activity");default:return""}}function oo(e){try{var n="",r=null;do n+=ao(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,De=a.unstable_scheduleCallback,ar=a.unstable_cancelCallback,vh=a.unstable_shouldYield,Hl=a.unstable_requestPaint,tn=a.unstable_now,rs=a.unstable_getCurrentPriorityLevel,lo=a.unstable_ImmediatePriority,uo=a.unstable_UserBlockingPriority,or=a.unstable_NormalPriority,Eh=a.unstable_LowPriority,Gl=a.unstable_IdlePriority,Fl=a.log,Ql=a.unstable_setDisableYieldValue,Ln=null,ze=null;function Tn(e){if(typeof Fl=="function"&&Ql(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Ln,e)}catch{}}var de=Math.clz32?Math.clz32:Yl,Kl=Math.log,Qs=Math.LN2;function Yl(e){return e>>>=0,e===0?32:31-(Kl(e)/Qs|0)|0}var Jn=256,ss=262144,ve=4194304;function Wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Wn(o):(g&=E,g!==0?h=Wn(g):r||(r=E&~e,r!==0&&(h=Wn(r))))):(E=o&~f,E!==0?h=Wn(E):g!==0?h=Wn(g):r||(r=o&~e,r!==0&&(h=Wn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Pn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Th(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xl(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ei(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function as(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,D=e.expirationTimes,P=e.hiddenUpdates;for(r=g&~r;0<r;){var F=31-de(r),K=1<<F;E[F]=0,D[F]=-1;var B=P[F];if(B!==null)for(P[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}r&=~K}o!==0&&os(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function os(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function co(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-de(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function ho(e,n){var r=n&-n;return r=(r&42)!==0?1:ls(r),(r&(e.suspendedLanes|n))!==0?0:r}function ls(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zl(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:o_(e.type))}function zn(e,n){var r=rt.p;try{return rt.p=e,n()}finally{rt.p=r}}var jn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+jn,xe="__reactProps$"+jn,ni="__reactContainer$"+jn,Ks="__reactEvents$"+jn,bh="__reactListeners$"+jn,$l="__reactHandles$"+jn,Jl="__reactResources$"+jn,ii="__reactMarker$"+jn;function Ys(e){delete e[Ee],delete e[xe],delete e[Ks],delete e[bh],delete e[$l]}function ri(e){var n=e[Ee];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ni]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Fy(e);e!==null;){if(r=e[Ee])return r;e=Fy(e)}return n}e=r,r=e.parentNode}return null}function Sn(e){if(e=e[Ee]||e[ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function si(e){var n=e[Jl];return n||(n=e[Jl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[ii]=!0}var fo=new Set,mo={};function ai(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(mo[e]=n,e=0;e<n.length;e++)fo.add(n[e])}var po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),go={},yo={};function Wl(e){return _e.call(yo,e)?!0:_e.call(go,e)?!1:po.test(e)?yo[e]=!0:(go[e]=!0,!1)}function Xs(e,n,r){if(Wl(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function dn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Se(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _o(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=lr(e)?"checked":"value";e._valueTracker=_o(e,n,""+e[n])}}function us(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=lr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cs=/[\n"\\]/g;function rn(e){return e.replace(cs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Zs(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?vo(e,g,ke(n)):r!=null?vo(e,g,ke(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function tu(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}r=r!=null?""+ke(r):"",n=n!=null?""+ke(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Kt(e)}function vo(e,n,r){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ur(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+ke(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function eu(e,n,r){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+ke(r):""}function cr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(zt(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=ke(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Kt(e)}function sn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||nu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function To(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Eo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Eo(e,f,n[f])}function $s(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Js(e){return hr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var So=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fr=null,ui=null;function hs(e){var n=Sn(e);if(n&&(e=n.stateNode)){var r=e[xe]||null;t:switch(e=n.stateNode,n.type){case"input":if(Zs(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[xe]||null;if(!h)throw Error(s(90));Zs(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&us(o)}break t;case"textarea":eu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ur(e,!!r.multiple,n,!1)}}}var Ws=!1;function dr(e,n,r){if(Ws)return e(n,r);Ws=!0;try{var o=e(n);return o}finally{if(Ws=!1,(fr!==null||ui!==null)&&(Zu(),fr&&(n=fr,e=ui,ui=fr=null,hs(n),e)))for(n=0;n<e.length;n++)hs(e[n])}}function qn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[xe]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fs=!1;if(An)try{var $t={};Object.defineProperty($t,"passive",{get:function(){fs=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{fs=!1}var ci=null,bo=null,ds=null;function Ao(){if(ds)return ds;var e,n=bo,r=n.length,o,h="value"in ci?ci.value:ci.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return ds=h.slice(e,1<o?1-o:void 0)}function ms(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function Hn(){return!1}function je(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:Hn,this.isPropagationStopped=Hn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=je(Mi),mr=b({},Mi,{view:0,detail:0}),wo=je(mr),pr,ta,fi,ea=b({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(pr=e.screenX-fi.screenX,ta=e.screenY-fi.screenY):ta=pr=0,fi=e),pr)},movementY:function(e){return"movementY"in e?e.movementY:ta}}),Ro=je(ea),ps=b({},ea,{dataTransfer:0}),ru=je(ps),su=b({},mr,{relatedTarget:0}),gs=je(su),Io=b({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),au=je(Io),na=b({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ou=je(na),lu=b({},Mi,{data:0}),di=je(lu),uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=hu[e])?!!n[e]:!1}function gr(){return fu}var en=b({},mr,{key:function(e){if(e.key){var n=uu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(e){return e.type==="keypress"?ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),du=je(en),mu=b({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=je(mu),u=b({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),m=je(u),v=b({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(v),U=b({},ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=je(U),it=b({},Mi,{newState:0,oldState:0}),It=je(it),me=[9,13,27,32],Ht=An&&"CompositionEvent"in window,oe=null;An&&"documentMode"in document&&(oe=document.documentMode);var wn=An&&"TextEvent"in window&&!oe,mi=An&&(!Ht||oe&&8<oe&&11>=oe),Gn=" ",Fn=!1;function ys(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ia(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ra=!1;function wT(e,n){switch(e){case"compositionend":return ia(n);case"keypress":return n.which!==32?null:(Fn=!0,Gn);case"textInput":return e=n.data,e===Gn&&Fn?null:e;default:return null}}function RT(e,n){if(ra)return e==="compositionend"||!Ht&&ys(e,n)?(e=Ao(),ds=bo=ci=null,ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var IT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ym(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!IT[e.type]:n==="textarea"}function Xm(e,n,r,o){fr?ui?ui.push(o):ui=[o]:fr=o,n=ic(n,"onChange"),0<n.length&&(r=new hi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Co=null,Do=null;function CT(e){Oy(e,0)}function pu(e){var n=fn(e);if(us(n))return e}function Zm(e,n){if(e==="change")return n}var $m=!1;if(An){var Ah;if(An){var wh="oninput"in document;if(!wh){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),wh=typeof Jm.oninput=="function"}Ah=wh}else Ah=!1;$m=Ah&&(!document.documentMode||9<document.documentMode)}function Wm(){Co&&(Co.detachEvent("onpropertychange",tp),Do=Co=null)}function tp(e){if(e.propertyName==="value"&&pu(Do)){var n=[];Xm(n,Do,e,bn(e)),dr(CT,n)}}function DT(e,n,r){e==="focusin"?(Wm(),Co=n,Do=r,Co.attachEvent("onpropertychange",tp)):e==="focusout"&&Wm()}function NT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pu(Do)}function OT(e,n){if(e==="click")return pu(n)}function MT(e,n){if(e==="input"||e==="change")return pu(n)}function VT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:VT;function No(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!_e.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function ep(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function np(e,n){var r=ep(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=ep(r)}}function ip(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ip(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function rp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=li(e.document)}return n}function Rh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var xT=An&&"documentMode"in document&&11>=document.documentMode,sa=null,Ih=null,Oo=null,Ch=!1;function sp(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ch||sa==null||sa!==li(o)||(o=sa,"selectionStart"in o&&Rh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Oo&&No(Oo,o)||(Oo=o,o=ic(Ih,"onSelect"),0<o.length&&(n=new hi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=sa)))}function _s(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var aa={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},Dh={},ap={};An&&(ap=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function vs(e){if(Dh[e])return Dh[e];if(!aa[e])return e;var n=aa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in ap)return Dh[e]=n[r];return e}var op=vs("animationend"),lp=vs("animationiteration"),up=vs("animationstart"),kT=vs("transitionrun"),UT=vs("transitionstart"),LT=vs("transitioncancel"),cp=vs("transitionend"),hp=new Map,Nh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nh.push("scrollEnd");function Qn(e,n){hp.set(e,n),ai(n,[e])}var gu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],oa=0,Oh=0;function yu(){for(var e=oa,n=Oh=oa=0;n<e;){var r=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&fp(r,h,f)}}function _u(e,n,r,o){Rn[oa++]=e,Rn[oa++]=n,Rn[oa++]=r,Rn[oa++]=o,Oh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Mh(e,n,r,o){return _u(e,n,r,o),vu(e)}function Es(e,n){return _u(e,null,null,n),vu(e)}function fp(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function vu(e){if(50<Wo)throw Wo=0,qf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var la={};function PT(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,r,o){return new PT(e,n,r,o)}function Vh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xi(e,n){var r=e.alternate;return r===null?(r=pn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function dp(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Eu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Vh(e)&&(g=1);else if(typeof e=="string")g=H1(e,r,tt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=pn(31,r,n,h),e.elementType=R,e.lanes=f,e;case nt:return Ts(r.children,h,f,n);case $:g=8,h|=24;break;case ot:return e=pn(12,r,n,h|2),e.elementType=ot,e.lanes=f,e;case _t:return e=pn(13,r,n,h),e.elementType=_t,e.lanes=f,e;case St:return e=pn(19,r,n,h),e.elementType=St,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:g=10;break t;case ft:g=9;break t;case ht:g=11;break t;case C:g=14;break t;case A:g=16,o=null;break t}g=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=pn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ts(e,n,r,o){return e=pn(7,e,o,n),e.lanes=r,e}function xh(e,n,r){return e=pn(6,e,null,n),e.lanes=r,e}function mp(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function kh(e,n,r){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var pp=new WeakMap;function In(e,n){if(typeof e=="object"&&e!==null){var r=pp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:oo(n)},pp.set(e,n),n)}return{value:e,source:n,stack:oo(n)}}var ua=[],ca=0,Tu=null,Mo=0,Cn=[],Dn=0,yr=null,pi=1,gi="";function ki(e,n){ua[ca++]=Mo,ua[ca++]=Tu,Tu=e,Mo=n}function gp(e,n,r){Cn[Dn++]=pi,Cn[Dn++]=gi,Cn[Dn++]=yr,yr=e;var o=pi;e=gi;var h=32-de(o)-1;o&=~(1<<h),r+=1;var f=32-de(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,pi=1<<32-de(n)+h|r<<h|o,gi=f+e}else pi=1<<f|r<<h|o,gi=e}function Uh(e){e.return!==null&&(ki(e,1),gp(e,1,0))}function Lh(e){for(;e===Tu;)Tu=ua[--ca],ua[ca]=null,Mo=ua[--ca],ua[ca]=null;for(;e===yr;)yr=Cn[--Dn],Cn[Dn]=null,gi=Cn[--Dn],Cn[Dn]=null,pi=Cn[--Dn],Cn[Dn]=null}function yp(e,n){Cn[Dn++]=pi,Cn[Dn++]=gi,Cn[Dn++]=yr,pi=n.id,gi=n.overflow,yr=e}var Be=null,ie=null,Pt=!1,_r=null,Nn=!1,Ph=Error(s(519));function vr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vo(In(n,e)),Ph}function _p(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[xe]=o,r){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(r=0;r<el.length;r++)Ot(el[r],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),tu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),cr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||ky(n.textContent,r)?(o.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),o.onScroll!=null&&Ot("scroll",n),o.onScrollEnd!=null&&Ot("scrollend",n),o.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||vr(e,!0)}function vp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Be=Be.return}}function ha(e){if(e!==Be)return!1;if(!Pt)return vp(e),Pt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||id(e.type,e.memoizedProps)),r=!r),r&&ie&&vr(e),vp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=Gy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=Gy(e)}else n===27?(n=ie,Vr(e.type)?(e=ld,ld=null,ie=e):ie=n):ie=Be?Mn(e.stateNode.nextSibling):null;return!0}function Ss(){ie=Be=null,Pt=!1}function zh(){var e=_r;return e!==null&&(un===null?un=e:un.push.apply(un,e),_r=null),e}function Vo(e){_r===null?_r=[e]:_r.push(e)}var jh=w(null),bs=null,Ui=null;function Er(e,n,r){Z(jh,n._currentValue),n._currentValue=r}function Li(e){e._currentValue=jh.current,j(jh)}function Bh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function qh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var D=0;D<n.length;D++)if(E.context===n[D]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Bh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Bh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function fa(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;mn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===bt.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}h=h.return}e!==null&&qh(n,e,r,o),n.flags|=262144}function Su(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function As(e){bs=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Ep(bs,e)}function bu(e,n){return bs===null&&As(e),Ep(e,n)}function Ep(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ui===null){if(e===null)throw Error(s(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return r}var zT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},jT=a.unstable_scheduleCallback,BT=a.unstable_NormalPriority,be={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hh(){return{controller:new zT,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&jT(BT,function(){e.controller.abort()})}var ko=null,Gh=0,da=0,ma=null;function qT(e,n){if(ko===null){var r=ko=[];Gh=0,da=Yf(),ma={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Gh++,n.then(Tp,Tp),n}function Tp(){if(--Gh===0&&ko!==null){ma!==null&&(ma.status="fulfilled");var e=ko;ko=null,da=0,ma=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function HT(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Sp=G.S;G.S=function(e,n){sy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&qT(e,n),Sp!==null&&Sp(e,n)};var ws=w(null);function Fh(){var e=ws.current;return e!==null?e:ne.pooledCache}function Au(e,n){n===null?Z(ws,ws.current):Z(ws,n.pool)}function bp(){var e=Fh();return e===null?null:{parent:be._currentValue,pool:e}}var pa=Error(s(460)),Qh=Error(s(474)),wu=Error(s(542)),Ru={then:function(){}};function Ap(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Bn,Bn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ip(e),e;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ip(e),e}throw Is=n,pa}}function Rs(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Is=r,pa):r}}var Is=null;function Rp(){if(Is===null)throw Error(s(459));var e=Is;return Is=null,e}function Ip(e){if(e===pa||e===wu)throw Error(s(483))}var ga=null,Uo=0;function Iu(e){var n=Uo;return Uo+=1,ga===null&&(ga=[]),wp(ga,e,n)}function Lo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Cu(e,n){throw n.$$typeof===V?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Cp(e){function n(x,O){if(e){var L=x.deletions;L===null?(x.deletions=[O],x.flags|=16):L.push(O)}}function r(x,O){if(!e)return null;for(;O!==null;)n(x,O),O=O.sibling;return null}function o(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function h(x,O){return x=xi(x,O),x.index=0,x.sibling=null,x}function f(x,O,L){return x.index=L,e?(L=x.alternate,L!==null?(L=L.index,L<O?(x.flags|=67108866,O):L):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function g(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,O,L,Q){return O===null||O.tag!==6?(O=xh(L,x.mode,Q),O.return=x,O):(O=h(O,L),O.return=x,O)}function D(x,O,L,Q){var pt=L.type;return pt===nt?F(x,O,L.props.children,Q,L.key):O!==null&&(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===A&&Rs(pt)===O.type)?(O=h(O,L.props),Lo(O,L),O.return=x,O):(O=Eu(L.type,L.key,L.props,null,x.mode,Q),Lo(O,L),O.return=x,O)}function P(x,O,L,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=kh(L,x.mode,Q),O.return=x,O):(O=h(O,L.children||[]),O.return=x,O)}function F(x,O,L,Q,pt){return O===null||O.tag!==7?(O=Ts(L,x.mode,Q,pt),O.return=x,O):(O=h(O,L),O.return=x,O)}function K(x,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=xh(""+O,x.mode,L),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case z:return L=Eu(O.type,O.key,O.props,null,x.mode,L),Lo(L,O),L.return=x,L;case W:return O=kh(O,x.mode,L),O.return=x,O;case A:return O=Rs(O),K(x,O,L)}if(zt(O)||k(O))return O=Ts(O,x.mode,L,null),O.return=x,O;if(typeof O.then=="function")return K(x,Iu(O),L);if(O.$$typeof===gt)return K(x,bu(x,O),L);Cu(x,O)}return null}function B(x,O,L,Q){var pt=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return pt!==null?null:E(x,O,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case z:return L.key===pt?D(x,O,L,Q):null;case W:return L.key===pt?P(x,O,L,Q):null;case A:return L=Rs(L),B(x,O,L,Q)}if(zt(L)||k(L))return pt!==null?null:F(x,O,L,Q,null);if(typeof L.then=="function")return B(x,O,Iu(L),Q);if(L.$$typeof===gt)return B(x,O,bu(x,L),Q);Cu(x,L)}return null}function H(x,O,L,Q,pt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(L)||null,E(O,x,""+Q,pt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case z:return x=x.get(Q.key===null?L:Q.key)||null,D(O,x,Q,pt);case W:return x=x.get(Q.key===null?L:Q.key)||null,P(O,x,Q,pt);case A:return Q=Rs(Q),H(x,O,L,Q,pt)}if(zt(Q)||k(Q))return x=x.get(L)||null,F(O,x,Q,pt,null);if(typeof Q.then=="function")return H(x,O,L,Iu(Q),pt);if(Q.$$typeof===gt)return H(x,O,L,bu(O,Q),pt);Cu(O,Q)}return null}function lt(x,O,L,Q){for(var pt=null,Bt=null,ct=O,Dt=O=0,Vt=null;ct!==null&&Dt<L.length;Dt++){ct.index>Dt?(Vt=ct,ct=null):Vt=ct.sibling;var qt=B(x,ct,L[Dt],Q);if(qt===null){ct===null&&(ct=Vt);break}e&&ct&&qt.alternate===null&&n(x,ct),O=f(qt,O,Dt),Bt===null?pt=qt:Bt.sibling=qt,Bt=qt,ct=Vt}if(Dt===L.length)return r(x,ct),Pt&&ki(x,Dt),pt;if(ct===null){for(;Dt<L.length;Dt++)ct=K(x,L[Dt],Q),ct!==null&&(O=f(ct,O,Dt),Bt===null?pt=ct:Bt.sibling=ct,Bt=ct);return Pt&&ki(x,Dt),pt}for(ct=o(ct);Dt<L.length;Dt++)Vt=H(ct,x,Dt,L[Dt],Q),Vt!==null&&(e&&Vt.alternate!==null&&ct.delete(Vt.key===null?Dt:Vt.key),O=f(Vt,O,Dt),Bt===null?pt=Vt:Bt.sibling=Vt,Bt=Vt);return e&&ct.forEach(function(Pr){return n(x,Pr)}),Pt&&ki(x,Dt),pt}function vt(x,O,L,Q){if(L==null)throw Error(s(151));for(var pt=null,Bt=null,ct=O,Dt=O=0,Vt=null,qt=L.next();ct!==null&&!qt.done;Dt++,qt=L.next()){ct.index>Dt?(Vt=ct,ct=null):Vt=ct.sibling;var Pr=B(x,ct,qt.value,Q);if(Pr===null){ct===null&&(ct=Vt);break}e&&ct&&Pr.alternate===null&&n(x,ct),O=f(Pr,O,Dt),Bt===null?pt=Pr:Bt.sibling=Pr,Bt=Pr,ct=Vt}if(qt.done)return r(x,ct),Pt&&ki(x,Dt),pt;if(ct===null){for(;!qt.done;Dt++,qt=L.next())qt=K(x,qt.value,Q),qt!==null&&(O=f(qt,O,Dt),Bt===null?pt=qt:Bt.sibling=qt,Bt=qt);return Pt&&ki(x,Dt),pt}for(ct=o(ct);!qt.done;Dt++,qt=L.next())qt=H(ct,x,Dt,qt.value,Q),qt!==null&&(e&&qt.alternate!==null&&ct.delete(qt.key===null?Dt:qt.key),O=f(qt,O,Dt),Bt===null?pt=qt:Bt.sibling=qt,Bt=qt);return e&&ct.forEach(function(tS){return n(x,tS)}),Pt&&ki(x,Dt),pt}function te(x,O,L,Q){if(typeof L=="object"&&L!==null&&L.type===nt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case z:t:{for(var pt=L.key;O!==null;){if(O.key===pt){if(pt=L.type,pt===nt){if(O.tag===7){r(x,O.sibling),Q=h(O,L.props.children),Q.return=x,x=Q;break t}}else if(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===A&&Rs(pt)===O.type){r(x,O.sibling),Q=h(O,L.props),Lo(Q,L),Q.return=x,x=Q;break t}r(x,O);break}else n(x,O);O=O.sibling}L.type===nt?(Q=Ts(L.props.children,x.mode,Q,L.key),Q.return=x,x=Q):(Q=Eu(L.type,L.key,L.props,null,x.mode,Q),Lo(Q,L),Q.return=x,x=Q)}return g(x);case W:t:{for(pt=L.key;O!==null;){if(O.key===pt)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){r(x,O.sibling),Q=h(O,L.children||[]),Q.return=x,x=Q;break t}else{r(x,O);break}else n(x,O);O=O.sibling}Q=kh(L,x.mode,Q),Q.return=x,x=Q}return g(x);case A:return L=Rs(L),te(x,O,L,Q)}if(zt(L))return lt(x,O,L,Q);if(k(L)){if(pt=k(L),typeof pt!="function")throw Error(s(150));return L=pt.call(L),vt(x,O,L,Q)}if(typeof L.then=="function")return te(x,O,Iu(L),Q);if(L.$$typeof===gt)return te(x,O,bu(x,L),Q);Cu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(r(x,O.sibling),Q=h(O,L),Q.return=x,x=Q):(r(x,O),Q=xh(L,x.mode,Q),Q.return=x,x=Q),g(x)):r(x,O)}return function(x,O,L,Q){try{Uo=0;var pt=te(x,O,L,Q);return ga=null,pt}catch(ct){if(ct===pa||ct===wu)throw ct;var Bt=pn(29,ct,null,x.mode);return Bt.lanes=Q,Bt.return=x,Bt}}}var Cs=Cp(!0),Dp=Cp(!1),Tr=!1;function Kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function br(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=vu(e),fp(e,null,r),n}return _u(e,o,n,r),vu(e)}function Po(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,co(e,r)}}function Xh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Zh=!1;function zo(){if(Zh){var e=ma;if(e!==null)throw e}}function jo(e,n,r,o){Zh=!1;var h=e.updateQueue;Tr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var D=E,P=D.next;D.next=null,g===null?f=P:g.next=P,g=D;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=P:E.next=P,F.lastBaseUpdate=D))}if(f!==null){var K=h.baseState;g=0,F=P=D=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Mt&B)===B:(o&B)===B){B!==0&&B===da&&(Zh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,vt=E;B=n;var te=r;switch(vt.tag){case 1:if(lt=vt.payload,typeof lt=="function"){K=lt.call(te,K,B);break t}K=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=vt.payload,B=typeof lt=="function"?lt.call(te,K,B):lt,B==null)break t;K=b({},K,B);break t;case 2:Tr=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(P=F=H,D=K):F=F.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(D=K),h.baseState=D,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Cr|=g,e.lanes=g,e.memoizedState=K}}function Np(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Op(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Np(r[e],n)}var ya=w(null),Du=w(0);function Mp(e,n){e=Qi,Z(Du,e),Z(ya,n),Qi=e|n.baseLanes}function $h(){Z(Du,Qi),Z(ya,ya.current)}function Jh(){Qi=Du.current,j(ya),j(Du)}var gn=w(null),On=null;function Ar(e){var n=e.alternate;Z(pe,pe.current&1),Z(gn,e),On===null&&(n===null||ya.current!==null||n.memoizedState!==null)&&(On=e)}function Wh(e){Z(pe,pe.current),Z(gn,e),On===null&&(On=e)}function Vp(e){e.tag===22?(Z(pe,pe.current),Z(gn,e),On===null&&(On=e)):wr()}function wr(){Z(pe,pe.current),Z(gn,gn.current)}function yn(e){j(gn),On===e&&(On=null),j(pe)}var pe=w(0);function Nu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ad(r)||od(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,Ct=null,Jt=null,Ae=null,Ou=!1,_a=!1,Ds=!1,Mu=0,Bo=0,va=null,GT=0;function he(){throw Error(s(321))}function tf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!mn(e[r],n[r]))return!1;return!0}function ef(e,n,r,o,h,f){return Pi=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?gg:yf,Ds=!1,f=r(o,h),Ds=!1,_a&&(f=kp(n,r,o,h)),xp(e),f}function xp(e){G.H=Go;var n=Jt!==null&&Jt.next!==null;if(Pi=0,Ae=Jt=Ct=null,Ou=!1,Bo=0,va=null,n)throw Error(s(300));e===null||we||(e=e.dependencies,e!==null&&Su(e)&&(we=!0))}function kp(e,n,r,o){Ct=e;var h=0;do{if(_a&&(va=null),Bo=0,_a=!1,25<=h)throw Error(s(301));if(h+=1,Ae=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=yg,f=n(r,o)}while(_a);return f}function FT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?qo(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Ct.flags|=1024),n}function nf(){var e=Mu!==0;return Mu=0,e}function rf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function sf(e){if(Ou){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ou=!1}Pi=0,Ae=Jt=Ct=null,_a=!1,Bo=Mu=0,va=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Ct.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ge(){if(Jt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Ae===null?Ct.memoizedState:Ae.next;if(n!==null)Ae=n,Jt=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ae===null?Ct.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(e){var n=Bo;return Bo+=1,va===null&&(va=[]),e=wp(va,e,n),n=Ct,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?gg:yf),e}function xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qo(e);if(e.$$typeof===gt)return qe(e)}throw Error(s(438,String(e)))}function af(e){var n=null,r=Ct.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Vu(),Ct.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=M;return n.index++,r}function zi(e,n){return typeof n=="function"?n(e):n}function ku(e){var n=ge();return of(n,Jt,e)}function of(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,D=null,P=n,F=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(Mt&K)===K:(Pi&K)===K){var B=P.revertLane;if(B===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===da&&(F=!0);else if((Pi&B)===B){P=P.next,B===da&&(F=!0);continue}else K={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(E=D=K,g=f):D=D.next=K,Ct.lanes|=B,Cr|=B;K=P.action,Ds&&r(f,K),f=P.hasEagerState?P.eagerState:r(f,K)}else B={lane:K,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(E=D=B,g=f):D=D.next=B,Ct.lanes|=K,Cr|=K;P=P.next}while(P!==null&&P!==n);if(D===null?g=f:D.next=E,!mn(f,e.memoizedState)&&(we=!0,F&&(r=ma,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=D,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function lf(e){var n=ge(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);mn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Up(e,n,r){var o=Ct,h=ge(),f=Pt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var g=!mn((Jt||h).memoizedState,r);if(g&&(h.memoizedState=r,we=!0),h=h.queue,hf(zp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Ea(9,{destroy:void 0},Pp.bind(null,o,h,r,n),null),ne===null)throw Error(s(349));f||(Pi&127)!==0||Lp(o,n,r)}return r}function Lp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Ct.updateQueue,n===null?(n=Vu(),Ct.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Pp(e,n,r,o){n.value=r,n.getSnapshot=o,jp(n)&&Bp(e)}function zp(e,n,r){return r(function(){jp(n)&&Bp(e)})}function jp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!mn(e,r)}catch{return!0}}function Bp(e){var n=Es(e,2);n!==null&&cn(n,e,2)}function uf(e){var n=nn();if(typeof e=="function"){var r=e;if(e=r(),Ds){Tn(!0);try{r()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function qp(e,n,r,o){return e.baseState=r,of(e,Jt,typeof o=="function"?o:zi)}function QT(e,n,r,o,h){if(Pu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Hp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Hp(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=r(h,o),D=G.S;D!==null&&D(g,E),Gp(e,n,E)}catch(P){cf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=r(h,o),Gp(e,n,f)}catch(P){cf(e,n,P)}}function Gp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Fp(e,n,o)},function(o){return cf(e,n,o)}):Fp(e,n,r)}function Fp(e,n,r){n.status="fulfilled",n.value=r,Qp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Hp(e,r)))}function cf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Qp(n),n=n.next;while(n!==o)}e.action=null}function Qp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Kp(e,n){return n}function Yp(e,n){if(Pt){var r=ne.formState;if(r!==null){t:{var o=Ct;if(Pt){if(ie){e:{for(var h=ie,f=Nn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=Mn(h.nextSibling),o=h.data==="F!";break t}}vr(o)}o=!1}o&&(n=r[0])}}return r=nn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kp,lastRenderedState:n},r.queue=o,r=dg.bind(null,Ct,o),o.dispatch=r,o=uf(!1),f=gf.bind(null,Ct,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=QT.bind(null,Ct,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function Xp(e){var n=ge();return Zp(n,Jt,e)}function Zp(e,n,r){if(n=of(e,n,Kp)[0],e=ku(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=qo(n)}catch(g){throw g===pa?wu:g}else o=n;n=ge();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ct.flags|=2048,Ea(9,{destroy:void 0},KT.bind(null,h,r),null)),[o,f,e]}function KT(e,n){e.action=n}function $p(e){var n=ge(),r=Jt;if(r!==null)return Zp(n,r,e);ge(),n=n.memoizedState,r=ge();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ea(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Vu(),Ct.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Jp(){return ge().memoizedState}function Uu(e,n,r,o){var h=nn();Ct.flags|=e,h.memoizedState=Ea(1|n,{destroy:void 0},r,o===void 0?null:o)}function Lu(e,n,r,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&tf(o,Jt.memoizedState.deps)?h.memoizedState=Ea(n,f,r,o):(Ct.flags|=e,h.memoizedState=Ea(1|n,f,r,o))}function Wp(e,n){Uu(8390656,8,e,n)}function hf(e,n){Lu(2048,8,e,n)}function YT(e){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=Vu(),Ct.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function tg(e){var n=ge().memoizedState;return YT({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function eg(e,n){return Lu(4,2,e,n)}function ng(e,n){return Lu(4,4,e,n)}function ig(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function rg(e,n,r){r=r!=null?r.concat([e]):null,Lu(4,4,ig.bind(null,n,e),r)}function ff(){}function sg(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&tf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function ag(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&tf(n,o[1]))return o[0];if(o=e(),Ds){Tn(!0);try{e()}finally{Tn(!1)}}return r.memoizedState=[o,n],o}function df(e,n,r){return r===void 0||(Pi&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=oy(),Ct.lanes|=e,Cr|=e,r)}function og(e,n,r,o){return mn(r,n)?r:ya.current!==null?(e=df(e,r,o),mn(e,n)||(we=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(Mt&261930)===0?(we=!0,e.memoizedState=r):(e=oy(),Ct.lanes|=e,Cr|=e,n)}function lg(e,n,r,o,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,gf(e,!1,n,r);try{var D=h(),P=G.S;if(P!==null&&P(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var F=HT(D,o);Ho(e,n,F,En(e))}else Ho(e,n,o,En(e))}catch(K){Ho(e,n,{then:function(){},status:"rejected",reason:K},En())}finally{rt.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function XT(){}function mf(e,n,r,o){if(e.tag!==5)throw Error(s(476));var h=ug(e).queue;lg(e,h,n,mt,r===null?XT:function(){return cg(e),r(o)})}function ug(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:mt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function cg(e){var n=ug(e);n.next===null&&(n=e.alternate.memoizedState),Ho(e,n.next.queue,{},En())}function pf(){return qe(al)}function hg(){return ge().memoizedState}function fg(){return ge().memoizedState}function ZT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=En();e=Sr(r);var o=br(n,e,r);o!==null&&(cn(o,n,r),Po(o,n,r)),n={cache:Hh()},e.payload=n;return}n=n.return}}function $T(e,n,r){var o=En();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Pu(e)?mg(n,r):(r=Mh(e,n,r,o),r!==null&&(cn(r,e,o),pg(r,n,o)))}function dg(e,n,r){var o=En();Ho(e,n,r,o)}function Ho(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Pu(e))mg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,mn(E,g))return _u(e,n,h,0),ne===null&&yu(),!1}catch{}if(r=Mh(e,n,h,o),r!==null)return cn(r,e,o),pg(r,n,o),!0}return!1}function gf(e,n,r,o){if(o={lane:2,revertLane:Yf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Pu(e)){if(n)throw Error(s(479))}else n=Mh(e,r,o,2),n!==null&&cn(n,e,2)}function Pu(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function mg(e,n){_a=Ou=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function pg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,co(e,r)}}var Go={readContext:qe,use:xu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Go.useEffectEvent=he;var gg={readContext:qe,use:xu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:Wp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Uu(4194308,4,ig.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Uu(4194308,4,e,n)},useInsertionEffect:function(e,n){Uu(4,2,e,n)},useMemo:function(e,n){var r=nn();n=n===void 0?null:n;var o=e();if(Ds){Tn(!0);try{e()}finally{Tn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=nn();if(r!==void 0){var h=r(n);if(Ds){Tn(!0);try{r(n)}finally{Tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=$T.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=uf(e);var n=e.queue,r=dg.bind(null,Ct,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:ff,useDeferredValue:function(e,n){var r=nn();return df(r,e,n)},useTransition:function(){var e=uf(!1);return e=lg.bind(null,Ct,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Ct,h=nn();if(Pt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),ne===null)throw Error(s(349));(Mt&127)!==0||Lp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Wp(zp.bind(null,o,f,e),[e]),o.flags|=2048,Ea(9,{destroy:void 0},Pp.bind(null,o,f,r,n),null),r},useId:function(){var e=nn(),n=ne.identifierPrefix;if(Pt){var r=gi,o=pi;r=(o&~(1<<32-de(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Mu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=GT++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:pf,useFormState:Yp,useActionState:Yp,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=gf.bind(null,Ct,!0,r),r.dispatch=n,[e,n]},useMemoCache:af,useCacheRefresh:function(){return nn().memoizedState=ZT.bind(null,Ct)},useEffectEvent:function(e){var n=nn(),r={impl:e};return n.memoizedState=r,function(){if((Gt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},yf={readContext:qe,use:xu,useCallback:sg,useContext:qe,useEffect:hf,useImperativeHandle:rg,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:ag,useReducer:ku,useRef:Jp,useState:function(){return ku(zi)},useDebugValue:ff,useDeferredValue:function(e,n){var r=ge();return og(r,Jt.memoizedState,e,n)},useTransition:function(){var e=ku(zi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:Up,useId:hg,useHostTransitionStatus:pf,useFormState:Xp,useActionState:Xp,useOptimistic:function(e,n){var r=ge();return qp(r,Jt,e,n)},useMemoCache:af,useCacheRefresh:fg};yf.useEffectEvent=tg;var yg={readContext:qe,use:xu,useCallback:sg,useContext:qe,useEffect:hf,useImperativeHandle:rg,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:ag,useReducer:lf,useRef:Jp,useState:function(){return lf(zi)},useDebugValue:ff,useDeferredValue:function(e,n){var r=ge();return Jt===null?df(r,e,n):og(r,Jt.memoizedState,e,n)},useTransition:function(){var e=lf(zi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:Up,useId:hg,useHostTransitionStatus:pf,useFormState:$p,useActionState:$p,useOptimistic:function(e,n){var r=ge();return Jt!==null?qp(r,Jt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:af,useCacheRefresh:fg};yg.useEffectEvent=tg;function _f(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var vf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=En(),h=Sr(o);h.payload=n,r!=null&&(h.callback=r),n=br(e,h,o),n!==null&&(cn(n,e,o),Po(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=En(),h=Sr(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=br(e,h,o),n!==null&&(cn(n,e,o),Po(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=En(),o=Sr(r);o.tag=2,n!=null&&(o.callback=n),n=br(e,o,r),n!==null&&(cn(n,e,r),Po(n,e,r))}};function _g(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!No(r,o)||!No(h,f):!0}function vg(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&vf.enqueueReplaceState(n,n.state,null)}function Ns(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Eg(e){gu(e)}function Tg(e){console.error(e)}function Sg(e){gu(e)}function zu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function bg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ef(e,n,r){return r=Sr(r),r.tag=3,r.payload={element:null},r.callback=function(){zu(e,n)},r}function Ag(e){return e=Sr(e),e.tag=3,e}function wg(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){bg(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){bg(n,r,o),typeof h!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function JT(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&fa(n,r,h,!0),r=gn.current,r!==null){switch(r.tag){case 31:case 13:return On===null?$u():r.alternate===null&&fe===0&&(fe=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Ru?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Ff(e,o,h)),!1;case 22:return r.flags|=65536,o===Ru?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Ff(e,o,h)),!1}throw Error(s(435,r.tag))}return Ff(e,o,h),$u(),!1}if(Pt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Ph&&(e=Error(s(422),{cause:o}),Vo(In(e,r)))):(o!==Ph&&(n=Error(s(423),{cause:o}),Vo(In(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=In(o,r),h=Ef(e.stateNode,o,h),Xh(e,h),fe!==4&&(fe=2)),!1;var f=Error(s(520),{cause:o});if(f=In(f,r),Jo===null?Jo=[f]:Jo.push(f),fe!==4&&(fe=2),n===null)return!0;o=In(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Ef(r.stateNode,o,e),Xh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Dr===null||!Dr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Ag(h),wg(h,e,r,o),Xh(r,h),!1}r=r.return}while(r!==null);return!1}var Tf=Error(s(461)),we=!1;function He(e,n,r,o){n.child=e===null?Dp(n,null,r,o):Cs(n,e.child,r,o)}function Rg(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return As(n),o=ef(e,n,r,g,f,h),E=nf(),e!==null&&!we?(rf(e,n,h),ji(e,n,h)):(Pt&&E&&Uh(n),n.flags|=1,He(e,n,o,h),n.child)}function Ig(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Vh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Cg(e,n,f,o,h)):(e=Eu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Df(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:No,r(g,o)&&e.ref===n.ref)return ji(e,n,h)}return n.flags|=1,e=xi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Cg(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(No(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,Df(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,ji(e,n,h)}return Sf(e,n,r,o,h)}function Dg(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Ng(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Au(n,f!==null?f.cachePool:null),f!==null?Mp(n,f):$h(),Vp(n);else return o=n.lanes=536870912,Ng(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Au(n,f.cachePool),Mp(n,f),wr(),n.memoizedState=null):(e!==null&&Au(n,null),$h(),wr());return He(e,n,h,r),n.child}function Fo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ng(e,n,r,o,h){var f=Fh();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Au(n,null),$h(),Vp(n),e!==null&&fa(e,n,o,!0),n.childLanes=h,null}function ju(e,n){return n=qu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Og(e,n,r){return Cs(n,e.child,null,r),e=ju(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function WT(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Pt){if(o.mode==="hidden")return e=ju(n,o),n.lanes=536870912,Fo(null,e);if(Wh(n),(e=ie)?(e=Hy(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:yr!==null?{id:pi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},r=mp(e),r.return=n,n.child=r,Be=n,ie=null)):e=null,e===null)throw vr(n);return n.lanes=536870912,null}return ju(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Wh(n),h)if(n.flags&256)n.flags&=-257,n=Og(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(we||fa(e,n,r,!1),h=(r&e.childLanes)!==0,we||h){if(o=ne,o!==null&&(g=ho(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Es(e,g),cn(o,e,g),Tf;$u(),n=Og(e,n,r)}else e=f.treeContext,ie=Mn(g.nextSibling),Be=n,Pt=!0,_r=null,Nn=!1,e!==null&&yp(n,e),n=ju(n,o),n.flags|=4096;return n}return e=xi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Bu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Sf(e,n,r,o,h){return As(n),r=ef(e,n,r,o,void 0,h),o=nf(),e!==null&&!we?(rf(e,n,h),ji(e,n,h)):(Pt&&o&&Uh(n),n.flags|=1,He(e,n,r,h),n.child)}function Mg(e,n,r,o,h,f){return As(n),n.updateQueue=null,r=kp(n,o,r,h),xp(e),o=nf(),e!==null&&!we?(rf(e,n,f),ji(e,n,f)):(Pt&&o&&Uh(n),n.flags|=1,He(e,n,r,f),n.child)}function Vg(e,n,r,o,h){if(As(n),n.stateNode===null){var f=la,g=r.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Kh(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?qe(g):la,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(_f(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&vf.enqueueReplaceState(f,f.state,null),jo(n,o,f,h),zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,D=Ns(r,E);f.props=D;var P=f.context,F=r.contextType;g=la,typeof F=="object"&&F!==null&&(g=qe(F));var K=r.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&vg(n,f,o,g),Tr=!1;var B=n.memoizedState;f.state=B,jo(n,o,f,h),zo(),P=n.memoizedState,E||B!==P||Tr?(typeof K=="function"&&(_f(n,r,K,o),P=n.memoizedState),(D=Tr||_g(n,r,D,o,B,P,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Yh(e,n),g=n.memoizedProps,F=Ns(r,g),f.props=F,K=n.pendingProps,B=f.context,P=r.contextType,D=la,typeof P=="object"&&P!==null&&(D=qe(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||B!==D)&&vg(n,f,o,D),Tr=!1,B=n.memoizedState,f.state=B,jo(n,o,f,h),zo();var H=n.memoizedState;g!==K||B!==H||Tr||e!==null&&e.dependencies!==null&&Su(e.dependencies)?(typeof E=="function"&&(_f(n,r,E,o),H=n.memoizedState),(F=Tr||_g(n,r,F,o,B,H,D)||e!==null&&e.dependencies!==null&&Su(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=D,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Bu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Cs(n,e.child,null,h),n.child=Cs(n,null,r,h)):He(e,n,r,h),n.memoizedState=f.state,e=n.child):e=ji(e,n,h),e}function xg(e,n,r,o){return Ss(),n.flags|=256,He(e,n,r,o),n.child}var bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Af(e){return{baseLanes:e,cachePool:bp()}}function wf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=vn),e}function kg(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pt){if(h?Ar(n):wr(),(e=ie)?(e=Hy(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:yr!==null?{id:pi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},r=mp(e),r.return=n,n.child=r,Be=n,ie=null)):e=null,e===null)throw vr(n);return od(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(wr(),h=n.mode,E=qu({mode:"hidden",children:E},h),o=Ts(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Af(r),o.childLanes=wf(e,g,r),n.memoizedState=bf,Fo(null,o)):(Ar(n),Rf(n,E))}var D=e.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(f)n.flags&256?(Ar(n),n.flags&=-257,n=If(e,n,r)):n.memoizedState!==null?(wr(),n.child=e.child,n.flags|=128,n=null):(wr(),E=o.fallback,h=n.mode,o=qu({mode:"visible",children:o.children},h),E=Ts(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Cs(n,e.child,null,r),o=n.child,o.memoizedState=Af(r),o.childLanes=wf(e,g,r),n.memoizedState=bf,n=Fo(null,o));else if(Ar(n),od(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(s(419)),o.stack="",o.digest=g,Vo({value:o,source:null,stack:null}),n=If(e,n,r)}else if(we||fa(e,n,r,!1),g=(r&e.childLanes)!==0,we||g){if(g=ne,g!==null&&(o=ho(g,r),o!==0&&o!==D.retryLane))throw D.retryLane=o,Es(e,o),cn(g,e,o),Tf;ad(E)||$u(),n=If(e,n,r)}else ad(E)?(n.flags|=192,n.child=e.child,n=null):(e=D.treeContext,ie=Mn(E.nextSibling),Be=n,Pt=!0,_r=null,Nn=!1,e!==null&&yp(n,e),n=Rf(n,o.children),n.flags|=4096);return n}return h?(wr(),E=o.fallback,h=n.mode,D=e.child,P=D.sibling,o=xi(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,P!==null?E=xi(P,E):(E=Ts(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Fo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Af(r):(h=E.cachePool,h!==null?(D=be._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=bp(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=wf(e,g,r),n.memoizedState=bf,Fo(e.child,o)):(Ar(n),r=e.child,e=r.sibling,r=xi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Rf(e,n){return n=qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function qu(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function If(e,n,r){return Cs(n,e.child,null,r),e=Rf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ug(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Bh(e.return,n,r)}function Cf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Lg(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=pe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,Z(pe,g),He(e,n,o,r),o=Pt?Mo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ug(e,r,n);else if(e.tag===19)Ug(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Nu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Cf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Nu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Cf(n,!0,r,null,f,o);break;case"together":Cf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ji(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Cr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(fa(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=xi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=xi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Df(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Su(e)))}function t1(e,n,r){switch(n.tag){case 3:ee(n,n.stateNode.containerInfo),Er(n,be,e.memoizedState.cache),Ss();break;case 27:case 5:sr(n);break;case 4:ee(n,n.stateNode.containerInfo);break;case 10:Er(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Wh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ar(n),n.flags|=128,null):(r&n.child.childLanes)!==0?kg(e,n,r):(Ar(n),e=ji(e,n,r),e!==null?e.sibling:null);Ar(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(fa(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Lg(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Z(pe,pe.current),o)break;return null;case 22:return n.lanes=0,Dg(e,n,r,n.pendingProps);case 24:Er(n,be,e.memoizedState.cache)}return ji(e,n,r)}function Pg(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Df(e,r)&&(n.flags&128)===0)return we=!1,t1(e,n,r);we=(e.flags&131072)!==0}else we=!1,Pt&&(n.flags&1048576)!==0&&gp(n,Mo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Rs(n.elementType),n.type=e,typeof e=="function")Vh(e)?(o=Ns(e,o),n.tag=1,n=Vg(null,n,e,o,r)):(n.tag=0,n=Sf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===ht){n.tag=11,n=Rg(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=Ig(null,n,e,o,r);break t}}throw n=Qt(e)||e,Error(s(306,n,""))}}return n;case 0:return Sf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Ns(o,n.pendingProps),Vg(e,n,o,h,r);case 3:t:{if(ee(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Yh(e,n),jo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Er(n,be,o),o!==f.cache&&qh(n,[be],r,!0),zo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=xg(e,n,o,r);break t}else if(o!==h){h=In(Error(s(424)),n),Vo(h),n=xg(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ie=Mn(e.firstChild),Be=n,Pt=!0,_r=null,Nn=!0,r=Dp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ss(),o===h){n=ji(e,n,r);break t}He(e,n,o,r)}n=n.child}return n;case 26:return Bu(e,n),e===null?(r=Xy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,e=n.pendingProps,o=rc(ut.current).createElement(r),o[Ee]=n,o[xe]=e,Ge(o,r,e),Te(o),n.stateNode=o):n.memoizedState=Xy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return sr(n),e===null&&Pt&&(o=n.stateNode=Qy(n.type,n.pendingProps,ut.current),Be=n,Nn=!0,h=ie,Vr(n.type)?(ld=h,ie=Mn(o.firstChild)):ie=h),He(e,n,n.pendingProps.children,r),Bu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Pt&&((h=o=ie)&&(o=N1(o,n.type,n.pendingProps,Nn),o!==null?(n.stateNode=o,Be=n,ie=Mn(o.firstChild),Nn=!1,h=!0):h=!1),h||vr(n)),sr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,id(h,f)?o=null:g!==null&&id(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=ef(e,n,FT,null,null,r),al._currentValue=h),Bu(e,n),He(e,n,o,r),n.child;case 6:return e===null&&Pt&&((e=r=ie)&&(r=O1(r,n.pendingProps,Nn),r!==null?(n.stateNode=r,Be=n,ie=null,e=!0):e=!1),e||vr(n)),null;case 13:return kg(e,n,r);case 4:return ee(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Cs(n,null,o,r):He(e,n,o,r),n.child;case 11:return Rg(e,n,n.type,n.pendingProps,r);case 7:return He(e,n,n.pendingProps,r),n.child;case 8:return He(e,n,n.pendingProps.children,r),n.child;case 12:return He(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Er(n,n.type,o.value),He(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,As(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,r),n.child;case 14:return Ig(e,n,n.type,n.pendingProps,r);case 15:return Cg(e,n,n.type,n.pendingProps,r);case 19:return Lg(e,n,r);case 31:return WT(e,n,r);case 22:return Dg(e,n,r,n.pendingProps);case 24:return As(n),o=qe(be),e===null?(h=Fh(),h===null&&(h=ne,f=Hh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Kh(n),Er(n,be,h)):((e.lanes&r)!==0&&(Yh(e,n),jo(n,null,null,r),zo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Er(n,be,o)):(o=f.cache,Er(n,be,o),o!==h.cache&&qh(n,[be],r,!0))),He(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Bi(e){e.flags|=4}function Nf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(hy())e.flags|=8192;else throw Is=Ru,Qh}else e.flags&=-16777217}function zg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!t_(n))if(hy())e.flags|=8192;else throw Is=Ru,Qh}function Hu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Xl():536870912,e.lanes|=n,Aa|=n)}function Qo(e,n){if(!Pt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function e1(e,n,r){var o=n.pendingProps;switch(Lh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(be),Zt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ha(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zh())),re(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(re(n),zg(n,f)):(re(n),Nf(n,h,null,o,r))):f?f!==e.memoizedState?(Bi(n),re(n),zg(n,f)):(re(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(n),re(n),Nf(n,h,e,o,r)),null;case 27:if(Ci(n),r=ut.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return re(n),null}e=tt.current,ha(n)?_p(n):(e=Qy(h,o,r),n.stateNode=e,Bi(n))}return re(n),null;case 5:if(Ci(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return re(n),null}if(f=tt.current,ha(n))_p(n);else{var g=rc(ut.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ee]=n,f[xe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(n)}}return re(n),Nf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=ut.current,ha(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||ky(e.nodeValue,r)),e||vr(n,!0)}else e=rc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return re(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ha(n),r!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ee]=n}else Ss(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),e=!1}else r=zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return re(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ha(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=n}else Ss(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),h=!1}else h=zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Hu(n,n.updateQueue),re(n),null);case 4:return Zt(),e===null&&Jf(n.stateNode.containerInfo),re(n),null;case 10:return Li(n.type),re(n),null;case 19:if(j(pe),o=n.memoizedState,o===null)return re(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Qo(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Nu(e),f!==null){for(n.flags|=128,Qo(o,!1),e=f.updateQueue,n.updateQueue=e,Hu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)dp(r,e),r=r.sibling;return Z(pe,pe.current&1|2),Pt&&ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>Yu&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Nu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Hu(n,e),Qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Pt)return re(n),null}else 2*tn()-o.renderingStartTime>Yu&&r!==536870912&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,r=pe.current,Z(pe,h?r&1|2:r&1),Pt&&ki(n,o.treeForkCount),e):(re(n),null);case 22:case 23:return yn(n),Jh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),r=n.updateQueue,r!==null&&Hu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&j(ws),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Li(be),re(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function n1(e,n){switch(Lh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(be),Zt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ci(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(s(340));Ss()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ss()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return j(pe),null;case 4:return Zt(),null;case 10:return Li(n.type),null;case 22:case 23:return yn(n),Jh(),e!==null&&j(ws),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(be),null;case 25:return null;default:return null}}function jg(e,n){switch(Lh(n),n.tag){case 3:Li(be),Zt();break;case 26:case 27:case 5:Ci(n);break;case 4:Zt();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:j(pe);break;case 10:Li(n.type);break;case 22:case 23:yn(n),Jh(),e!==null&&j(ws);break;case 24:Li(be)}}function Ko(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Xt(n,n.return,E)}}function Rr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var D=r,P=E;try{P()}catch(F){Xt(h,D,F)}}}o=o.next}while(o!==f)}}catch(F){Xt(n,n.return,F)}}function Bg(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Op(n,r)}catch(o){Xt(e,e.return,o)}}}function qg(e,n,r){r.props=Ns(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Xt(e,n,o)}}function Yo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Xt(e,n,h)}}function yi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Xt(e,n,h)}else r.current=null}function Hg(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Xt(e,e.return,h)}}function Of(e,n,r){try{var o=e.stateNode;A1(o,e.type,r,n),o[xe]=n}catch(h){Xt(e,e.return,h)}}function Gg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vr(e.type)||e.tag===4}function Mf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Gg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Bn));else if(o!==4&&(o===27&&Vr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Vf(e,n,r),e=e.sibling;e!==null;)Vf(e,n,r),e=e.sibling}function Gu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Vr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Gu(e,n,r),e=e.sibling;e!==null;)Gu(e,n,r),e=e.sibling}function Fg(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,r),n[Ee]=e,n[xe]=r}catch(f){Xt(e,e.return,f)}}var qi=!1,Re=!1,xf=!1,Qg=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function i1(e,n){if(e=e.containerInfo,ed=hc,e=rp(e),Rh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,D=-1,P=0,F=0,K=e,B=null;e:for(;;){for(var H;K!==r||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(D=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(H=K.firstChild)!==null;)B=K,K=H;for(;;){if(K===e)break e;if(B===r&&++P===h&&(E=g),B===f&&++F===o&&(D=g),(H=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=H}r=E===-1||D===-1?null:{start:E,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(nd={focusedElem:e,selectionRange:r},hc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var lt=Ns(r.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){Xt(r,r.return,vt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)sd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function Kg(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Gi(e,r),o&4&&Ko(5,r);break;case 1:if(Gi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Xt(r,r.return,g)}else{var h=Ns(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(r,r.return,g)}}o&64&&Bg(r),o&512&&Yo(r,r.return);break;case 3:if(Gi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Op(e,n)}catch(g){Xt(r,r.return,g)}}break;case 27:n===null&&o&4&&Fg(r);case 26:case 5:Gi(e,r),n===null&&o&4&&Hg(r),o&512&&Yo(r,r.return);break;case 12:Gi(e,r);break;case 31:Gi(e,r),o&4&&Zg(e,r);break;case 13:Gi(e,r),o&4&&$g(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=f1.bind(null,r),M1(e,r))));break;case 22:if(o=r.memoizedState!==null||qi,!o){n=n!==null&&n.memoizedState!==null||Re,h=qi;var f=Re;qi=o,(Re=n)&&!f?Fi(e,r,(r.subtreeFlags&8772)!==0):Gi(e,r),qi=h,Re=f}break;case 30:break;default:Gi(e,r)}}function Yg(e){var n=e.alternate;n!==null&&(e.alternate=null,Yg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ys(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,an=!1;function Hi(e,n,r){for(r=r.child;r!==null;)Xg(e,n,r),r=r.sibling}function Xg(e,n,r){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Ln,r)}catch{}switch(r.tag){case 26:Re||yi(r,n),Hi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Re||yi(r,n);var o=le,h=an;Vr(r.type)&&(le=r.stateNode,an=!1),Hi(e,n,r),il(r.stateNode),le=o,an=h;break;case 5:Re||yi(r,n);case 6:if(o=le,h=an,le=null,Hi(e,n,r),le=o,an=h,le!==null)if(an)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{le.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:le!==null&&(an?(e=le,By(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ma(e)):By(le,r.stateNode));break;case 4:o=le,h=an,le=r.stateNode.containerInfo,an=!0,Hi(e,n,r),le=o,an=h;break;case 0:case 11:case 14:case 15:Rr(2,r,n),Re||Rr(4,r,n),Hi(e,n,r);break;case 1:Re||(yi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&qg(r,n,o)),Hi(e,n,r);break;case 21:Hi(e,n,r);break;case 22:Re=(o=Re)||r.memoizedState!==null,Hi(e,n,r),Re=o;break;default:Hi(e,n,r)}}function Zg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ma(e)}catch(r){Xt(n,n.return,r)}}}function $g(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ma(e)}catch(r){Xt(n,n.return,r)}}function r1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Qg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Qg),n;default:throw Error(s(435,e.tag))}}function Fu(e,n){var r=r1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=d1.bind(null,e,o);o.then(h,h)}})}function on(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Vr(E.type)){le=E.stateNode,an=!1;break t}break;case 5:le=E.stateNode,an=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(le===null)throw Error(s(160));Xg(f,g,h),le=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Jg(n,e),n=n.sibling}var Kn=null;function Jg(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(Rr(3,e,e.return),Ko(3,e),Rr(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(Re||r===null||yi(r,r.return)),o&64&&qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Kn;if(on(n,e),ln(e),o&512&&(Re||r===null||yi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ii]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,r),f[Ee]=e,Te(f),o=f;break t;case"link":var g=Jy("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,r),h.head.appendChild(f);break;case"meta":if(g=Jy("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,r),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else Wy(h,e.type,e.stateNode);else e.stateNode=$y(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?Wy(h,e.type,e.stateNode):$y(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Of(e,e.memoizedProps,r.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(Re||r===null||yi(r,r.return)),r!==null&&o&4&&Of(e,e.memoizedProps,r.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(Re||r===null||yi(r,r.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(lt){Xt(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Of(e,h,r!==null?r.memoizedProps:h)),o&1024&&(xf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(lt){Xt(e,e.return,lt)}}break;case 3:if(oc=null,h=Kn,Kn=sc(n.containerInfo),on(n,e),Kn=h,ln(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ma(n.containerInfo)}catch(lt){Xt(e,e.return,lt)}xf&&(xf=!1,Wg(e));break;case 4:o=Kn,Kn=sc(e.stateNode.containerInfo),on(n,e),ln(e),Kn=o;break;case 12:on(n,e),ln(e);break;case 31:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ku=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 22:h=e.memoizedState!==null;var D=r!==null&&r.memoizedState!==null,P=qi,F=Re;if(qi=P||h,Re=F||D,on(n,e),Re=F,qi=P,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||D||qi||Re||Os(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){D=r=n;try{if(f=D.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=D.stateNode;var K=D.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(lt){Xt(D,D.return,lt)}}}else if(n.tag===6){if(r===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(lt){Xt(D,D.return,lt)}}}else if(n.tag===18){if(r===null){D=n;try{var H=D.stateNode;h?qy(H,!0):qy(D.stateNode,!1)}catch(lt){Xt(D,D.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Fu(e,r))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Gg(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=Mf(e);Gu(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(sn(g,""),r.flags&=-33);var E=Mf(e);Gu(e,E,g);break;case 3:case 4:var D=r.stateNode.containerInfo,P=Mf(e);Vf(e,P,D);break;default:throw Error(s(161))}}catch(F){Xt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Wg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Wg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Gi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Kg(e,n.alternate,n),n=n.sibling}function Os(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Rr(4,n,n.return),Os(n);break;case 1:yi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&qg(n,n.return,r),Os(n);break;case 27:il(n.stateNode);case 26:case 5:yi(n,n.return),Os(n);break;case 22:n.memoizedState===null&&Os(n);break;case 30:Os(n);break;default:Os(n)}e=e.sibling}}function Fi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,r),Ko(4,f);break;case 1:if(Fi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Xt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Np(D[h],E)}catch(P){Xt(o,o.return,P)}}r&&g&64&&Bg(f),Yo(f,f.return);break;case 27:Fg(f);case 26:case 5:Fi(h,f,r),r&&o===null&&g&4&&Hg(f),Yo(f,f.return);break;case 12:Fi(h,f,r);break;case 31:Fi(h,f,r),r&&g&4&&Zg(h,f);break;case 13:Fi(h,f,r),r&&g&4&&$g(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,r),Yo(f,f.return);break;case 30:break;default:Fi(h,f,r)}n=n.sibling}}function kf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&xo(r))}function Uf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e))}function Yn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ty(e,n,r,o),n=n.sibling}function ty(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,r,o),h&2048&&Ko(9,n);break;case 1:Yn(e,n,r,o);break;case 3:Yn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e)));break;case 12:if(h&2048){Yn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Xt(n,n.return,D)}}else Yn(e,n,r,o);break;case 31:Yn(e,n,r,o);break;case 13:Yn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,r,o):Xo(e,n):f._visibility&2?Yn(e,n,r,o):(f._visibility|=2,Ta(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&kf(g,n);break;case 24:Yn(e,n,r,o),h&2048&&Uf(n.alternate,n);break;default:Yn(e,n,r,o)}}function Ta(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,D=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ta(f,g,E,D,h),Ko(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ta(f,g,E,D,h):Xo(f,g):(F._visibility|=2,Ta(f,g,E,D,h)),h&&P&2048&&kf(g.alternate,g);break;case 24:Ta(f,g,E,D,h),h&&P&2048&&Uf(g.alternate,g);break;default:Ta(f,g,E,D,h)}n=n.sibling}}function Xo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Xo(r,o),h&2048&&kf(o.alternate,o);break;case 24:Xo(r,o),h&2048&&Uf(o.alternate,o);break;default:Xo(r,o)}n=n.sibling}}var Zo=8192;function Sa(e,n,r){if(e.subtreeFlags&Zo)for(e=e.child;e!==null;)ey(e,n,r),e=e.sibling}function ey(e,n,r){switch(e.tag){case 26:Sa(e,n,r),e.flags&Zo&&e.memoizedState!==null&&G1(r,Kn,e.memoizedState,e.memoizedProps);break;case 5:Sa(e,n,r);break;case 3:case 4:var o=Kn;Kn=sc(e.stateNode.containerInfo),Sa(e,n,r),Kn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Zo,Zo=16777216,Sa(e,n,r),Zo=o):Sa(e,n,r));break;default:Sa(e,n,r)}}function ny(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function $o(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,ry(o,e)}ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)iy(e),e=e.sibling}function iy(e){switch(e.tag){case 0:case 11:case 15:$o(e),e.flags&2048&&Rr(9,e,e.return);break;case 3:$o(e);break;case 12:$o(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Qu(e)):$o(e);break;default:$o(e)}}function Qu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,ry(o,e)}ny(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Rr(8,n,n.return),Qu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Qu(n));break;default:Qu(n)}e=e.sibling}}function ry(e,n){for(;Ue!==null;){var r=Ue;switch(r.tag){case 0:case 11:case 15:Rr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ue=o;else t:for(r=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(Yg(o),o===r){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var s1={getCacheForType:function(e){var n=qe(be),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return qe(be).controller.signal}},a1=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ne=null,Nt=null,Mt=0,Yt=0,_n=null,Ir=!1,ba=!1,Lf=!1,Qi=0,fe=0,Cr=0,Ms=0,Pf=0,vn=0,Aa=0,Jo=null,un=null,zf=!1,Ku=0,sy=0,Yu=1/0,Xu=null,Dr=null,Ne=0,Nr=null,wa=null,Ki=0,jf=0,Bf=null,ay=null,Wo=0,qf=null;function En(){return(Gt&2)!==0&&Mt!==0?Mt&-Mt:G.T!==null?Yf():Zl()}function oy(){if(vn===0)if((Mt&536870912)===0||Pt){var e=ss;ss<<=1,(ss&3932160)===0&&(ss=262144),vn=e}else vn=536870912;return e=gn.current,e!==null&&(e.flags|=32),vn}function cn(e,n,r){(e===ne&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Ra(e,0),Or(e,Mt,vn,!1)),as(e,r),((Gt&2)===0||e!==ne)&&(e===ne&&((Gt&2)===0&&(Ms|=r),fe===4&&Or(e,Mt,vn,!1)),_i(e))}function ly(e,n,r){if((Gt&6)!==0)throw Error(s(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Pn(e,n),h=o?u1(e,n):Gf(e,n,!0),f=o;do{if(h===0){ba&&!o&&Or(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!o1(r)){h=Gf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=Jo;var D=E.current.memoizedState.isDehydrated;if(D&&(Ra(E,g).flags|=256),g=Gf(E,g,!1),g!==2){if(Lf&&!D){E.errorRecoveryDisabledLanes|=f,Ms|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ra(e,0),Or(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Or(o,n,vn,!Ir);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Ku+300-tn(),10<h)){if(Or(o,n,vn,!Ir),ti(o,0,!0)!==0)break t;Ki=n,o.timeoutHandle=zy(uy.bind(null,o,r,un,Xu,zf,n,vn,Ms,Aa,Ir,f,"Throttled",-0,0),h);break t}uy(o,r,un,Xu,zf,n,vn,Ms,Aa,Ir,f,null,-0,0)}}break}while(!0);_i(e)}function uy(e,n,r,o,h,f,g,E,D,P,F,K,B,H){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},ey(n,f,K);var lt=(f&62914560)===f?Ku-tn():(f&4194048)===f?sy-tn():0;if(lt=F1(K,lt),lt!==null){Ki=f,e.cancelPendingCommit=lt(yy.bind(null,e,n,f,r,o,h,g,E,D,F,K,null,B,H)),Or(e,f,g,!P);return}}yy(e,n,f,r,o,h,g,E,D)}function o1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Or(e,n,r,o){n&=~Pf,n&=~Ms,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&os(e,r,n)}function Zu(){return(Gt&6)===0?(tl(0),!1):!0}function Hf(){if(Nt!==null){if(Yt===0)var e=Nt.return;else e=Nt,Ui=bs=null,sf(e),ga=null,Uo=0,e=Nt;for(;e!==null;)jg(e.alternate,e),e=e.return;Nt=null}}function Ra(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,I1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Ki=0,Hf(),ne=e,Nt=r=xi(e.current,null),Mt=n,Yt=0,_n=null,Ir=!1,ba=Pn(e,n),Lf=!1,Aa=vn=Pf=Ms=Cr=fe=0,un=Jo=null,zf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return Qi=n,yu(),r}function cy(e,n){Ct=null,G.H=Go,n===pa||n===wu?(n=Rp(),Yt=3):n===Qh?(n=Rp(),Yt=4):Yt=n===Tf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Nt===null&&(fe=1,zu(e,In(n,e.current)))}function hy(){var e=gn.current;return e===null?!0:(Mt&4194048)===Mt?On===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===On:!1}function fy(){var e=G.H;return G.H=Go,e===null?Go:e}function dy(){var e=G.A;return G.A=s1,e}function $u(){fe=4,Ir||(Mt&4194048)!==Mt&&gn.current!==null||(ba=!0),(Cr&134217727)===0&&(Ms&134217727)===0||ne===null||Or(ne,Mt,vn,!1)}function Gf(e,n,r){var o=Gt;Gt|=2;var h=fy(),f=dy();(ne!==e||Mt!==n)&&(Xu=null,Ra(e,n)),n=!1;var g=fe;t:do try{if(Yt!==0&&Nt!==null){var E=Nt,D=_n;switch(Yt){case 8:Hf(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var P=Yt;if(Yt=0,_n=null,Ia(e,E,D,P),r&&ba){g=0;break t}break;default:P=Yt,Yt=0,_n=null,Ia(e,E,D,P)}}l1(),g=fe;break}catch(F){cy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Ui=bs=null,Gt=o,G.H=h,G.A=f,Nt===null&&(ne=null,Mt=0,yu()),g}function l1(){for(;Nt!==null;)my(Nt)}function u1(e,n){var r=Gt;Gt|=2;var o=fy(),h=dy();ne!==e||Mt!==n?(Xu=null,Yu=tn()+500,Ra(e,n)):ba=Pn(e,n);t:do try{if(Yt!==0&&Nt!==null){n=Nt;var f=_n;e:switch(Yt){case 1:Yt=0,_n=null,Ia(e,n,f,1);break;case 2:case 9:if(Ap(f)){Yt=0,_n=null,py(n);break}n=function(){Yt!==2&&Yt!==9||ne!==e||(Yt=7),_i(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Ap(f)?(Yt=0,_n=null,py(n)):(Yt=0,_n=null,Ia(e,n,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var E=Nt;if(g?t_(g):E.stateNode.complete){Yt=0,_n=null;var D=E.sibling;if(D!==null)Nt=D;else{var P=E.return;P!==null?(Nt=P,Ju(P)):Nt=null}break e}}Yt=0,_n=null,Ia(e,n,f,5);break;case 6:Yt=0,_n=null,Ia(e,n,f,6);break;case 8:Hf(),fe=6;break t;default:throw Error(s(462))}}c1();break}catch(F){cy(e,F)}while(!0);return Ui=bs=null,G.H=o,G.A=h,Gt=r,Nt!==null?0:(ne=null,Mt=0,yu(),fe)}function c1(){for(;Nt!==null&&!vh();)my(Nt)}function my(e){var n=Pg(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?Ju(e):Nt=n}function py(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Mg(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Mg(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:sf(n);default:jg(r,n),n=Nt=dp(n,Qi),n=Pg(r,n,Qi)}e.memoizedProps=e.pendingProps,n===null?Ju(e):Nt=n}function Ia(e,n,r,o){Ui=bs=null,sf(n),ga=null,Uo=0;var h=n.return;try{if(JT(e,h,n,r,Mt)){fe=1,zu(e,In(r,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;fe=1,zu(e,In(r,e.current)),Nt=null;return}n.flags&32768?(Pt||o===1?e=!0:ba||(Mt&536870912)!==0?e=!1:(Ir=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),gy(n,e)):Ju(n)}function Ju(e){var n=e;do{if((n.flags&32768)!==0){gy(n,Ir);return}e=n.return;var r=e1(n.alternate,n,Qi);if(r!==null){Nt=r;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);fe===0&&(fe=5)}function gy(e,n){do{var r=n1(e.alternate,e);if(r!==null){r.flags&=32767,Nt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=r}while(e!==null);fe=6,Nt=null}function yy(e,n,r,o,h,f,g,E,D){e.cancelPendingCommit=null;do Wu();while(Ne!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Oh,Sh(e,r,f,g,E,D),e===ne&&(Nt=ne=null,Mt=0),wa=n,Nr=e,Ki=r,jf=f,Bf=h,ay=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,m1(or,function(){return Sy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=rt.p,rt.p=2,g=Gt,Gt|=4;try{i1(e,n,r)}finally{Gt=g,rt.p=h,G.T=o}}Ne=1,_y(),vy(),Ey()}}function _y(){if(Ne===1){Ne=0;var e=Nr,n=wa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Gt;Gt|=4;try{Jg(n,e);var f=nd,g=rp(e.containerInfo),E=f.focusedElem,D=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&ip(E.ownerDocument.documentElement,E)){if(D!==null&&Rh(E)){var P=D.start,F=D.end;if(F===void 0&&(F=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var H=B.getSelection(),lt=E.textContent.length,vt=Math.min(D.start,lt),te=D.end===void 0?vt:Math.min(D.end,lt);!H.extend&&vt>te&&(g=te,te=vt,vt=g);var x=np(E,vt),O=np(E,te);if(x&&O&&(H.rangeCount!==1||H.anchorNode!==x.node||H.anchorOffset!==x.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var L=K.createRange();L.setStart(x.node,x.offset),H.removeAllRanges(),vt>te?(H.addRange(L),H.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),H.addRange(L))}}}}for(K=[],H=E;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}hc=!!ed,nd=ed=null}finally{Gt=h,rt.p=o,G.T=r}}e.current=n,Ne=2}}function vy(){if(Ne===2){Ne=0;var e=Nr,n=wa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Gt;Gt|=4;try{Kg(e,n.alternate,n)}finally{Gt=h,rt.p=o,G.T=r}}Ne=3}}function Ey(){if(Ne===4||Ne===3){Ne=0,Hl();var e=Nr,n=wa,r=Ki,o=ay;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,wa=Nr=null,Ty(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Dr=null),Ni(r),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=rt.p,rt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,rt.p=h}}(Ki&3)!==0&&Wu(),_i(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===qf?Wo++:(Wo=0,qf=e):Wo=0,tl(0)}}function Ty(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,xo(n)))}function Wu(){return _y(),vy(),Ey(),Sy()}function Sy(){if(Ne!==5)return!1;var e=Nr,n=jf;jf=0;var r=Ni(Ki),o=G.T,h=rt.p;try{rt.p=32>r?32:r,G.T=null,r=Bf,Bf=null;var f=Nr,g=Ki;if(Ne=0,wa=Nr=null,Ki=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,iy(f.current),ty(f,f.current,g,r),Gt=E,tl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{rt.p=h,G.T=o,Ty(e,n)}}function by(e,n,r){n=In(r,n),n=Ef(e.stateNode,n,2),e=br(e,n,2),e!==null&&(as(e,2),_i(e))}function Xt(e,n,r){if(e.tag===3)by(e,e,r);else for(;n!==null;){if(n.tag===3){by(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Dr===null||!Dr.has(o))){e=In(r,e),r=Ag(2),o=br(n,r,2),o!==null&&(wg(r,o,n,e),as(o,2),_i(o));break}}n=n.return}}function Ff(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new a1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Lf=!0,h.add(r),e=h1.bind(null,e,n,r),n.then(e,e))}function h1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ne===e&&(Mt&r)===r&&(fe===4||fe===3&&(Mt&62914560)===Mt&&300>tn()-Ku?(Gt&2)===0&&Ra(e,0):Pf|=r,Aa===Mt&&(Aa=0)),_i(e)}function Ay(e,n){n===0&&(n=Xl()),e=Es(e,n),e!==null&&(as(e,n),_i(e))}function f1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Ay(e,r)}function d1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Ay(e,r)}function m1(e,n){return De(e,n)}var tc=null,Ca=null,Qf=!1,ec=!1,Kf=!1,Mr=0;function _i(e){e!==Ca&&e.next===null&&(Ca===null?tc=Ca=e:Ca=Ca.next=e),ec=!0,Qf||(Qf=!0,g1())}function tl(e,n){if(!Kf&&ec){Kf=!0;do for(var r=!1,o=tc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Cy(o,f))}else f=Mt,f=ti(o,o===ne?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Pn(o,f)||(r=!0,Cy(o,f));o=o.next}while(r);Kf=!1}}function p1(){wy()}function wy(){ec=Qf=!1;var e=0;Mr!==0&&R1()&&(e=Mr);for(var n=tn(),r=null,o=tc;o!==null;){var h=o.next,f=Ry(o,n);f===0?(o.next=null,r===null?tc=h:r.next=h,h===null&&(Ca=r)):(r=o,(e!==0||(f&3)!==0)&&(ec=!0)),o=h}Ne!==0&&Ne!==5||tl(e),Mr!==0&&(Mr=0)}function Ry(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-de(f),E=1<<g,D=h[g];D===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Th(E,n)):D<=n&&(e.expiredLanes|=E),f&=~E}if(n=ne,r=Mt,r=ti(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ar(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Pn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&ar(o),Ni(r)){case 2:case 8:r=uo;break;case 32:r=or;break;case 268435456:r=Gl;break;default:r=or}return o=Iy.bind(null,e),r=De(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&ar(o),e.callbackPriority=2,e.callbackNode=null,2}function Iy(e,n){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Wu()&&e.callbackNode!==r)return null;var o=Mt;return o=ti(e,e===ne?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ly(e,o,n),Ry(e,tn()),e.callbackNode!=null&&e.callbackNode===r?Iy.bind(null,e):null)}function Cy(e,n){if(Wu())return null;ly(e,n,!0)}function g1(){C1(function(){(Gt&6)!==0?De(lo,p1):wy()})}function Yf(){if(Mr===0){var e=da;e===0&&(e=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),Mr=e}return Mr}function Dy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Js(""+e)}function Ny(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function y1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Dy((h[xe]||null).action),g=o.submitter;g&&(n=(n=g[xe]||null)?Dy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new hi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Mr!==0){var D=g?Ny(h,g):new FormData(h);mf(r,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(E.preventDefault(),D=g?Ny(h,g):new FormData(h),mf(r,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var Xf=0;Xf<Nh.length;Xf++){var Zf=Nh[Xf],_1=Zf.toLowerCase(),v1=Zf[0].toUpperCase()+Zf.slice(1);Qn(_1,"on"+v1)}Qn(op,"onAnimationEnd"),Qn(lp,"onAnimationIteration"),Qn(up,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(kT,"onTransitionRun"),Qn(UT,"onTransitionStart"),Qn(LT,"onTransitionCancel"),Qn(cp,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function Oy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],D=E.instance,P=E.currentTarget;if(E=E.listener,D!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(F){gu(F)}h.currentTarget=null,f=D}else for(g=0;g<o.length;g++){if(E=o[g],D=E.instance,P=E.currentTarget,E=E.listener,D!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(F){gu(F)}h.currentTarget=null,f=D}}}}function Ot(e,n){var r=n[Ks];r===void 0&&(r=n[Ks]=new Set);var o=e+"__bubble";r.has(o)||(My(n,e,2,!1),r.add(o))}function $f(e,n,r){var o=0;n&&(o|=4),My(r,e,o,n)}var nc="_reactListening"+Math.random().toString(36).slice(2);function Jf(e){if(!e[nc]){e[nc]=!0,fo.forEach(function(r){r!=="selectionchange"&&(E1.has(r)||$f(r,!1,e),$f(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[nc]||(n[nc]=!0,$f("selectionchange",!1,n))}}function My(e,n,r,o){switch(o_(n)){case 2:var h=Y1;break;case 8:h=X1;break;default:h=dd}r=h.bind(null,n,r,e),h=void 0,!fs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function Wf(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var D=g.tag;if((D===3||D===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ri(E),g===null)return;if(D=g.tag,D===5||D===6||D===26||D===27){o=f=g;continue t}E=E.parentNode}}o=o.return}dr(function(){var P=f,F=bn(r),K=[];t:{var B=hp.get(e);if(B!==void 0){var H=hi,lt=e;switch(e){case"keypress":if(ms(r)===0)break t;case"keydown":case"keyup":H=du;break;case"focusin":lt="focus",H=gs;break;case"focusout":lt="blur",H=gs;break;case"beforeblur":case"afterblur":H=gs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case op:case lp:case up:H=au;break;case cp:H=T;break;case"scroll":case"scrollend":H=wo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Vi;break;case"toggle":case"beforetoggle":H=It}var vt=(n&4)!==0,te=!vt&&(e==="scroll"||e==="scrollend"),x=vt?B!==null?B+"Capture":null:B;vt=[];for(var O=P,L;O!==null;){var Q=O;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||x===null||(Q=qn(O,x),Q!=null&&vt.push(nl(O,Q,L))),te)break;O=O.return}0<vt.length&&(B=new H(B,lt,null,r,F),K.push({event:B,listeners:vt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&r!==So&&(lt=r.relatedTarget||r.fromElement)&&(ri(lt)||lt[ni]))break t;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(lt=r.relatedTarget||r.toElement,H=P,lt=lt?ri(lt):null,lt!==null&&(te=c(lt),vt=lt.tag,lt!==te||vt!==5&&vt!==27&&vt!==6)&&(lt=null)):(H=null,lt=P),H!==lt)){if(vt=Ro,Q="onMouseLeave",x="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Vi,Q="onPointerLeave",x="onPointerEnter",O="pointer"),te=H==null?B:fn(H),L=lt==null?B:fn(lt),B=new vt(Q,O+"leave",H,r,F),B.target=te,B.relatedTarget=L,Q=null,ri(F)===P&&(vt=new vt(x,O+"enter",lt,r,F),vt.target=L,vt.relatedTarget=te,Q=vt),te=Q,H&&lt)e:{for(vt=T1,x=H,O=lt,L=0,Q=x;Q;Q=vt(Q))L++;Q=0;for(var pt=O;pt;pt=vt(pt))Q++;for(;0<L-Q;)x=vt(x),L--;for(;0<Q-L;)O=vt(O),Q--;for(;L--;){if(x===O||O!==null&&x===O.alternate){vt=x;break e}x=vt(x),O=vt(O)}vt=null}else vt=null;H!==null&&Vy(K,B,H,vt,!1),lt!==null&&te!==null&&Vy(K,te,lt,vt,!0)}}t:{if(B=P?fn(P):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Bt=Zm;else if(Ym(B))if($m)Bt=MT;else{Bt=NT;var ct=DT}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&$s(P.elementType)&&(Bt=Zm):Bt=OT;if(Bt&&(Bt=Bt(e,P))){Xm(K,Bt,r,F);break t}ct&&ct(e,B,P),e==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&vo(B,"number",B.value)}switch(ct=P?fn(P):window,e){case"focusin":(Ym(ct)||ct.contentEditable==="true")&&(sa=ct,Ih=P,Oo=null);break;case"focusout":Oo=Ih=sa=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,sp(K,r,F);break;case"selectionchange":if(xT)break;case"keydown":case"keyup":sp(K,r,F)}var Dt;if(Ht)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else ra?ys(e,r)&&(Vt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Vt="onCompositionStart");Vt&&(mi&&r.locale!=="ko"&&(ra||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&ra&&(Dt=Ao()):(ci=F,bo="value"in ci?ci.value:ci.textContent,ra=!0)),ct=ic(P,Vt),0<ct.length&&(Vt=new di(Vt,e,null,r,F),K.push({event:Vt,listeners:ct}),Dt?Vt.data=Dt:(Dt=ia(r),Dt!==null&&(Vt.data=Dt)))),(Dt=wn?wT(e,r):RT(e,r))&&(Vt=ic(P,"onBeforeInput"),0<Vt.length&&(ct=new di("onBeforeInput","beforeinput",null,r,F),K.push({event:ct,listeners:Vt}),ct.data=Dt)),y1(K,e,P,r,F)}Oy(K,n)})}function nl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function ic(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(e,r),h!=null&&o.unshift(nl(e,h,f)),h=qn(e,n),h!=null&&o.push(nl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function T1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vy(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,D=E.alternate,P=E.stateNode;if(E=E.tag,D!==null&&D===o)break;E!==5&&E!==26&&E!==27||P===null||(D=P,h?(P=qn(r,f),P!=null&&g.unshift(nl(r,P,D))):h||(P=qn(r,f),P!=null&&g.push(nl(r,P,D)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var S1=/\r\n?/g,b1=/\u0000|\uFFFD/g;function xy(e){return(typeof e=="string"?e:""+e).replace(S1,`
`).replace(b1,"")}function ky(e,n){return n=xy(n),xy(e)===n}function Wt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,r,o);break;case"style":To(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Js(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Wt(e,n,"name",h.name,h,null),Wt(e,n,"formEncType",h.formEncType,h,null),Wt(e,n,"formMethod",h.formMethod,h,null),Wt(e,n,"formTarget",h.formTarget,h,null)):(Wt(e,n,"encType",h.encType,h,null),Wt(e,n,"method",h.method,h,null),Wt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Js(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Js(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),Xs(e,"popover",o);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Xs(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=iu.get(r)||r,Xs(e,r,o))}}function td(e,n,r,o,h,f){switch(r){case"style":To(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[xe]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Xs(e,r,o)}}}function Ge(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Wt(e,n,f,g,r,null)}}h&&Wt(e,n,"srcSet",r.srcSet,r,null),o&&Wt(e,n,"src",r.src,r,null);return;case"input":Ot("invalid",e);var E=f=g=h=null,D=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var F=r[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":D=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Wt(e,n,o,F,r,null)}}tu(e,f,E,D,P,g,h,!1);return;case"select":Ot("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Wt(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?ur(e,!!o,n,!1):r!=null&&ur(e,!!o,r,!0);return;case"textarea":Ot("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Wt(e,n,g,E,r,null)}cr(e,o,h,f);return;case"option":for(D in r)r.hasOwnProperty(D)&&(o=r[D],o!=null)&&(D==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Wt(e,n,D,o,r,null));return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<el.length;o++)Ot(el[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Wt(e,n,P,o,r,null)}return;default:if($s(n)){for(F in r)r.hasOwnProperty(F)&&(o=r[F],o!==void 0&&td(e,n,F,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Wt(e,n,E,o,r,null))}function A1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,D=null,P=null,F=null;for(H in r){var K=r[H];if(r.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=K;default:o.hasOwnProperty(H)||Wt(e,n,H,null,o,K)}}for(var B in o){var H=o[B];if(K=r[B],o.hasOwnProperty(B)&&(H!=null||K!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":F=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==K&&Wt(e,n,B,H,o,K)}}Zs(e,g,E,D,P,F,f,h);return;case"select":H=g=E=B=null;for(f in r)if(D=r[f],r.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":H=D;default:o.hasOwnProperty(f)||Wt(e,n,f,null,o,D)}for(h in o)if(f=o[h],D=r[h],o.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==D&&Wt(e,n,h,f,o,D)}n=E,r=g,o=H,B!=null?ur(e,!!r,B,!1):!!o!=!!r&&(n!=null?ur(e,!!r,n,!0):ur(e,!!r,r?[]:"",!1));return;case"textarea":H=B=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Wt(e,n,g,h,o,f)}eu(e,B,H);return;case"option":for(var lt in r)B=r[lt],r.hasOwnProperty(lt)&&B!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:Wt(e,n,lt,null,o,B));for(D in o)B=o[D],H=r[D],o.hasOwnProperty(D)&&B!==H&&(B!=null||H!=null)&&(D==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Wt(e,n,D,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in r)B=r[vt],r.hasOwnProperty(vt)&&B!=null&&!o.hasOwnProperty(vt)&&Wt(e,n,vt,null,o,B);for(P in o)if(B=o[P],H=r[P],o.hasOwnProperty(P)&&B!==H&&(B!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Wt(e,n,P,B,o,H)}return;default:if($s(n)){for(var te in r)B=r[te],r.hasOwnProperty(te)&&B!==void 0&&!o.hasOwnProperty(te)&&td(e,n,te,void 0,o,B);for(F in o)B=o[F],H=r[F],!o.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||td(e,n,F,B,o,H);return}}for(var x in r)B=r[x],r.hasOwnProperty(x)&&B!=null&&!o.hasOwnProperty(x)&&Wt(e,n,x,null,o,B);for(K in o)B=o[K],H=r[K],!o.hasOwnProperty(K)||B===H||B==null&&H==null||Wt(e,n,K,B,o,H)}function Uy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function w1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Uy(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var D=r[o],P=D.startTime;if(P>E)break;var F=D.transferSize,K=D.initiatorType;F&&Uy(K)&&(D=D.responseEnd,g+=F*(D<E?1:(E-P)/(D-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ed=null,nd=null;function rc(e){return e.nodeType===9?e:e.ownerDocument}function Ly(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Py(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function id(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var rd=null;function R1(){var e=window.event;return e&&e.type==="popstate"?e===rd?!1:(rd=e,!0):(rd=null,!1)}var zy=typeof setTimeout=="function"?setTimeout:void 0,I1=typeof clearTimeout=="function"?clearTimeout:void 0,jy=typeof Promise=="function"?Promise:void 0,C1=typeof queueMicrotask=="function"?queueMicrotask:typeof jy<"u"?function(e){return jy.resolve(null).then(e).catch(D1)}:zy;function D1(e){setTimeout(function(){throw e})}function Vr(e){return e==="head"}function By(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ma(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")il(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,il(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&il(e.ownerDocument.body);r=h}while(r);Ma(n)}function qy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function sd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":sd(r),Ys(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function N1(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function O1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Mn(e.nextSibling),e===null))return null;return e}function Hy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mn(e.nextSibling),e===null))return null;return e}function ad(e){return e.data==="$?"||e.data==="$~"}function od(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function M1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ld=null;function Gy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Mn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Fy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Qy(e,n,r){switch(n=rc(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ys(e)}var Vn=new Map,Ky=new Set;function sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=rt.d;rt.d={f:V1,r:x1,D:k1,C:U1,L:L1,m:P1,X:j1,S:z1,M:B1};function V1(){var e=Yi.f(),n=Zu();return e||n}function x1(e){var n=Sn(e);n!==null&&n.tag===5&&n.type==="form"?cg(n):Yi.r(e)}var Da=typeof document>"u"?null:document;function Yy(e,n,r){var o=Da;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Ky.has(h)||(Ky.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),Te(n),o.head.appendChild(n)))}}function k1(e){Yi.D(e),Yy("dns-prefetch",e,null)}function U1(e,n){Yi.C(e,n),Yy("preconnect",e,n)}function L1(e,n,r){Yi.L(e,n,r);var o=Da;if(o&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+rn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+rn(r.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=Na(e);break;case"script":f=Oa(e)}Vn.has(f)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Vn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(rl(f))||n==="script"&&o.querySelector(sl(f))||(n=o.createElement("link"),Ge(n,"link",e),Te(n),o.head.appendChild(n)))}}function P1(e,n){Yi.m(e,n);var r=Da;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Oa(e)}if(!Vn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Vn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(sl(f)))return}o=r.createElement("link"),Ge(o,"link",e),Te(o),r.head.appendChild(o)}}}function z1(e,n,r){Yi.S(e,n,r);var o=Da;if(o&&e){var h=si(o).hoistableStyles,f=Na(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(rl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Vn.get(f))&&ud(e,r);var D=g=o.createElement("link");Te(D),Ge(D,"link",e),D._p=new Promise(function(P,F){D.onload=P,D.onerror=F}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ac(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function j1(e,n){Yi.X(e,n);var r=Da;if(r&&e){var o=si(r).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=r.querySelector(sl(h)),f||(e=b({src:e,async:!0},n),(n=Vn.get(h))&&cd(e,n),f=r.createElement("script"),Te(f),Ge(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function B1(e,n){Yi.M(e,n);var r=Da;if(r&&e){var o=si(r).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=r.querySelector(sl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Vn.get(h))&&cd(e,n),f=r.createElement("script"),Te(f),Ge(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Xy(e,n,r,o){var h=(h=ut.current)?sc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Na(r.href),r=si(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Na(r.href);var f=si(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(rl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Vn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vn.set(e,r),f||q1(h,e,r,g.state))),n&&o===null)throw Error(s(528,""));return g}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Oa(r),r=si(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Na(e){return'href="'+rn(e)+'"'}function rl(e){return'link[rel="stylesheet"]['+e+"]"}function Zy(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function q1(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",r),Te(n),e.head.appendChild(n))}function Oa(e){return'[src="'+rn(e)+'"]'}function sl(e){return"script[async]"+e}function $y(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(r.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),Ge(o,"style",h),ac(o,r.precedence,e),n.instance=o;case"stylesheet":h=Na(r.href);var f=e.querySelector(rl(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=Zy(r),(h=Vn.get(h))&&ud(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var g=f;return g._p=new Promise(function(E,D){g.onload=E,g.onerror=D}),Ge(f,"link",o),n.state.loading|=4,ac(f,r.precedence,e),n.instance=f;case"script":return f=Oa(r.src),(h=e.querySelector(sl(f)))?(n.instance=h,Te(h),h):(o=r,(h=Vn.get(f))&&(o=b({},r),cd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ac(o,r.precedence,e));return n.instance}function ac(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var oc=null;function Jy(e,n,r){if(oc===null){var o=new Map,h=oc=new Map;h.set(r,o)}else h=oc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ii]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function Wy(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function H1(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function t_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function G1(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Na(o.href),f=n.querySelector(rl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=lc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Te(f);return}f=n.ownerDocument||n,o=Zy(o),(h=Vn.get(h))&&ud(o,h),f=f.createElement("link"),Te(f);var g=f;g._p=new Promise(function(E,D){g.onload=E,g.onerror=D}),Ge(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=lc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var hd=0;function F1(e,n){return e.stylesheets&&e.count===0&&cc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&cc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&hd===0&&(hd=62500*w1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&cc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>hd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uc=null;function cc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,uc=new Map,n.forEach(Q1,e),uc=null,lc.call(e))}function Q1(e,n){if(!(n.state.loading&4)){var r=uc.get(e);if(r)var o=r.get(null);else{r=new Map,uc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=lc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var al={$$typeof:gt,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function K1(e,n,r,o,h,f,g,E,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function e_(e,n,r,o,h,f,g,E,D,P,F,K){return e=new K1(e,n,r,g,D,P,F,K,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=Hh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Kh(f),e}function n_(e){return e?(e=la,e):la}function i_(e,n,r,o,h,f){h=n_(h),o.context===null?o.context=h:o.pendingContext=h,o=Sr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=br(e,o,n),r!==null&&(cn(r,e,n),Po(r,e,n))}function r_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function fd(e,n){r_(e,n),(e=e.alternate)&&r_(e,n)}function s_(e){if(e.tag===13||e.tag===31){var n=Es(e,67108864);n!==null&&cn(n,e,67108864),fd(e,67108864)}}function a_(e){if(e.tag===13||e.tag===31){var n=En();n=ls(n);var r=Es(e,n);r!==null&&cn(r,e,n),fd(e,n)}}var hc=!0;function Y1(e,n,r,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=2,dd(e,n,r,o)}finally{rt.p=f,G.T=h}}function X1(e,n,r,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=8,dd(e,n,r,o)}finally{rt.p=f,G.T=h}}function dd(e,n,r,o){if(hc){var h=md(o);if(h===null)Wf(e,n,o,fc,r),l_(e,o);else if($1(h,e,n,r,o))o.stopPropagation();else if(l_(e,o),n&4&&-1<Z1.indexOf(e)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var D=1<<31-de(g);E.entanglements[1]|=D,g&=~D}_i(f),(Gt&6)===0&&(Yu=tn()+500,tl(0))}}break;case 31:case 13:E=Es(f,2),E!==null&&cn(E,f,2),Zu(),fd(f,2)}if(f=md(o),f===null&&Wf(e,n,o,fc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else Wf(e,n,o,null,r)}}function md(e){return e=bn(e),pd(e)}var fc=null;function pd(e){if(fc=null,e=ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return fc=e,null}function o_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rs()){case lo:return 2;case uo:return 8;case or:case Eh:return 32;case Gl:return 268435456;default:return 32}default:return 32}}var gd=!1,xr=null,kr=null,Ur=null,ol=new Map,ll=new Map,Lr=[],Z1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l_(e,n){switch(e){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(n.pointerId)}}function ul(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&s_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function $1(e,n,r,o,h){switch(n){case"focusin":return xr=ul(xr,e,n,r,o,h),!0;case"dragenter":return kr=ul(kr,e,n,r,o,h),!0;case"mouseover":return Ur=ul(Ur,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return ol.set(f,ul(ol.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ll.set(f,ul(ll.get(f)||null,e,n,r,o,h)),!0}return!1}function u_(e){var n=ri(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,zn(e.priority,function(){a_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,zn(e.priority,function(){a_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=md(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);So=o,r.target.dispatchEvent(o),So=null}else return n=Sn(r),n!==null&&s_(n),e.blockedOn=r,!1;n.shift()}return!0}function c_(e,n,r){dc(e)&&r.delete(n)}function J1(){gd=!1,xr!==null&&dc(xr)&&(xr=null),kr!==null&&dc(kr)&&(kr=null),Ur!==null&&dc(Ur)&&(Ur=null),ol.forEach(c_),ll.forEach(c_)}function mc(e,n){e.blockedOn===n&&(e.blockedOn=null,gd||(gd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,J1)))}var pc=null;function h_(e){pc!==e&&(pc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){pc===e&&(pc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(pd(o||r)===null)continue;break}var f=Sn(r);f!==null&&(e.splice(n,3),n-=3,mf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ma(e){function n(D){return mc(D,e)}xr!==null&&mc(xr,e),kr!==null&&mc(kr,e),Ur!==null&&mc(Ur,e),ol.forEach(n),ll.forEach(n);for(var r=0;r<Lr.length;r++){var o=Lr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Lr.length&&(r=Lr[0],r.blockedOn===null);)u_(r),r.blockedOn===null&&Lr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[xe]||null;if(typeof f=="function")g||h_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[xe]||null)E=g.formAction;else if(pd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),h_(r)}}}function f_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function yd(e){this._internalRoot=e}gc.prototype.render=yd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=En();i_(r,o,e,n,null,null)},gc.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;i_(e.current,2,null,e,null,null),Zu(),n[ni]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Zl();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Lr.length&&n!==0&&n<Lr[r].priority;r++);Lr.splice(r,0,e),r===0&&u_(e)}};var d_=t.version;if(d_!=="19.2.3")throw Error(s(527,d_,"19.2.3"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var W1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{Ln=yc.inject(W1),ze=yc}catch{}}return hl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",h=Eg,f=Tg,g=Sg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=e_(e,1,!1,null,null,r,o,null,h,f,g,f_),e[ni]=n.current,Jf(e),new yd(n)},hl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,h="",f=Eg,g=Tg,E=Sg,D=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(D=r.formState)),n=e_(e,1,!0,n,r??null,o,h,D,f,g,E,f_),n.context=n_(null),r=n.current,o=En(),o=ls(o),h=Sr(o),h.callback=null,br(r,h,o),r=o,n.current.lanes=r,as(n,r),_i(n),e[ni]=n.current,Jf(e),new gc(n)},hl.version="19.2.3",hl}var b_;function uS(){if(b_)return Ed.exports;b_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ed.exports=lS(),Ed.exports}var cS=uS();const hS=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fS=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase()),A_=a=>{const t=fS(a);return t.charAt(0).toUpperCase()+t.slice(1)},Wv=(...a)=>a.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim(),dS=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var mS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pS=se.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...p},y)=>se.createElement("svg",{ref:y,...mS,width:t,height:t,stroke:a,strokeWidth:s?Number(i)*24/Number(t):i,className:Wv("lucide",l),...!c&&!dS(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,S])=>se.createElement(_,S)),...Array.isArray(c)?c:[c]]));const $a=(a,t)=>{const i=se.forwardRef(({className:s,...l},c)=>se.createElement(pS,{ref:c,iconNode:t,className:Wv(`lucide-${hS(A_(a))}`,`lucide-${a}`,s),...l}));return i.displayName=A_(a),i};const gS=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],yS=$a("grip-vertical",gS);const _S=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vS=$a("plus",_S);const ES=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],TS=$a("redo-2",ES);const SS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bS=$a("settings",SS);const AS=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],wS=$a("undo-2",AS);const RS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],IS=$a("x",RS);function t0(a){var t,i,s="";if(typeof a=="string"||typeof a=="number")s+=a;else if(typeof a=="object")if(Array.isArray(a)){var l=a.length;for(t=0;t<l;t++)a[t]&&(i=t0(a[t]))&&(s&&(s+=" "),s+=i)}else for(i in a)a[i]&&(s&&(s+=" "),s+=i);return s}function Xi(){for(var a,t,i=0,s="",l=arguments.length;i<l;i++)(a=arguments[i])&&(t=t0(a))&&(s&&(s+=" "),s+=t);return s}const CS=({viewMode:a,setViewMode:t,onAddTask:i,...s})=>X.jsxs("header",{className:"h-16 border-b border-border bg-void flex items-center justify-between px-6 z-40 shadow-lg shrink-0",children:[X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx("div",{className:"w-8 h-8 rounded border border-bronze/50 flex items-center justify-center bg-bronze/10",children:X.jsx("span",{className:"font-header text-bronze font-bold text-lg",children:"S"})}),X.jsxs("div",{children:[X.jsx("h1",{className:"font-header text-xl tracking-widest text-stone",children:"ST MARY SOMERSET"}),X.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 font-mono tracking-wider",children:[X.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),X.jsx("span",{children:"ONLINE"}),X.jsx("span",{className:"text-gray-600 pl-2",children:"v1.2.1"})]})]})]}),X.jsxs("div",{className:"flex items-center gap-6",children:[X.jsx("button",{onClick:s.onImportData,className:"text-xs bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/30 px-3 py-1 rounded transition-colors",title:"Overwrite current data with 2021 Programme v2",children:"IMPORT DATA"}),X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx("button",{onClick:s.onUndo,disabled:!s.canUndo,className:Xi("p-2 rounded hover:bg-white/10 text-gray-400 transition-colors",!s.canUndo&&"opacity-30 cursor-not-allowed"),children:X.jsx(wS,{size:18})}),X.jsx("button",{onClick:s.onRedo,disabled:!s.canRedo,className:Xi("p-2 rounded hover:bg-white/10 text-gray-400 transition-colors",!s.canRedo&&"opacity-30 cursor-not-allowed"),children:X.jsx(TS,{size:18})})]}),X.jsx("div",{className:"hidden md:flex bg-panel border border-border rounded-lg p-1 gap-1 font-mono text-xs",children:["day","week","month"].map(l=>X.jsx("button",{onClick:()=>t(l),className:Xi("px-3 py-1 rounded transition-colors uppercase",a===l?"bg-bronze/20 text-bronze border border-bronze/30 shadow-glow":"hover:bg-border text-gray-400"),children:l},l))}),X.jsx("button",{onClick:()=>s.setShowSummaryOnly(!s.showSummaryOnly),className:Xi("text-xs font-mono px-3 py-1 rounded border transition-colors uppercase",s.showSummaryOnly?"bg-bronze text-midnight border-bronze font-bold":"bg-transparent text-gray-400 border-border hover:border-bronze/50"),children:"SUMMARIES"}),X.jsxs("div",{className:"relative group",children:[X.jsxs("button",{className:"bg-bronze hover:bg-bronzeDark text-midnight font-bold px-4 py-2 rounded font-header text-sm tracking-wide transition-colors flex items-center gap-2",children:[X.jsx(vS,{size:16}),"ADD"]}),X.jsxs("div",{className:"absolute top-full right-0 mt-1 w-48 bg-panel border border-border shadow-xl rounded overflow-hidden hidden group-hover:block z-50",children:[X.jsx("button",{onClick:()=>i("phase"),className:"w-full text-left px-4 py-3 hover:bg-white/5 text-gray-300 hover:text-bronze text-xs font-mono border-b border-white/5 transition-colors",children:"+ NEW PHASE (Root)"}),X.jsx("button",{onClick:()=>i("task"),className:"w-full text-left px-4 py-3 hover:bg-white/5 text-gray-300 hover:text-bronze text-xs font-mono border-b border-white/5 transition-colors",children:"+ NEW TASK (Sibling)"}),X.jsx("button",{onClick:()=>i("subtask"),className:"w-full text-left px-4 py-3 hover:bg-white/5 text-gray-300 hover:text-bronze text-xs font-mono transition-colors",children:"+ NEW SUBTASK (Child)"})]})]}),X.jsx("button",{className:"text-gray-400 hover:text-white transition-colors p-2",children:X.jsx(bS,{size:20})})]})]}),DS=({tasks:a,selectedTaskId:t,onSelectTask:i,onEditTask:s,onReorderTasks:l,scrollRef:c,onScroll:d})=>{const[p,y]=se.useState(null),_=(z,W)=>{z.dataTransfer.effectAllowed="move",z.dataTransfer.setData("text/plain",W.toString()),z.dataTransfer.setDragImage(z.currentTarget,0,0),setTimeout(()=>{z.target&&z.target.classList.add("opacity-30")},0)},S=z=>{z.target&&z.target.classList.remove("opacity-30"),y(null)},b=(z,W)=>{z.preventDefault(),z.stopPropagation();const nt=z.currentTarget.getBoundingClientRect(),$=nt.top+nt.height/2,ot=z.clientY<$?"top":"bottom";(!p||p.index!==W||p.position!==ot)&&y({index:W,position:ot})},V=(z,W)=>{z.preventDefault(),z.stopPropagation();const nt=z.dataTransfer.getData("text/plain"),$=parseInt(nt,10);if(p&&!isNaN($)){let ot=W;p.position==="bottom"&&(ot=W+1),$!==ot&&$!==ot-1&&l($,ot)}y(null)};return X.jsxs("div",{className:"w-80 flex-shrink-0 bg-panel border-r border-border flex flex-col z-30 shadow-2xl relative h-full",children:[X.jsxs("div",{className:"h-[60px] border-b border-border bg-void/50 flex items-center px-4 text-xs font-mono text-bronze uppercase tracking-widest flex-shrink-0",children:[X.jsx("div",{className:"w-8 text-center",children:"#"}),X.jsx("div",{className:"flex-1 pl-2",children:"Task Name"}),X.jsx("div",{className:"w-16 text-right",children:"Dur."})]}),X.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden relative",onDragLeave:()=>y(null),ref:c,onScroll:d,children:a.map((z,W)=>{const nt=z.isSummary,$=z.id===t,ot=z.level===0?"pl-2 font-bold uppercase tracking-wider text-bronze":z.level===1?"pl-6 font-semibold text-stone":"pl-10 text-stone/80 text-xs";return X.jsxs("div",{className:Xi("h-14 flex items-center px-2 cursor-pointer border-b border-border transition-colors relative",nt?"bg-white/5":"hover:bg-white/5",$?"bg-bronze/20 border-l-2 border-l-bronze":"border-l-2 border-l-transparent",p&&p.index===W?"bg-bronze/10":""),draggable:!0,onDragStart:ft=>_(ft,W),onDragEnd:S,onDragOver:ft=>b(ft,W),onDrop:ft=>V(ft,W),onClick:()=>i(z.id),onDoubleClick:ft=>{ft.stopPropagation(),s(z)},children:[p&&p.index===W&&p.position==="top"&&X.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-bronze z-50 shadow-[0_0_10px_rgba(217,119,6,0.8)] pointer-events-none"}),p&&p.index===W&&p.position==="bottom"&&X.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-bronze z-50 shadow-[0_0_10px_rgba(217,119,6,0.8)] pointer-events-none"}),X.jsx("div",{className:"w-8 h-full flex items-center justify-center text-bronze/50 cursor-grab active:cursor-grabbing hover:text-bronze pointer-events-none",children:X.jsx(yS,{size:14})}),X.jsxs("div",{className:"flex-1 flex items-center h-full pointer-events-none overflow-hidden",children:[X.jsx("div",{className:"w-12 text-center text-xs text-gray-500 font-mono select-none flex-shrink-0",children:z.wbs}),X.jsx("div",{className:Xi("flex-1 truncate select-none",ot),children:z.name}),X.jsxs("div",{className:"w-12 text-right font-mono text-xs text-bronze select-none flex-shrink-0",children:[z.duration,"d"]})]})]},z.id)})})]})},dl=(a,t)=>{const i=new Date(a);return i.setDate(i.getDate()+t),i},NS=(a,t)=>Math.round((new Date(a)-new Date(t))/864e5),fl=a=>{const t=new Map;a.forEach(d=>t.set(d.id,{...d,children:[],_isProcessed:!1}));const i=[];a.forEach(d=>{const p=t.get(d.id);let y=p.parentId;if(!y&&d.id.includes(".")&&!d.id.startsWith("t")){const _=d.id.split(".");_.pop();const S=_.join(".");t.has(S)&&(y=S,p.parentId=y)}y&&t.has(y)?t.get(y).children.push(p):i.push(p)});const s=(d,p)=>{const y=d.children.length>0;if(d.isSummary=y,d.wbs=p,d.children.forEach((_,S)=>{const b=`${p}.${S+1}`;s(_,b)}),y){let _=null,S=null;d.children.forEach(b=>{const V=new Date(b.startDate),z=dl(V,b.duration);(!_||V<_)&&(_=V),(!S||z>S)&&(S=z)}),_&&S&&(d.startDate=_.toISOString(),d.duration=NS(S,_),d.duration<1&&(d.duration=1))}};i.forEach((d,p)=>{s(d,`${p+1}`)});const l=[],c=(d,p=0)=>{d.forEach(y=>{y.level=p,p===0?y.category="phase":p===1?y.category="task":y.category="subtask";const{children:_,_isProcessed:S,...b}=y;l.push(b),c(y.children,p+1)})};return c(i),l},OS=({task:a,style:t,isSummary:i,onMouseDown:s,onDoubleClick:l})=>{const c=a.type==="milestone";return X.jsx("div",{className:Xi("absolute select-none group touch-none flex items-center z-20",i?"pointer-events-none":""),style:t,onMouseDown:s,onDoubleClick:d=>{i||(d.stopPropagation(),l&&l(d))},children:c?X.jsx("div",{className:"w-6 h-6 rotate-45 bg-bronze shadow-lg border border-white/20 hover:scale-110 transition-transform cursor-pointer"}):X.jsxs("div",{className:"w-full h-full relative",children:[X.jsxs("div",{className:Xi("w-full h-full rounded border overflow-hidden transition-shadow",!i&&"cursor-grab active:cursor-grabbing shadow-ingot hover:brightness-110 border-white/10",i?"bg-bronze/40 border-bronze/50 rounded-sm":""),style:i?{}:{background:`linear-gradient(90deg, #9A8C74 ${a.progress}%, #2A2E35 ${a.progress}%)`},children:[!i&&a.duration>2&&X.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-[10px] font-mono font-bold text-white mix-blend-difference pointer-events-none",children:[a.progress,"%"]}),i&&X.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-bronze/80"})]}),!i&&X.jsx("div",{"data-resize":"right",className:"absolute right-0 top-0 bottom-0 w-4 cursor-e-resize z-20 opacity-0 group-hover:opacity-100 hover:bg-white/10 transition-opacity"}),X.jsx("div",{className:Xi("absolute left-full ml-3 top-1/2 -translate-y-1/2 text-xs text-stone whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-30",i?"font-bold text-bronze":"font-bold"),children:a.name})]})})},MS=({tasks:a,viewMode:t,projectStartDate:i,onScroll:s,onTaskDragStart:l,onEditTask:c})=>{const d=se.useRef(null),p=t==="day"?60:t==="week"?40:20,y=56,_=365*2,S=_*p,b=Math.max(a.length*y+100,600),V=[],z=[];let W=new Date(dl(i,-7)),nt=null,$=0;for(let ht=0;ht<_;ht++){const _t=new Date(W),St=ht*p;V.push({label:_t.getDate(),subLabel:_t.toLocaleString("default",{weekday:"narrow"}),left:St,isWeekend:_t.getDay()===0||_t.getDay()===6});const C=_t.toLocaleString("default",{month:"long",year:"numeric"});C!==nt&&(nt&&z.push({label:nt,left:$,width:St-$}),nt=C,$=St),W.setDate(W.getDate()+1)}z.push({label:nt,left:$,width:_*p-$});const ot=ht=>{d.current&&(d.current.scrollLeft=ht.target.scrollLeft),s&&s(ht)},ft=(ht,_t)=>{const C=Math.round((new Date(ht.startDate)-new Date(dl(i,-7)))/864e5)*p,A=ht.duration*p,R=_t*y+12,M=y-24;return{left:`${C}px`,top:`${R}px`,width:`${Math.max(A,2)}px`,height:`${M}px`}},gt=()=>{const ht=[];return a.forEach((_t,St)=>{if(!_t.dependencies||_t.dependencies.length===0)return;const C=Math.round((new Date(_t.startDate)-new Date(dl(i,-7)))/(1e3*60*60*24))*p,A=St*y+y/2+12;_t.dependencies.forEach(R=>{const M=a.find(rt=>rt.id===R),N=a.findIndex(rt=>rt.id===R);if(!M||N===-1)return;const I=(Math.round((new Date(M.startDate)-new Date(dl(i,-7)))/(1e3*60*60*24))+M.duration)*p,Qt=N*y+y/2+12,zt=Math.abs(C-I)*.5,G=`M ${I} ${Qt} C ${I+zt} ${Qt}, ${C-zt} ${A}, ${C} ${A}`;ht.push(X.jsx("path",{d:G,stroke:"#5C5242",strokeWidth:"1.5",fill:"none",className:"opacity-60",markerEnd:"url(#arrowhead)"},`${R}-${_t.id}`))})}),ht};return X.jsxs("div",{className:"flex-1 flex flex-col relative bg-midnight overflow-hidden h-full",children:[X.jsxs("div",{className:"h-[60px] bg-void/90 border-b border-border flex-shrink-0 relative overflow-hidden z-20 shadow-sm",ref:d,children:[X.jsx("div",{className:"h-[30px] border-b border-border/30 flex relative min-w-max",children:z.map((ht,_t)=>X.jsx("div",{className:"h-full border-r border-border/30 flex items-center bg-void/90 overflow-hidden",style:{width:ht.width},children:X.jsx("span",{className:"sticky left-0 px-4 text-xs font-header text-bronze tracking-widest uppercase whitespace-nowrap",children:ht.label})},_t))}),X.jsx("div",{className:"h-[30px] w-[max-content] relative",children:V.map((ht,_t)=>X.jsxs("div",{className:`absolute top-0 h-full border-r border-border/30 flex flex-col justify-center items-center text-[10px] select-none ${ht.isWeekend?"bg-white/5":""}`,style:{left:ht.left,width:p},children:[X.jsx("span",{className:"text-gray-500",children:ht.subLabel}),X.jsx("span",{className:"text-stone font-bold",children:ht.label})]},_t))})]}),X.jsx("div",{className:"flex-1 overflow-auto relative bg-grid-pattern bg-[length:40px_40px]",onScroll:ot,ref:scrollRef,children:X.jsxs("div",{style:{width:S,height:b},className:"relative",children:[X.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-10 overflow-visible",children:[X.jsx("defs",{children:X.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:X.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#5C5242"})})}),gt()]}),a.map((ht,_t)=>X.jsx(OS,{task:ht,style:ft(ht,_t),isSummary:ht.isSummary,onMouseDown:St=>{ht.isSummary||l(St,ht)},onDoubleClick:()=>c(ht)},ht.id))]})})]})},VS=({task:a,onClose:t,onSave:i})=>{const[s,l]=se.useState({...a});return X.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:X.jsxs("div",{className:"w-[400px] bg-panel border border-bronze/50 shadow-2xl rounded-lg overflow-hidden",children:[X.jsxs("div",{className:"h-12 bg-void/50 border-b border-border flex items-center justify-between px-4",children:[X.jsx("h2",{className:"font-header text-bronze tracking-wide",children:"Edit Phase"}),X.jsx("button",{onClick:t,className:"text-stone hover:text-white",children:X.jsx(IS,{size:18})})]}),X.jsxs("div",{className:"p-6 space-y-4 font-mono text-sm",children:[X.jsxs("div",{className:"space-y-1",children:[X.jsx("label",{className:"text-gray-500 uppercase text-[10px] tracking-wider",children:"Phase Name"}),X.jsx("input",{type:"text",value:s.name,onChange:c=>l({...s,name:c.target.value}),className:"w-full bg-midnight border border-border px-3 py-2 text-stone focus:border-bronze outline-none rounded"})]}),X.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[X.jsxs("div",{className:"space-y-1",children:[X.jsx("label",{className:"text-gray-500 uppercase text-[10px] tracking-wider",children:"Start Date"}),X.jsx("input",{type:"date",min:"2000-01-01",max:"2100-12-31",value:s.startDate?s.startDate.split("T")[0]:"",onChange:c=>l({...s,startDate:new Date(c.target.value).toISOString()}),className:"w-full bg-midnight border border-border px-3 py-2 text-stone focus:border-bronze outline-none rounded text-xs"})]}),X.jsxs("div",{className:"space-y-1",children:[X.jsx("label",{className:"text-gray-500 uppercase text-[10px] tracking-wider",children:"Duration (Days)"}),X.jsx("input",{type:"number",value:s.duration,onChange:c=>l({...s,duration:parseInt(c.target.value)}),className:"w-full bg-midnight border border-border px-3 py-2 text-stone focus:border-bronze outline-none rounded"})]}),X.jsxs("div",{className:"space-y-1",children:[X.jsx("label",{className:"text-gray-500 uppercase text-[10px] tracking-wider",children:"Progress (%)"}),X.jsx("input",{type:"number",min:"0",max:"100",value:s.progress,onChange:c=>l({...s,progress:parseInt(c.target.value)}),className:"w-full bg-midnight border border-border px-3 py-2 text-stone focus:border-bronze outline-none rounded"})]})]}),X.jsxs("div",{className:"space-y-1",children:[X.jsx("label",{className:"text-gray-500 uppercase text-[10px] tracking-wider",children:"Depends On (IDs, comma sep)"}),X.jsx("input",{type:"text",placeholder:"e.g. t1, t2",value:s.dependencies?s.dependencies.join(", "):"",onChange:c=>{const p=c.target.value.split(",").map(y=>y.trim()).filter(Boolean);l({...s,dependencies:p})},className:"w-full bg-midnight border border-border px-3 py-2 text-stone focus:border-bronze outline-none rounded font-mono text-xs"})]})]}),X.jsxs("div",{className:"p-4 border-t border-border bg-void/30 flex justify-between gap-2",children:[X.jsx("button",{onClick:()=>{t(),i(null,!0)},className:"px-4 py-2 hover:bg-red-500/10 text-red-400 border border-red-500/20 rounded transition-colors text-xs font-bold",children:"DELETE"}),X.jsxs("div",{className:"flex gap-2",children:[X.jsx("button",{onClick:t,className:"px-4 py-2 hover:bg-white/5 rounded text-stone transition-colors",children:"Cancel"}),X.jsx("button",{onClick:()=>{const d=new Date(s.startDate).getFullYear();if(isNaN(d)||d<2e3||d>2100){alert("Please enter a valid year between 2000 and 2100.");return}if(s.duration<1){alert("Duration must be at least 1 day.");return}i(s)},className:"px-4 py-2 bg-bronze hover:bg-bronzeDark text-midnight font-bold rounded font-header tracking-wide transition-colors",children:"Confirm Updates"})]})]})]})})},Ad=[{id:"Phase1",name:"Phase 1",startDate:"2021-01-19",duration:1,progress:0,type:"task",dependencies:[],parentId:null},{id:"1",name:"Approved Inspection",startDate:"2021-01-19",duration:29,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"1.1",name:"Revise Plans",startDate:"2021-01-19",duration:9,progress:0,type:"task",dependencies:[],parentId:"1"},{id:"1.2",name:"Get Plan Check",startDate:"2021-01-29",duration:13,progress:0,type:"task",dependencies:[],parentId:"1"},{id:"1.3",name:"Confirm Remaining Items",startDate:"2021-02-12",duration:3,progress:0,type:"task",dependencies:[],parentId:"1"},{id:"1.4",name:"Inspection 1",startDate:"2021-02-16",duration:1,progress:0,type:"task",dependencies:[],parentId:"1"},{id:"1.5",name:"Inspection 2",startDate:"2021-05-01",duration:1,progress:0,type:"task",dependencies:[],parentId:"1"},{id:"2",name:"Clear-down",startDate:"2021-01-19",duration:51,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"2.1",name:"Ebay items",startDate:"2021-01-19",duration:29,progress:0,type:"task",dependencies:[],parentId:"2"},{id:"2.2",name:"Assemble rubbish",startDate:"2021-01-24",duration:6,progress:0,type:"task",dependencies:[],parentId:"2"},{id:"2.3",name:"Skip",startDate:"2021-01-31",duration:1,progress:0,type:"task",dependencies:[],parentId:"2"},{id:"2.4",name:"Remove rubbish zone",startDate:"2021-02-01",duration:6,progress:0,type:"task",dependencies:[],parentId:"2"},{id:"2.5",name:"Move other things to storage",startDate:"2021-02-08",duration:6,progress:0,type:"task",dependencies:[],parentId:"2"},{id:"3",name:"Fire Hardware",startDate:"2021-02-08",duration:63,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"3.1",name:"Build wall L02",startDate:"2021-02-08",duration:6,progress:0,type:"task",dependencies:[],parentId:"3"},{id:"3.2",name:"Hang fire door L01",startDate:"2021-02-15",duration:6,progress:0,type:"task",dependencies:[],parentId:"3"},{id:"3.3",name:"Fit hardware to fire doors",startDate:"2021-02-22",duration:13,progress:0,type:"task",dependencies:[],parentId:"3"},{id:"3.4",name:"Wall/ceiling linings",startDate:"2021-03-08",duration:14,progress:0,type:"task",dependencies:[],parentId:"3"},{id:"3.5",name:"Boxing in services",startDate:"2021-03-23",duration:20,progress:0,type:"task",dependencies:[],parentId:"3"},{id:"4",name:"Sprinklers",startDate:"2021-04-13",duration:38,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"4.1",name:"Pipework",startDate:"2021-04-13",duration:13,progress:0,type:"task",dependencies:[],parentId:"4"},{id:"4.2",name:"Pressure Test",startDate:"2021-04-27",duration:3,progress:0,type:"task",dependencies:[],parentId:"4"},{id:"4.3",name:"Fix sprinkler heads",startDate:"2021-05-01",duration:6,progress:0,type:"task",dependencies:[],parentId:"4"},{id:"4.4",name:"Connect supply",startDate:"2021-05-08",duration:6,progress:0,type:"task",dependencies:[],parentId:"4"},{id:"4.5",name:"Commission",startDate:"2021-05-15",duration:6,progress:0,type:"task",dependencies:[],parentId:"4"},{id:"5",name:"Fire Alarm",startDate:"2021-01-19",duration:22,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"5.1",name:"Complete wiring",startDate:"2021-01-19",duration:4,progress:0,type:"task",dependencies:[],parentId:"5"},{id:"5.2",name:"Wire up",startDate:"2021-01-24",duration:2,progress:0,type:"task",dependencies:[],parentId:"5"},{id:"5.3",name:"(plastering a pre-requisite)",startDate:"2021-01-27",duration:3,progress:0,type:"task",dependencies:[],parentId:"5"},{id:"6",name:"Hot water",startDate:"2021-01-19",duration:62,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"6.1",name:"Discharge Pipework /Other",startDate:"2021-01-19",duration:13,progress:0,type:"task",dependencies:[],parentId:"6"},{id:"6.2",name:"Tradesman pause",startDate:"2021-02-02",duration:32,progress:0,type:"task",dependencies:[],parentId:"6"},{id:"6.3",name:"Boiler & cylinder install",startDate:"2021-03-07",duration:6,progress:0,type:"task",dependencies:[],parentId:"6"},{id:"6.4",name:"pressure testing/commis",startDate:"2021-03-14",duration:1,progress:0,type:"task",dependencies:[],parentId:"6"},{id:"6.5",name:"flue to roof incl. cowl",startDate:"2021-03-01",duration:6,progress:0,type:"task",dependencies:[],parentId:"6"},{id:"7",name:"UFH",startDate:"2021-02-02",duration:34,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"7.1",name:"Manifold install",startDate:"2021-02-02",duration:6,progress:0,type:"task",dependencies:[],parentId:"7"},{id:"7.2",name:"Complete piping",startDate:"2021-02-09",duration:6,progress:0,type:"task",dependencies:[],parentId:"7"},{id:"7.3",name:"Repair damaged pipework",startDate:"2021-02-16",duration:6,progress:0,type:"task",dependencies:[],parentId:"7"},{id:"7.4",name:"Connect supply",startDate:"2021-02-23",duration:6,progress:0,type:"task",dependencies:[],parentId:"7"},{id:"7.5",name:"Wiring",startDate:"2021-03-02",duration:6,progress:0,type:"task",dependencies:[],parentId:"7"},{id:"8",name:"Envelope",startDate:"2021-05-22",duration:23,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"8.1",name:"Re-gutter roof",startDate:"2021-05-22",duration:6,progress:0,type:"task",dependencies:[],parentId:"8"},{id:"8.2",name:"Weld window L01",startDate:"2021-05-29",duration:1,progress:0,type:"task",dependencies:[],parentId:"8"},{id:"8.3",name:"Front door openable - lock",startDate:"2021-05-31",duration:9,progress:0,type:"task",dependencies:[],parentId:"8"},{id:"8.4",name:"cowls for vents",startDate:"2021-06-10",duration:4,progress:0,type:"task",dependencies:[],parentId:"8"},{id:"9",name:"Temporary Making Good",startDate:"2021-06-15",duration:20,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"9.1",name:"Floor paint to L04",startDate:"2021-06-15",duration:6,progress:0,type:"task",dependencies:[],parentId:"9"},{id:"9.2",name:"Boxing in services",startDate:"2021-06-22",duration:13,progress:0,type:"task",dependencies:[],parentId:"9"},{id:"10",name:"Lighting",startDate:"2021-07-06",duration:62,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"10.1",name:"Design / Schedule",startDate:"2021-07-06",duration:6,progress:0,type:"task",dependencies:[],parentId:"10"},{id:"10.2",name:"Digidim/DALI",startDate:"2021-07-13",duration:6,progress:0,type:"task",dependencies:[],parentId:"10"},{id:"10.3",name:"Fittings",startDate:"2021-07-20",duration:20,progress:0,type:"task",dependencies:[],parentId:"10"},{id:"10.4",name:"Switches",startDate:"2021-08-10",duration:13,progress:0,type:"task",dependencies:[],parentId:"10"},{id:"10.5",name:"Making good",startDate:"2021-08-24",duration:13,progress:0,type:"task",dependencies:[],parentId:"10"},{id:"11",name:"Kitchen",startDate:"2021-09-07",duration:62,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"11.1",name:"Carcassing",startDate:"2021-09-07",duration:13,progress:0,type:"task",dependencies:[],parentId:"11"},{id:"11.2",name:"Doors",startDate:"2021-09-21",duration:13,progress:0,type:"task",dependencies:[],parentId:"11"},{id:"11.3",name:"Appliances",startDate:"2021-10-05",duration:6,progress:0,type:"task",dependencies:[],parentId:"11"},{id:"11.4",name:"Electrics",startDate:"2021-10-12",duration:13,progress:0,type:"task",dependencies:[],parentId:"11"},{id:"11.5",name:"Making good",startDate:"2021-10-26",duration:13,progress:0,type:"task",dependencies:[],parentId:"11"},{id:"12",name:"Showerroom",startDate:"2021-11-08",duration:55,progress:0,type:"task",dependencies:[],parentId:"Phase1"},{id:"12.1",name:"Tiling",startDate:"2021-11-08",duration:6,progress:0,type:"task",dependencies:[],parentId:"12"},{id:"12.2",name:"Shower screen",startDate:"2021-11-15",duration:6,progress:0,type:"task",dependencies:[],parentId:"12"},{id:"12.3",name:"Plastering",startDate:"2021-11-22",duration:13,progress:0,type:"task",dependencies:[],parentId:"12"},{id:"12.4",name:"Lighting",startDate:"2021-12-06",duration:6,progress:0,type:"task",dependencies:[],parentId:"12"},{id:"12.5",name:"Making good",startDate:"2021-12-13",duration:20,progress:0,type:"task",dependencies:[],parentId:"12"}],xS=()=>{};var w_={};const e0=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},kS=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],p=a[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const c=a[i++],d=a[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},n0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,p=d?a[l+1]:0,y=l+2<a.length,_=y?a[l+2]:0,S=c>>2,b=(c&3)<<4|p>>4;let V=(p&15)<<2|_>>6,z=_&63;y||(z=64,d||(V=64)),s.push(i[S],i[b],i[V],i[z])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(e0(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):kS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],p=l<a.length?i[a.charAt(l)]:0;++l;const _=l<a.length?i[a.charAt(l)]:64;++l;const b=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||p==null||_==null||b==null)throw new US;const V=c<<2|p>>4;if(s.push(V),_!==64){const z=p<<4&240|_>>2;if(s.push(z),b!==64){const W=_<<6&192|b;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class US extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LS=function(a){const t=e0(a);return n0.encodeByteArray(t,!0)},xc=function(a){return LS(a).replace(/\./g,"")},i0=function(a){try{return n0.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function PS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zS=()=>PS().__FIREBASE_DEFAULTS__,jS=()=>{if(typeof process>"u"||typeof w_>"u")return;const a=w_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},BS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&i0(a[1]);return t&&JSON.parse(t)},eh=()=>{try{return xS()||zS()||jS()||BS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},r0=a=>eh()?.emulatorHosts?.[a],qS=a=>{const t=r0(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},s0=()=>eh()?.config,a0=a=>eh()?.[`_${a}`];class HS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function Ja(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function o0(a){return(await fetch(a,{credentials:"include"})).ok}function GS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[xc(JSON.stringify(i)),xc(JSON.stringify(d)),""].join(".")}const _l={};function FS(){const a={prod:[],emulator:[]};for(const t of Object.keys(_l))_l[t]?a.emulator.push(t):a.prod.push(t);return a}function QS(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let R_=!1;function l0(a,t){if(typeof window>"u"||typeof document>"u"||!Ja(window.location.host)||_l[a]===t||_l[a]||R_)return;_l[a]=t;function i(V){return`__firebase__banner__${V}`}const s="__firebase__banner",c=FS().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,z){V.setAttribute("width","24"),V.setAttribute("id",z),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{R_=!0,d()},V}function S(V,z){V.setAttribute("id",z),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function b(){const V=QS(s),z=i("text"),W=document.getElementById(z)||document.createElement("span"),nt=i("learnmore"),$=document.getElementById(nt)||document.createElement("a"),ot=i("preprendIcon"),ft=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const gt=V.element;p(gt),S($,nt);const ht=_();y(ft,ot),gt.append(ft,W,$,ht),document.body.appendChild(gt)}c?(W.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function YS(){const a=eh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function $S(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JS(){const a=Je();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function WS(){return!YS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tb(){try{return typeof indexedDB=="object"}catch{return!1}}function eb(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const nb="FirebaseError";class rr extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=nb,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vl.prototype.create)}}class Vl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?ib(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new rr(l,p,s)}}function ib(a,t){return a.replace(rb,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const rb=/\{\$([^}]+)}/g;function sb(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Ls(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=a[l],d=t[l];if(I_(c)&&I_(d)){if(!Ls(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function I_(a){return a!==null&&typeof a=="object"}function xl(a){const t=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function ab(a,t){const i=new ob(a,t);return i.subscribe.bind(i)}class ob{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");lb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=wd),l.error===void 0&&(l.error=wd),l.complete===void 0&&(l.complete=wd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lb(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function wd(){}function Un(a){return a&&a._delegate?a._delegate:a}class Ps{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Vs="[DEFAULT]";class ub{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new HS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(hb(t))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Vs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vs){return this.instances.has(t)}getOptions(t=Vs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cb(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Vs){return this.component?this.component.multipleInstances?t:Vs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cb(a){return a===Vs?void 0:a}function hb(a){return a.instantiationMode==="EAGER"}class fb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new ub(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var xt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(xt||(xt={}));const db={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},mb=xt.INFO,pb={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},gb=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=pb[t];if(l)console[l](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class lm{constructor(t){this.name=t,this._logLevel=mb,this._logHandler=gb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?db[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const yb=(a,t)=>t.some(i=>a instanceof i);let C_,D_;function _b(){return C_||(C_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vb(){return D_||(D_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u0=new WeakMap,Ld=new WeakMap,c0=new WeakMap,Rd=new WeakMap,um=new WeakMap;function Eb(a){const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Fr(a.result)),l()},d=()=>{s(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&u0.set(i,a)}).catch(()=>{}),um.set(t,a),t}function Tb(a){if(Ld.has(a))return;const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});Ld.set(a,t)}let Pd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Ld.get(a);if(t==="objectStoreNames")return a.objectStoreNames||c0.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Fr(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function Sb(a){Pd=a(Pd)}function bb(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(Id(this),t,...i);return c0.set(s,t.sort?t.sort():[t]),Fr(s)}:vb().includes(a)?function(...t){return a.apply(Id(this),t),Fr(u0.get(this))}:function(...t){return Fr(a.apply(Id(this),t))}}function Ab(a){return typeof a=="function"?bb(a):(a instanceof IDBTransaction&&Tb(a),yb(a,_b())?new Proxy(a,Pd):a)}function Fr(a){if(a instanceof IDBRequest)return Eb(a);if(Rd.has(a))return Rd.get(a);const t=Ab(a);return t!==a&&(Rd.set(a,t),um.set(t,a)),t}const Id=a=>um.get(a);function wb(a,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),p=Fr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Fr(d.result),y.oldVersion,y.newVersion,Fr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const Rb=["get","getKey","getAll","getAllKeys","count"],Ib=["put","add","delete","clear"],Cd=new Map;function N_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Cd.get(t))return Cd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=Ib.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||Rb.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Cd.set(t,c),c}Sb(a=>({...a,get:(t,i,s)=>N_(t,i)||a.get(t,i,s),has:(t,i)=>!!N_(t,i)||a.has(t,i)}));class Cb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Db(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Db(a){return a.getComponent()?.type==="VERSION"}const zd="@firebase/app",O_="0.14.6";const Wi=new lm("@firebase/app"),Nb="@firebase/app-compat",Ob="@firebase/analytics-compat",Mb="@firebase/analytics",Vb="@firebase/app-check-compat",xb="@firebase/app-check",kb="@firebase/auth",Ub="@firebase/auth-compat",Lb="@firebase/database",Pb="@firebase/data-connect",zb="@firebase/database-compat",jb="@firebase/functions",Bb="@firebase/functions-compat",qb="@firebase/installations",Hb="@firebase/installations-compat",Gb="@firebase/messaging",Fb="@firebase/messaging-compat",Qb="@firebase/performance",Kb="@firebase/performance-compat",Yb="@firebase/remote-config",Xb="@firebase/remote-config-compat",Zb="@firebase/storage",$b="@firebase/storage-compat",Jb="@firebase/firestore",Wb="@firebase/ai",tA="@firebase/firestore-compat",eA="firebase",nA="12.6.0";const jd="[DEFAULT]",iA={[zd]:"fire-core",[Nb]:"fire-core-compat",[Mb]:"fire-analytics",[Ob]:"fire-analytics-compat",[xb]:"fire-app-check",[Vb]:"fire-app-check-compat",[kb]:"fire-auth",[Ub]:"fire-auth-compat",[Lb]:"fire-rtdb",[Pb]:"fire-data-connect",[zb]:"fire-rtdb-compat",[jb]:"fire-fn",[Bb]:"fire-fn-compat",[qb]:"fire-iid",[Hb]:"fire-iid-compat",[Gb]:"fire-fcm",[Fb]:"fire-fcm-compat",[Qb]:"fire-perf",[Kb]:"fire-perf-compat",[Yb]:"fire-rc",[Xb]:"fire-rc-compat",[Zb]:"fire-gcs",[$b]:"fire-gcs-compat",[Jb]:"fire-fst",[tA]:"fire-fst-compat",[Wb]:"fire-vertex","fire-js":"fire-js",[eA]:"fire-js-all"};const kc=new Map,rA=new Map,Bd=new Map;function M_(a,t){try{a.container.addComponent(t)}catch(i){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ga(a){const t=a.name;if(Bd.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;Bd.set(t,a);for(const i of kc.values())M_(i,a);for(const i of rA.values())M_(i,a);return!0}function cm(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Xn(a){return a==null?!1:a.settings!==void 0}const sA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new Vl("app","Firebase",sA);class aA{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}const Wa=nA;function h0(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s={name:jd,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Qr.create("bad-app-name",{appName:String(l)});if(i||(i=s0()),!i)throw Qr.create("no-options");const c=kc.get(l);if(c){if(Ls(i,c.options)&&Ls(s,c.config))return c;throw Qr.create("duplicate-app",{appName:l})}const d=new fb(l);for(const y of Bd.values())d.addComponent(y);const p=new aA(i,s,d);return kc.set(l,p),p}function f0(a=jd){const t=kc.get(a);if(!t&&a===jd&&s0())return h0();if(!t)throw Qr.create("no-app",{appName:a});return t}function Kr(a,t,i){let s=iA[a]??a;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Ga(new Ps(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const oA="firebase-heartbeat-database",lA=1,Al="firebase-heartbeat-store";let Dd=null;function d0(){return Dd||(Dd=wb(oA,lA,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Al)}catch(i){console.warn(i)}}}}).catch(a=>{throw Qr.create("idb-open",{originalErrorMessage:a.message})})),Dd}async function uA(a){try{const i=(await d0()).transaction(Al),s=await i.objectStore(Al).get(m0(a));return await i.done,s}catch(t){if(t instanceof rr)Wi.warn(t.message);else{const i=Qr.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(i.message)}}}async function V_(a,t){try{const s=(await d0()).transaction(Al,"readwrite");await s.objectStore(Al).put(t,m0(a)),await s.done}catch(i){if(i instanceof rr)Wi.warn(i.message);else{const s=Qr.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(s.message)}}}function m0(a){return`${a.name}!${a.options.appId}`}const cA=1024,hA=30;class fA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new mA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=x_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>hA){const l=pA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=x_(),{heartbeatsToSend:i,unsentEntries:s}=dA(this._heartbeatsCache.heartbeats),l=xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Wi.warn(t),""}}}function x_(){return new Date().toISOString().substring(0,10)}function dA(a,t=cA){const i=[];let s=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),k_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),k_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class mA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tb()?eb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await uA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return V_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return V_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function k_(a){return xc(JSON.stringify({version:2,heartbeats:a})).length}function pA(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}function gA(a){Ga(new Ps("platform-logger",t=>new Cb(t),"PRIVATE")),Ga(new Ps("heartbeat",t=>new fA(t),"PRIVATE")),Kr(zd,O_,a),Kr(zd,O_,"esm2020"),Kr("fire-js","")}gA("");var yA="firebase",_A="12.7.0";Kr(yA,_A,"app");function p0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vA=p0,g0=new Vl("auth","Firebase",p0());const Uc=new lm("@firebase/auth");function EA(a,...t){Uc.logLevel<=xt.WARN&&Uc.warn(`Auth (${Wa}): ${a}`,...t)}function Ac(a,...t){Uc.logLevel<=xt.ERROR&&Uc.error(`Auth (${Wa}): ${a}`,...t)}function tr(a,...t){throw hm(a,...t)}function Ei(a,...t){return hm(a,...t)}function y0(a,t,i){const s={...vA(),[t]:i};return new Vl("auth","Firebase",s).create(t,{appName:a.name})}function Yr(a){return y0(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hm(a,...t){if(typeof a!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return g0.create(a,...t)}function Tt(a,t,...i){if(!a)throw hm(t,...i)}function Zi(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Ac(t),new Error(t)}function er(a,t){a||Zi(t)}function qd(){return typeof self<"u"&&self.location?.href||""}function TA(){return U_()==="http:"||U_()==="https:"}function U_(){return typeof self<"u"&&self.location?.protocol||null}function SA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TA()||ZS()||"connection"in navigator)?navigator.onLine:!0}function bA(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class kl{constructor(t,i){this.shortDelay=t,this.longDelay=i,er(i>t,"Short delay should be less than long delay!"),this.isMobile=KS()||$S()}get(){return SA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fm(a,t){er(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class _0{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const wA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RA=new kl(3e4,6e4);function nh(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function to(a,t,i,s,l={}){return v0(a,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const p=xl({key:a.config.apiKey,...d}).slice(1),y=await a._getAdditionalHeaders();y["Content-Type"]="application/json",a.languageCode&&(y["X-Firebase-Locale"]=a.languageCode);const _={method:t,headers:y,...c};return XS()||(_.referrerPolicy="no-referrer"),a.emulatorConfig&&Ja(a.emulatorConfig.host)&&(_.credentials="include"),_0.fetch()(await T0(a,a.config.apiHost,i,p),_)})}async function v0(a,t,i){a._canInitEmulator=!1;const s={...AA,...t};try{const l=new IA(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw _c(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(a,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw _c(a,"email-already-in-use",d);if(y==="USER_DISABLED")throw _c(a,"user-disabled",d);const S=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw y0(a,S,_);tr(a,S)}}catch(l){if(l instanceof rr)throw l;tr(a,"network-request-failed",{message:String(l)})}}async function E0(a,t,i,s,l={}){const c=await to(a,t,i,s,l);return"mfaPendingCredential"in c&&tr(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function T0(a,t,i,s){const l=`${t}${i}?${s}`,c=a,d=c.config.emulator?fm(a.config,l):`${a.config.apiScheme}://${l}`;return wA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class IA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Ei(this.auth,"network-request-failed")),RA.get())})}}function _c(a,t,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Ei(a,t,s);return l.customData._tokenResponse=i,l}async function CA(a,t){return to(a,"POST","/v1/accounts:delete",t)}async function Lc(a,t){return to(a,"POST","/v1/accounts:lookup",t)}function vl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function DA(a,t=!1){const i=Un(a),s=await i.getIdToken(t),l=dm(s);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:vl(Nd(l.auth_time)),issuedAtTime:vl(Nd(l.iat)),expirationTime:vl(Nd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Nd(a){return Number(a)*1e3}function dm(a){const[t,i,s]=a.split(".");if(t===void 0||i===void 0||s===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const l=i0(i);return l?JSON.parse(l):(Ac("Failed to decode base64 JWT payload"),null)}catch(l){return Ac("Caught error parsing JWT payload as JSON",l?.toString()),null}}function L_(a){const t=dm(a);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function wl(a,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof rr&&NA(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function NA({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class OA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Hd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Pc(a){const t=a.auth,i=await a.getIdToken(),s=await wl(a,Lc(t,{idToken:i}));Tt(s?.users.length,t,"internal-error");const l=s.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?S0(l.providerUserInfo):[],d=VA(a.providerData,c),p=a.isAnonymous,y=!(a.email&&l.passwordHash)&&!d?.length,_=p?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Hd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(a,S)}async function MA(a){const t=Un(a);await Pc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function VA(a,t){return[...a.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function S0(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function xA(a,t){const i=await v0(a,{},async()=>{const s=xl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await T0(a,l,"/v1/token",`key=${c}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:s};return a.emulatorConfig&&Ja(a.emulatorConfig.host)&&(y.credentials="include"),_0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function kA(a,t){return to(a,"POST","/v2/accounts:revokeToken",nh(a,t))}class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):L_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=L_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await xA(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Pa;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(Tt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function zr(a,t){Tt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new OA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Hd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await wl(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return DA(this,t)}reload(){return MA(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Pc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Yr(this.auth));const t=await this.getIdToken();return await wl(this,CA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:b,emailVerified:V,isAnonymous:z,providerData:W,stsTokenManager:nt}=i;Tt(b&&nt,t,"internal-error");const $=Pa.fromJSON(this.name,nt);Tt(typeof b=="string",t,"internal-error"),zr(s,t.name),zr(l,t.name),Tt(typeof V=="boolean",t,"internal-error"),Tt(typeof z=="boolean",t,"internal-error"),zr(c,t.name),zr(d,t.name),zr(p,t.name),zr(y,t.name),zr(_,t.name),zr(S,t.name);const ot=new Zn({uid:b,auth:t,email:l,emailVerified:V,displayName:s,isAnonymous:z,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:$,createdAt:_,lastLoginAt:S});return W&&Array.isArray(W)&&(ot.providerData=W.map(ft=>({...ft}))),y&&(ot._redirectEventId=y),ot}static async _fromIdTokenResponse(t,i,s=!1){const l=new Pa;l.updateFromServerResponse(i);const c=new Zn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Pc(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?S0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Pa;p.updateFromIdToken(s);const y=new Zn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Hd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const P_=new Map;function $i(a){er(a instanceof Function,"Expected a class definition");let t=P_.get(a);return t?(er(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,P_.set(a,t),t)}class b0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}b0.type="NONE";const z_=b0;function wc(a,t,i){return`firebase:${a}:${t}:${i}`}class za{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=wc(this.userKey,l.apiKey,c),this.fullPersistenceKey=wc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Lc(this.auth,{idToken:t}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new za($i(z_),t,s);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||$i(z_);const d=wc(s,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const S=await _._get(d);if(S){let b;if(typeof S=="string"){const V=await Lc(t,{idToken:S}).catch(()=>{});if(!V)break;b=await Zn._fromGetAccountInfoResponse(t,V,S)}else b=Zn._fromJSON(t,S);_!==c&&(p=b),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new za(c,t,s):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new za(c,t,s))}}function j_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(I0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(A0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(D0(t))return"Blackberry";if(N0(t))return"Webos";if(w0(t))return"Safari";if((t.includes("chrome/")||R0(t))&&!t.includes("edge/"))return"Chrome";if(C0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if(s?.length===2)return s[1]}return"Other"}function A0(a=Je()){return/firefox\//i.test(a)}function w0(a=Je()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function R0(a=Je()){return/crios\//i.test(a)}function I0(a=Je()){return/iemobile/i.test(a)}function C0(a=Je()){return/android/i.test(a)}function D0(a=Je()){return/blackberry/i.test(a)}function N0(a=Je()){return/webos/i.test(a)}function mm(a=Je()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function UA(a=Je()){return mm(a)&&!!window.navigator?.standalone}function LA(){return JS()&&document.documentMode===10}function O0(a=Je()){return mm(a)||C0(a)||N0(a)||D0(a)||/windows phone/i.test(a)||I0(a)}function M0(a,t=[]){let i;switch(a){case"Browser":i=j_(Je());break;case"Worker":i=`${j_(Je())}-${a}`;break;default:i=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Wa}/${s}`}class PA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function zA(a,t={}){return to(a,"GET","/v2/passwordPolicy",nh(a,t))}const jA=6;class BA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??jA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class qA{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B_(this),this.idTokenSubscription=new B_(this),this.beforeStateQueue=new PA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=$i(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Lc(this,{idToken:t}),s=await Zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Pc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=bA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(Yr(this));const i=t?Un(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(Yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await zA(this),i=new BA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Vl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await kA(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&$i(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[$i(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=M0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&EA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ih(a){return Un(a)}class B_{constructor(t){this.auth=t,this.observer=null,this.addObserver=ab(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HA(a){pm=a}function GA(a){return pm.loadJS(a)}function FA(){return pm.gapiScript}function QA(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function KA(a,t){const i=cm(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ls(c,t??{}))return l;tr(l,"already-initialized")}return i.initialize({options:t})}function YA(a,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map($i);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t?.popupRedirectResolver)}function XA(a,t,i){const s=ih(a);Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=V0(t),{host:d,port:p}=ZA(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(Ls(_,s.config.emulator)&&Ls(S,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=S,s.settings.appVerificationDisabledForTesting=!0,Ja(d)?(o0(`${c}//${d}${y}`),l0("Auth",!0)):$A()}function V0(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function ZA(a){const t=V0(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:q_(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:q_(d)}}}function q_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function $A(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class x0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,i){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function ja(a,t){return E0(a,"POST","/v1/accounts:signInWithIdp",nh(a,t))}const JA="http://localhost";class zs extends x0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new zs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):tr("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new zs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return ja(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,ja(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ja(t,i)}buildRequest(){const t={requestUri:JA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=xl(i)}return t}}class k0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ul extends k0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class jr extends Ul{constructor(){super("facebook.com")}static credential(t){return zs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";class Br extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return zs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Br.credential(i,s)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";class qr extends Ul{constructor(){super("github.com")}static credential(t){return zs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";class Hr extends Ul{constructor(){super("twitter.com")}static credential(t,i){return zs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Hr.credential(i,s)}catch{return null}}}Hr.TWITTER_SIGN_IN_METHOD="twitter.com";Hr.PROVIDER_ID="twitter.com";async function WA(a,t){return E0(a,"POST","/v1/accounts:signUp",nh(a,t))}class Zr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Zn._fromIdTokenResponse(t,s,l),d=H_(s);return new Zr({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=H_(s);return new Zr({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function H_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function t2(a){if(Xn(a.app))return Promise.reject(Yr(a));const t=ih(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Zr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await WA(t,{returnSecureToken:!0}),s=await Zr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(s.user),s}class zc extends rr{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new zc(t,i,s,l)}}function U0(a,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(a,c,t,s):c})}async function e2(a,t,i=!1){const s=await wl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Zr._forOperation(a,"link",s)}async function n2(a,t,i=!1){const{auth:s}=a;if(Xn(s.app))return Promise.reject(Yr(s));const l="reauthenticate";try{const c=await wl(a,U0(s,l,t,a),i);Tt(c.idToken,s,"internal-error");const d=dm(c.idToken);Tt(d,s,"internal-error");const{sub:p}=d;return Tt(a.uid===p,s,"user-mismatch"),Zr._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&tr(s,"user-mismatch"),c}}async function i2(a,t,i=!1){if(Xn(a.app))return Promise.reject(Yr(a));const s="signIn",l=await U0(a,s,t),c=await Zr._fromIdTokenResponse(a,s,l);return i||await a._updateCurrentUser(c.user),c}function r2(a,t,i,s){return Un(a).onIdTokenChanged(t,i,s)}function s2(a,t,i){return Un(a).beforeAuthStateChanged(t,i)}function a2(a,t,i,s){return Un(a).onAuthStateChanged(t,i,s)}const jc="__sak";class L0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(jc,"1"),this.storage.removeItem(jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const o2=1e3,l2=10;class P0 extends L0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);LA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,l2):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},o2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}P0.type="LOCAL";const u2=P0;class z0 extends L0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}z0.type="SESSION";const j0=z0;function c2(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class rh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new rh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await c2(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rh.receivers=[];function gm(a="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return a+i}class h2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=gm("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(b){const V=b;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(S),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ti(){return window}function f2(a){Ti().location.href=a}function B0(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function d2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function m2(){return navigator?.serviceWorker?.controller||null}function p2(){return B0()?self:null}const q0="firebaseLocalStorageDb",g2=1,Bc="firebaseLocalStorage",H0="fbase_key";class Ll{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function sh(a,t){return a.transaction([Bc],t?"readwrite":"readonly").objectStore(Bc)}function y2(){const a=indexedDB.deleteDatabase(q0);return new Ll(a).toPromise()}function Gd(){const a=indexedDB.open(q0,g2);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(Bc,{keyPath:H0})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(Bc)?t(s):(s.close(),await y2(),t(await Gd()))})})}async function G_(a,t,i){const s=sh(a,!0).put({[H0]:t,value:i});return new Ll(s).toPromise()}async function _2(a,t){const i=sh(a,!1).get(t),s=await new Ll(i).toPromise();return s===void 0?null:s.value}function F_(a,t){const i=sh(a,!0).delete(t);return new Ll(i).toPromise()}const v2=800,E2=3;class G0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>E2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rh._getInstance(p2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await d2(),!this.activeServiceWorker)return;this.sender=new h2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||m2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Gd();return await G_(t,jc,"1"),await F_(t,jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>G_(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>_2(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>F_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=sh(l,!1).getAll();return new Ll(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),v2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G0.type="LOCAL";const T2=G0;new kl(3e4,6e4);function S2(a,t){return t?$i(t):(Tt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class ym extends x0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function b2(a){return i2(a.auth,new ym(a),a.bypassAuthState)}function A2(a){const{auth:t,user:i}=a;return Tt(i,t,"internal-error"),n2(i,new ym(a),a.bypassAuthState)}async function w2(a){const{auth:t,user:i}=a;return Tt(i,t,"internal-error"),e2(i,new ym(a),a.bypassAuthState)}class F0{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return b2;case"linkViaPopup":case"linkViaRedirect":return w2;case"reauthViaPopup":case"reauthViaRedirect":return A2;default:tr(this.auth,"internal-error")}}resolve(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const R2=new kl(2e3,1e4);class La extends F0{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const t=gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,R2.get())};t()}}La.currentPopupAction=null;const I2="pendingRedirect",Rc=new Map;class C2 extends F0{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Rc.get(this.auth._key());if(!t){try{const s=await D2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Rc.set(this.auth._key(),t)}return this.bypassAuthState||Rc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function D2(a,t){const i=M2(t),s=O2(a);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function N2(a,t){Rc.set(a._key(),t)}function O2(a){return $i(a._redirectPersistence)}function M2(a){return wc(I2,a.config.apiKey,a.name)}async function V2(a,t,i=!1){if(Xn(a.app))return Promise.reject(Yr(a));const s=ih(a),l=S2(s,t),d=await new C2(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const x2=600*1e3;class k2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!U2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!Q0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ei(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=x2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q_(t))}saveEventToCache(t){this.cachedEventUids.add(Q_(t)),this.lastProcessedEventTime=Date.now()}}function Q_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function Q0({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function U2(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Q0(a);default:return!1}}async function L2(a,t={}){return to(a,"GET","/v1/projects",t)}const P2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z2=/^https?/;async function j2(a){if(a.config.emulator)return;const{authorizedDomains:t}=await L2(a);for(const i of t)try{if(B2(i))return}catch{}tr(a,"unauthorized-domain")}function B2(a){const t=qd(),{protocol:i,hostname:s}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!z2.test(i))return!1;if(P2.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const q2=new kl(3e4,6e4);function K_(){const a=Ti().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function H2(a){return new Promise((t,i)=>{function s(){K_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{K_(),i(Ei(a,"network-request-failed"))},timeout:q2.get()})}if(Ti().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ti().gapi?.load)s();else{const l=QA("iframefcb");return Ti()[l]=()=>{gapi.load?s():i(Ei(a,"network-request-failed"))},GA(`${FA()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Ic=null,t})}let Ic=null;function G2(a){return Ic=Ic||H2(a),Ic}const F2=new kl(5e3,15e3),Q2="__/auth/iframe",K2="emulator/auth/iframe",Y2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z2(a){const t=a.config;Tt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?fm(t,K2):`https://${a.config.authDomain}/${Q2}`,s={apiKey:t.apiKey,appName:a.name,v:Wa},l=X2.get(a.config.apiHost);l&&(s.eid=l);const c=a._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${xl(s).slice(1)}`}async function $2(a){const t=await G2(a),i=Ti().gapi;return Tt(i,a,"internal-error"),t.open({where:document.body,url:Z2(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y2,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Ei(a,"network-request-failed"),p=Ti().setTimeout(()=>{c(d)},F2.get());function y(){Ti().clearTimeout(p),l(s)}s.ping(y).then(y,()=>{c(d)})}))}const J2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},W2=500,tw=600,ew="_blank",nw="http://localhost";class Y_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iw(a,t,i,s=W2,l=tw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const y={...J2,width:s.toString(),height:l.toString(),top:c,left:d},_=Je().toLowerCase();i&&(p=R0(_)?ew:i),A0(_)&&(t=t||nw,y.scrollbars="yes");const S=Object.entries(y).reduce((V,[z,W])=>`${V}${z}=${W},`,"");if(UA(_)&&p!=="_self")return rw(t||"",p),new Y_(null);const b=window.open(t||"",p,S);Tt(b,a,"popup-blocked");try{b.focus()}catch{}return new Y_(b)}function rw(a,t){const i=document.createElement("a");i.href=a,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const sw="__/auth/handler",aw="emulator/auth/handler",ow=encodeURIComponent("fac");async function X_(a,t,i,s,l,c){Tt(a.config.authDomain,a,"auth-domain-config-required"),Tt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:Wa,eventId:l};if(t instanceof k0){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",sb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,b]of Object.entries({}))d[S]=b}if(t instanceof Ul){const S=t.getScopes().filter(b=>b!=="");S.length>0&&(d.scopes=S.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const y=await a._getAppCheckToken(),_=y?`#${ow}=${encodeURIComponent(y)}`:"";return`${lw(a)}?${xl(p).slice(1)}${_}`}function lw({config:a}){return a.emulator?fm(a,aw):`https://${a.authDomain}/${sw}`}const Od="webStorageSupport";class uw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j0,this._completeRedirectFn=V2,this._overrideRedirectResult=N2}async _openPopup(t,i,s,l){er(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await X_(t,i,s,qd(),l);return iw(t,c,gm())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await X_(t,i,s,qd(),l);return f2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(er(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await $2(t),s=new k2(t);return i.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Od,{type:Od},l=>{const c=l?.[0]?.[Od];c!==void 0&&i(!!c),tr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=j2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return O0()||w0()||mm()}}const cw=uw;var Z_="@firebase/auth",$_="1.12.0";class hw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fw(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dw(a){Ga(new Ps("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M0(a)},_=new qA(s,l,c,y);return YA(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Ga(new Ps("auth-internal",t=>{const i=ih(t.getProvider("auth").getImmediate());return(s=>new hw(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(Z_,$_,fw(a)),Kr(Z_,$_,"esm2020")}const mw=300,pw=a0("authIdTokenMaxAge")||mw;let J_=null;const gw=a=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>pw)return;const l=i?.token;J_!==l&&(J_=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function yw(a=f0()){const t=cm(a,"auth");if(t.isInitialized())return t.getImmediate();const i=KA(a,{popupRedirectResolver:cw,persistence:[T2,u2,j0]}),s=a0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=gw(c.toString());s2(i,d,()=>d(i.currentUser)),r2(i,p=>d(p))}}const l=r0("auth");return l&&XA(i,`http://${l}`),i}function _w(){return document.getElementsByTagName("head")?.[0]??document}HA({loadJS(a){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=t,s.onerror=l=>{const c=Ei("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",_w().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dw("Browser");var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xr,K0;(function(){var a;function t(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(M,N,k){for(var I=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)I[Qt-2]=arguments[Qt];return A.prototype[N].apply(M,I)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,A,R){R||(R=0);const M=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)M[N]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(N=0;N<16;++N)M[N]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],N=C.g[2];let k=C.g[3],I;I=A+(k^R&(N^k))+M[0]+3614090360&4294967295,A=R+(I<<7&4294967295|I>>>25),I=k+(N^A&(R^N))+M[1]+3905402710&4294967295,k=A+(I<<12&4294967295|I>>>20),I=N+(R^k&(A^R))+M[2]+606105819&4294967295,N=k+(I<<17&4294967295|I>>>15),I=R+(A^N&(k^A))+M[3]+3250441966&4294967295,R=N+(I<<22&4294967295|I>>>10),I=A+(k^R&(N^k))+M[4]+4118548399&4294967295,A=R+(I<<7&4294967295|I>>>25),I=k+(N^A&(R^N))+M[5]+1200080426&4294967295,k=A+(I<<12&4294967295|I>>>20),I=N+(R^k&(A^R))+M[6]+2821735955&4294967295,N=k+(I<<17&4294967295|I>>>15),I=R+(A^N&(k^A))+M[7]+4249261313&4294967295,R=N+(I<<22&4294967295|I>>>10),I=A+(k^R&(N^k))+M[8]+1770035416&4294967295,A=R+(I<<7&4294967295|I>>>25),I=k+(N^A&(R^N))+M[9]+2336552879&4294967295,k=A+(I<<12&4294967295|I>>>20),I=N+(R^k&(A^R))+M[10]+4294925233&4294967295,N=k+(I<<17&4294967295|I>>>15),I=R+(A^N&(k^A))+M[11]+2304563134&4294967295,R=N+(I<<22&4294967295|I>>>10),I=A+(k^R&(N^k))+M[12]+1804603682&4294967295,A=R+(I<<7&4294967295|I>>>25),I=k+(N^A&(R^N))+M[13]+4254626195&4294967295,k=A+(I<<12&4294967295|I>>>20),I=N+(R^k&(A^R))+M[14]+2792965006&4294967295,N=k+(I<<17&4294967295|I>>>15),I=R+(A^N&(k^A))+M[15]+1236535329&4294967295,R=N+(I<<22&4294967295|I>>>10),I=A+(N^k&(R^N))+M[1]+4129170786&4294967295,A=R+(I<<5&4294967295|I>>>27),I=k+(R^N&(A^R))+M[6]+3225465664&4294967295,k=A+(I<<9&4294967295|I>>>23),I=N+(A^R&(k^A))+M[11]+643717713&4294967295,N=k+(I<<14&4294967295|I>>>18),I=R+(k^A&(N^k))+M[0]+3921069994&4294967295,R=N+(I<<20&4294967295|I>>>12),I=A+(N^k&(R^N))+M[5]+3593408605&4294967295,A=R+(I<<5&4294967295|I>>>27),I=k+(R^N&(A^R))+M[10]+38016083&4294967295,k=A+(I<<9&4294967295|I>>>23),I=N+(A^R&(k^A))+M[15]+3634488961&4294967295,N=k+(I<<14&4294967295|I>>>18),I=R+(k^A&(N^k))+M[4]+3889429448&4294967295,R=N+(I<<20&4294967295|I>>>12),I=A+(N^k&(R^N))+M[9]+568446438&4294967295,A=R+(I<<5&4294967295|I>>>27),I=k+(R^N&(A^R))+M[14]+3275163606&4294967295,k=A+(I<<9&4294967295|I>>>23),I=N+(A^R&(k^A))+M[3]+4107603335&4294967295,N=k+(I<<14&4294967295|I>>>18),I=R+(k^A&(N^k))+M[8]+1163531501&4294967295,R=N+(I<<20&4294967295|I>>>12),I=A+(N^k&(R^N))+M[13]+2850285829&4294967295,A=R+(I<<5&4294967295|I>>>27),I=k+(R^N&(A^R))+M[2]+4243563512&4294967295,k=A+(I<<9&4294967295|I>>>23),I=N+(A^R&(k^A))+M[7]+1735328473&4294967295,N=k+(I<<14&4294967295|I>>>18),I=R+(k^A&(N^k))+M[12]+2368359562&4294967295,R=N+(I<<20&4294967295|I>>>12),I=A+(R^N^k)+M[5]+4294588738&4294967295,A=R+(I<<4&4294967295|I>>>28),I=k+(A^R^N)+M[8]+2272392833&4294967295,k=A+(I<<11&4294967295|I>>>21),I=N+(k^A^R)+M[11]+1839030562&4294967295,N=k+(I<<16&4294967295|I>>>16),I=R+(N^k^A)+M[14]+4259657740&4294967295,R=N+(I<<23&4294967295|I>>>9),I=A+(R^N^k)+M[1]+2763975236&4294967295,A=R+(I<<4&4294967295|I>>>28),I=k+(A^R^N)+M[4]+1272893353&4294967295,k=A+(I<<11&4294967295|I>>>21),I=N+(k^A^R)+M[7]+4139469664&4294967295,N=k+(I<<16&4294967295|I>>>16),I=R+(N^k^A)+M[10]+3200236656&4294967295,R=N+(I<<23&4294967295|I>>>9),I=A+(R^N^k)+M[13]+681279174&4294967295,A=R+(I<<4&4294967295|I>>>28),I=k+(A^R^N)+M[0]+3936430074&4294967295,k=A+(I<<11&4294967295|I>>>21),I=N+(k^A^R)+M[3]+3572445317&4294967295,N=k+(I<<16&4294967295|I>>>16),I=R+(N^k^A)+M[6]+76029189&4294967295,R=N+(I<<23&4294967295|I>>>9),I=A+(R^N^k)+M[9]+3654602809&4294967295,A=R+(I<<4&4294967295|I>>>28),I=k+(A^R^N)+M[12]+3873151461&4294967295,k=A+(I<<11&4294967295|I>>>21),I=N+(k^A^R)+M[15]+530742520&4294967295,N=k+(I<<16&4294967295|I>>>16),I=R+(N^k^A)+M[2]+3299628645&4294967295,R=N+(I<<23&4294967295|I>>>9),I=A+(N^(R|~k))+M[0]+4096336452&4294967295,A=R+(I<<6&4294967295|I>>>26),I=k+(R^(A|~N))+M[7]+1126891415&4294967295,k=A+(I<<10&4294967295|I>>>22),I=N+(A^(k|~R))+M[14]+2878612391&4294967295,N=k+(I<<15&4294967295|I>>>17),I=R+(k^(N|~A))+M[5]+4237533241&4294967295,R=N+(I<<21&4294967295|I>>>11),I=A+(N^(R|~k))+M[12]+1700485571&4294967295,A=R+(I<<6&4294967295|I>>>26),I=k+(R^(A|~N))+M[3]+2399980690&4294967295,k=A+(I<<10&4294967295|I>>>22),I=N+(A^(k|~R))+M[10]+4293915773&4294967295,N=k+(I<<15&4294967295|I>>>17),I=R+(k^(N|~A))+M[1]+2240044497&4294967295,R=N+(I<<21&4294967295|I>>>11),I=A+(N^(R|~k))+M[8]+1873313359&4294967295,A=R+(I<<6&4294967295|I>>>26),I=k+(R^(A|~N))+M[15]+4264355552&4294967295,k=A+(I<<10&4294967295|I>>>22),I=N+(A^(k|~R))+M[6]+2734768916&4294967295,N=k+(I<<15&4294967295|I>>>17),I=R+(k^(N|~A))+M[13]+1309151649&4294967295,R=N+(I<<21&4294967295|I>>>11),I=A+(N^(R|~k))+M[4]+4149444226&4294967295,A=R+(I<<6&4294967295|I>>>26),I=k+(R^(A|~N))+M[11]+3174756917&4294967295,k=A+(I<<10&4294967295|I>>>22),I=N+(A^(k|~R))+M[2]+718787259&4294967295,N=k+(I<<15&4294967295|I>>>17),I=R+(k^(N|~A))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+k&4294967295}s.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,M=this.C;let N=this.h,k=0;for(;k<A;){if(N==0)for(;k<=R;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<A;)if(M[N++]=C.charCodeAt(k++),N==this.blockSize){l(this,M),N=0;break}}else for(;k<A;)if(M[N++]=C[k++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=A},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)C[A++]=this.g[R]>>>M&255;return C};function c(C,A){var R=p;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function d(C,A){this.h=A;const R=[];let M=!0;for(let N=C.length-1;N>=0;N--){const k=C[N]|0;M&&k==A||(R[N]=k,M=!1)}this.g=R}var p={};function y(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return $(_(-C));const A=[];let R=1;for(let M=0;C>=R;M++)A[M]=C/R|0,R*=4294967296;return new d(A,0)}function S(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return $(S(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(A,8));let M=b;for(let k=0;k<C.length;k+=8){var N=Math.min(8,C.length-k);const I=parseInt(C.substring(k,k+N),A);N<8?(N=_(Math.pow(A,N)),M=M.j(N).add(_(I))):(M=M.j(R),M=M.add(_(I)))}return M}var b=y(0),V=y(1),z=y(16777216);a=d.prototype,a.m=function(){if(nt(this))return-$(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);C+=(M>=0?M:4294967296+M)*A,A*=4294967296}return C},a.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(nt(this))return"-"+$(this).toString(C);const A=_(Math.pow(C,6));var R=this;let M="";for(;;){const N=ht(R,A).g;R=ot(R,N.j(A));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=N,W(R))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},a.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function nt(C){return C.h==-1}a.l=function(C){return C=ot(this,C),nt(C)?-1:W(C)?0:1};function $(C){const A=C.g.length,R=[];for(let M=0;M<A;M++)R[M]=~C.g[M];return new d(R,~C.h).add(V)}a.abs=function(){return nt(this)?$(this):this},a.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let M=0;for(let N=0;N<=A;N++){let k=M+(this.i(N)&65535)+(C.i(N)&65535),I=(k>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);M=I>>>16,k&=65535,I&=65535,R[N]=I<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ot(C,A){return C.add($(A))}a.j=function(C){if(W(this)||W(C))return b;if(nt(this))return nt(C)?$(this).j($(C)):$($(this).j(C));if(nt(C))return $(this.j($(C)));if(this.l(z)<0&&C.l(z)<0)return _(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var M=0;M<2*A;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<C.g.length;N++){const k=this.i(M)>>>16,I=this.i(M)&65535,Qt=C.i(N)>>>16,zt=C.i(N)&65535;R[2*M+2*N]+=I*zt,ft(R,2*M+2*N),R[2*M+2*N+1]+=k*zt,ft(R,2*M+2*N+1),R[2*M+2*N+1]+=I*Qt,ft(R,2*M+2*N+1),R[2*M+2*N+2]+=k*Qt,ft(R,2*M+2*N+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new d(R,0)};function ft(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function gt(C,A){this.g=C,this.h=A}function ht(C,A){if(W(A))throw Error("division by zero");if(W(C))return new gt(b,b);if(nt(C))return A=ht($(C),A),new gt($(A.g),$(A.h));if(nt(A))return A=ht(C,$(A)),new gt($(A.g),A.h);if(C.g.length>30){if(nt(C)||nt(A))throw Error("slowDivide_ only works with positive integers.");for(var R=V,M=A;M.l(C)<=0;)R=_t(R),M=_t(M);var N=St(R,1),k=St(M,1);for(M=St(M,2),R=St(R,2);!W(M);){var I=k.add(M);I.l(C)<=0&&(N=N.add(R),k=I),M=St(M,1),R=St(R,1)}return A=ot(C,N.j(A)),new gt(N,A)}for(N=b;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=_(R),I=k.j(A);nt(I)||I.l(C)>0;)R-=M,k=_(R),I=k.j(A);W(k)&&(k=V),N=N.add(k),C=ot(C,I)}return new gt(N,C)}a.B=function(C){return ht(this,C).h},a.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)&C.i(M);return new d(R,this.h&C.h)},a.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)|C.i(M);return new d(R,this.h|C.h)},a.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)^C.i(M);return new d(R,this.h^C.h)};function _t(C){const A=C.g.length+1,R=[];for(let M=0;M<A;M++)R[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(R,C.h)}function St(C,A){const R=A>>5;A%=32;const M=C.g.length-R,N=[];for(let k=0;k<M;k++)N[k]=A>0?C.i(k+R)>>>A|C.i(k+R+1)<<32-A:C.i(k+R);return new d(N,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,K0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Xr=d}).apply(typeof W_<"u"?W_:typeof self<"u"?self:typeof window<"u"?window:{});var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Y0,ml,X0,Cc,Fd,Z0,$0,J0;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vc=="object"&&vc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,q){for(var it=Array(arguments.length-2),It=2;It<arguments.length;It++)it[It-2]=arguments[It];return m.prototype[U].apply(T,it)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function z(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let it=0;it<q;it++)u[v+it]=U[it]}else u.push(U)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function ot(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ft{constructor(){this.h=this.g=null}add(m,v){const T=gt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new nt(()=>new ht,u=>u.reset());class ht{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,St=!1,C=new ft,A=()=>{const u=Promise.resolve(void 0);_t=()=>{u.then(R)}};function R(){for(var u;u=ot();){try{u.h.call(u.g)}catch(v){$(v)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}St=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function Qt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(Qt,N),Qt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Qt.Z.h.call(this)},Qt.prototype.h=function(){Qt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var zt="closure_listenable_"+(Math.random()*1e6|0),G=0;function rt(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++G,this.da=this.fa=!1}function mt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function et(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function w(u){const m={};for(const v in u)m[v]=u[v];return m}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let q=0;q<j.length;q++)v=j[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function tt(u){this.src=u,this.g={},this.h=0}tt.prototype.add=function(u,m,v,T,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const it=ut(u,m,T,U);return it>-1?(m=u[it],v||(m.fa=!1)):(m=new rt(m,this.src,q,!!T,U),m.fa=v,u.push(m)),m};function st(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(mt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ut(u,m,v,T){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return U}return-1}var bt="closure_lm_"+(Math.random()*1e6|0),ee={};function Zt(u,m,v,T,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Zt(u,m[q],v,T,U);return null}return v=oo(v),u&&u[zt]?u.J(m,v,p(T)?!!T.capture:!1,U):sr(u,m,v,!1,T,U)}function sr(u,m,v,T,U,q){if(!m)throw Error("Invalid event type");const it=p(U)?!!U.capture:!!U;let It=is(u);if(It||(u[bt]=It=new tt(u)),v=It.add(m,v,T,it,q),v.proxy)return v;if(T=Ci(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(U=it),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(We(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ci(){function u(v){return m.call(u.src,u.listener,v)}const m=so;return u}function Ve(u,m,v,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ve(u,m[q],v,T,U);else T=p(T)?!!T.capture:!!T,v=oo(v),u&&u[zt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=ut(m,v,T,U),v>-1&&(mt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=is(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ut(m,v,T,U)),(v=u>-1?m[u]:null)&&Di(v))}function Di(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[zt])st(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(We(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=is(m))?(st(v,u),v.h==0&&(v.src=null,m[bt]=null)):mt(u)}}}function We(u){return u in ee?ee[u]:ee[u]="on"+u}function so(u,m){if(u.da)u=!0;else{m=new Qt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Di(u),u=v.call(T,m)}return u}function is(u){return u=u[bt],u instanceof tt?u:null}var ao="__closure_events_fn_"+(Math.random()*1e9>>>0);function oo(u){return typeof u=="function"?u:(u[ao]||(u[ao]=function(m){return u.handleEvent(m)}),u[ao])}function _e(){M.call(this),this.i=new tt(this),this.M=this,this.G=null}b(_e,M),_e.prototype[zt]=!0,_e.prototype.removeEventListener=function(u,m,v,T){Ve(this,u,m,v,T)};function De(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(T,u),Z(m,U)}U=!0;let q,it;if(v)for(it=v.length-1;it>=0;it--)q=m.g=v[it],U=ar(q,T,!0,m)&&U;if(q=m.g=u,U=ar(q,T,!0,m)&&U,U=ar(q,T,!1,m)&&U,v)for(it=0;it<v.length;it++)q=m.g=v[it],U=ar(q,T,!1,m)&&U}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)mt(v[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_e.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ar(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const it=m[q];if(it&&!it.da&&it.capture==v){const It=it.listener,me=it.ha||it.src;it.fa&&st(u.i,it),U=It.call(me,T)!==!1&&U}}return U&&!T.defaultPrevented}function vh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Hl(u){u.g=vh(()=>{u.g=null,u.i&&(u.i=!1,Hl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Hl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(u){M.call(this),this.h=u,this.g={}}b(rs,M);var lo=[];function uo(u){Lt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Di(m)},u),u.g={}}rs.prototype.N=function(){rs.Z.N.call(this),uo(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var or=d.JSON.stringify,Eh=d.JSON.parse,Gl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Fl(){}function Ql(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){N.call(this,"d")}b(ze,N);function Tn(){N.call(this,"c")}b(Tn,N);var de={},Kl=null;function Qs(){return Kl=Kl||new _e}de.Ia="serverreachability";function Yl(u){N.call(this,de.Ia,u)}b(Yl,N);function Jn(u){const m=Qs();De(m,new Yl(m))}de.STAT_EVENT="statevent";function ss(u,m){N.call(this,de.STAT_EVENT,u),this.stat=m}b(ss,N);function ve(u){const m=Qs();De(m,new ss(m,u))}de.Ja="timingevent";function Wn(u,m){N.call(this,de.Ja,u),this.size=m}b(Wn,N);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Th(u,m,v,T,U,q){u.info(function(){if(u.g)if(q){var it="",It=q.split("&");for(let Ht=0;Ht<It.length;Ht++){var me=It[Ht].split("=");if(me.length>1){const oe=me[0];me=me[1];const wn=oe.split("_");it=wn.length>=2&&wn[1]=="type"?it+(oe+"="+me+"&"):it+(oe+"=redacted&")}}}else it=null;else it=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+it})}function Xl(u,m,v,T,U,q,it){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+it})}function ei(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sh(u,v)+(T?" "+T:"")})}function as(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function Sh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let it=1;it<T.length;it++)T[it]=""}}}}return or(q)}catch{return m}}var os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ho;function ls(){}b(ls,Fl),ls.prototype.g=function(){return new XMLHttpRequest},ho=new ls;function Ni(u){return encodeURIComponent(String(u))}function Zl(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function zn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var Ee={},xe={};function ni(u,m,v){u.M=1,u.A=us(Se(m)),u.u=v,u.R=!0,Ks(u,null)}function Ks(u,m){u.F=Date.now(),ii(u),u.B=Se(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),$s(v.i,"t",T),u.C=0,v=u.j.L,u.h=new jn,u.g=hu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(lo[0]=U.toString()),U=lo);for(let q=0;q<U.length;q++){const it=Zt(v,U[q],T||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?w(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Jn(),Th(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const It=Hn(this.g),me=this.g.ya(),Ht=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||It!=4||me==7||(me==8||Ht<=0?Jn(3):Jn(2)),ri(this);var m=this.g.ca();this.X=m;var v=bh(this);if(this.o=m==200,Xl(this.i,this.v,this.B,this.l,this.S,It,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(T)){var q=T;break e}}q=null}if(u=q)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,si(this,u);else{this.o=!1,this.m=3,ve(12),fn(this),Sn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=Jl(this,v),oe==xe){It==4&&(this.m=4,ve(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ee){this.m=4,ve(15),ei(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,oe,null),si(this,oe);if($l(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Io(it),it.P=!0,ve(11))}}else ei(this.i,this.l,v,null),si(this,v);It==4&&fn(this),this.o&&!this.K&&(It==4?ou(this.j,this):(this.o=!1,ii(this)))}else Mi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),fn(this),Sn(this)}}}catch{}};function bh(u){if(!$l(u))return u.g.la();const m=je(u.g);if(m==="")return"";let v="";const T=m.length,U=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function $l(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Jl(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?xe:(v=Number(m.substring(v,T)),isNaN(v)?Ee:(T+=1,T+v>m.length?xe:(m=m.slice(T,T+v),u.C=T+v,m)))}zn.prototype.cancel=function(){this.K=!0,fn(this)};function ii(u){u.T=Date.now()+u.H,Ys(u,u.H)}function Ys(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(_(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(as(this.i,this.B),this.M!=2&&(Jn(),ve(17)),fn(this),this.m=2,Sn(this)):Ys(this,this.T-u)};function Sn(u){u.j.I==0||u.K||ou(u.j,u)}function fn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,uo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function si(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||oi(v.h,u))){if(!u.L&&oi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)na(v),pr(v);else break t;gs(v),ve(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ti(_(v.Va,v),6e3));ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else di(v,11)}else if((u.L||v.g==u)&&na(v),!I(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Ht=U[m];const oe=Ht[0];if(!(oe<=v.K))if(v.K=oe,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const wn=Ht[3];wn!=null&&(v.ka=wn,v.j.info("VER="+v.ka));const mi=Ht[4];mi!=null&&(v.za=mi,v.j.info("SVER="+v.za));const Gn=Ht[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Fn=u.g;if(Fn){const ys=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ys){var q=T.h;q.g||ys.indexOf("spdy")==-1&&ys.indexOf("quic")==-1&&ys.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(po(q,q.h),q.h=null))}if(T.G){const ia=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;ia&&(T.wa=ia,Kt(T.J,T.G,ia))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var it=u;if(T.na=cu(T,T.L?T.ba:null,T.W),it.L){go(T.h,it);var It=it,me=T.O;me&&(It.H=me),It.D&&(ri(It),ii(It)),T.g=it}else su(T);v.i.length>0&&fi(v)}else Ht[0]!="stop"&&Ht[0]!="close"||di(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?di(v,7):wo(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}Jn(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function fo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function po(u,m){u.g?u.g.add(m):u.h=m}function go(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fo.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return z(u.i)}var Wl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xs(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,q=null;T>=0?(U=u[v].substring(0,T),q=u[v].substring(T+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,lr(this,u.u),this.h=u.h,_o(this,iu(u.i)),this.m=u.m):u&&(m=String(u).match(Wl))?(this.l=!1,ke(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),lr(this,m[4]),this.h=li(m[5]||"",!0),_o(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new cr(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(cs(m,Zs,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(cs(m,Zs,!0),"@"),u.push(Ni(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(cs(v,v.charAt(0)=="/"?vo:tu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",cs(v,eu)),u.join("")},dn.prototype.resolve=function(u){const m=Se(this);let v=!!u.j;v?ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)lr(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let it=0;it<U.length;){const It=U[it++];It=="."?T&&it==U.length&&q.push(""):It==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&it==U.length&&q.push("")):(q.push(It),T=!0)}T=q.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?_o(m,iu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Se(u){return new dn(u)}function ke(u,m,v){u.j=v?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function lr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function _o(u,m,v){m instanceof cr?(u.i=m,Js(u.i,u.l)):(v||(m=cs(m,ur)),u.i=new cr(m,u.l))}function Kt(u,m,v){u.i.set(m,v)}function us(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function cs(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zs=/[#\/\?@]/g,tu=/[#\?:]/g,vo=/[#\?]/g,ur=/[#\?@]/g,eu=/#/g;function cr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Xs(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=cr.prototype,a.add=function(u,m){sn(this),this.i=null,u=hr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function nu(u,m){sn(u),m=hr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Eo(u,m){return sn(u),m=hr(u,m),u.g.has(m)}a.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function To(u,m){sn(u);let v=[];if(typeof m=="string")Eo(u,m)&&(v=v.concat(u.g.get(hr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}a.set=function(u,m){return sn(this),this.i=null,u=hr(this,u),Eo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=To(this,u),u.length>0?String(u[0]):m):m};function $s(u,m,v){nu(u,m),v.length>0&&(u.i=null,u.g.set(hr(u,m),z(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Ni(v);v=To(this,v);for(let q=0;q<v.length;q++){let it=U;v[q]!==""&&(it+="="+Ni(v[q])),u.push(it)}}return this.i=u.join("&")};function iu(u){const m=new cr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function hr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Js(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(nu(this,T),$s(this,U,v))},u)),u.j=m}function Bn(u,m){const v=new Pn;if(d.Image){const T=new Image;T.onload=S(bn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(bn,v,"TestLoadImage: error",!1,m,T),T.onabort=S(bn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(bn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function So(u,m){const v=new Pn,T=new AbortController,U=setTimeout(()=>{T.abort(),bn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?bn(v,"TestPingServer: ok",!0,m):bn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),bn(v,"TestPingServer: error",!1,m)})}function bn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function fr(){this.g=new Gl}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}b(ui,Fl),ui.prototype.g=function(){return new hs(this.i,this.h)};function hs(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(hs,_e),a=hs.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ws(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ws(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?dr(this):qn(this),this.readyState==3&&Ws(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,dr(this))},a.Na=function(u){this.g&&(this.response=u,dr(this))},a.ga=function(){this.g&&dr(this)};function dr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return Lt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function fs(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=An(v),typeof u=="string"?v!=null&&Ni(v):Kt(u,m,v))}function $t(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b($t,_e);var ci=/^https?$/i,bo=["POST","PUT"];a=$t.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ho.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){ds(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(bo,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,it]of v)this.g.setRequestHeader(q,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){ds(this,q)}};function ds(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ao(u),Oi(u)}function Ao(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Oi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),$t.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?ms(this):this.Xa())},a.Xa=function(){ms(this)};function ms(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let it=String(u.D).match(Wl)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),T=!ci.test(it?it.toLowerCase():"")}v=T}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var U=Hn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Ao(u)}}finally{Oi(u)}}}}function Oi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||De(u,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Eh(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(I(u[T]))continue;var v=Zl(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}et(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function mr(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new fo(u&&u.concurrentRequestLimit),this.Ba=new fr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=mr.prototype,a.ka=8,a.I=1,a.connect=function(u,m,v,T){ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=cu(this,null,this.W),fi(this)};function wo(u){if(ta(u),u.I==3){var m=u.V++,v=Se(u.J);if(Kt(v,"SID",u.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),ps(u,v),m=new zn(u,u.j,m),m.M=2,m.A=us(Se(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=hu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}uu(u)}function pr(u){u.g&&(Io(u),u.g.cancel(),u.g=null)}function ta(u){pr(u),u.v&&(d.clearTimeout(u.v),u.v=null),na(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!mo(u.h)&&!u.m){u.m=!0;var m=u.Ea;_t||A(),St||(_t(),St=!0),C.add(m,u),u.D=0}}function ea(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(_(u.Ea,u,m),lu(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new zn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=w(q),Z(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=ru(this,U,m),v=Se(this.J),Kt(v,"RID",u),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),ps(this,v),q&&(this.R?m="headers="+Ni(An(q))+"&"+m:this.u&&fs(v,this.u,q)),po(this.h,U),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),U.U=!0,ni(U,v,null)):ni(U,v,m),this.I=2}}else this.I==3&&(u?Ro(this,u):this.i.length==0||mo(this.h)||Ro(this))};function Ro(u,m){var v;m?v=m.l:v=u.V++;const T=Se(u.J);Kt(T,"SID",u.M),Kt(T,"RID",v),Kt(T,"AID",u.K),ps(u,T),u.u&&u.o&&fs(T,u.u,u.o),v=new zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=ru(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),po(u.h,v),ni(v,T,m)}function ps(u,m){u.H&&Lt(u.H,function(v,T){Kt(m,T,v)}),u.l&&Lt({},function(v,T){Kt(m,T,v)})}function ru(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let It=-1;for(;;){const me=["count="+v];It==-1?v>0?(It=U[0].g,me.push("ofs="+It)):It=0:me.push("ofs="+It);let Ht=!0;for(let oe=0;oe<v;oe++){var q=U[oe].g;const wn=U[oe].map;if(q-=It,q<0)It=Math.max(0,U[oe].g-100),Ht=!1;else try{q="req"+q+"_"||"";try{var it=wn instanceof Map?wn:Object.entries(wn);for(const[mi,Gn]of it){let Fn=Gn;p(Gn)&&(Fn=or(Gn)),me.push(q+mi+"="+encodeURIComponent(Fn))}}catch(mi){throw me.push(q+"type="+encodeURIComponent("_badmap")),mi}}catch{T&&T(wn)}}if(Ht){it=me.join("&");break t}}it=void 0}return u=u.i.splice(0,v),m.G=u,it}function su(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;_t||A(),St||(_t(),St=!0),C.add(m,u),u.A=0}}function gs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(_(u.Da,u),lu(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(_(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),pr(this),au(this))};function Io(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function au(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Se(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),ps(u,m),u.u&&u.o&&fs(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=us(Se(m)),v.u=null,v.R=!0,Ks(v,u)}a.Va=function(){this.C!=null&&(this.C=null,pr(this),gs(this),ve(19))};function na(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ou(u,m){var v=null;if(u.g==m){na(u),Io(u),u.g=null;var T=2}else if(oi(u.h,m))v=m.G,go(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Qs(),De(T,new Wn(T,v)),fi(u)}else su(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ea(u,m)||T==2&&gs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function lu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const U=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),us(T),U?Bn(T.toString(),v):So(T.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),uu(u),ta(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function uu(u){if(u.I=0,u.ja=[],u.l){const m=yo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.oa()}}function cu(u,m,v){var T=v instanceof dn?Se(v):new dn(v);if(T.g!="")m&&(T.g=m+"."+T.g),lr(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new dn(null);T&&ke(q,T),m&&(q.g=m),U&&lr(q,U),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&Kt(T,v,m),Kt(T,"VER",u.ka),ps(u,T),T}function hu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new ui({ab:v})):new $t(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}a=fu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function gr(){}gr.prototype.g=function(u,m){return new en(u,m)};function en(u,m){_e.call(this),this.g=new mr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}b(en,_e),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){wo(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=or(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&fi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,en.Z.N.call(this)};function du(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(du,ze);function mu(){Tn.call(this),this.status=1}b(mu,Tn);function Vi(u){this.g=u}b(Vi,fu),Vi.prototype.ra=function(){De(this.g,"a")},Vi.prototype.qa=function(u){De(this.g,new du(u))},Vi.prototype.pa=function(u){De(this.g,new mu)},Vi.prototype.oa=function(){De(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,J0=function(){return new gr},$0=function(){return Qs()},Z0=de,Fd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},os.NO_ERROR=0,os.TIMEOUT=8,os.HTTP_ERROR=6,Cc=os,co.COMPLETE="complete",X0=co,Ql.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",_e.prototype.listen=_e.prototype.J,ml=Ql,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,Y0=$t}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});const tv="@firebase/firestore",ev="4.9.3";class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let eo="12.7.0";const js=new lm("@firebase/firestore");function Va(){return js.logLevel}function at(a,...t){if(js.logLevel<=xt.DEBUG){const i=t.map(_m);js.debug(`Firestore (${eo}): ${a}`,...i)}}function nr(a,...t){if(js.logLevel<=xt.ERROR){const i=t.map(_m);js.error(`Firestore (${eo}): ${a}`,...i)}}function Fa(a,...t){if(js.logLevel<=xt.WARN){const i=t.map(_m);js.warn(`Firestore (${eo}): ${a}`,...i)}}function _m(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function Et(a,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,W0(a,s,i)}function W0(a,t,i){let s=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw nr(s),new Error(s)}function Ft(a,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,a||W0(t,l,s)}function Rt(a,t){return a}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends rr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ks{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class tE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class vw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class Ew{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Tw{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ks,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ks)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new tE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class Sw{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bw{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new Sw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Aw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const s=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new nv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ww(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}class vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=ww(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function kt(a,t){return a<t?-1:a>t?1:0}function Qd(a,t){const i=Math.min(a.length,t.length);for(let s=0;s<i;s++){const l=a.charAt(s),c=t.charAt(s);if(l!==c)return Md(l)===Md(c)?kt(l,c):Md(l)?1:-1}return kt(a.length,t.length)}const Rw=55296,Iw=57343;function Md(a){const t=a.charCodeAt(0);return t>=Rw&&t<=Iw}function Qa(a,t,i){return a.length===t.length&&a.every(((s,l)=>i(s,t[l])))}const iv="__name__";class vi{constructor(t,i,s){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&Et(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=vi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return kt(t.length,i.length)}static compareSegments(t,i){const s=vi.isNumericId(t),l=vi.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?vi.extractNumericId(t).compare(vi.extractNumericId(i)):Qd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xr.fromString(t.substring(4,t.length-2))}}class ue extends vi{construct(t,i,s){return new ue(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new dt(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new ue(i)}static emptyPath(){return new ue([])}}const Cw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends vi{construct(t,i,s){return new Qe(t,i,s)}static isValidIdentifier(t){return Cw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iv}static keyField(){return new Qe([iv])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new dt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new dt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new dt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new dt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ue.fromString(t))}static fromName(t){return new yt(ue.fromString(t).popFirst(5))}static empty(){return new yt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ue.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ue(t.slice()))}}function Dw(a,t,i){if(!i)throw new dt(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function Nw(a,t,i,s){if(t===!0&&s===!0)throw new dt(J.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function rv(a){if(!yt.isDocumentKey(a))throw new dt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function eE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Em(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":Et(12329,{type:typeof a})}function Ba(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new dt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Em(a);throw new dt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function Ce(a,t){const i={typeString:a};return t&&(i.value=t),i}function Pl(a,t){if(!eE(a))throw new dt(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new dt(J.INVALID_ARGUMENT,i);return!0}const sv=-62135596800,av=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*av);return new ae(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new dt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new dt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<sv)throw new dt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/av}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Pl(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-sv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Ce("string",ae._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new ae(0,0))}static max(){return new At(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Rl=-1;function Ow(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=At.fromTimestamp(s===1e9?new ae(i+1,0):new ae(i,s));return new $r(l,yt.empty(),t)}function Mw(a){return new $r(a.readTime,a.key,Rl)}class $r{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new $r(At.min(),yt.empty(),Rl)}static max(){return new $r(At.max(),yt.empty(),Rl)}}function Vw(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=yt.comparator(a.documentKey,t.documentKey),i!==0?i:kt(a.largestBatchId,t.largestBatchId))}const xw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function no(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==xw)throw a;at("LocalStore","Unexpectedly lost primary lease")}class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,s)=>{i(t)}))}static reject(t){return new Y(((i,s)=>{s(t)}))}static waitFor(t){return new Y(((i,s)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>s(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Y.resolve(!1);for(const s of t)i=i.next((l=>l?Y.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new Y(((s,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((S=>{d[_]=S,++p,p===c&&s(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new Y(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function Uw(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function io(a){return a.name==="IndexedDbTransactionError"}class ah{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ah.ce=-1;const Tm=-1;function oh(a){return a==null}function qc(a){return a===0&&1/a==-1/0}function Lw(a){return typeof a=="number"&&Number.isInteger(a)&&!qc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const nE="";function Pw(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=ov(t)),t=zw(a.get(i),t);return ov(t)}function zw(a,t){let i=t;const s=a.length;for(let l=0;l<s;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case nE:i+="";break;default:i+=c}}return i}function ov(a){return a+nE+""}function lv(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function qs(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function iE(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class ce{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ec(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ec(this.root,t,this.comparator,!0)}}class Ec{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new Fe(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new uv(this.data.getIterator())}getIteratorFrom(t){return new uv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class uv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new $n([])}unionWith(t){let i=new Me(Qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new $n(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Qa(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class rE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new rE("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const jw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(a){if(Ft(!!a,39018),typeof a=="string"){let t=0;const i=jw.exec(a);if(Ft(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ye(a.seconds),nanos:ye(a.nanos)}}function ye(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Wr(a){return typeof a=="string"?Ke.fromBase64String(a):Ke.fromUint8Array(a)}const sE="server_timestamp",aE="__type__",oE="__previous_value__",lE="__local_write_time__";function Sm(a){return(a?.mapValue?.fields||{})[aE]?.stringValue===sE}function lh(a){const t=a.mapValue.fields[oE];return Sm(t)?lh(t):t}function Il(a){const t=Jr(a.mapValue.fields[lE].timestampValue);return new ae(t.seconds,t.nanos)}class Bw{constructor(t,i,s,l,c,d,p,y,_,S){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=S}}const Hc="(default)";class Cl{constructor(t,i){this.projectId=t,this.database=i||Hc}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(t){return t instanceof Cl&&t.projectId===this.projectId&&t.database===this.database}}const uE="__type__",qw="__max__",Tc={mapValue:{}},cE="__vector__",Gc="value";function ts(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Sm(a)?4:Gw(a)?9007199254740991:Hw(a)?10:11:Et(28295,{value:a})}function Ri(a,t){if(a===t)return!0;const i=ts(a);if(i!==ts(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Il(a).isEqual(Il(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Jr(l.timestampValue),p=Jr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return Wr(l.bytesValue).isEqual(Wr(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),p=ye(c.doubleValue);return d===p?qc(d)===qc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return Qa(a.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(lv(d)!==lv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ri(d[y],p[y])))return!1;return!0})(a,t);default:return Et(52216,{left:a})}}function Dl(a,t){return(a.values||[]).find((i=>Ri(i,t)))!==void 0}function Ka(a,t){if(a===t)return 0;const i=ts(a),s=ts(t);if(i!==s)return kt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ye(c.integerValue||c.doubleValue),y=ye(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(a,t);case 3:return cv(a.timestampValue,t.timestampValue);case 4:return cv(Il(a),Il(t));case 5:return Qd(a.stringValue,t.stringValue);case 6:return(function(c,d){const p=Wr(c),y=Wr(d);return p.compareTo(y)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const S=kt(p[_],y[_]);if(S!==0)return S}return kt(p.length,y.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=kt(ye(c.latitude),ye(d.latitude));return p!==0?p:kt(ye(c.longitude),ye(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return hv(a.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Gc]?.arrayValue,S=y[Gc]?.arrayValue,b=kt(_?.values?.length||0,S?.values?.length||0);return b!==0?b:hv(_,S)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Tc.mapValue&&d===Tc.mapValue)return 0;if(c===Tc.mapValue)return 1;if(d===Tc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},S=Object.keys(_);y.sort(),S.sort();for(let b=0;b<y.length&&b<S.length;++b){const V=Qd(y[b],S[b]);if(V!==0)return V;const z=Ka(p[y[b]],_[S[b]]);if(z!==0)return z}return kt(y.length,S.length)})(a.mapValue,t.mapValue);default:throw Et(23264,{he:i})}}function cv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return kt(a,t);const i=Jr(a),s=Jr(t),l=kt(i.seconds,s.seconds);return l!==0?l:kt(i.nanos,s.nanos)}function hv(a,t){const i=a.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Ka(i[l],s[l]);if(c)return c}return kt(i.length,s.length)}function Ya(a){return Kd(a)}function Kd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=Jr(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Wr(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return yt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Kd(c);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Kd(i.fields[d])}`;return l+"}"})(a.mapValue):Et(61005,{value:a})}function Dc(a){switch(ts(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=lh(a);return t?16+Dc(t):16;case 5:return 2*a.stringValue.length;case 6:return Wr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Dc(c)),0)})(a.arrayValue);case 10:case 11:return(function(s){let l=0;return qs(s.fields,((c,d)=>{l+=c.length+Dc(d)})),l})(a.mapValue);default:throw Et(13486,{value:a})}}function Yd(a){return!!a&&"integerValue"in a}function bm(a){return!!a&&"arrayValue"in a}function fv(a){return!!a&&"nullValue"in a}function dv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Nc(a){return!!a&&"mapValue"in a}function Hw(a){return(a?.mapValue?.fields||{})[uE]?.stringValue===cE}function El(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return qs(a.mapValue.fields,((i,s)=>t.mapValue.fields[i]=El(s))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=El(a.arrayValue.values[i]);return t}return{...a}}function Gw(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===qw}class xn{constructor(t){this.value=t}static empty(){return new xn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Nc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=El(i)}setAll(t){let i=Qe.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=El(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Nc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Nc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){qs(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new xn(El(this.value))}}function hE(a){const t=[];return qs(a.fields,((i,s)=>{const l=new Qe([i]);if(Nc(s)){const c=hE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new $n(t)}class $e{constructor(t,i,s,l,c,d,p){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new $e(t,0,At.min(),At.min(),At.min(),xn.empty(),0)}static newFoundDocument(t,i,s,l){return new $e(t,1,i,At.min(),s,l,0)}static newNoDocument(t,i){return new $e(t,2,i,At.min(),At.min(),xn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,At.min(),At.min(),xn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fc{constructor(t,i){this.position=t,this.inclusive=i}}function mv(a,t,i){let s=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?s=yt.comparator(yt.fromName(d.referenceValue),i.key):s=Ka(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function pv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ri(a.position[i],t.position[i]))return!1;return!0}class Qc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Fw(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class fE{}class Oe extends fE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new Kw(t,i,s):i==="array-contains"?new Zw(t,s):i==="in"?new $w(t,s):i==="not-in"?new Jw(t,s):i==="array-contains-any"?new Ww(t,s):new Oe(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new Yw(t,s):new Xw(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ka(i,this.value)):i!==null&&ts(this.value)===ts(i)&&this.matchesComparison(Ka(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends fE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ii(t,i)}matches(t){return dE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dE(a){return a.op==="and"}function mE(a){return Qw(a)&&dE(a)}function Qw(a){for(const t of a.filters)if(t instanceof Ii)return!1;return!0}function Xd(a){if(a instanceof Oe)return a.field.canonicalString()+a.op.toString()+Ya(a.value);if(mE(a))return a.filters.map((t=>Xd(t))).join(",");{const t=a.filters.map((i=>Xd(i))).join(",");return`${a.op}(${t})`}}function pE(a,t){return a instanceof Oe?(function(s,l){return l instanceof Oe&&s.op===l.op&&s.field.isEqual(l.field)&&Ri(s.value,l.value)})(a,t):a instanceof Ii?(function(s,l){return l instanceof Ii&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&pE(d,l.filters[p])),!0):!1})(a,t):void Et(19439)}function gE(a){return a instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ya(i.value)}`})(a):a instanceof Ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(gE).join(" ,")+"}"})(a):"Filter"}class Kw extends Oe{constructor(t,i,s){super(t,i,s),this.key=yt.fromName(s.referenceValue)}matches(t){const i=yt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Yw extends Oe{constructor(t,i){super(t,"in",i),this.keys=yE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Xw extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=yE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function yE(a,t){return(t.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class Zw extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return bm(i)&&Dl(i.arrayValue,this.value)}}class $w extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Dl(this.value.arrayValue,i)}}class Jw extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Dl(this.value.arrayValue,i)}}class Ww extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!bm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Dl(this.value.arrayValue,s)))}}class tR{constructor(t,i=null,s=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function gv(a,t=null,i=[],s=[],l=null,c=null,d=null){return new tR(a,t,i,s,l,c,d)}function Am(a){const t=Rt(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>Xd(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),oh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>Ya(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>Ya(s))).join(",")),t.Te=i}return t.Te}function wm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Fw(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!pE(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!pv(a.startAt,t.startAt)&&pv(a.endAt,t.endAt)}function Zd(a){return yt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class uh{constructor(t,i=null,s=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eR(a,t,i,s,l,c,d,p){return new uh(a,t,i,s,l,c,d,p)}function Rm(a){return new uh(a)}function yv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function nR(a){return a.collectionGroup!==null}function Tl(a){const t=Rt(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Qc(c,s))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new Qc(Qe.keyField(),s))}return t.Ie}function Si(a){const t=Rt(a);return t.Ee||(t.Ee=iR(t,Tl(a))),t.Ee}function iR(a,t){if(a.limitType==="F")return gv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Qc(l.field,c)}));const i=a.endAt?new Fc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Fc(a.startAt.position,a.startAt.inclusive):null;return gv(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function $d(a,t,i){return new uh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function ch(a,t){return wm(Si(a),Si(t))&&a.limitType===t.limitType}function _E(a){return`${Am(Si(a))}|lt:${a.limitType}`}function xa(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>gE(l))).join(", ")}]`),oh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Ya(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Ya(l))).join(",")),`Target(${s})`})(Si(a))}; limitType=${a.limitType})`}function hh(a,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):yt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(a,t)&&(function(s,l){for(const c of Tl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,y){const _=mv(d,p,y);return d.inclusive?_<=0:_<0})(s.startAt,Tl(s),l)||s.endAt&&!(function(d,p,y){const _=mv(d,p,y);return d.inclusive?_>=0:_>0})(s.endAt,Tl(s),l))})(a,t)}function rR(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function vE(a){return(t,i)=>{let s=!1;for(const l of Tl(a)){const c=sR(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function sR(a,t,i){const s=a.field.isKeyField()?yt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Ka(y,_):Et(42886)})(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:a.dir})}}class Hs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){qs(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return iE(this.inner)}size(){return this.innerSize}}const aR=new ce(yt.comparator);function ir(){return aR}const EE=new ce(yt.comparator);function pl(...a){let t=EE;for(const i of a)t=t.insert(i.key,i);return t}function TE(a){let t=EE;return a.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function xs(){return Sl()}function SE(){return Sl()}function Sl(){return new Hs((a=>a.toString()),((a,t)=>a.isEqual(t)))}const oR=new ce(yt.comparator),lR=new Me(yt.comparator);function Ut(...a){let t=lR;for(const i of a)t=t.add(i);return t}const uR=new Me(kt);function cR(){return uR}function Im(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(t)?"-0":t}}function bE(a){return{integerValue:""+a}}function hR(a,t){return Lw(t)?bE(t):Im(a,t)}class fh{constructor(){this._=void 0}}function fR(a,t,i){return a instanceof Kc?(function(l,c){const d={fields:{[aE]:{stringValue:sE},[lE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Sm(c)&&(c=lh(c)),c&&(d.fields[oE]=c),{mapValue:d}})(i,t):a instanceof Nl?wE(a,t):a instanceof Ol?RE(a,t):(function(l,c){const d=AE(l,c),p=_v(d)+_v(l.Ae);return Yd(d)&&Yd(l.Ae)?bE(p):Im(l.serializer,p)})(a,t)}function dR(a,t,i){return a instanceof Nl?wE(a,t):a instanceof Ol?RE(a,t):i}function AE(a,t){return a instanceof Yc?(function(s){return Yd(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Kc extends fh{}class Nl extends fh{constructor(t){super(),this.elements=t}}function wE(a,t){const i=IE(t);for(const s of a.elements)i.some((l=>Ri(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Ol extends fh{constructor(t){super(),this.elements=t}}function RE(a,t){let i=IE(t);for(const s of a.elements)i=i.filter((l=>!Ri(l,s)));return{arrayValue:{values:i}}}class Yc extends fh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function _v(a){return ye(a.integerValue||a.doubleValue)}function IE(a){return bm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function mR(a,t){return a.field.isEqual(t.field)&&(function(s,l){return s instanceof Nl&&l instanceof Nl||s instanceof Ol&&l instanceof Ol?Qa(s.elements,l.elements,Ri):s instanceof Yc&&l instanceof Yc?Ri(s.Ae,l.Ae):s instanceof Kc&&l instanceof Kc})(a.transform,t.transform)}class pR{constructor(t,i){this.version=t,this.transformResults=i}}class Ji{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ji}static exists(t){return new Ji(void 0,t)}static updateTime(t){return new Ji(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class dh{}function CE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new NE(a.key,Ji.none()):new zl(a.key,a.data,Ji.none());{const i=a.data,s=xn.empty();let l=new Me(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Gs(a.key,s,new $n(l.toArray()),Ji.none())}}function gR(a,t,i){a instanceof zl?(function(l,c,d){const p=l.value.clone(),y=Ev(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof Gs?(function(l,c,d){if(!Oc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Ev(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(DE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function bl(a,t,i,s){return a instanceof zl?(function(c,d,p,y){if(!Oc(c.precondition,d))return p;const _=c.value.clone(),S=Tv(c.fieldTransforms,y,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,t,i,s):a instanceof Gs?(function(c,d,p,y){if(!Oc(c.precondition,d))return p;const _=Tv(c.fieldTransforms,y,d),S=d.data;return S.setAll(DE(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(a,t,i,s):(function(c,d,p){return Oc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function yR(a,t){let i=null;for(const s of a.fieldTransforms){const l=t.data.field(s.field),c=AE(s.transform,l||null);c!=null&&(i===null&&(i=xn.empty()),i.set(s.field,c))}return i||null}function vv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Qa(s,l,((c,d)=>mR(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class zl extends dh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Gs extends dh{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function DE(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}})),t}function Ev(a,t,i){const s=new Map;Ft(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,p=t.data.field(c.field);s.set(c.field,dR(d,p,i[l]))}return s}function Tv(a,t,i){const s=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);s.set(l.field,fR(c,d,t))}return s}class NE extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _R extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vR{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&gR(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=bl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=bl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=SE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=CE(d,p);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Qa(this.mutations,t.mutations,((i,s)=>vv(i,s)))&&Qa(this.baseMutations,t.baseMutations,((i,s)=>vv(i,s)))}}class Cm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Ft(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return oR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Cm(t,i,s,l)}}class ER{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ie,jt;function SR(a){switch(a){case J.OK:return Et(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Et(15467,{code:a})}}function OE(a){if(a===void 0)return nr("GRPC error has no .code"),J.UNKNOWN;switch(a){case Ie.OK:return J.OK;case Ie.CANCELLED:return J.CANCELLED;case Ie.UNKNOWN:return J.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return J.INTERNAL;case Ie.UNAVAILABLE:return J.UNAVAILABLE;case Ie.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ie.NOT_FOUND:return J.NOT_FOUND;case Ie.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ie.ABORTED:return J.ABORTED;case Ie.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ie.DATA_LOSS:return J.DATA_LOSS;default:return Et(39323,{code:a})}}(jt=Ie||(Ie={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function bR(){return new TextEncoder}const AR=new Xr([4294967295,4294967295],0);function Sv(a){const t=bR().encode(a),i=new K0;return i.update(t),new Uint8Array(i.digest())}function bv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Xr([i,s],0),new Xr([l,c],0)]}class Dm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new gl(`Invalid padding: ${i}`);if(s<0)throw new gl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Xr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Xr.fromNumber(s)));return l.compare(AR)===1&&(l=new Xr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Sv(t),[s,l]=bv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Dm(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Sv(t),[s,l]=bv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,jl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new mh(At.min(),l,new ce(kt),ir(),Ut())}}class jl{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new jl(s,i,Ut(),Ut(),Ut())}}class Mc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class ME{constructor(t,i){this.targetId=t,this.Ce=i}}class VE{constructor(t,i,s=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Av{constructor(){this.ve=0,this.Fe=wv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),i=Ut(),s=Ut();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:Et(38017,{changeType:c})}})),new jl(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=wv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wR{constructor(t){this.Ge=t,this.ze=new Map,this.je=ir(),this.Je=Sc(),this.He=Sc(),this.Ye=new ce(kt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Zd(c))if(s===0){const d=new yt(c.path);this.et(i,d,$e.newNoDocument(d,At.min()))}else Ft(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Wr(s).toUint8Array()}catch(y){if(y instanceof rE)return Fa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Dm(d,l,c)}catch(y){return Fa(y instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Zd(p.target)){const y=new yt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,$e.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Ut();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new mh(t,i,this.Ye,this.je,s);return this.je=ir(),this.Je=Sc(),this.He=Sc(),this.Ye=new ce(kt),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Av,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(kt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(kt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Av),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Sc(){return new ce(yt.comparator)}function wv(){return new ce(yt.comparator)}const RR={asc:"ASCENDING",desc:"DESCENDING"},IR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CR={and:"AND",or:"OR"};class DR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Jd(a,t){return a.useProto3Json||oh(t)?t:{value:t}}function Xc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xE(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function NR(a,t){return Xc(a,t.toTimestamp())}function bi(a){return Ft(!!a,49232),At.fromTimestamp((function(i){const s=Jr(i);return new ae(s.seconds,s.nanos)})(a))}function Nm(a,t){return Wd(a,t).canonicalString()}function Wd(a,t){const i=(function(l){return new ue(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function kE(a){const t=ue.fromString(a);return Ft(jE(t),10190,{key:t.toString()}),t}function tm(a,t){return Nm(a.databaseId,t.path)}function Vd(a,t){const i=kE(t);if(i.get(1)!==a.databaseId.projectId)throw new dt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new dt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new yt(LE(i))}function UE(a,t){return Nm(a.databaseId,t)}function OR(a){const t=kE(a);return t.length===4?ue.emptyPath():LE(t)}function em(a){return new ue(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function LE(a){return Ft(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Rv(a,t,i){return{name:tm(a,t),fields:i.value.mapValue.fields}}function MR(a,t){let i;if("targetChange"in t){t.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Et(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(Ft(S===void 0||typeof S=="string",58123),Ke.fromBase64String(S||"")):(Ft(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ke.fromUint8Array(S||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const S=_.code===void 0?J.UNKNOWN:OE(_.code);return new dt(S,_.message||"")})(d);i=new VE(s,l,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Vd(a,s.document.name),c=bi(s.document.updateTime),d=s.document.createTime?bi(s.document.createTime):At.min(),p=new xn({mapValue:{fields:s.document.fields}}),y=$e.newFoundDocument(l,c,d,p),_=s.targetIds||[],S=s.removedTargetIds||[];i=new Mc(_,S,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Vd(a,s.document),c=s.readTime?bi(s.readTime):At.min(),d=$e.newNoDocument(l,c),p=s.removedTargetIds||[];i=new Mc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Vd(a,s.document),c=s.removedTargetIds||[];i=new Mc([],c,l,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new TR(l,c),p=s.targetId;i=new ME(p,d)}}return i}function VR(a,t){let i;if(t instanceof zl)i={update:Rv(a,t.key,t.value)};else if(t instanceof NE)i={delete:tm(a,t.key)};else if(t instanceof Gs)i={update:Rv(a,t.key,t.data),updateMask:qR(t.fieldMask)};else{if(!(t instanceof _R))return Et(16599,{Vt:t.type});i={verify:tm(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof Kc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Nl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ol)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Yc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Et(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:NR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)})(a,t.precondition)),i}function xR(a,t){return a&&a.length>0?(Ft(t!==void 0,14353),a.map((i=>(function(l,c){let d=l.updateTime?bi(l.updateTime):bi(c);return d.isEqual(At.min())&&(d=bi(c)),new pR(d,l.transformResults||[])})(i,t)))):[]}function kR(a,t){return{documents:[UE(a,t.path)]}}function UR(a,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=UE(a,l);const c=(function(_){if(_.length!==0)return zE(Ii.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(V){return{field:ka(V.field),direction:zR(V.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Jd(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function LR(a){let t=OR(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Ft(s===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(b){const V=PE(b);return V instanceof Ii&&mE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((V=>(function(W){return new Qc(Ua(W.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let V;return V=typeof b=="object"?b.value:b,oh(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(b){const V=!!b.before,z=b.values||[];return new Fc(z,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const V=!b.before,z=b.values||[];return new Fc(z,V)})(i.endAt)),eR(t,l,d,c,p,"F",y,_)}function PR(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function PE(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ua(i.unaryFilter.field);return Oe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ua(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ua(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ua(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Oe.create(Ua(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Ii.create(i.compositeFilter.filters.map((s=>PE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(a):Et(30097,{filter:a})}function zR(a){return RR[a]}function jR(a){return IR[a]}function BR(a){return CR[a]}function ka(a){return{fieldPath:a.canonicalString()}}function Ua(a){return Qe.fromServerFormat(a.fieldPath)}function zE(a){return a instanceof Oe?(function(i){if(i.op==="=="){if(dv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NAN"}};if(fv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(dv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NAN"}};if(fv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(i.field),op:jR(i.op),value:i.value}}})(a):a instanceof Ii?(function(i){const s=i.getFilters().map((l=>zE(l)));return s.length===1?s[0]:{compositeFilter:{op:BR(i.op),filters:s}}})(a):Et(54877,{filter:a})}function qR(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function jE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class Gr{constructor(t,i,s,l,c=At.min(),d=At.min(),p=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Gr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class HR{constructor(t){this.yt=t}}function GR(a){const t=LR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?$d(t,t.limit,"L"):t}class FR{constructor(){this.Cn=new QR}addToCollectionParentIndex(t,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve($r.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve($r.min())}updateCollectionGroup(t,i,s){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class QR{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Me(ue.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Me(ue.comparator)).toArray()}}const Iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BE=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(BE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class Xa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Xa(0)}static cr(){return new Xa(-1)}}const Cv="LruGarbageCollector",KR=1048576;function Dv([a,t],[i,s]){const l=kt(a,i);return l===0?kt(t,s):l}class YR{constructor(t){this.Ir=t,this.buffer=new Me(Dv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Dv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class XR{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(Cv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){io(i)?at(Cv,"Ignoring IndexedDB error during garbage collection: ",i):await no(i)}await this.Vr(3e5)}))}}class ZR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(ah.ce);const s=new YR(i);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Iv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Iv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,c,d,p,y,_;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(s=b,p=Date.now(),this.removeTargets(t,s,i)))).next((b=>(c=b,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((b=>(_=Date.now(),Va()<=xt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${b} documents in `+(_-y)+`ms
Total Duration: ${_-S}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function $R(a,t){return new ZR(a,t)}class JR{constructor(){this.changes=new Hs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Y.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class WR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class tI{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&bl(s.mutation,l,$n.empty(),ae.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Ut()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Ut()){const l=xs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=pl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=xs();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Ut())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,s,l){let c=ir();const d=Sl(),p=(function(){return Sl()})();return i.forEach(((y,_)=>{const S=s.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof Gs)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),bl(S.mutation,_,S.mutation.getFieldMask(),ae.now())):d.set(_.key,$n.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>p.set(_,new WR(S,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const s=Sl();let l=new ce(((d,p)=>d-p)),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let S=s.get(y)||$n.empty();S=p.applyToLocalView(_,S),s.set(y,S);const b=(l.get(p.batchId)||Ut()).add(y);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,S=y.value,b=SE();S.forEach((V=>{if(!c.has(V)){const z=CE(i.get(V),s.get(V));z!==null&&b.set(V,z),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,b))}return Y.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return(function(d){return yt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):nR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):Y.resolve(xs());let p=Rl,y=c;return d.next((_=>Y.forEach(_,((S,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(S)?Y.resolve():this.remoteDocumentCache.getEntry(t,S).next((V=>{y=y.insert(S,V)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Ut()))).next((S=>({batchId:p,changes:TE(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new yt(i)).next((s=>{let l=pl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=pl();return this.indexManager.getCollectionParents(t,c).next((p=>Y.forEach(p,(y=>{const _=(function(b,V){return new uh(V,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next((S=>{S.forEach(((b,V)=>{d=d.insert(b,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((y,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,$e.newInvalidDocument(S)))}));let p=pl();return d.forEach(((y,_)=>{const S=c.get(y);S!==void 0&&bl(S.mutation,_,$n.empty(),ae.now()),hh(i,_)&&(p=p.insert(y,_))})),p}))}}class eI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:bi(l.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:GR(l.bundledQuery),readTime:bi(l.readTime)}})(i)),Y.resolve()}}class nI{constructor(){this.overlays=new ce(yt.comparator),this.qr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const s=xs();return Y.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.St(t,i,c)})),Y.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Y.resolve()}getOverlaysForCollection(t,i,s){const l=xs(),c=i.length+1,d=new yt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&l.set(y.getKey(),y)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new ce(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let S=c.get(_.largestBatchId);S===null&&(S=xs(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const p=xs(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,S)=>p.set(_,S))),!(p.size()>=l)););return Y.resolve(p)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new ER(i,s));let c=this.qr.get(i);c===void 0&&(c=Ut(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class iI{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}class Om{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Le(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new yt(new ue([])),s=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new yt(new ue([])),s=new Le(i,t),l=new Le(i,t+1);let c=Ut();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return yt.comparator(t.key,i.key)||kt(t.Yr,i.Yr)}static Kr(t,i){return kt(t.Yr,i.Yr)||yt.comparator(t.key,i.key)}}class rI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vR(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Tm:this.tr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Me(kt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{s=s.add(p.Yr)}))})),Y.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;yt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new yt(c),0);let p=new Me(kt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),Y.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Y.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new Le(i,0),l=this.Zr.firstAfterOrEqual(s);return Y.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class sI{constructor(t){this.ri=t,this.docs=(function(){return new ce(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return Y.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let s=ir();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))})),Y.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=ir();const d=i.path,p=new yt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:S}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Vw(Mw(S),s)<=0||(l.has(S.key)||hh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,i,s,l){Et(9500)}ii(t,i){return Y.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new aI(this)}getSize(t){return Y.resolve(this.size)}}class aI extends JR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),Y.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class oI{constructor(t){this.persistence=t,this.si=new Hs((i=>Am(i)),wm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Om,this.targetCount=0,this.ai=Xa.ur()}forEachTarget(t,i){return this.si.forEach(((s,l)=>i(l))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Y.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Xa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.Pr(i),Y.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Y.waitFor(c).next((()=>l))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return Y.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),Y.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Y.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return Y.resolve(s)}containsKey(t,i){return Y.resolve(this._i.containsKey(i))}}class qE{constructor(t,i){this.ui={},this.overlays={},this.ci=new ah(0),this.li=!1,this.li=!0,this.hi=new iI,this.referenceDelegate=t(this),this.Pi=new oI(this),this.indexManager=new FR,this.remoteDocumentCache=(function(l){return new sI(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new HR(i),this.Ii=new eI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new nI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new rI(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){at("MemoryPersistence","Starting transaction:",t);const l=new lI(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Y.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class lI extends kw{constructor(t){super(),this.currentSequenceNumber=t}}class Mm{constructor(t){this.persistence=t,this.Ri=new Om,this.Vi=null}static mi(t){return new Mm(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Y.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(s=>{const l=yt.fromPath(s);return this.gi(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Zc{constructor(t,i){this.persistence=t,this.pi=new Hs((s=>Pw(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=$R(this,i)}static mi(t,i){return new Zc(t,i)}Ei(){}di(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return Y.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?Y.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(s++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Dc(t.data.value)),i}br(t,i,s){return Y.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Y.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Vm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=Ut(),l=Ut();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Vm(t,i.fromCache,s,l)}}class uI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class cI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return WS()?8:Uw(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new uI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,s,l){return s.documentReadCount<this.fs?(Va()<=xt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",xa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Va()<=xt.DEBUG&&at("QueryEngine","Query:",xa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Va()<=xt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",xa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(i))):Y.resolve())}ys(t,i){if(yv(i))return Y.resolve(null);let s=Si(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=$d(i,null,"F"),s=Si(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Ut(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,$d(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,s,l){return yv(i)||l.isEqual(At.min())?Y.resolve(null):this.ps.getDocuments(t,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,l)?Y.resolve(null):(Va()<=xt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),xa(i)),this.vs(t,d,i,Ow(l,Rl)).next((p=>p)))}))}Ds(t,i){let s=new Me(vE(t));return i.forEach(((l,c)=>{hh(t,c)&&(s=s.add(c))})),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,s){return Va()<=xt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",xa(i)),this.ps.getDocumentsMatchingQuery(t,i,$r.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const xm="LocalStore",hI=3e8;class fI{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ce(kt),this.xs=new Hs((c=>Am(c)),wm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function dI(a,t,i,s){return new fI(a,t,i,s)}async function HE(a,t){const i=Rt(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let y=Ut();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}for(const _ of c){p.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}return i.localDocuments.getDocuments(s,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function mI(a,t){const i=Rt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,S){const b=_.batch,V=b.keys();let z=Y.resolve();return V.forEach((W=>{z=z.next((()=>S.getEntry(y,W))).next((nt=>{const $=_.docVersions.get(W);Ft($!==null,48541),nt.version.compareTo($)<0&&(b.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),S.addEntry(nt)))}))})),z.next((()=>p.mutationQueue.removeMutationBatch(y,b)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let y=Ut();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function GE(a){const t=Rt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function pI(a,t){const i=Rt(a),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((S,b)=>{const V=l.get(b);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,b))));let z=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?z=z.withResumeToken(Ke.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):S.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(S.resumeToken,s)),l=l.insert(b,z),(function(nt,$,ot){return nt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=hI?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(V,z,S)&&p.push(i.Pi.updateTargetData(c,z))}));let y=ir(),_=Ut();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(gI(c,d,t.documentUpdates).next((S=>{y=S.ks,_=S.qs}))),!s.isEqual(At.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(S)}return Y.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function gI(a,t,i){let s=Ut(),l=Ut();return i.forEach((c=>s=s.add(c))),t.getEntries(a,s).next((c=>{let d=ir();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(At.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):at(xm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function yI(a,t){const i=Rt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Tm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function _I(a,t){const i=Rt(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,t).next((c=>c?(l=c,Y.resolve(l)):i.Pi.allocateTargetId(s).next((d=>(l=new Gr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function nm(a,t,i){const s=Rt(a),l=s.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!io(d))throw d;at(xm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function Nv(a,t,i){const s=Rt(a);let l=At.min(),c=Ut();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,S){const b=Rt(y),V=b.xs.get(S);return V!==void 0?Y.resolve(b.Ms.get(V)):b.Pi.getTargetData(_,S)})(s,d,Si(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:Ut()))).next((p=>(vI(s,rR(t),p),{documents:p,Qs:c})))))}function vI(a,t,i){let s=a.Os.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),a.Os.set(t,s)}class Ov{constructor(){this.activeTargetIds=cR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class EI{constructor(){this.Mo=new Ov,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Ov,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class TI{Oo(t){}shutdown(){}}const Mv="ConnectivityMonitor";class Vv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(Mv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(Mv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let bc=null;function im(){return bc===null?bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():bc++,"0x"+bc.toString(16)}const xd="RestConnection",SI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Hc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,c){const d=im(),p=this.zo(t,i.toUriEncodedString());at(xd,`Sending RPC '${t}' ${d}:`,p,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),S=Ja(_);return this.Jo(t,p,y,s,S).then((b=>(at(xd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Fa(xd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",s),b}))}Ho(t,i,s,l,c,d){return this.Go(t,i,s,l,c)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+eo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const s=SI[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class AI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class wI extends bI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,c){const d=im();return new Promise(((p,y)=>{const _=new Y0;_.setWithCredentials(!0),_.listenOnce(X0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Cc.NO_ERROR:const b=_.getResponseJson();at(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Cc.TIMEOUT:at(Xe,`RPC '${t}' ${d} timed out`),y(new dt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const V=_.getStatus();if(at(Xe,`RPC '${t}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const W=z?.error;if(W&&W.status&&W.message){const nt=(function(ot){const ft=ot.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ft)>=0?ft:J.UNKNOWN})(W.status);y(new dt(nt,W.message))}else y(new dt(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new dt(J.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(Xe,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);at(Xe,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",S,s,15)}))}T_(t,i,s){const l=im(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=J0(),p=$0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const S=c.join("");at(Xe,`Creating RPC '${t}' stream ${l}: ${S}`,y);const b=d.createWebChannel(S,y);this.I_(b);let V=!1,z=!1;const W=new AI({Yo:$=>{z?at(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(V||(at(Xe,`Opening RPC '${t}' stream ${l} transport.`),b.open(),V=!0),at(Xe,`RPC '${t}' stream ${l} sending:`,$),b.send($))},Zo:()=>b.close()}),nt=($,ot,ft)=>{$.listen(ot,(gt=>{try{ft(gt)}catch(ht){setTimeout((()=>{throw ht}),0)}}))};return nt(b,ml.EventType.OPEN,(()=>{z||(at(Xe,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),nt(b,ml.EventType.CLOSE,(()=>{z||(z=!0,at(Xe,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(b))})),nt(b,ml.EventType.ERROR,($=>{z||(z=!0,Fa(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),W.a_(new dt(J.UNAVAILABLE,"The operation could not be completed")))})),nt(b,ml.EventType.MESSAGE,($=>{if(!z){const ot=$.data[0];Ft(!!ot,16349);const ft=ot,gt=ft?.error||ft[0]?.error;if(gt){at(Xe,`RPC '${t}' stream ${l} received error:`,gt);const ht=gt.status;let _t=(function(A){const R=Ie[A];if(R!==void 0)return OE(R)})(ht),St=gt.message;_t===void 0&&(_t=J.INTERNAL,St="Unknown error status: "+ht+" with message "+gt.message),z=!0,W.a_(new dt(_t,St)),b.close()}else at(Xe,`RPC '${t}' stream ${l} received:`,ot),W.u_(ot)}})),nt(p,Z0.STAT_EVENT,($=>{$.stat===Fd.PROXY?at(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===Fd.NOPROXY&&at(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function kd(){return typeof document<"u"?document:null}function ph(a){return new DR(a,!0)}class FE{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const xv="PersistentStream";class QE{constructor(t,i,s,l,c,d,p,y){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new FE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(nr(i.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new dt(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(xv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RI extends QE{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=MR(this.serializer,t),s=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?bi(d.readTime):At.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=em(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=Zd(y)?{documents:kR(c,y)}:{query:UR(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=xE(c,d.resumeToken);const _=Jd(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=Xc(c,d.snapshotVersion.toTimestamp());const _=Jd(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const s=PR(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=em(this.serializer),i.removeTarget=t,this.q_(i)}}class II extends QE{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=xR(t.writeResults,t.commitTime),s=bi(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=em(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>VR(this.serializer,s)))};this.q_(i)}}class CI{}class DI extends CI{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new dt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Wd(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(J.UNKNOWN,c.toString())}))}Ho(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Wd(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new dt(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(nr(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Bs="RemoteStore";class OI{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Fs(this)&&(at(Bs,"Restarting streams for network reachability change."),await(async function(y){const _=Rt(y);_.Ea.add(4),await Bl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await gh(_)})(this))}))})),this.Ra=new NI(s,l)}}async function gh(a){if(Fs(a))for(const t of a.da)await t(!0)}async function Bl(a){for(const t of a.da)await t(!1)}function KE(a,t){const i=Rt(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Pm(i)?Lm(i):ro(i).O_()&&Um(i,t))}function km(a,t){const i=Rt(a),s=ro(i);i.Ia.delete(t),s.O_()&&YE(i,t),i.Ia.size===0&&(s.O_()?s.L_():Fs(i)&&i.Ra.set("Unknown"))}function Um(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ro(a).Y_(t)}function YE(a,t){a.Va.Ue(t),ro(a).Z_(t)}function Lm(a){a.Va=new wR({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),ro(a).start(),a.Ra.ua()}function Pm(a){return Fs(a)&&!ro(a).x_()&&a.Ia.size>0}function Fs(a){return Rt(a).Ea.size===0}function XE(a){a.Va=void 0}async function MI(a){a.Ra.set("Online")}async function VI(a){a.Ia.forEach(((t,i)=>{Um(a,t)}))}async function xI(a,t){XE(a),Pm(a)?(a.Ra.ha(t),Lm(a)):a.Ra.set("Unknown")}async function kI(a,t,i){if(a.Ra.set("Online"),t instanceof VE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(a,t)}catch(s){at(Bs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await $c(a,s)}else if(t instanceof Mc?a.Va.Ze(t):t instanceof ME?a.Va.st(t):a.Va.tt(t),!i.isEqual(At.min()))try{const s=await GE(a.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const S=c.Ia.get(y);if(!S)return;c.Ia.set(y,S.withResumeToken(Ke.EMPTY_BYTE_STRING,S.snapshotVersion)),YE(c,y);const b=new Gr(S.target,y,_,S.sequenceNumber);Um(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(s){at(Bs,"Failed to raise snapshot:",s),await $c(a,s)}}async function $c(a,t,i){if(!io(t))throw t;a.Ea.add(1),await Bl(a),a.Ra.set("Offline"),i||(i=()=>GE(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{at(Bs,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await gh(a)}))}function ZE(a,t){return t().catch((i=>$c(a,i,t)))}async function yh(a){const t=Rt(a),i=es(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Tm;for(;UI(t);)try{const l=await yI(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,LI(t,l)}catch(l){await $c(t,l)}$E(t)&&JE(t)}function UI(a){return Fs(a)&&a.Ta.length<10}function LI(a,t){a.Ta.push(t);const i=es(a);i.O_()&&i.X_&&i.ea(t.mutations)}function $E(a){return Fs(a)&&!es(a).x_()&&a.Ta.length>0}function JE(a){es(a).start()}async function PI(a){es(a).ra()}async function zI(a){const t=es(a);for(const i of a.Ta)t.ea(i.mutations)}async function jI(a,t,i){const s=a.Ta.shift(),l=Cm.from(s,t,i);await ZE(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await yh(a)}async function BI(a,t){t&&es(a).X_&&await(async function(s,l){if((function(d){return SR(d)&&d!==J.ABORTED})(l.code)){const c=s.Ta.shift();es(s).B_(),await ZE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await yh(s)}})(a,t),$E(a)&&JE(a)}async function kv(a,t){const i=Rt(a);i.asyncQueue.verifyOperationInProgress(),at(Bs,"RemoteStore received new credentials");const s=Fs(i);i.Ea.add(3),await Bl(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await gh(i)}async function qI(a,t){const i=Rt(a);t?(i.Ea.delete(2),await gh(i)):t||(i.Ea.add(2),await Bl(i),i.Ra.set("Unknown"))}function ro(a){return a.ma||(a.ma=(function(i,s,l){const c=Rt(i);return c.sa(),new RI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:MI.bind(null,a),t_:VI.bind(null,a),r_:xI.bind(null,a),H_:kI.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Pm(a)?Lm(a):a.Ra.set("Unknown")):(await a.ma.stop(),XE(a))}))),a.ma}function es(a){return a.fa||(a.fa=(function(i,s,l){const c=Rt(i);return c.sa(),new II(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:PI.bind(null,a),r_:BI.bind(null,a),ta:zI.bind(null,a),na:jI.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await yh(a)):(await a.fa.stop(),a.Ta.length>0&&(at(Bs,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class zm{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,p=new zm(t,i,d,l,c);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jm(a,t){if(nr("AsyncQueue",`${t}: ${a}`),io(a))return new dt(J.UNAVAILABLE,`${t}: ${a}`);throw a}class qa{static emptySet(t){return new qa(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||yt.comparator(i.key,s.key):(i,s)=>yt.comparator(i.key,s.key),this.keyedMap=pl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new qa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class Uv{constructor(){this.ga=new ce(yt.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class Za{constructor(t,i,s,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Za(t,i,qa.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class HI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class GI{constructor(){this.queries=Lv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Rt(i),c=l.queries;l.queries=Lv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(s)}))})(this,new dt(J.ABORTED,"Firestore shutting down"))}}function Lv(){return new Hs((a=>_E(a)),ch)}async function FI(a,t){const i=Rt(a);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new HI,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=jm(d,`Initialization of query '${xa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Bm(i)}async function QI(a,t){const i=Rt(a),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function KI(a,t){const i=Rt(a);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(s=!0);d.wa=l}}s&&Bm(i)}function YI(a,t,i){const s=Rt(a),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(t)}function Bm(a){a.Ca.forEach((t=>{t.next()}))}var rm,Pv;(Pv=rm||(rm={})).Ma="default",Pv.Cache="cache";class XI{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Za(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Za.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==rm.Cache}}class WE{constructor(t){this.key=t}}class tT{constructor(t){this.key=t}}class ZI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=vE(t),this.tu=new qa(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new Uv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,b)=>{const V=l.get(S),z=hh(this.query,b)?b:null,W=!!V&&this.mutatedKeys.has(V.key),nt=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let $=!1;V&&z?V.data.isEqual(z.data)?W!==nt&&(s.track({type:3,doc:z}),$=!0):this.su(V,z)||(s.track({type:2,doc:z}),$=!0,(y&&this.eu(z,y)>0||_&&this.eu(z,_)<0)&&(p=!0)):!V&&z?(s.track({type:0,doc:z}),$=!0):V&&!z&&(s.track({type:1,doc:V}),$=!0,(y||_)&&(p=!0)),$&&(z?(d=d.add(z),c=nt?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),s.track({type:1,doc:S})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,b)=>(function(z,W){const nt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:$})}};return nt(z)-nt(W)})(S.type,b.type)||this.eu(S.doc,b.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Za(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Uv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new tT(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new WE(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ut();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qm="SyncEngine";class $I{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class JI{constructor(t){this.key=t,this.hu=!1}}class WI{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Hs((p=>_E(p)),ch),this.Iu=new Map,this.Eu=new Set,this.du=new ce(yt.comparator),this.Au=new Map,this.Ru=new Om,this.Vu={},this.mu=new Map,this.fu=Xa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tC(a,t,i=!0){const s=aT(a);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await eT(s,t,i,!0),l}async function eC(a,t){const i=aT(a);await eT(i,t,!0,!1)}async function eT(a,t,i,s){const l=await _I(a.localStore,Si(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await nC(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&KE(a.remoteStore,l),p}async function nC(a,t,i,s,l){a.pu=(b,V,z)=>(async function(nt,$,ot,ft){let gt=$.view.ru(ot);gt.Cs&&(gt=await Nv(nt.localStore,$.query,!1).then((({documents:C})=>$.view.ru(C,gt))));const ht=ft&&ft.targetChanges.get($.targetId),_t=ft&&ft.targetMismatches.get($.targetId)!=null,St=$.view.applyChanges(gt,nt.isPrimaryClient,ht,_t);return jv(nt,$.targetId,St.au),St.snapshot})(a,b,V,z);const c=await Nv(a.localStore,t,!0),d=new ZI(t,c.Qs),p=d.ru(c.documents),y=jl.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),_=d.applyChanges(p,a.isPrimaryClient,y);jv(a,i,_.au);const S=new $I(t,i,d);return a.Tu.set(t,S),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),_.snapshot}async function iC(a,t,i){const s=Rt(a),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!ch(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await nm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&km(s.remoteStore,l.targetId),sm(s,l.targetId)})).catch(no)):(sm(s,l.targetId),await nm(s.localStore,l.targetId,!0))}async function rC(a,t){const i=Rt(a),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),km(i.remoteStore,s.targetId))}async function sC(a,t,i){const s=fC(a);try{const l=await(function(d,p){const y=Rt(d),_=ae.now(),S=p.reduce(((z,W)=>z.add(W.key)),Ut());let b,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let W=ir(),nt=Ut();return y.Ns.getEntries(z,S).next(($=>{W=$,W.forEach(((ot,ft)=>{ft.isValidDocument()||(nt=nt.add(ot))}))})).next((()=>y.localDocuments.getOverlayedDocuments(z,W))).next(($=>{b=$;const ot=[];for(const ft of p){const gt=yR(ft,b.get(ft.key).overlayedDocument);gt!=null&&ot.push(new Gs(ft.key,gt,hE(gt.value.mapValue),Ji.exists(!0)))}return y.mutationQueue.addMutationBatch(z,_,ot,p)})).next(($=>{V=$;const ot=$.applyToLocalDocumentSet(b,nt);return y.documentOverlayCache.saveOverlays(z,$.batchId,ot)}))})).then((()=>({batchId:V.batchId,changes:TE(b)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ce(kt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(s,l.batchId,i),await ql(s,l.changes),await yh(s.remoteStore)}catch(l){const c=jm(l,"Failed to persist write");i.reject(c)}}async function nT(a,t){const i=Rt(a);try{const s=await pI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await ql(i,s,t)}catch(s){await no(s)}}function zv(a,t,i){const s=Rt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Rt(d);y.onlineState=p;let _=!1;y.queries.forEach(((S,b)=>{for(const V of b.Sa)V.va(p)&&(_=!0)})),_&&Bm(y)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function aC(a,t,i){const s=Rt(a);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new ce(yt.comparator);d=d.insert(c,$e.newNoDocument(c,At.min()));const p=Ut().add(c),y=new mh(At.min(),new Map,new ce(kt),d,p);await nT(s,y),s.du=s.du.remove(c),s.Au.delete(t),Hm(s)}else await nm(s.localStore,t,!1).then((()=>sm(s,t,i))).catch(no)}async function oC(a,t){const i=Rt(a),s=t.batch.batchId;try{const l=await mI(i.localStore,t);rT(i,s,null),iT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ql(i,l)}catch(l){await no(l)}}async function lC(a,t,i){const s=Rt(a);try{const l=await(function(d,p){const y=Rt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return y.mutationQueue.lookupMutationBatch(_,p).next((b=>(Ft(b!==null,37113),S=b.keys(),y.mutationQueue.removeMutationBatch(_,b)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,S,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>y.localDocuments.getDocuments(_,S)))}))})(s.localStore,t);rT(s,t,i),iT(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await ql(s,l)}catch(l){await no(l)}}function iT(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function rT(a,t,i){const s=Rt(a);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function sm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Iu.get(t))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((s=>{a.Ru.containsKey(s)||sT(a,s)}))}function sT(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(km(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Hm(a))}function jv(a,t,i){for(const s of i)s instanceof WE?(a.Ru.addReference(s.key,t),uC(a,s)):s instanceof tT?(at(qm,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,t),a.Ru.containsKey(s.key)||sT(a,s.key)):Et(19791,{wu:s})}function uC(a,t){const i=t.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(at(qm,"New document in limbo: "+i),a.Eu.add(s),Hm(a))}function Hm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new yt(ue.fromString(t)),s=a.fu.next();a.Au.set(s,new JI(i)),a.du=a.du.insert(i,s),KE(a.remoteStore,new Gr(Si(Rm(i.path)),s,"TargetPurposeLimboResolution",ah.ce))}}async function ql(a,t,i){const s=Rt(a),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,y)=>{d.push(s.pu(y,t,i).then((_=>{if((_||i)&&s.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(_){l.push(_);const S=Vm.As(y.targetId,_);c.push(S)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(y,_){const S=Rt(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Y.forEach(_,(V=>Y.forEach(V.Es,(z=>S.persistence.referenceDelegate.addReference(b,V.targetId,z))).next((()=>Y.forEach(V.ds,(z=>S.persistence.referenceDelegate.removeReference(b,V.targetId,z)))))))))}catch(b){if(!io(b))throw b;at(xm,"Failed to update sequence numbers: "+b)}for(const b of _){const V=b.targetId;if(!b.fromCache){const z=S.Ms.get(V),W=z.snapshotVersion,nt=z.withLastLimboFreeSnapshotVersion(W);S.Ms=S.Ms.insert(V,nt)}}})(s.localStore,c))}async function cC(a,t){const i=Rt(a);if(!i.currentUser.isEqual(t)){at(qm,"User change. New user:",t.toKey());const s=await HE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new dt(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await ql(i,s.Ls)}}function hC(a,t){const i=Rt(a),s=i.Au.get(t);if(s&&s.hu)return Ut().add(s.key);{let l=Ut();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function aT(a){const t=Rt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=nT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aC.bind(null,t),t.Pu.H_=KI.bind(null,t.eventManager),t.Pu.yu=YI.bind(null,t.eventManager),t}function fC(a){const t=Rt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lC.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ph(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return dI(this.persistence,new cI,t.initialUser,this.serializer)}Cu(t){return new qE(Mm.mi,this.serializer)}Du(t){return new EI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class dC extends Jc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof Zc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new XR(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new qE((s=>Zc.mi(s,i)),this.serializer)}}class am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>zv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=cC.bind(null,this.syncEngine),await qI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new GI})()}createDatastore(t){const i=ph(t.databaseInfo.databaseId),s=(function(c){return new wI(c)})(t.databaseInfo);return(function(c,d,p,y){return new DI(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,p){return new OI(s,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>zv(this.syncEngine,i,0)),(function(){return Vv.v()?new Vv:new TI})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,S){const b=new WI(l,c,d,p,y,_);return S&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Rt(i);at(Bs,"RemoteStore shutting down."),s.Ea.add(5),await Bl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}am.provider={build:()=>new am};class mC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):nr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ns="FirestoreClient";class pC{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{at(ns,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(at(ns,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=jm(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Ud(a,t){a.asyncQueue.verifyOperationInProgress(),at(ns,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async l=>{s.isEqual(l)||(await HE(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Bv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await gC(a);at(ns,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((s=>kv(t.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,l)=>kv(t.remoteStore,l))),a._onlineComponents=t}async function gC(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){at(ns,"Using user provided OfflineComponentProvider");try{await Ud(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Fa("Error using user provided cache. Falling back to memory cache: "+i),await Ud(a,new Jc)}}else at(ns,"Using default OfflineComponentProvider"),await Ud(a,new dC(void 0));return a._offlineComponents}async function oT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(at(ns,"Using user provided OnlineComponentProvider"),await Bv(a,a._uninitializedComponentsProvider._online)):(at(ns,"Using default OnlineComponentProvider"),await Bv(a,new am))),a._onlineComponents}function yC(a){return oT(a).then((t=>t.syncEngine))}async function qv(a){const t=await oT(a),i=t.eventManager;return i.onListen=tC.bind(null,t.syncEngine),i.onUnlisten=iC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=eC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=rC.bind(null,t.syncEngine),i}function lT(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const Hv=new Map;const uT="firestore.googleapis.com",Gv=!0;class Fv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new dt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uT,this.ssl=Gv}else this.host=t.host,this.ssl=t.ssl??Gv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=BE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<KR)throw new dt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Nw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new dt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new dt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new dt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Gm{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new vw;switch(s.type){case"firstParty":return new bw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new dt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Hv.get(i);s&&(at("ComponentProvider","Removing Datastore"),Hv.delete(i),s.terminate())})(this),Promise.resolve()}}function _C(a,t,i,s={}){a=Ba(a,Gm);const l=Ja(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;l&&(o0(`https://${p}`),l0("Firestore",!0)),c.host!==uT&&c.host!==p&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:s};if(!Ls(y,d)&&(a._setSettings(y),s.mockUserToken)){let _,S;if(typeof s.mockUserToken=="string")_=s.mockUserToken,S=Ze.MOCK_USER;else{_=GS(s.mockUserToken,a._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new dt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ze(b)}a._authCredentials=new Ew(new tE(_,S))}}class _h{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new _h(this.firestore,t,this._query)}}class Pe{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ml(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pe(this.firestore,t,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(Pl(i,Pe._jsonSchema))return new Pe(t,s||null,new yt(ue.fromString(i.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:Ce("string",Pe._jsonSchemaVersion),referencePath:Ce("string")};class Ml extends _h{constructor(t,i,s){super(t,i,Rm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pe(this.firestore,null,new yt(t))}withConverter(t){return new Ml(this.firestore,t,this._path)}}function cT(a,t,...i){if(a=Un(a),arguments.length===1&&(t=vm.newId()),Dw("doc","path",t),a instanceof Gm){const s=ue.fromString(t,...i);return rv(s),new Pe(a,null,new yt(s))}{if(!(a instanceof Pe||a instanceof Ml))throw new dt(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ue.fromString(t,...i));return rv(s),new Pe(a.firestore,a instanceof Ml?a.converter:null,new yt(s))}}const Qv="AsyncQueue";class Kv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FE(this,"async_queue_retry"),this._c=()=>{const s=kd();s&&at(Qv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=kd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=kd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!io(t))throw t;at(Qv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,nr("INTERNAL UNHANDLED ERROR: ",Yv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=zm.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:Yv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Yv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function Xv(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class Wc extends Gm{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new Kv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Kv(t),this._firestoreClient=void 0,await t}}}function vC(a,t){const i=typeof a=="object"?a:f0(),s=typeof a=="string"?a:Hc,l=cm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=qS("firestore");c&&_C(l,...c)}return l}function hT(a){if(a._terminated)throw new dt(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||EC(a),a._firestoreClient}function EC(a){const t=a._freezeSettings(),i=(function(l,c,d,p){return new Bw(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,lT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new pC(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kn(Ke.fromBase64String(t))}catch(i){throw new dt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new kn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Pl(t,kn._jsonSchema))return kn.fromBase64String(t.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Ce("string",kn._jsonSchemaVersion),bytes:Ce("string")};class Fm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new dt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class fT{constructor(t){this._methodName=t}}class Ai{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new dt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new dt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ai._jsonSchemaVersion}}static fromJSON(t){if(Pl(t,Ai._jsonSchema))return new Ai(t.latitude,t.longitude)}}Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:Ce("string",Ai._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class wi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Pl(t,wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new wi(t.vectorValues);throw new dt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Ce("string",wi._jsonSchemaVersion),vectorValues:Ce("object")};const TC=/^__.*__$/;class SC{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Gs(t,this.data,this.fieldMask,i,this.fieldTransforms):new zl(t,this.data,i,this.fieldTransforms)}}function dT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:a})}}class Qm{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Qm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return th(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(dT(this.Ac)&&TC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class bC{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||ph(t)}Cc(t,i,s,l=!1){return new Qm({Ac:t,methodName:i,Dc:s,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function AC(a){const t=a._freezeSettings(),i=ph(a._databaseId);return new bC(a._databaseId,!!t.ignoreUndefinedProperties,i)}function wC(a,t,i,s,l,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,t,i,l);yT("Data must be an object, but it was:",d,s);const p=pT(s,d);let y,_;if(c.merge)y=new $n(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const b of c.mergeFields){const V=RC(t,b,i);if(!d.contains(V))throw new dt(J.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);CC(S,V)||S.push(V)}y=new $n(S),_=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,_=d.fieldTransforms;return new SC(new xn(p),y,_)}function mT(a,t){if(gT(a=Un(a)))return yT("Unsupported field value:",t,a),pT(a,t);if(a instanceof fT)return(function(s,l){if(!dT(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let y=mT(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(a,t)}return(function(s,l){if((s=Un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return hR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ae.fromDate(s);return{timestampValue:Xc(l.serializer,c)}}if(s instanceof ae){const c=new ae(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xc(l.serializer,c)}}if(s instanceof Ai)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof kn)return{bytesValue:xE(l.serializer,s._byteString)};if(s instanceof Pe){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Nm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof wi)return(function(d,p){return{mapValue:{fields:{[uE]:{stringValue:cE},[Gc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Im(p.serializer,_)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${Em(s)}`)})(a,t)}function pT(a,t){const i={};return iE(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qs(a,((s,l)=>{const c=mT(l,t.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function gT(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ae||a instanceof Ai||a instanceof kn||a instanceof Pe||a instanceof fT||a instanceof wi)}function yT(a,t,i){if(!gT(i)||!eE(i)){const s=Em(i);throw s==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+s)}}function RC(a,t,i){if((t=Un(t))instanceof Fm)return t._internalPath;if(typeof t=="string")return _T(a,t);throw th("Field path arguments must be of type string or ",a,!1,void 0,i)}const IC=new RegExp("[~\\*/\\[\\]]");function _T(a,t,i){if(t.search(IC)>=0)throw th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Fm(...t.split("."))._internalPath}catch{throw th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function th(a,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new dt(J.INVALID_ARGUMENT,p+a+y)}function CC(a,t){return a.some((i=>i.isEqual(t)))}class vT{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(ET("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class DC extends vT{data(){return super.data()}}function ET(a,t){return typeof t=="string"?_T(a,t):t instanceof Fm?t._internalPath:t._delegate._internalPath}function NC(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new dt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OC{convertValue(t,i="none"){switch(ts(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Wr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return qs(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[Gc].arrayValue?.values?.map((s=>ye(s.doubleValue)));return new wi(i)}convertGeoPoint(t){return new Ai(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=lh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Il(t));default:return null}}convertTimestamp(t){const i=Jr(t);return new ae(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=ue.fromString(t);Ft(jE(s),9688,{name:t});const l=new Cl(s.get(1),s.get(3)),c=new yt(s.popFirst(5));return l.isEqual(i)||nr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function MC(a,t,i){let s;return s=a?a.toFirestore(t):t,s}class yl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Us extends vT{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(ET("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Us._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Us._jsonSchemaVersion="firestore/documentSnapshot/1.0",Us._jsonSchema={type:Ce("string",Us._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Vc extends Us{data(t={}){return super.data(t)}}class Ha{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new yl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Vc(this._firestore,this._userDataWriter,s.key,s,new yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new dt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Vc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new yl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Vc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new yl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:VC(p.type),doc:y,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ha._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function VC(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:a})}}Ha._jsonSchemaVersion="firestore/querySnapshot/1.0",Ha._jsonSchema={type:Ce("string",Ha._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class TT extends OC{constructor(t){super(),this.firestore=t}convertBytes(t){return new kn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Pe(this.firestore,null,i)}}function xC(a,t,i){a=Ba(a,Pe);const s=Ba(a.firestore,Wc),l=MC(a.converter,t);return UC(s,[wC(AC(s),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,Ji.none())])}function kC(a,...t){a=Un(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Xv(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Xv(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let c,d,p;if(a instanceof Pe)d=Ba(a.firestore,Wc),p=Rm(a._key.path),c={next:y=>{t[s]&&t[s](LC(d,a,y))},error:t[s+1],complete:t[s+2]};else{const y=Ba(a,_h);d=Ba(y.firestore,Wc),p=y._query;const _=new TT(d);c={next:S=>{t[s]&&t[s](new Ha(d,_,y,S))},error:t[s+1],complete:t[s+2]},NC(a._query)}return(function(_,S,b,V){const z=new mC(V),W=new XI(S,z,b);return _.asyncQueue.enqueueAndForget((async()=>FI(await qv(_),W))),()=>{z.Nu(),_.asyncQueue.enqueueAndForget((async()=>QI(await qv(_),W)))}})(hT(d),p,l,c)}function UC(a,t){return(function(s,l){const c=new ks;return s.asyncQueue.enqueueAndForget((async()=>sC(await yC(s),l,c))),c.promise})(hT(a),t)}function LC(a,t,i){const s=i.docs.get(t._key),l=new TT(a);return new Us(a,l,t._key,s,new yl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){eo=l})(Wa),Ga(new Ps("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new Wc(new Tw(s.getProvider("auth-internal")),new Aw(d,s.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new dt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(_.options.projectId,S)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Kr(tv,ev,t),Kr(tv,ev,"esm2020")})();const PC={apiKey:"AIzaSyBcezJRuEx8vsThQKhi8Az_XdL_XSM6u8g",authDomain:"st-mary-somerset.firebaseapp.com",projectId:"st-mary-somerset",storageBucket:"st-mary-somerset.firebasestorage.app",messagingSenderId:"924281338278",appId:"1:924281338278:web:83affbb1aff93ba797f767"},ST=h0(PC),Km=yw(ST),bT=vC(ST),AT="default-app",zC=async()=>{try{await t2(Km)}catch(a){console.error("Firebase Auth Error",a)}},jC=a=>a2(Km,t=>{if(t){const i=cT(bT,"artifacts",AT,"public","data","st_mary_project","main");return kC(i,s=>{s.exists()?a(s.data()):console.log("No data found, seeding...")})}}),Zv=async(a,t)=>{if(!Km.currentUser)return;const i=cT(bT,"artifacts",AT,"public","data","st_mary_project","main");try{await xC(i,{projectStartDate:t.toISOString(),tasks:a,lastUpdated:new Date().toISOString()}),console.log("Data saved to Firebase")}catch(s){console.error("Error saving data:",s)}},BC=(a,t,i)=>{if(t===i)return!0;const s=new Set,l=[i];for(;l.length>0;){const c=l.pop();if(s.has(c))continue;s.add(c);const d=a.find(p=>p.id===c);if(d){if(d.dependencies&&d.dependencies.includes(t))return!0;d.dependencies&&d.dependencies.forEach(p=>l.push(p))}}return!1},$v=(a,t)=>{if(!a.dependencies||a.dependencies.length===0)return null;let i=null;return a.dependencies.forEach(s=>{const l=t.find(c=>c.id===s);if(l){const c=new Date(l.startDate);c.setDate(c.getDate()+l.duration),(!i||c>i)&&(i=c)}}),i},Jv=(a,t)=>{const i=[...t],s=new Map(i.map(d=>[d.id,d]));s.set(a.id,a);const l=[a],c=new Set;for(;l.length>0;){const d=l.shift();if(c.has(d.id))continue;c.add(d.id);const p=new Date(d.startDate);p.setDate(p.getDate()+d.duration),i.forEach(y=>{if(y.dependencies&&y.dependencies.includes(d.id)&&new Date(y.startDate)<p){const S=new Date(p),b={...y,startDate:S.toISOString()};s.set(y.id,b);const V=i.findIndex(z=>z.id===y.id);i[V]=b,l.push(b)}})}return i};function qC(){const[a,t]=se.useState([]),[i,s]=se.useState(null),[l,c]=se.useState("week"),[d,p]=se.useState(new Date("2024-01-01")),[y,_]=se.useState(!1),[S,b]=se.useState(null),[V,z]=se.useState("list"),[W,nt]=se.useState(!1);se.useEffect(()=>{const et=()=>nt(window.innerWidth<1024);return et(),window.addEventListener("resize",et),()=>window.removeEventListener("resize",et)},[]),se.useEffect(()=>{zC();const et=jC(w=>{if(w){p(new Date(w.projectStartDate));const j=fl(w.tasks);t(j)}});return()=>et&&et()},[]);const $=et=>{Zv(et,d)},ot=se.useRef(null),ft=se.useRef(null),gt=se.useRef(!1),ht=et=>w=>{if(gt.current)return;gt.current=!0;const j=w.target.scrollTop;et==="sidebar"&&ft.current?ft.current.scrollTop=j:et==="timeline"&&ot.current&&(ot.current.scrollTop=j),setTimeout(()=>{gt.current=!1},10)},[_t,St]=se.useState([]),[C,A]=se.useState([]),R=(et,w=!0)=>{const j=fl(et);w&&(St(Z=>[...Z,a]),A([])),t(j),$(j)},M=()=>{if(_t.length===0)return;const et=_t[_t.length-1],w=_t.slice(0,-1);A(j=>[a,...j]),St(w),t(fl(et)),$(et)},N=()=>{if(C.length===0)return;const et=C[0],w=C.slice(1);St(j=>[...j,a]),A(w),t(fl(et)),$(et)},k=(et="phase")=>{let w=null,j=a.length,Z=null;if(S&&(Z=a.find(st=>st.id===S)),et==="subtask")if(Z)w=Z.id,j=a.length;else{alert("Select a task to add a subtask to.");return}else et==="task"&&Z?(w=Z.parentId,j=a.indexOf(Z)+1):(w=null,j=a.length);const tt=[...a];if(et==="phase"){const st=`t${Date.now()}`,ut=`t${Date.now()+1}`,bt={id:st,name:"New Phase",startDate:new Date().toISOString(),duration:1,progress:0,type:"task",dependencies:[],parentId:null},ee={id:ut,name:"Phase Task 1",startDate:new Date().toISOString(),duration:5,progress:0,type:"task",dependencies:[],parentId:st};j===a.length?tt.push(bt,ee):tt.splice(j,0,bt,ee)}else{const st={id:`t${Date.now()}`,name:"New Task",startDate:new Date().toISOString(),duration:5,progress:0,type:"task",dependencies:[],parentId:w};j===a.length?tt.push(st):tt.splice(j,0,st)}R(tt)},I=et=>{const w=a.find(st=>st.id===et);if(!w)return;const Z=(st=>a.filter(ut=>ut.id!==st&&ut.wbs&&ut.wbs.startsWith(a.find(bt=>bt.id===st)?.wbs+".")))(et),tt=Z.length;if(confirm(`Delete "${w.name}"? ${tt>0?`(Includes ${tt} subtasks)`:""}`)){const st=new Set([et,...Z.map(bt=>bt.id)]),ut=a.filter(bt=>!st.has(bt.id));R(ut)}},Qt=(et,w)=>{if(et===w)return;let j=a;y&&(j=a.filter(st=>st.isSummary));const Z=j[et],tt=[...a];if(y){const st=Ve=>{const Di=a.find(We=>We.id===Ve);return Di?a.filter(We=>We.id!==Ve&&We.wbs.startsWith(Di.wbs+".")):[]},ut=[Z,...st(Z.id)],bt=new Set(ut.map(Ve=>Ve.id)),ee=tt.filter(Ve=>!bt.has(Ve.id)),Zt=j[w];let Ci=ee.findIndex(Ve=>Ve.id===Zt.id);if(et<w){const Ve=st(Zt.id);Ci=ee.indexOf(Ve[Ve.length-1]||Zt)+1}ee.splice(Ci,0,...ut),R(ee)}else{if(et<0||et>=tt.length)return;const[st]=tt.splice(et,1);let ut=w;ut>et&&(ut-=1),ut=Math.max(0,Math.min(ut,tt.length)),tt.splice(ut,0,st),R(tt)}},[zt,G]=se.useState(null),rt=(et,w)=>{et.stopPropagation(),G({task:w,startX:et.clientX,originalStartDate:new Date(w.startDate),originalDuration:w.duration,type:et.shiftKey?"resize":"move"})},mt=et=>{if(!zt)return;const w=Math.round((et.clientX-zt.startX)/(l==="day"?60:l==="week"?40:20));if(zt.type==="move"){let j=addDays(zt.originalStartDate,w);const Z=$v(zt.task,a);Z&&j<Z&&(j=Z),t(tt=>tt.map(st=>st.id===zt.task.id?{...st,startDate:j.toISOString()}:st))}else if(zt.type==="resize"){const j=Math.max(1,zt.originalDuration+w);t(Z=>Z.map(tt=>tt.id===zt.task.id?{...tt,duration:j}:tt))}},Lt=()=>{if(zt){const et=a.find(w=>w.id===zt.task.id);if(et){const w=Jv(et,a);R(w)}}G(null)};return X.jsxs("div",{className:"h-screen w-screen bg-midnight text-stone flex flex-col overflow-hidden font-ui select-none",onMouseMove:mt,onMouseUp:Lt,children:[X.jsx(CS,{viewMode:l,setViewMode:c,onAddTask:k,onUndo:M,onRedo:N,canUndo:_t.length>0,canRedo:C.length>0,status,showSummaryOnly:y,setShowSummaryOnly:_,onImportData:()=>{if(confirm("Verify: This will OVERWRITE all current tasks with the Excel data. Continue?")){const et=Ad.reduce((Z,tt)=>{const st=new Date(tt.startDate);return st<Z?st:Z},new Date(864e13)),w=new Date(et);w.setDate(w.getDate()-7),p(w),console.log("Importing Tasks (Raw):",Ad);const j=fl(Ad);console.log("Importing Tasks (Processed):",j),t(j),Zv(j,w),alert("Data reset to v1.2.1 (Excel Import) & Timeline adjusted.")}}}),W&&X.jsxs("div",{className:"flex border-b border-border bg-void/50",children:[X.jsx("button",{onClick:()=>z("list"),className:`flex-1 py-2 text-xs font-header tracking-wider uppercase ${V==="list"?"bg-bronze text-midnight":"text-stone"}`,children:"Task List"}),X.jsx("button",{onClick:()=>z("chart"),className:`flex-1 py-2 text-xs font-header tracking-wider uppercase ${V==="chart"?"bg-bronze text-midnight":"text-stone"}`,children:"Timeline"})]}),X.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[X.jsx("div",{className:`w-full lg:w-80 flex-shrink-0 h-full overflow-y-auto no-scrollbar border-r border-border transition-all ${W&&V!=="list"?"hidden":"block"}`,children:X.jsx(DS,{tasks:y?a.filter(et=>et.isSummary):a,selectedTaskId:S,onSelectTask:b,onEditTask:s,onReorderTasks:Qt,scrollRef:ot,onScroll:ht("sidebar")})}),X.jsx(MS,{tasks:y?a.filter(et=>et.isSummary):a,viewMode:l,projectStartDate:d,onTaskDragStart:rt,onEditTask:s,scrollRef:ft,onScroll:ht("timeline")})]}),i&&X.jsx(VS,{task:i,onClose:()=>s(null),onSave:(et,w)=>{if(w){I(i.id),s(null);return}let j=!1;if(et.dependencies&&et.dependencies.forEach(ut=>{BC([...a],et.id,ut)&&(alert(`Circular dependency detected! Cannot depend on ${ut}`),j=!0)}),j)return;const Z=$v(et,a);Z&&new Date(et.startDate)<Z&&(alert("Start date adjusted to obey dependencies."),et.startDate=Z.toISOString());const tt=a.map(ut=>ut.id===et.id?et:ut),st=Jv(et,tt);t(st),$(st),s(null)}})]})}cS.createRoot(document.getElementById("root")).render(X.jsx(se.StrictMode,{children:X.jsx(qC,{})}));
