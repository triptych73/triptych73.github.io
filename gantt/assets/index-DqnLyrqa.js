(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var _d={exports:{}},cl={};var d_;function eS(){if(d_)return cl;d_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:c}}return cl.Fragment=t,cl.jsx=i,cl.jsxs=i,cl}var m_;function nS(){return m_||(m_=1,_d.exports=eS()),_d.exports}var Z=nS(),vd={exports:{}},bt={};var p_;function iS(){if(p_)return bt;p_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),V=Symbol.iterator;function H(N){return N===null||typeof N!="object"?null:(N=V&&N[V]||N["@@iterator"],typeof N=="function"?N:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,$={};function lt(N,Q,nt){this.props=N,this.context=Q,this.refs=$,this.updater=nt||W}lt.prototype.isReactComponent={},lt.prototype.setState=function(N,Q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Q,"setState")},lt.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function vt(){}vt.prototype=lt.prototype;function mt(N,Q,nt){this.props=N,this.context=Q,this.refs=$,this.updater=nt||W}var Pt=mt.prototype=new vt;Pt.constructor=mt,et(Pt,lt.prototype),Pt.isPureReactComponent=!0;var ct=Array.isArray;function ft(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function w(N,Q,nt){var at=nt.ref;return{$$typeof:a,type:N,key:Q,ref:at!==void 0?at:null,props:nt}}function M(N,Q){return w(N.type,Q,N.props)}function D(N){return typeof N=="object"&&N!==null&&N.$$typeof===a}function k(N){var Q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(nt){return Q[nt]})}var R=/\/+/g;function Ft(N,Q){return typeof N=="object"&&N!==null&&N.key!=null?k(""+N.key):Q.toString(36)}function it(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ft,ft):(N.status="pending",N.then(function(Q){N.status==="pending"&&(N.status="fulfilled",N.value=Q)},function(Q){N.status==="pending"&&(N.status="rejected",N.reason=Q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function U(N,Q,nt,at,Tt){var It=typeof N;(It==="undefined"||It==="boolean")&&(N=null);var zt=!1;if(N===null)zt=!0;else switch(It){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(N.$$typeof){case a:case t:zt=!0;break;case S:return zt=N._init,U(zt(N._payload),Q,nt,at,Tt)}}if(zt)return Tt=Tt(N),zt=at===""?"."+Ft(N,0):at,ct(Tt)?(nt="",zt!=null&&(nt=zt.replace(R,"$&/")+"/"),U(Tt,Q,nt,"",function(Wr){return Wr})):Tt!=null&&(D(Tt)&&(Tt=M(Tt,nt+(Tt.key==null||N&&N.key===Tt.key?"":(""+Tt.key).replace(R,"$&/")+"/")+zt)),Q.push(Tt)),1;zt=0;var Ie=at===""?".":at+":";if(ct(N))for(var re=0;re<N.length;re++)at=N[re],It=Ie+Ft(at,re),zt+=U(at,Q,nt,It,Tt);else if(re=H(N),typeof re=="function")for(N=re.call(N),re=0;!(at=N.next()).done;)at=at.value,It=Ie+Ft(at,re++),zt+=U(at,Q,nt,It,Tt);else if(It==="object"){if(typeof N.then=="function")return U(it(N),Q,nt,at,Tt);throw Q=String(N),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return zt}function X(N,Q,nt){if(N==null)return N;var at=[],Tt=0;return U(N,at,"","",function(It){return Q.call(nt,It,Tt++)}),at}function rt(N){if(N._status===-1){var Q=N._result;Q=Q(),Q.then(function(nt){(N._status===0||N._status===-1)&&(N._status=1,N._result=nt)},function(nt){(N._status===0||N._status===-1)&&(N._status=2,N._result=nt)}),N._status===-1&&(N._status=0,N._result=Q)}if(N._status===1)return N._result.default;throw N._result}var pt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},At={map:X,forEach:function(N,Q,nt){X(N,function(){Q.apply(this,arguments)},nt)},count:function(N){var Q=0;return X(N,function(){Q++}),Q},toArray:function(N){return X(N,function(Q){return Q})||[]},only:function(N){if(!D(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return bt.Activity=A,bt.Children=At,bt.Component=lt,bt.Fragment=i,bt.Profiler=l,bt.PureComponent=mt,bt.StrictMode=s,bt.Suspense=_,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,bt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return C.H.useMemoCache(N)}},bt.cache=function(N){return function(){return N.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(N,Q,nt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var at=et({},N.props),Tt=N.key;if(Q!=null)for(It in Q.key!==void 0&&(Tt=""+Q.key),Q)!b.call(Q,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&Q.ref===void 0||(at[It]=Q[It]);var It=arguments.length-2;if(It===1)at.children=nt;else if(1<It){for(var zt=Array(It),Ie=0;Ie<It;Ie++)zt[Ie]=arguments[Ie+2];at.children=zt}return w(N.type,Tt,at)},bt.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},bt.createElement=function(N,Q,nt){var at,Tt={},It=null;if(Q!=null)for(at in Q.key!==void 0&&(It=""+Q.key),Q)b.call(Q,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(Tt[at]=Q[at]);var zt=arguments.length-2;if(zt===1)Tt.children=nt;else if(1<zt){for(var Ie=Array(zt),re=0;re<zt;re++)Ie[re]=arguments[re+2];Tt.children=Ie}if(N&&N.defaultProps)for(at in zt=N.defaultProps,zt)Tt[at]===void 0&&(Tt[at]=zt[at]);return w(N,It,Tt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(N){return{$$typeof:g,render:N}},bt.isValidElement=D,bt.lazy=function(N){return{$$typeof:S,_payload:{_status:-1,_result:N},_init:rt}},bt.memo=function(N,Q){return{$$typeof:y,type:N,compare:Q===void 0?null:Q}},bt.startTransition=function(N){var Q=C.T,nt={};C.T=nt;try{var at=N(),Tt=C.S;Tt!==null&&Tt(nt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(ft,pt)}catch(It){pt(It)}finally{Q!==null&&nt.types!==null&&(Q.types=nt.types),C.T=Q}},bt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},bt.use=function(N){return C.H.use(N)},bt.useActionState=function(N,Q,nt){return C.H.useActionState(N,Q,nt)},bt.useCallback=function(N,Q){return C.H.useCallback(N,Q)},bt.useContext=function(N){return C.H.useContext(N)},bt.useDebugValue=function(){},bt.useDeferredValue=function(N,Q){return C.H.useDeferredValue(N,Q)},bt.useEffect=function(N,Q){return C.H.useEffect(N,Q)},bt.useEffectEvent=function(N){return C.H.useEffectEvent(N)},bt.useId=function(){return C.H.useId()},bt.useImperativeHandle=function(N,Q,nt){return C.H.useImperativeHandle(N,Q,nt)},bt.useInsertionEffect=function(N,Q){return C.H.useInsertionEffect(N,Q)},bt.useLayoutEffect=function(N,Q){return C.H.useLayoutEffect(N,Q)},bt.useMemo=function(N,Q){return C.H.useMemo(N,Q)},bt.useOptimistic=function(N,Q){return C.H.useOptimistic(N,Q)},bt.useReducer=function(N,Q,nt){return C.H.useReducer(N,Q,nt)},bt.useRef=function(N){return C.H.useRef(N)},bt.useState=function(N){return C.H.useState(N)},bt.useSyncExternalStore=function(N,Q,nt){return C.H.useSyncExternalStore(N,Q,nt)},bt.useTransition=function(){return C.H.useTransition()},bt.version="19.2.3",bt}var g_;function am(){return g_||(g_=1,vd.exports=iS()),vd.exports}var oe=am(),Ed={exports:{}},hl={},Td={exports:{}},Sd={};var y_;function rS(){return y_||(y_=1,(function(a){function t(U,X){var rt=U.length;U.push(X);t:for(;0<rt;){var pt=rt-1>>>1,At=U[pt];if(0<l(At,X))U[pt]=X,U[rt]=At,rt=pt;else break t}}function i(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var X=U[0],rt=U.pop();if(rt!==X){U[0]=rt;t:for(var pt=0,At=U.length,N=At>>>1;pt<N;){var Q=2*(pt+1)-1,nt=U[Q],at=Q+1,Tt=U[at];if(0>l(nt,rt))at<At&&0>l(Tt,nt)?(U[pt]=Tt,U[at]=rt,pt=at):(U[pt]=nt,U[Q]=rt,pt=Q);else if(at<At&&0>l(Tt,rt))U[pt]=Tt,U[at]=rt,pt=at;else break t}}return X}function l(U,X){var rt=U.sortIndex-X.sortIndex;return rt!==0?rt:U.id-X.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var _=[],y=[],S=1,A=null,V=3,H=!1,W=!1,et=!1,$=!1,lt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Pt(U){for(var X=i(y);X!==null;){if(X.callback===null)s(y);else if(X.startTime<=U)s(y),X.sortIndex=X.expirationTime,t(_,X);else break;X=i(y)}}function ct(U){if(et=!1,Pt(U),!W)if(i(_)!==null)W=!0,ft||(ft=!0,k());else{var X=i(y);X!==null&&it(ct,X.startTime-U)}}var ft=!1,C=-1,b=5,w=-1;function M(){return $?!0:!(a.unstable_now()-w<b)}function D(){if($=!1,ft){var U=a.unstable_now();w=U;var X=!0;try{t:{W=!1,et&&(et=!1,vt(C),C=-1),H=!0;var rt=V;try{e:{for(Pt(U),A=i(_);A!==null&&!(A.expirationTime>U&&M());){var pt=A.callback;if(typeof pt=="function"){A.callback=null,V=A.priorityLevel;var At=pt(A.expirationTime<=U);if(U=a.unstable_now(),typeof At=="function"){A.callback=At,Pt(U),X=!0;break e}A===i(_)&&s(_),Pt(U)}else s(_);A=i(_)}if(A!==null)X=!0;else{var N=i(y);N!==null&&it(ct,N.startTime-U),X=!1}}break t}finally{A=null,V=rt,H=!1}X=void 0}}finally{X?k():ft=!1}}}var k;if(typeof mt=="function")k=function(){mt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ft=R.port2;R.port1.onmessage=D,k=function(){Ft.postMessage(null)}}else k=function(){lt(D,0)};function it(U,X){C=lt(function(){U(a.unstable_now())},X)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(U){U.callback=null},a.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<U?Math.floor(1e3/U):5},a.unstable_getCurrentPriorityLevel=function(){return V},a.unstable_next=function(U){switch(V){case 1:case 2:case 3:var X=3;break;default:X=V}var rt=V;V=X;try{return U()}finally{V=rt}},a.unstable_requestPaint=function(){$=!0},a.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var rt=V;V=U;try{return X()}finally{V=rt}},a.unstable_scheduleCallback=function(U,X,rt){var pt=a.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?pt+rt:pt):rt=pt,U){case 1:var At=-1;break;case 2:At=250;break;case 5:At=1073741823;break;case 4:At=1e4;break;default:At=5e3}return At=rt+At,U={id:S++,callback:X,priorityLevel:U,startTime:rt,expirationTime:At,sortIndex:-1},rt>pt?(U.sortIndex=rt,t(y,U),i(_)===null&&U===i(y)&&(et?(vt(C),C=-1):et=!0,it(ct,rt-pt))):(U.sortIndex=At,t(_,U),W||H||(W=!0,ft||(ft=!0,k()))),U},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(U){var X=V;return function(){var rt=V;V=X;try{return U.apply(this,arguments)}finally{V=rt}}}})(Sd)),Sd}var __;function sS(){return __||(__=1,Td.exports=rS()),Td.exports}var Ad={exports:{}},Ye={};var v_;function aS(){if(v_)return Ye;v_=1;var a=am();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:y,implementation:S}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(_,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,S)},Ye.flushSync=function(_){var y=d.T,S=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=y,s.p=S,s.d.f()}},Ye.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(_,y))},Ye.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Ye.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var S=y.as,A=g(S,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?s.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:V,fetchPriority:H}):S==="script"&&s.d.X(_,{crossOrigin:A,integrity:V,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=g(y.as,y.crossOrigin);s.d.M(_,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(_)},Ye.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,A=g(S,y.crossOrigin);s.d.L(_,S,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(_,y){if(typeof _=="string")if(y){var S=g(y.as,y.crossOrigin);s.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(_)},Ye.requestFormReset=function(_){s.d.r(_)},Ye.unstable_batchedUpdates=function(_,y){return _(y)},Ye.useFormState=function(_,y,S){return d.H.useFormState(_,y,S)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var E_;function oS(){if(E_)return Ad.exports;E_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ad.exports=aS(),Ad.exports}var T_;function lS(){if(T_)return hl;T_=1;var a=sS(),t=am(),i=oS();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,o=f;break}if(E===o){p=!0,o=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=h;break}if(E===o){p=!0,o=f,r=h;break}E=E.sibling}if(!p)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Ft(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case lt:return"Profiler";case $:return"StrictMode";case ct:return"Suspense";case ft:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case mt:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case Pt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:Ft(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return Ft(e(n))}catch{}}return null}var it=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},pt=[],At=-1;function N(e){return{current:e}}function Q(e){0>At||(e.current=pt[At],pt[At]=null,At--)}function nt(e,n){At++,pt[At]=e.current,e.current=n}var at=N(null),Tt=N(null),It=N(null),zt=N(null);function Ie(e,n){switch(nt(It,n),nt(Tt,e),nt(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Uy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Uy(n),e=Ly(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(at),nt(at,e)}function re(){Q(at),Q(Tt),Q(It)}function Wr(e){e.memoizedState!==null&&nt(zt,e);var n=at.current,r=Ly(n,e.type);n!==r&&(nt(Tt,e),nt(at,r))}function Hs(e){Tt.current===e&&(Q(at),Q(Tt)),zt.current===e&&(Q(zt),al._currentValue=rt)}var Gs,Fs;function Zn(e){if(Gs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Gs=n&&n[1]||"",Fs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gs+e+Fs}var so=!1;function ts(e,n){if(!e||so)return"";so=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var G=`
`+I[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{so=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Zn(r):""}function ao(e,n){switch(e.tag){case 26:case 27:case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return e.child!==n&&n!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return ts(e.type,!1);case 11:return ts(e.type.render,!1);case 1:return ts(e.type,!0);case 31:return Zn("Activity");default:return""}}function oo(e){try{var n="",r=null;do n+=ao(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,De=a.unstable_scheduleCallback,er=a.unstable_cancelCallback,vh=a.unstable_shouldYield,Hl=a.unstable_requestPaint,$e=a.unstable_now,es=a.unstable_getCurrentPriorityLevel,lo=a.unstable_ImmediatePriority,uo=a.unstable_UserBlockingPriority,nr=a.unstable_NormalPriority,Eh=a.unstable_LowPriority,Gl=a.unstable_IdlePriority,Fl=a.log,Ql=a.unstable_setDisableYieldValue,kn=null,Pe=null;function vn(e){if(typeof Fl=="function"&&Ql(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(kn,e)}catch{}}var fe=Math.clz32?Math.clz32:Kl,Yl=Math.log,Qs=Math.LN2;function Kl(e){return e>>>=0,e===0?32:31-(Yl(e)/Qs|0)|0}var Jn=256,ns=262144,_e=4194304;function $n(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Wn(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=$n(o):(p&=E,p!==0?h=$n(p):r||(r=E&~e,r!==0&&(h=$n(r))))):(E=o&~f,E!==0?h=$n(E):p!==0?h=$n(p):r||(r=o&~e,r!==0&&(h=$n(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Un(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Th(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xl(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ti(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function is(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sh(e,n,r,o,h,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(r=p&~r;0<r;){var G=31-fe(r),Y=1<<G;E[G]=0,I[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}r&=~Y}o!==0&&rs(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function rs(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function co(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-fe(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function ho(e,n){var r=n&-n;return r=(r&42)!==0?1:ss(r),(r&(e.suspendedLanes|n))!==0?0:r}function ss(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ci(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zl(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:a_(e.type))}function Ln(e,n){var r=X.p;try{return X.p=e,n()}finally{X.p=r}}var Pn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Pn,Ve="__reactProps$"+Pn,ei="__reactContainer$"+Pn,Ys="__reactEvents$"+Pn,Ah="__reactListeners$"+Pn,Jl="__reactHandles$"+Pn,$l="__reactResources$"+Pn,ni="__reactMarker$"+Pn;function Ks(e){delete e[ve],delete e[Ve],delete e[Ys],delete e[Ah],delete e[Jl]}function ii(e){var n=e[ve];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ei]||r[ve]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Gy(e);e!==null;){if(r=e[ve])return r;e=Gy(e)}return n}e=r,r=e.parentNode}return null}function En(e){if(e=e[ve]||e[ei]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function cn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function ri(e){var n=e[$l];return n||(n=e[$l]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[ni]=!0}var fo=new Set,mo={};function si(e,n){ai(e,n),ai(e+"Capture",n)}function ai(e,n){for(mo[e]=n,e=0;e<n.length;e++)fo.add(n[e])}var po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),go={},yo={};function Wl(e){return ye.call(yo,e)?!0:ye.call(go,e)?!1:po.test(e)?yo[e]=!0:(go[e]=!0,!1)}function Xs(e,n,r){if(Wl(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function hn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Te(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ir(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _o(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yt(e){if(!e._valueTracker){var n=ir(e)?"checked":"value";e._valueTracker=_o(e,n,""+e[n])}}function as(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=ir(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var os=/[\n"\\]/g;function en(e){return e.replace(os,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Zs(e,n,r,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xe(n)):e.value!==""+xe(n)&&(e.value=""+xe(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?vo(e,p,xe(n)):r!=null?vo(e,p,xe(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+xe(E):e.removeAttribute("name")}function tu(e,n,r,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(e);return}r=r!=null?""+xe(r):"",n=n!=null?""+xe(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Yt(e)}function vo(e,n,r){n==="number"&&oi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function rr(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+xe(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function eu(e,n,r){if(n!=null&&(n=""+xe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+xe(r):""}function sr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(it(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=xe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Yt(e)}function nn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||nu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function To(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Eo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Eo(e,f,n[f])}function Js(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $s(e){return ar.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var So=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var or=null,li=null;function ls(e){var n=En(e);if(n&&(e=n.stateNode)){var r=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(Zs(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(s(90));Zs(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&as(o)}break t;case"textarea":eu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&rr(e,!!r.multiple,n,!1)}}}var Ws=!1;function lr(e,n,r){if(Ws)return e(n,r);Ws=!0;try{var o=e(n);return o}finally{if(Ws=!1,(or!==null||li!==null)&&(Zu(),or&&(n=or,e=li,li=or=null,ls(n),e)))for(n=0;n<e.length;n++)ls(e[n])}}function jn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ve]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),us=!1;if(Sn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){us=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{us=!1}var ui=null,Ao=null,cs=null;function bo(){if(cs)return cs;var e,n=Ao,r=n.length,o,h="value"in ui?ui.value:ui.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var p=r-e;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return cs=h.slice(e,1<o?1-o:void 0)}function hs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ii(){return!0}function Bn(){return!1}function ze(e){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ii:Bn,this.isPropagationStopped=Bn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=ze(Di),ur=A({},Di,{view:0,detail:0}),wo=ze(ur),cr,ta,hi,ea=A({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hi&&(hi&&e.type==="mousemove"?(cr=e.screenX-hi.screenX,ta=e.screenY-hi.screenY):ta=cr=0,hi=e),cr)},movementY:function(e){return"movementY"in e?e.movementY:ta}}),Ro=ze(ea),fs=A({},ea,{dataTransfer:0}),ru=ze(fs),su=A({},ur,{relatedTarget:0}),ds=ze(su),Co=A({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),au=ze(Co),na=A({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ou=ze(na),lu=A({},Di,{data:0}),fi=ze(lu),uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=hu[e])?!!n[e]:!1}function hr(){return fu}var We=A({},ur,{key:function(e){if(e.key){var n=uu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(e){return e.type==="keypress"?hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),du=ze(We),mu=A({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ni=ze(mu),u=A({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),m=ze(u),v=A({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),L=A({},ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(L),tt=A({},Di,{newState:0,oldState:0}),Rt=ze(tt),de=[9,13,27,32],Ht=Sn&&"CompositionEvent"in window,se=null;Sn&&"documentMode"in document&&(se=document.documentMode);var An=Sn&&"TextEvent"in window&&!se,di=Sn&&(!Ht||se&&8<se&&11>=se),qn=" ",Hn=!1;function ms(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ia(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ra=!1;function wT(e,n){switch(e){case"compositionend":return ia(n);case"keypress":return n.which!==32?null:(Hn=!0,qn);case"textInput":return e=n.data,e===qn&&Hn?null:e;default:return null}}function RT(e,n){if(ra)return e==="compositionend"||!Ht&&ms(e,n)?(e=bo(),cs=Ao=ui=null,ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return di&&n.locale!=="ko"?null:n.data;default:return null}}var CT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ym(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!CT[e.type]:n==="textarea"}function Km(e,n,r,o){or?li?li.push(o):li=[o]:or=o,n=ic(n,"onChange"),0<n.length&&(r=new ci("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Io=null,Do=null;function IT(e){Ny(e,0)}function pu(e){var n=cn(e);if(as(n))return e}function Xm(e,n){if(e==="change")return n}var Zm=!1;if(Sn){var bh;if(Sn){var wh="oninput"in document;if(!wh){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),wh=typeof Jm.oninput=="function"}bh=wh}else bh=!1;Zm=bh&&(!document.documentMode||9<document.documentMode)}function $m(){Io&&(Io.detachEvent("onpropertychange",Wm),Do=Io=null)}function Wm(e){if(e.propertyName==="value"&&pu(Do)){var n=[];Km(n,Do,e,Tn(e)),lr(IT,n)}}function DT(e,n,r){e==="focusin"?($m(),Io=n,Do=r,Io.attachEvent("onpropertychange",Wm)):e==="focusout"&&$m()}function NT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pu(Do)}function OT(e,n){if(e==="click")return pu(n)}function MT(e,n){if(e==="input"||e==="change")return pu(n)}function VT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:VT;function No(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!ye.call(n,h)||!fn(e[h],n[h]))return!1}return!0}function tp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ep(e,n){var r=tp(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=tp(r)}}function np(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?np(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ip(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=oi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=oi(e.document)}return n}function Rh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var xT=Sn&&"documentMode"in document&&11>=document.documentMode,sa=null,Ch=null,Oo=null,Ih=!1;function rp(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ih||sa==null||sa!==oi(o)||(o=sa,"selectionStart"in o&&Rh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Oo&&No(Oo,o)||(Oo=o,o=ic(Ch,"onSelect"),0<o.length&&(n=new ci("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=sa)))}function ps(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var aa={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},Dh={},sp={};Sn&&(sp=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function gs(e){if(Dh[e])return Dh[e];if(!aa[e])return e;var n=aa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in sp)return Dh[e]=n[r];return e}var ap=gs("animationend"),op=gs("animationiteration"),lp=gs("animationstart"),kT=gs("transitionrun"),UT=gs("transitionstart"),LT=gs("transitioncancel"),up=gs("transitionend"),cp=new Map,Nh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nh.push("scrollEnd");function Gn(e,n){cp.set(e,n),si(n,[e])}var gu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},bn=[],oa=0,Oh=0;function yu(){for(var e=oa,n=Oh=oa=0;n<e;){var r=bn[n];bn[n++]=null;var o=bn[n];bn[n++]=null;var h=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&hp(r,h,f)}}function _u(e,n,r,o){bn[oa++]=e,bn[oa++]=n,bn[oa++]=r,bn[oa++]=o,Oh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Mh(e,n,r,o){return _u(e,n,r,o),vu(e)}function ys(e,n){return _u(e,null,null,n),vu(e)}function hp(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function vu(e){if(50<Wo)throw Wo=0,qf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var la={};function PT(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,r,o){return new PT(e,n,r,o)}function Vh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oi(e,n){var r=e.alternate;return r===null?(r=dn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function fp(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Eu(e,n,r,o,h,f){var p=0;if(o=e,typeof e=="function")Vh(e)&&(p=1);else if(typeof e=="string")p=H1(e,r,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=dn(31,r,n,h),e.elementType=w,e.lanes=f,e;case et:return _s(r.children,h,f,n);case $:p=8,h|=24;break;case lt:return e=dn(12,r,n,h|2),e.elementType=lt,e.lanes=f,e;case ct:return e=dn(13,r,n,h),e.elementType=ct,e.lanes=f,e;case ft:return e=dn(19,r,n,h),e.elementType=ft,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:p=10;break t;case vt:p=9;break t;case Pt:p=11;break t;case C:p=14;break t;case b:p=16,o=null;break t}p=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=dn(p,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function _s(e,n,r,o){return e=dn(7,e,o,n),e.lanes=r,e}function xh(e,n,r){return e=dn(6,e,null,n),e.lanes=r,e}function dp(e){var n=dn(18,null,null,0);return n.stateNode=e,n}function kh(e,n,r){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var mp=new WeakMap;function wn(e,n){if(typeof e=="object"&&e!==null){var r=mp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:oo(n)},mp.set(e,n),n)}return{value:e,source:n,stack:oo(n)}}var ua=[],ca=0,Tu=null,Mo=0,Rn=[],Cn=0,fr=null,mi=1,pi="";function Mi(e,n){ua[ca++]=Mo,ua[ca++]=Tu,Tu=e,Mo=n}function pp(e,n,r){Rn[Cn++]=mi,Rn[Cn++]=pi,Rn[Cn++]=fr,fr=e;var o=mi;e=pi;var h=32-fe(o)-1;o&=~(1<<h),r+=1;var f=32-fe(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,mi=1<<32-fe(n)+h|r<<h|o,pi=f+e}else mi=1<<f|r<<h|o,pi=e}function Uh(e){e.return!==null&&(Mi(e,1),pp(e,1,0))}function Lh(e){for(;e===Tu;)Tu=ua[--ca],ua[ca]=null,Mo=ua[--ca],ua[ca]=null;for(;e===fr;)fr=Rn[--Cn],Rn[Cn]=null,pi=Rn[--Cn],Rn[Cn]=null,mi=Rn[--Cn],Rn[Cn]=null}function gp(e,n){Rn[Cn++]=mi,Rn[Cn++]=pi,Rn[Cn++]=fr,mi=n.id,pi=n.overflow,fr=e}var je=null,ee=null,Lt=!1,dr=null,In=!1,Ph=Error(s(519));function mr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vo(wn(n,e)),Ph}function yp(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ve]=e,n[Ve]=o,r){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(r=0;r<el.length;r++)Ot(el[r],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),tu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),sr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||xy(n.textContent,r)?(o.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),o.onScroll!=null&&Ot("scroll",n),o.onScrollEnd!=null&&Ot("scrollend",n),o.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||mr(e,!0)}function _p(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:je=je.return}}function ha(e){if(e!==je)return!1;if(!Lt)return _p(e),Lt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||id(e.type,e.memoizedProps)),r=!r),r&&ee&&mr(e),_p(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ee=Hy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ee=Hy(e)}else n===27?(n=ee,Ir(e.type)?(e=ld,ld=null,ee=e):ee=n):ee=je?Nn(e.stateNode.nextSibling):null;return!0}function vs(){ee=je=null,Lt=!1}function zh(){var e=dr;return e!==null&&(on===null?on=e:on.push.apply(on,e),dr=null),e}function Vo(e){dr===null?dr=[e]:dr.push(e)}var jh=N(null),Es=null,Vi=null;function pr(e,n,r){nt(jh,n._currentValue),n._currentValue=r}function xi(e){e._currentValue=jh.current,Q(jh)}function Bh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function qh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Bh(f.return,r,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(s(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Bh(p,r,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function fa(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var E=h.type;fn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===zt.current){if(p=h.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}h=h.return}e!==null&&qh(n,e,r,o),n.flags|=262144}function Su(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ts(e){Es=e,Vi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return vp(Es,e)}function Au(e,n){return Es===null&&Ts(e),vp(e,n)}function vp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Vi===null){if(e===null)throw Error(s(308));Vi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Vi=Vi.next=n;return r}var zT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},jT=a.unstable_scheduleCallback,BT=a.unstable_NormalPriority,Se={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hh(){return{controller:new zT,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&jT(BT,function(){e.controller.abort()})}var ko=null,Gh=0,da=0,ma=null;function qT(e,n){if(ko===null){var r=ko=[];Gh=0,da=Kf(),ma={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Gh++,n.then(Ep,Ep),n}function Ep(){if(--Gh===0&&ko!==null){ma!==null&&(ma.status="fulfilled");var e=ko;ko=null,da=0,ma=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function HT(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Tp=U.S;U.S=function(e,n){ry=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&qT(e,n),Tp!==null&&Tp(e,n)};var Ss=N(null);function Fh(){var e=Ss.current;return e!==null?e:te.pooledCache}function bu(e,n){n===null?nt(Ss,Ss.current):nt(Ss,n.pool)}function Sp(){var e=Fh();return e===null?null:{parent:Se._currentValue,pool:e}}var pa=Error(s(460)),Qh=Error(s(474)),wu=Error(s(542)),Ru={then:function(){}};function Ap(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(zn,zn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Rp(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Rp(e),e}throw bs=n,pa}}function As(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(bs=r,pa):r}}var bs=null;function wp(){if(bs===null)throw Error(s(459));var e=bs;return bs=null,e}function Rp(e){if(e===pa||e===wu)throw Error(s(483))}var ga=null,Uo=0;function Cu(e){var n=Uo;return Uo+=1,ga===null&&(ga=[]),bp(ga,e,n)}function Lo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Iu(e,n){throw n.$$typeof===V?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Cp(e){function n(x,O){if(e){var P=x.deletions;P===null?(x.deletions=[O],x.flags|=16):P.push(O)}}function r(x,O){if(!e)return null;for(;O!==null;)n(x,O),O=O.sibling;return null}function o(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function h(x,O){return x=Oi(x,O),x.index=0,x.sibling=null,x}function f(x,O,P){return x.index=P,e?(P=x.alternate,P!==null?(P=P.index,P<O?(x.flags|=67108866,O):P):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function p(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,O,P,F){return O===null||O.tag!==6?(O=xh(P,x.mode,F),O.return=x,O):(O=h(O,P),O.return=x,O)}function I(x,O,P,F){var dt=P.type;return dt===et?G(x,O,P.props.children,F,P.key):O!==null&&(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&As(dt)===O.type)?(O=h(O,P.props),Lo(O,P),O.return=x,O):(O=Eu(P.type,P.key,P.props,null,x.mode,F),Lo(O,P),O.return=x,O)}function z(x,O,P,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=kh(P,x.mode,F),O.return=x,O):(O=h(O,P.children||[]),O.return=x,O)}function G(x,O,P,F,dt){return O===null||O.tag!==7?(O=_s(P,x.mode,F,dt),O.return=x,O):(O=h(O,P),O.return=x,O)}function Y(x,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=xh(""+O,x.mode,P),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case H:return P=Eu(O.type,O.key,O.props,null,x.mode,P),Lo(P,O),P.return=x,P;case W:return O=kh(O,x.mode,P),O.return=x,O;case b:return O=As(O),Y(x,O,P)}if(it(O)||k(O))return O=_s(O,x.mode,P,null),O.return=x,O;if(typeof O.then=="function")return Y(x,Cu(O),P);if(O.$$typeof===mt)return Y(x,Au(x,O),P);Iu(x,O)}return null}function j(x,O,P,F){var dt=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return dt!==null?null:E(x,O,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===dt?I(x,O,P,F):null;case W:return P.key===dt?z(x,O,P,F):null;case b:return P=As(P),j(x,O,P,F)}if(it(P)||k(P))return dt!==null?null:G(x,O,P,F,null);if(typeof P.then=="function")return j(x,O,Cu(P),F);if(P.$$typeof===mt)return j(x,O,Au(x,P),F);Iu(x,P)}return null}function q(x,O,P,F,dt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(P)||null,E(O,x,""+F,dt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case H:return x=x.get(F.key===null?P:F.key)||null,I(O,x,F,dt);case W:return x=x.get(F.key===null?P:F.key)||null,z(O,x,F,dt);case b:return F=As(F),q(x,O,P,F,dt)}if(it(F)||k(F))return x=x.get(P)||null,G(O,x,F,dt,null);if(typeof F.then=="function")return q(x,O,P,Cu(F),dt);if(F.$$typeof===mt)return q(x,O,P,Au(O,F),dt);Iu(O,F)}return null}function ot(x,O,P,F){for(var dt=null,Bt=null,ut=O,Dt=O=0,Vt=null;ut!==null&&Dt<P.length;Dt++){ut.index>Dt?(Vt=ut,ut=null):Vt=ut.sibling;var qt=j(x,ut,P[Dt],F);if(qt===null){ut===null&&(ut=Vt);break}e&&ut&&qt.alternate===null&&n(x,ut),O=f(qt,O,Dt),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt,ut=Vt}if(Dt===P.length)return r(x,ut),Lt&&Mi(x,Dt),dt;if(ut===null){for(;Dt<P.length;Dt++)ut=Y(x,P[Dt],F),ut!==null&&(O=f(ut,O,Dt),Bt===null?dt=ut:Bt.sibling=ut,Bt=ut);return Lt&&Mi(x,Dt),dt}for(ut=o(ut);Dt<P.length;Dt++)Vt=q(ut,x,Dt,P[Dt],F),Vt!==null&&(e&&Vt.alternate!==null&&ut.delete(Vt.key===null?Dt:Vt.key),O=f(Vt,O,Dt),Bt===null?dt=Vt:Bt.sibling=Vt,Bt=Vt);return e&&ut.forEach(function(Vr){return n(x,Vr)}),Lt&&Mi(x,Dt),dt}function yt(x,O,P,F){if(P==null)throw Error(s(151));for(var dt=null,Bt=null,ut=O,Dt=O=0,Vt=null,qt=P.next();ut!==null&&!qt.done;Dt++,qt=P.next()){ut.index>Dt?(Vt=ut,ut=null):Vt=ut.sibling;var Vr=j(x,ut,qt.value,F);if(Vr===null){ut===null&&(ut=Vt);break}e&&ut&&Vr.alternate===null&&n(x,ut),O=f(Vr,O,Dt),Bt===null?dt=Vr:Bt.sibling=Vr,Bt=Vr,ut=Vt}if(qt.done)return r(x,ut),Lt&&Mi(x,Dt),dt;if(ut===null){for(;!qt.done;Dt++,qt=P.next())qt=Y(x,qt.value,F),qt!==null&&(O=f(qt,O,Dt),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt);return Lt&&Mi(x,Dt),dt}for(ut=o(ut);!qt.done;Dt++,qt=P.next())qt=q(ut,x,Dt,qt.value,F),qt!==null&&(e&&qt.alternate!==null&&ut.delete(qt.key===null?Dt:qt.key),O=f(qt,O,Dt),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt);return e&&ut.forEach(function(tS){return n(x,tS)}),Lt&&Mi(x,Dt),dt}function Wt(x,O,P,F){if(typeof P=="object"&&P!==null&&P.type===et&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var dt=P.key;O!==null;){if(O.key===dt){if(dt=P.type,dt===et){if(O.tag===7){r(x,O.sibling),F=h(O,P.props.children),F.return=x,x=F;break t}}else if(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&As(dt)===O.type){r(x,O.sibling),F=h(O,P.props),Lo(F,P),F.return=x,x=F;break t}r(x,O);break}else n(x,O);O=O.sibling}P.type===et?(F=_s(P.props.children,x.mode,F,P.key),F.return=x,x=F):(F=Eu(P.type,P.key,P.props,null,x.mode,F),Lo(F,P),F.return=x,x=F)}return p(x);case W:t:{for(dt=P.key;O!==null;){if(O.key===dt)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){r(x,O.sibling),F=h(O,P.children||[]),F.return=x,x=F;break t}else{r(x,O);break}else n(x,O);O=O.sibling}F=kh(P,x.mode,F),F.return=x,x=F}return p(x);case b:return P=As(P),Wt(x,O,P,F)}if(it(P))return ot(x,O,P,F);if(k(P)){if(dt=k(P),typeof dt!="function")throw Error(s(150));return P=dt.call(P),yt(x,O,P,F)}if(typeof P.then=="function")return Wt(x,O,Cu(P),F);if(P.$$typeof===mt)return Wt(x,O,Au(x,P),F);Iu(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(r(x,O.sibling),F=h(O,P),F.return=x,x=F):(r(x,O),F=xh(P,x.mode,F),F.return=x,x=F),p(x)):r(x,O)}return function(x,O,P,F){try{Uo=0;var dt=Wt(x,O,P,F);return ga=null,dt}catch(ut){if(ut===pa||ut===wu)throw ut;var Bt=dn(29,ut,null,x.mode);return Bt.lanes=F,Bt.return=x,Bt}}}var ws=Cp(!0),Ip=Cp(!1),gr=!1;function Yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function yr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _r(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=vu(e),hp(e,null,r),n}return _u(e,o,n,r),vu(e)}function Po(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,co(e,r)}}function Xh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Zh=!1;function zo(){if(Zh){var e=ma;if(e!==null)throw e}}function jo(e,n,r,o){Zh=!1;var h=e.updateQueue;gr=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,p===null?f=z:p.next=z,p=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=I))}if(f!==null){var Y=h.baseState;p=0,G=z=I=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Mt&j)===j:(o&j)===j){j!==0&&j===da&&(Zh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,yt=E;j=n;var Wt=r;switch(yt.tag){case 1:if(ot=yt.payload,typeof ot=="function"){Y=ot.call(Wt,Y,j);break t}Y=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=yt.payload,j=typeof ot=="function"?ot.call(Wt,Y,j):ot,j==null)break t;Y=A({},Y,j);break t;case 2:gr=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,I=Y):G=G.next=q,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(I=Y),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ar|=p,e.lanes=p,e.memoizedState=Y}}function Dp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Np(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Dp(r[e],n)}var ya=N(null),Du=N(0);function Op(e,n){e=Hi,nt(Du,e),nt(ya,n),Hi=e|n.baseLanes}function Jh(){nt(Du,Hi),nt(ya,ya.current)}function $h(){Hi=Du.current,Q(ya),Q(Du)}var mn=N(null),Dn=null;function vr(e){var n=e.alternate;nt(me,me.current&1),nt(mn,e),Dn===null&&(n===null||ya.current!==null||n.memoizedState!==null)&&(Dn=e)}function Wh(e){nt(me,me.current),nt(mn,e),Dn===null&&(Dn=e)}function Mp(e){e.tag===22?(nt(me,me.current),nt(mn,e),Dn===null&&(Dn=e)):Er()}function Er(){nt(me,me.current),nt(mn,mn.current)}function pn(e){Q(mn),Dn===e&&(Dn=null),Q(me)}var me=N(0);function Nu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ad(r)||od(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ki=0,Ct=null,Jt=null,Ae=null,Ou=!1,_a=!1,Rs=!1,Mu=0,Bo=0,va=null,GT=0;function ce(){throw Error(s(321))}function tf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!fn(e[r],n[r]))return!1;return!0}function ef(e,n,r,o,h,f){return ki=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=e===null||e.memoizedState===null?pg:yf,Rs=!1,f=r(o,h),Rs=!1,_a&&(f=xp(n,r,o,h)),Vp(e),f}function Vp(e){U.H=Go;var n=Jt!==null&&Jt.next!==null;if(ki=0,Ae=Jt=Ct=null,Ou=!1,Bo=0,va=null,n)throw Error(s(300));e===null||be||(e=e.dependencies,e!==null&&Su(e)&&(be=!0))}function xp(e,n,r,o){Ct=e;var h=0;do{if(_a&&(va=null),Bo=0,_a=!1,25<=h)throw Error(s(301));if(h+=1,Ae=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=gg,f=n(r,o)}while(_a);return f}function FT(){var e=U.H,n=e.useState()[0];return n=typeof n.then=="function"?qo(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Ct.flags|=1024),n}function nf(){var e=Mu!==0;return Mu=0,e}function rf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function sf(e){if(Ou){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ou=!1}ki=0,Ae=Jt=Ct=null,_a=!1,Bo=Mu=0,va=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Ct.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function pe(){if(Jt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Ae===null?Ct.memoizedState:Ae.next;if(n!==null)Ae=n,Jt=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ae===null?Ct.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(e){var n=Bo;return Bo+=1,va===null&&(va=[]),e=bp(va,e,n),n=Ct,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?pg:yf),e}function xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qo(e);if(e.$$typeof===mt)return Be(e)}throw Error(s(438,String(e)))}function af(e){var n=null,r=Ct.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Vu(),Ct.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=M;return n.index++,r}function Ui(e,n){return typeof n=="function"?n(e):n}function ku(e){var n=pe();return of(n,Jt,e)}function of(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,I=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Mt&Y)===Y:(ki&Y)===Y){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===da&&(G=!0);else if((ki&j)===j){z=z.next,j===da&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=Y,p=f):I=I.next=Y,Ct.lanes|=j,Ar|=j;Y=z.action,Rs&&r(f,Y),f=z.hasEagerState?z.eagerState:r(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,p=f):I=I.next=j,Ct.lanes|=Y,Ar|=Y;z=z.next}while(z!==null&&z!==n);if(I===null?p=f:I.next=E,!fn(f,e.memoizedState)&&(be=!0,G&&(r=ma,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function lf(e){var n=pe(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);fn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function kp(e,n,r){var o=Ct,h=pe(),f=Lt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var p=!fn((Jt||h).memoizedState,r);if(p&&(h.memoizedState=r,be=!0),h=h.queue,hf(Pp.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Ea(9,{destroy:void 0},Lp.bind(null,o,h,r,n),null),te===null)throw Error(s(349));f||(ki&127)!==0||Up(o,n,r)}return r}function Up(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Ct.updateQueue,n===null?(n=Vu(),Ct.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Lp(e,n,r,o){n.value=r,n.getSnapshot=o,zp(n)&&jp(e)}function Pp(e,n,r){return r(function(){zp(n)&&jp(e)})}function zp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!fn(e,r)}catch{return!0}}function jp(e){var n=ys(e,2);n!==null&&ln(n,e,2)}function uf(e){var n=tn();if(typeof e=="function"){var r=e;if(e=r(),Rs){vn(!0);try{r()}finally{vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},n}function Bp(e,n,r,o){return e.baseState=r,of(e,Jt,typeof o=="function"?o:Ui)}function QT(e,n,r,o,h){if(Pu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};U.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,qp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function qp(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=U.T,p={};U.T=p;try{var E=r(h,o),I=U.S;I!==null&&I(p,E),Hp(e,n,E)}catch(z){cf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),U.T=f}}else try{f=r(h,o),Hp(e,n,f)}catch(z){cf(e,n,z)}}function Hp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Gp(e,n,o)},function(o){return cf(e,n,o)}):Gp(e,n,r)}function Gp(e,n,r){n.status="fulfilled",n.value=r,Fp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,qp(e,r)))}function cf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Fp(n),n=n.next;while(n!==o)}e.action=null}function Fp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Qp(e,n){return n}function Yp(e,n){if(Lt){var r=te.formState;if(r!==null){t:{var o=Ct;if(Lt){if(ee){e:{for(var h=ee,f=In;h.nodeType!==8;){if(!f){h=null;break e}if(h=Nn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=Nn(h.nextSibling),o=h.data==="F!";break t}}mr(o)}o=!1}o&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qp,lastRenderedState:n},r.queue=o,r=fg.bind(null,Ct,o),o.dispatch=r,o=uf(!1),f=gf.bind(null,Ct,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=QT.bind(null,Ct,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function Kp(e){var n=pe();return Xp(n,Jt,e)}function Xp(e,n,r){if(n=of(e,n,Qp)[0],e=ku(Ui)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=qo(n)}catch(p){throw p===pa?wu:p}else o=n;n=pe();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ct.flags|=2048,Ea(9,{destroy:void 0},YT.bind(null,h,r),null)),[o,f,e]}function YT(e,n){e.action=n}function Zp(e){var n=pe(),r=Jt;if(r!==null)return Xp(n,r,e);pe(),n=n.memoizedState,r=pe();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ea(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Vu(),Ct.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Jp(){return pe().memoizedState}function Uu(e,n,r,o){var h=tn();Ct.flags|=e,h.memoizedState=Ea(1|n,{destroy:void 0},r,o===void 0?null:o)}function Lu(e,n,r,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&tf(o,Jt.memoizedState.deps)?h.memoizedState=Ea(n,f,r,o):(Ct.flags|=e,h.memoizedState=Ea(1|n,f,r,o))}function $p(e,n){Uu(8390656,8,e,n)}function hf(e,n){Lu(2048,8,e,n)}function KT(e){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=Vu(),Ct.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Wp(e){var n=pe().memoizedState;return KT({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function tg(e,n){return Lu(4,2,e,n)}function eg(e,n){return Lu(4,4,e,n)}function ng(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ig(e,n,r){r=r!=null?r.concat([e]):null,Lu(4,4,ng.bind(null,n,e),r)}function ff(){}function rg(e,n){var r=pe();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&tf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function sg(e,n){var r=pe();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&tf(n,o[1]))return o[0];if(o=e(),Rs){vn(!0);try{e()}finally{vn(!1)}}return r.memoizedState=[o,n],o}function df(e,n,r){return r===void 0||(ki&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=ay(),Ct.lanes|=e,Ar|=e,r)}function ag(e,n,r,o){return fn(r,n)?r:ya.current!==null?(e=df(e,r,o),fn(e,n)||(be=!0),e):(ki&42)===0||(ki&1073741824)!==0&&(Mt&261930)===0?(be=!0,e.memoizedState=r):(e=ay(),Ct.lanes|=e,Ar|=e,n)}function og(e,n,r,o,h){var f=X.p;X.p=f!==0&&8>f?f:8;var p=U.T,E={};U.T=E,gf(e,!1,n,r);try{var I=h(),z=U.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=HT(I,o);Ho(e,n,G,_n(e))}else Ho(e,n,o,_n(e))}catch(Y){Ho(e,n,{then:function(){},status:"rejected",reason:Y},_n())}finally{X.p=f,p!==null&&E.types!==null&&(p.types=E.types),U.T=p}}function XT(){}function mf(e,n,r,o){if(e.tag!==5)throw Error(s(476));var h=lg(e).queue;og(e,h,n,rt,r===null?XT:function(){return ug(e),r(o)})}function lg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:rt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function ug(e){var n=lg(e);n.next===null&&(n=e.alternate.memoizedState),Ho(e,n.next.queue,{},_n())}function pf(){return Be(al)}function cg(){return pe().memoizedState}function hg(){return pe().memoizedState}function ZT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=_n();e=yr(r);var o=_r(n,e,r);o!==null&&(ln(o,n,r),Po(o,n,r)),n={cache:Hh()},e.payload=n;return}n=n.return}}function JT(e,n,r){var o=_n();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Pu(e)?dg(n,r):(r=Mh(e,n,r,o),r!==null&&(ln(r,e,o),mg(r,n,o)))}function fg(e,n,r){var o=_n();Ho(e,n,r,o)}function Ho(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Pu(e))dg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,fn(E,p))return _u(e,n,h,0),te===null&&yu(),!1}catch{}if(r=Mh(e,n,h,o),r!==null)return ln(r,e,o),mg(r,n,o),!0}return!1}function gf(e,n,r,o){if(o={lane:2,revertLane:Kf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Pu(e)){if(n)throw Error(s(479))}else n=Mh(e,r,o,2),n!==null&&ln(n,e,2)}function Pu(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function dg(e,n){_a=Ou=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function mg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,co(e,r)}}var Go={readContext:Be,use:xu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Go.useEffectEvent=ce;var pg={readContext:Be,use:xu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:$p,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Uu(4194308,4,ng.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Uu(4194308,4,e,n)},useInsertionEffect:function(e,n){Uu(4,2,e,n)},useMemo:function(e,n){var r=tn();n=n===void 0?null:n;var o=e();if(Rs){vn(!0);try{e()}finally{vn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=tn();if(r!==void 0){var h=r(n);if(Rs){vn(!0);try{r(n)}finally{vn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=JT.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=uf(e);var n=e.queue,r=fg.bind(null,Ct,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:ff,useDeferredValue:function(e,n){var r=tn();return df(r,e,n)},useTransition:function(){var e=uf(!1);return e=og.bind(null,Ct,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Ct,h=tn();if(Lt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),te===null)throw Error(s(349));(Mt&127)!==0||Up(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,$p(Pp.bind(null,o,f,e),[e]),o.flags|=2048,Ea(9,{destroy:void 0},Lp.bind(null,o,f,r,n),null),r},useId:function(){var e=tn(),n=te.identifierPrefix;if(Lt){var r=pi,o=mi;r=(o&~(1<<32-fe(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Mu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=GT++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:pf,useFormState:Yp,useActionState:Yp,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=gf.bind(null,Ct,!0,r),r.dispatch=n,[e,n]},useMemoCache:af,useCacheRefresh:function(){return tn().memoizedState=ZT.bind(null,Ct)},useEffectEvent:function(e){var n=tn(),r={impl:e};return n.memoizedState=r,function(){if((Gt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},yf={readContext:Be,use:xu,useCallback:rg,useContext:Be,useEffect:hf,useImperativeHandle:ig,useInsertionEffect:tg,useLayoutEffect:eg,useMemo:sg,useReducer:ku,useRef:Jp,useState:function(){return ku(Ui)},useDebugValue:ff,useDeferredValue:function(e,n){var r=pe();return ag(r,Jt.memoizedState,e,n)},useTransition:function(){var e=ku(Ui)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:kp,useId:cg,useHostTransitionStatus:pf,useFormState:Kp,useActionState:Kp,useOptimistic:function(e,n){var r=pe();return Bp(r,Jt,e,n)},useMemoCache:af,useCacheRefresh:hg};yf.useEffectEvent=Wp;var gg={readContext:Be,use:xu,useCallback:rg,useContext:Be,useEffect:hf,useImperativeHandle:ig,useInsertionEffect:tg,useLayoutEffect:eg,useMemo:sg,useReducer:lf,useRef:Jp,useState:function(){return lf(Ui)},useDebugValue:ff,useDeferredValue:function(e,n){var r=pe();return Jt===null?df(r,e,n):ag(r,Jt.memoizedState,e,n)},useTransition:function(){var e=lf(Ui)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:kp,useId:cg,useHostTransitionStatus:pf,useFormState:Zp,useActionState:Zp,useOptimistic:function(e,n){var r=pe();return Jt!==null?Bp(r,Jt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:af,useCacheRefresh:hg};gg.useEffectEvent=Wp;function _f(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var vf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=_n(),h=yr(o);h.payload=n,r!=null&&(h.callback=r),n=_r(e,h,o),n!==null&&(ln(n,e,o),Po(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=_n(),h=yr(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=_r(e,h,o),n!==null&&(ln(n,e,o),Po(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=_n(),o=yr(r);o.tag=2,n!=null&&(o.callback=n),n=_r(e,o,r),n!==null&&(ln(n,e,r),Po(n,e,r))}};function yg(e,n,r,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!No(r,o)||!No(h,f):!0}function _g(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&vf.enqueueReplaceState(n,n.state,null)}function Cs(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function vg(e){gu(e)}function Eg(e){console.error(e)}function Tg(e){gu(e)}function zu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Sg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ef(e,n,r){return r=yr(r),r.tag=3,r.payload={element:null},r.callback=function(){zu(e,n)},r}function Ag(e){return e=yr(e),e.tag=3,e}function bg(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Sg(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Sg(n,r,o),typeof h!="function"&&(br===null?br=new Set([this]):br.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function $T(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&fa(n,r,h,!0),r=mn.current,r!==null){switch(r.tag){case 31:case 13:return Dn===null?Ju():r.alternate===null&&he===0&&(he=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Ru?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Ff(e,o,h)),!1;case 22:return r.flags|=65536,o===Ru?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Ff(e,o,h)),!1}throw Error(s(435,r.tag))}return Ff(e,o,h),Ju(),!1}if(Lt)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Ph&&(e=Error(s(422),{cause:o}),Vo(wn(e,r)))):(o!==Ph&&(n=Error(s(423),{cause:o}),Vo(wn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=wn(o,r),h=Ef(e.stateNode,o,h),Xh(e,h),he!==4&&(he=2)),!1;var f=Error(s(520),{cause:o});if(f=wn(f,r),$o===null?$o=[f]:$o.push(f),he!==4&&(he=2),n===null)return!0;o=wn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Ef(r.stateNode,o,e),Xh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(br===null||!br.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Ag(h),bg(h,e,r,o),Xh(r,h),!1}r=r.return}while(r!==null);return!1}var Tf=Error(s(461)),be=!1;function qe(e,n,r,o){n.child=e===null?Ip(n,null,r,o):ws(n,e.child,r,o)}function wg(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Ts(n),o=ef(e,n,r,p,f,h),E=nf(),e!==null&&!be?(rf(e,n,h),Li(e,n,h)):(Lt&&E&&Uh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Rg(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Vh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Cg(e,n,f,o,h)):(e=Eu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Df(e,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:No,r(p,o)&&e.ref===n.ref)return Li(e,n,h)}return n.flags|=1,e=Oi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Cg(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(No(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,Df(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,Li(e,n,h)}return Sf(e,n,r,o,h)}function Ig(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Dg(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&bu(n,f!==null?f.cachePool:null),f!==null?Op(n,f):Jh(),Mp(n);else return o=n.lanes=536870912,Dg(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(bu(n,f.cachePool),Op(n,f),Er(),n.memoizedState=null):(e!==null&&bu(n,null),Jh(),Er());return qe(e,n,h,r),n.child}function Fo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Dg(e,n,r,o,h){var f=Fh();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&bu(n,null),Jh(),Mp(n),e!==null&&fa(e,n,o,!0),n.childLanes=h,null}function ju(e,n){return n=qu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ng(e,n,r){return ws(n,e.child,null,r),e=ju(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function WT(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(o.mode==="hidden")return e=ju(n,o),n.lanes=536870912,Fo(null,e);if(Wh(n),(e=ee)?(e=qy(e,In),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fr!==null?{id:mi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},r=dp(e),r.return=n,n.child=r,je=n,ee=null)):e=null,e===null)throw mr(n);return n.lanes=536870912,null}return ju(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(Wh(n),h)if(n.flags&256)n.flags&=-257,n=Ng(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(be||fa(e,n,r,!1),h=(r&e.childLanes)!==0,be||h){if(o=te,o!==null&&(p=ho(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,ys(e,p),ln(o,e,p),Tf;Ju(),n=Ng(e,n,r)}else e=f.treeContext,ee=Nn(p.nextSibling),je=n,Lt=!0,dr=null,In=!1,e!==null&&gp(n,e),n=ju(n,o),n.flags|=4096;return n}return e=Oi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Bu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Sf(e,n,r,o,h){return Ts(n),r=ef(e,n,r,o,void 0,h),o=nf(),e!==null&&!be?(rf(e,n,h),Li(e,n,h)):(Lt&&o&&Uh(n),n.flags|=1,qe(e,n,r,h),n.child)}function Og(e,n,r,o,h,f){return Ts(n),n.updateQueue=null,r=xp(n,o,r,h),Vp(e),o=nf(),e!==null&&!be?(rf(e,n,f),Li(e,n,f)):(Lt&&o&&Uh(n),n.flags|=1,qe(e,n,r,f),n.child)}function Mg(e,n,r,o,h){if(Ts(n),n.stateNode===null){var f=la,p=r.contextType;typeof p=="object"&&p!==null&&(f=Be(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Yh(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Be(p):la,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(_f(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&vf.enqueueReplaceState(f,f.state,null),jo(n,o,f,h),zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Cs(r,E);f.props=I;var z=f.context,G=r.contextType;p=la,typeof G=="object"&&G!==null&&(p=Be(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&_g(n,f,o,p),gr=!1;var j=n.memoizedState;f.state=j,jo(n,o,f,h),zo(),z=n.memoizedState,E||j!==z||gr?(typeof Y=="function"&&(_f(n,r,Y,o),z=n.memoizedState),(I=gr||yg(n,r,I,o,j,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Kh(e,n),p=n.memoizedProps,G=Cs(r,p),f.props=G,Y=n.pendingProps,j=f.context,z=r.contextType,I=la,typeof z=="object"&&z!==null&&(I=Be(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||j!==I)&&_g(n,f,o,I),gr=!1,j=n.memoizedState,f.state=j,jo(n,o,f,h),zo();var q=n.memoizedState;p!==Y||j!==q||gr||e!==null&&e.dependencies!==null&&Su(e.dependencies)?(typeof E=="function"&&(_f(n,r,E,o),q=n.memoizedState),(G=gr||yg(n,r,G,o,j,q,I)||e!==null&&e.dependencies!==null&&Su(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Bu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ws(n,e.child,null,h),n.child=ws(n,null,r,h)):qe(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Li(e,n,h),e}function Vg(e,n,r,o){return vs(),n.flags|=256,qe(e,n,r,o),n.child}var Af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bf(e){return{baseLanes:e,cachePool:Sp()}}function wf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=yn),e}function xg(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?vr(n):Er(),(e=ee)?(e=qy(e,In),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fr!==null?{id:mi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},r=dp(e),r.return=n,n.child=r,je=n,ee=null)):e=null,e===null)throw mr(n);return od(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Er(),h=n.mode,E=qu({mode:"hidden",children:E},h),o=_s(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=bf(r),o.childLanes=wf(e,p,r),n.memoizedState=Af,Fo(null,o)):(vr(n),Rf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(vr(n),n.flags&=-257,n=Cf(e,n,r)):n.memoizedState!==null?(Er(),n.child=e.child,n.flags|=128,n=null):(Er(),E=o.fallback,h=n.mode,o=qu({mode:"visible",children:o.children},h),E=_s(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,ws(n,e.child,null,r),o=n.child,o.memoizedState=bf(r),o.childLanes=wf(e,p,r),n.memoizedState=Af,n=Fo(null,o));else if(vr(n),od(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(s(419)),o.stack="",o.digest=p,Vo({value:o,source:null,stack:null}),n=Cf(e,n,r)}else if(be||fa(e,n,r,!1),p=(r&e.childLanes)!==0,be||p){if(p=te,p!==null&&(o=ho(p,r),o!==0&&o!==I.retryLane))throw I.retryLane=o,ys(e,o),ln(p,e,o),Tf;ad(E)||Ju(),n=Cf(e,n,r)}else ad(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ee=Nn(E.nextSibling),je=n,Lt=!0,dr=null,In=!1,e!==null&&gp(n,e),n=Rf(n,o.children),n.flags|=4096);return n}return h?(Er(),E=o.fallback,h=n.mode,I=e.child,z=I.sibling,o=Oi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Oi(z,E):(E=_s(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Fo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=bf(r):(h=E.cachePool,h!==null?(I=Se._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Sp(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=wf(e,p,r),n.memoizedState=Af,Fo(e.child,o)):(vr(n),r=e.child,e=r.sibling,r=Oi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function Rf(e,n){return n=qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function qu(e,n){return e=dn(22,e,null,n),e.lanes=0,e}function Cf(e,n,r){return ws(n,e.child,null,r),e=Rf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function kg(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Bh(e.return,n,r)}function If(e,n,r,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function Ug(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=me.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,nt(me,p),qe(e,n,o,r),o=Lt?Mo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kg(e,r,n);else if(e.tag===19)kg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Nu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),If(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Nu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}If(n,!0,r,null,f,o);break;case"together":If(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Li(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Ar|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(fa(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Oi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Oi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Df(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Su(e)))}function t1(e,n,r){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),pr(n,Se,e.memoizedState.cache),vs();break;case 27:case 5:Wr(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:pr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Wh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(vr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?xg(e,n,r):(vr(n),e=Li(e,n,r),e!==null?e.sibling:null);vr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(fa(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Ug(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(me,me.current),o)break;return null;case 22:return n.lanes=0,Ig(e,n,r,n.pendingProps);case 24:pr(n,Se,e.memoizedState.cache)}return Li(e,n,r)}function Lg(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!Df(e,r)&&(n.flags&128)===0)return be=!1,t1(e,n,r);be=(e.flags&131072)!==0}else be=!1,Lt&&(n.flags&1048576)!==0&&pp(n,Mo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=As(n.elementType),n.type=e,typeof e=="function")Vh(e)?(o=Cs(e,o),n.tag=1,n=Mg(null,n,e,o,r)):(n.tag=0,n=Sf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Pt){n.tag=11,n=wg(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=Rg(null,n,e,o,r);break t}}throw n=Ft(e)||e,Error(s(306,n,""))}}return n;case 0:return Sf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Cs(o,n.pendingProps),Mg(e,n,o,h,r);case 3:t:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Kh(e,n),jo(n,o,null,r);var p=n.memoizedState;if(o=p.cache,pr(n,Se,o),o!==f.cache&&qh(n,[Se],r,!0),zo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Vg(e,n,o,r);break t}else if(o!==h){h=wn(Error(s(424)),n),Vo(h),n=Vg(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ee=Nn(e.firstChild),je=n,Lt=!0,dr=null,In=!0,r=Ip(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vs(),o===h){n=Li(e,n,r);break t}qe(e,n,o,r)}n=n.child}return n;case 26:return Bu(e,n),e===null?(r=Ky(n.type,null,n.pendingProps,null))?n.memoizedState=r:Lt||(r=n.type,e=n.pendingProps,o=rc(It.current).createElement(r),o[ve]=n,o[Ve]=e,He(o,r,e),Ee(o),n.stateNode=o):n.memoizedState=Ky(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Wr(n),e===null&&Lt&&(o=n.stateNode=Fy(n.type,n.pendingProps,It.current),je=n,In=!0,h=ee,Ir(n.type)?(ld=h,ee=Nn(o.firstChild)):ee=h),qe(e,n,n.pendingProps.children,r),Bu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=o=ee)&&(o=N1(o,n.type,n.pendingProps,In),o!==null?(n.stateNode=o,je=n,ee=Nn(o.firstChild),In=!1,h=!0):h=!1),h||mr(n)),Wr(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,id(h,f)?o=null:p!==null&&id(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=ef(e,n,FT,null,null,r),al._currentValue=h),Bu(e,n),qe(e,n,o,r),n.child;case 6:return e===null&&Lt&&((e=r=ee)&&(r=O1(r,n.pendingProps,In),r!==null?(n.stateNode=r,je=n,ee=null,e=!0):e=!1),e||mr(n)),null;case 13:return xg(e,n,r);case 4:return Ie(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ws(n,null,o,r):qe(e,n,o,r),n.child;case 11:return wg(e,n,n.type,n.pendingProps,r);case 7:return qe(e,n,n.pendingProps,r),n.child;case 8:return qe(e,n,n.pendingProps.children,r),n.child;case 12:return qe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,pr(n,n.type,o.value),qe(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ts(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,r),n.child;case 14:return Rg(e,n,n.type,n.pendingProps,r);case 15:return Cg(e,n,n.type,n.pendingProps,r);case 19:return Ug(e,n,r);case 31:return WT(e,n,r);case 22:return Ig(e,n,r,n.pendingProps);case 24:return Ts(n),o=Be(Se),e===null?(h=Fh(),h===null&&(h=te,f=Hh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Yh(n),pr(n,Se,h)):((e.lanes&r)!==0&&(Kh(e,n),jo(n,null,null,r),zo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),pr(n,Se,o)):(o=f.cache,pr(n,Se,o),o!==h.cache&&qh(n,[Se],r,!0))),qe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Pi(e){e.flags|=4}function Nf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(cy())e.flags|=8192;else throw bs=Ru,Qh}else e.flags&=-16777217}function Pg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wy(n))if(cy())e.flags|=8192;else throw bs=Ru,Qh}function Hu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Xl():536870912,e.lanes|=n,ba|=n)}function Qo(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function e1(e,n,r){var o=n.pendingProps;switch(Lh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),xi(Se),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ha(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zh())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Pi(n),f!==null?(ne(n),Pg(n,f)):(ne(n),Nf(n,h,null,o,r))):f?f!==e.memoizedState?(Pi(n),ne(n),Pg(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Pi(n),ne(n),Nf(n,h,e,o,r)),null;case 27:if(Hs(n),r=It.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ne(n),null}e=at.current,ha(n)?yp(n):(e=Fy(h,o,r),n.stateNode=e,Pi(n))}return ne(n),null;case 5:if(Hs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(f=at.current,ha(n))yp(n);else{var p=rc(It.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[ve]=n,f[Ve]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Pi(n)}}return ne(n),Nf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=It.current,ha(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||xy(e.nodeValue,r)),e||mr(n,!0)}else e=rc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ne(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ha(n),r!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ve]=n}else vs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else r=zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ha(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=n}else vs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Hu(n,n.updateQueue),ne(n),null);case 4:return re(),e===null&&$f(n.stateNode.containerInfo),ne(n),null;case 10:return xi(n.type),ne(n),null;case 19:if(Q(me),o=n.memoizedState,o===null)return ne(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Qo(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Nu(e),f!==null){for(n.flags|=128,Qo(o,!1),e=f.updateQueue,n.updateQueue=e,Hu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)fp(r,e),r=r.sibling;return nt(me,me.current&1|2),Lt&&Mi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>Ku&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Nu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Hu(n,e),Qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Lt)return ne(n),null}else 2*$e()-o.renderingStartTime>Ku&&r!==536870912&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,r=me.current,nt(me,h?r&1|2:r&1),Lt&&Mi(n,o.treeForkCount),e):(ne(n),null);case 22:case 23:return pn(n),$h(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&Hu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Q(Ss),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),xi(Se),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function n1(e,n){switch(Lh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return xi(Se),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Hs(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(s(340));vs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));vs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(me),null;case 4:return re(),null;case 10:return xi(n.type),null;case 22:case 23:return pn(n),$h(),e!==null&&Q(Ss),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return xi(Se),null;case 25:return null;default:return null}}function zg(e,n){switch(Lh(n),n.tag){case 3:xi(Se),re();break;case 26:case 27:case 5:Hs(n);break;case 4:re();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:Q(me);break;case 10:xi(n.type);break;case 22:case 23:pn(n),$h(),e!==null&&Q(Ss);break;case 24:xi(Se)}}function Yo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(E){Xt(n,n.return,E)}}function Tr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=r,z=E;try{z()}catch(G){Xt(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){Xt(n,n.return,G)}}function jg(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Np(n,r)}catch(o){Xt(e,e.return,o)}}}function Bg(e,n,r){r.props=Cs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Xt(e,n,o)}}function Ko(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Xt(e,n,h)}}function gi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Xt(e,n,h)}else r.current=null}function qg(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Xt(e,e.return,h)}}function Of(e,n,r){try{var o=e.stateNode;b1(o,e.type,r,n),o[Ve]=n}catch(h){Xt(e,e.return,h)}}function Hg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ir(e.type)||e.tag===4}function Mf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Hg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ir(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=zn));else if(o!==4&&(o===27&&Ir(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Vf(e,n,r),e=e.sibling;e!==null;)Vf(e,n,r),e=e.sibling}function Gu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Ir(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Gu(e,n,r),e=e.sibling;e!==null;)Gu(e,n,r),e=e.sibling}function Gg(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,r),n[ve]=e,n[Ve]=r}catch(f){Xt(e,e.return,f)}}var zi=!1,we=!1,xf=!1,Fg=typeof WeakSet=="function"?WeakSet:Set,ke=null;function i1(e,n){if(e=e.containerInfo,ed=hc,e=ip(e),Rh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,I=-1,z=0,G=0,Y=e,j=null;e:for(;;){for(var q;Y!==r||h!==0&&Y.nodeType!==3||(E=p+h),Y!==f||o!==0&&Y.nodeType!==3||(I=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===r&&++z===h&&(E=p),j===f&&++G===o&&(I=p),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(nd={focusedElem:e,selectionRange:r},hc=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ot=Cs(r.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Xt(r,r.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)sd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}}function Qg(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Bi(e,r),o&4&&Yo(5,r);break;case 1:if(Bi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){Xt(r,r.return,p)}else{var h=Cs(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Xt(r,r.return,p)}}o&64&&jg(r),o&512&&Ko(r,r.return);break;case 3:if(Bi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Np(e,n)}catch(p){Xt(r,r.return,p)}}break;case 27:n===null&&o&4&&Gg(r);case 26:case 5:Bi(e,r),n===null&&o&4&&qg(r),o&512&&Ko(r,r.return);break;case 12:Bi(e,r);break;case 31:Bi(e,r),o&4&&Xg(e,r);break;case 13:Bi(e,r),o&4&&Zg(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=f1.bind(null,r),M1(e,r))));break;case 22:if(o=r.memoizedState!==null||zi,!o){n=n!==null&&n.memoizedState!==null||we,h=zi;var f=we;zi=o,(we=n)&&!f?qi(e,r,(r.subtreeFlags&8772)!==0):Bi(e,r),zi=h,we=f}break;case 30:break;default:Bi(e,r)}}function Yg(e){var n=e.alternate;n!==null&&(e.alternate=null,Yg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ks(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,rn=!1;function ji(e,n,r){for(r=r.child;r!==null;)Kg(e,n,r),r=r.sibling}function Kg(e,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(kn,r)}catch{}switch(r.tag){case 26:we||gi(r,n),ji(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:we||gi(r,n);var o=ae,h=rn;Ir(r.type)&&(ae=r.stateNode,rn=!1),ji(e,n,r),il(r.stateNode),ae=o,rn=h;break;case 5:we||gi(r,n);case 6:if(o=ae,h=rn,ae=null,ji(e,n,r),ae=o,rn=h,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{ae.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:ae!==null&&(rn?(e=ae,jy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ma(e)):jy(ae,r.stateNode));break;case 4:o=ae,h=rn,ae=r.stateNode.containerInfo,rn=!0,ji(e,n,r),ae=o,rn=h;break;case 0:case 11:case 14:case 15:Tr(2,r,n),we||Tr(4,r,n),ji(e,n,r);break;case 1:we||(gi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Bg(r,n,o)),ji(e,n,r);break;case 21:ji(e,n,r);break;case 22:we=(o=we)||r.memoizedState!==null,ji(e,n,r),we=o;break;default:ji(e,n,r)}}function Xg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ma(e)}catch(r){Xt(n,n.return,r)}}}function Zg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ma(e)}catch(r){Xt(n,n.return,r)}}function r1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Fg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Fg),n;default:throw Error(s(435,e.tag))}}function Fu(e,n){var r=r1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=d1.bind(null,e,o);o.then(h,h)}})}function sn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Ir(E.type)){ae=E.stateNode,rn=!1;break t}break;case 5:ae=E.stateNode,rn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ae===null)throw Error(s(160));Kg(f,p,h),ae=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Jg(n,e),n=n.sibling}var Fn=null;function Jg(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),an(e),o&4&&(Tr(3,e,e.return),Yo(3,e),Tr(5,e,e.return));break;case 1:sn(n,e),an(e),o&512&&(we||r===null||gi(r,r.return)),o&64&&zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Fn;if(sn(n,e),an(e),o&512&&(we||r===null||gi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ni]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,r),f[ve]=e,Ee(f),o=f;break t;case"link":var p=Jy("link","href",h).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),He(f,o,r),h.head.appendChild(f);break;case"meta":if(p=Jy("meta","content",h).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=h.createElement(o),He(f,o,r),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else $y(h,e.type,e.stateNode);else e.stateNode=Zy(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?$y(h,e.type,e.stateNode):Zy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Of(e,e.memoizedProps,r.memoizedProps)}break;case 27:sn(n,e),an(e),o&512&&(we||r===null||gi(r,r.return)),r!==null&&o&4&&Of(e,e.memoizedProps,r.memoizedProps);break;case 5:if(sn(n,e),an(e),o&512&&(we||r===null||gi(r,r.return)),e.flags&32){h=e.stateNode;try{nn(h,"")}catch(ot){Xt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Of(e,h,r!==null?r.memoizedProps:h)),o&1024&&(xf=!0);break;case 6:if(sn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ot){Xt(e,e.return,ot)}}break;case 3:if(oc=null,h=Fn,Fn=sc(n.containerInfo),sn(n,e),Fn=h,an(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ma(n.containerInfo)}catch(ot){Xt(e,e.return,ot)}xf&&(xf=!1,$g(e));break;case 4:o=Fn,Fn=sc(e.stateNode.containerInfo),sn(n,e),an(e),Fn=o;break;case 12:sn(n,e),an(e);break;case 31:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 13:sn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Yu=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 22:h=e.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,z=zi,G=we;if(zi=z||h,we=G||I,sn(n,e),we=G,zi=z,an(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||zi||we||Is(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var Y=I.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){Xt(I,I.return,ot)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ot){Xt(I,I.return,ot)}}}else if(n.tag===18){if(r===null){I=n;try{var q=I.stateNode;h?By(q,!0):By(I.stateNode,!1)}catch(ot){Xt(I,I.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Fu(e,r))));break;case 19:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 30:break;case 21:break;default:sn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Hg(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=Mf(e);Gu(e,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(nn(p,""),r.flags&=-33);var E=Mf(e);Gu(e,E,p);break;case 3:case 4:var I=r.stateNode.containerInfo,z=Mf(e);Vf(e,z,I);break;default:throw Error(s(161))}}catch(G){Xt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function $g(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;$g(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Bi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Qg(e,n.alternate,n),n=n.sibling}function Is(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Tr(4,n,n.return),Is(n);break;case 1:gi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Bg(n,n.return,r),Is(n);break;case 27:il(n.stateNode);case 26:case 5:gi(n,n.return),Is(n);break;case 22:n.memoizedState===null&&Is(n);break;case 30:Is(n);break;default:Is(n)}e=e.sibling}}function qi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:qi(h,f,r),Yo(4,f);break;case 1:if(qi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Xt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Dp(I[h],E)}catch(z){Xt(o,o.return,z)}}r&&p&64&&jg(f),Ko(f,f.return);break;case 27:Gg(f);case 26:case 5:qi(h,f,r),r&&o===null&&p&4&&qg(f),Ko(f,f.return);break;case 12:qi(h,f,r);break;case 31:qi(h,f,r),r&&p&4&&Xg(h,f);break;case 13:qi(h,f,r),r&&p&4&&Zg(h,f);break;case 22:f.memoizedState===null&&qi(h,f,r),Ko(f,f.return);break;case 30:break;default:qi(h,f,r)}n=n.sibling}}function kf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&xo(r))}function Uf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e))}function Qn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wg(e,n,r,o),n=n.sibling}function Wg(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,r,o),h&2048&&Yo(9,n);break;case 1:Qn(e,n,r,o);break;case 3:Qn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e)));break;case 12:if(h&2048){Qn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Xt(n,n.return,I)}}else Qn(e,n,r,o);break;case 31:Qn(e,n,r,o);break;case 13:Qn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,r,o):Xo(e,n):f._visibility&2?Qn(e,n,r,o):(f._visibility|=2,Ta(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&kf(p,n);break;case 24:Qn(e,n,r,o),h&2048&&Uf(n.alternate,n);break;default:Qn(e,n,r,o)}}function Ta(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=r,I=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Ta(f,p,E,I,h),Yo(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Ta(f,p,E,I,h):Xo(f,p):(G._visibility|=2,Ta(f,p,E,I,h)),h&&z&2048&&kf(p.alternate,p);break;case 24:Ta(f,p,E,I,h),h&&z&2048&&Uf(p.alternate,p);break;default:Ta(f,p,E,I,h)}n=n.sibling}}function Xo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Xo(r,o),h&2048&&kf(o.alternate,o);break;case 24:Xo(r,o),h&2048&&Uf(o.alternate,o);break;default:Xo(r,o)}n=n.sibling}}var Zo=8192;function Sa(e,n,r){if(e.subtreeFlags&Zo)for(e=e.child;e!==null;)ty(e,n,r),e=e.sibling}function ty(e,n,r){switch(e.tag){case 26:Sa(e,n,r),e.flags&Zo&&e.memoizedState!==null&&G1(r,Fn,e.memoizedState,e.memoizedProps);break;case 5:Sa(e,n,r);break;case 3:case 4:var o=Fn;Fn=sc(e.stateNode.containerInfo),Sa(e,n,r),Fn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Zo,Zo=16777216,Sa(e,n,r),Zo=o):Sa(e,n,r));break;default:Sa(e,n,r)}}function ey(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];ke=o,iy(o,e)}ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ny(e),e=e.sibling}function ny(e){switch(e.tag){case 0:case 11:case 15:Jo(e),e.flags&2048&&Tr(9,e,e.return);break;case 3:Jo(e);break;case 12:Jo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Qu(e)):Jo(e);break;default:Jo(e)}}function Qu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];ke=o,iy(o,e)}ey(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Tr(8,n,n.return),Qu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Qu(n));break;default:Qu(n)}e=e.sibling}}function iy(e,n){for(;ke!==null;){var r=ke;switch(r.tag){case 0:case 11:case 15:Tr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,ke=o;else t:for(r=e;ke!==null;){o=ke;var h=o.sibling,f=o.return;if(Yg(o),o===r){ke=null;break t}if(h!==null){h.return=f,ke=h;break t}ke=f}}}var s1={getCacheForType:function(e){var n=Be(Se),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Be(Se).controller.signal}},a1=typeof WeakMap=="function"?WeakMap:Map,Gt=0,te=null,Nt=null,Mt=0,Kt=0,gn=null,Sr=!1,Aa=!1,Lf=!1,Hi=0,he=0,Ar=0,Ds=0,Pf=0,yn=0,ba=0,$o=null,on=null,zf=!1,Yu=0,ry=0,Ku=1/0,Xu=null,br=null,Ne=0,wr=null,wa=null,Gi=0,jf=0,Bf=null,sy=null,Wo=0,qf=null;function _n(){return(Gt&2)!==0&&Mt!==0?Mt&-Mt:U.T!==null?Kf():Zl()}function ay(){if(yn===0)if((Mt&536870912)===0||Lt){var e=ns;ns<<=1,(ns&3932160)===0&&(ns=262144),yn=e}else yn=536870912;return e=mn.current,e!==null&&(e.flags|=32),yn}function ln(e,n,r){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Ra(e,0),Rr(e,Mt,yn,!1)),is(e,r),((Gt&2)===0||e!==te)&&(e===te&&((Gt&2)===0&&(Ds|=r),he===4&&Rr(e,Mt,yn,!1)),yi(e))}function oy(e,n,r){if((Gt&6)!==0)throw Error(s(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Un(e,n),h=o?u1(e,n):Gf(e,n,!0),f=o;do{if(h===0){Aa&&!o&&Rr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!o1(r)){h=Gf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=$o;var I=E.current.memoizedState.isDehydrated;if(I&&(Ra(E,p).flags|=256),p=Gf(E,p,!1),p!==2){if(Lf&&!I){E.errorRecoveryDisabledLanes|=f,Ds|=f,h=4;break t}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ra(e,0),Rr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Rr(o,n,yn,!Sr);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Yu+300-$e(),10<h)){if(Rr(o,n,yn,!Sr),Wn(o,0,!0)!==0)break t;Gi=n,o.timeoutHandle=Py(ly.bind(null,o,r,on,Xu,zf,n,yn,Ds,ba,Sr,f,"Throttled",-0,0),h);break t}ly(o,r,on,Xu,zf,n,yn,Ds,ba,Sr,f,null,-0,0)}}break}while(!0);yi(e)}function ly(e,n,r,o,h,f,p,E,I,z,G,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},ty(n,f,Y);var ot=(f&62914560)===f?Yu-$e():(f&4194048)===f?ry-$e():0;if(ot=F1(Y,ot),ot!==null){Gi=f,e.cancelPendingCommit=ot(gy.bind(null,e,n,f,r,o,h,p,E,I,G,Y,null,j,q)),Rr(e,f,p,!z);return}}gy(e,n,f,r,o,h,p,E,I)}function o1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!fn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Rr(e,n,r,o){n&=~Pf,n&=~Ds,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&rs(e,r,n)}function Zu(){return(Gt&6)===0?(tl(0),!1):!0}function Hf(){if(Nt!==null){if(Kt===0)var e=Nt.return;else e=Nt,Vi=Es=null,sf(e),ga=null,Uo=0,e=Nt;for(;e!==null;)zg(e.alternate,e),e=e.return;Nt=null}}function Ra(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,C1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Gi=0,Hf(),te=e,Nt=r=Oi(e.current,null),Mt=n,Kt=0,gn=null,Sr=!1,Aa=Un(e,n),Lf=!1,ba=yn=Pf=Ds=Ar=he=0,on=$o=null,zf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=e[h],o&=~f}return Hi=n,yu(),r}function uy(e,n){Ct=null,U.H=Go,n===pa||n===wu?(n=wp(),Kt=3):n===Qh?(n=wp(),Kt=4):Kt=n===Tf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Nt===null&&(he=1,zu(e,wn(n,e.current)))}function cy(){var e=mn.current;return e===null?!0:(Mt&4194048)===Mt?Dn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===Dn:!1}function hy(){var e=U.H;return U.H=Go,e===null?Go:e}function fy(){var e=U.A;return U.A=s1,e}function Ju(){he=4,Sr||(Mt&4194048)!==Mt&&mn.current!==null||(Aa=!0),(Ar&134217727)===0&&(Ds&134217727)===0||te===null||Rr(te,Mt,yn,!1)}function Gf(e,n,r){var o=Gt;Gt|=2;var h=hy(),f=fy();(te!==e||Mt!==n)&&(Xu=null,Ra(e,n)),n=!1;var p=he;t:do try{if(Kt!==0&&Nt!==null){var E=Nt,I=gn;switch(Kt){case 8:Hf(),p=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var z=Kt;if(Kt=0,gn=null,Ca(e,E,I,z),r&&Aa){p=0;break t}break;default:z=Kt,Kt=0,gn=null,Ca(e,E,I,z)}}l1(),p=he;break}catch(G){uy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Vi=Es=null,Gt=o,U.H=h,U.A=f,Nt===null&&(te=null,Mt=0,yu()),p}function l1(){for(;Nt!==null;)dy(Nt)}function u1(e,n){var r=Gt;Gt|=2;var o=hy(),h=fy();te!==e||Mt!==n?(Xu=null,Ku=$e()+500,Ra(e,n)):Aa=Un(e,n);t:do try{if(Kt!==0&&Nt!==null){n=Nt;var f=gn;e:switch(Kt){case 1:Kt=0,gn=null,Ca(e,n,f,1);break;case 2:case 9:if(Ap(f)){Kt=0,gn=null,my(n);break}n=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),yi(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Ap(f)?(Kt=0,gn=null,my(n)):(Kt=0,gn=null,Ca(e,n,f,7));break;case 5:var p=null;switch(Nt.tag){case 26:p=Nt.memoizedState;case 5:case 27:var E=Nt;if(p?Wy(p):E.stateNode.complete){Kt=0,gn=null;var I=E.sibling;if(I!==null)Nt=I;else{var z=E.return;z!==null?(Nt=z,$u(z)):Nt=null}break e}}Kt=0,gn=null,Ca(e,n,f,5);break;case 6:Kt=0,gn=null,Ca(e,n,f,6);break;case 8:Hf(),he=6;break t;default:throw Error(s(462))}}c1();break}catch(G){uy(e,G)}while(!0);return Vi=Es=null,U.H=o,U.A=h,Gt=r,Nt!==null?0:(te=null,Mt=0,yu(),he)}function c1(){for(;Nt!==null&&!vh();)dy(Nt)}function dy(e){var n=Lg(e.alternate,e,Hi);e.memoizedProps=e.pendingProps,n===null?$u(e):Nt=n}function my(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Og(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Og(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:sf(n);default:zg(r,n),n=Nt=fp(n,Hi),n=Lg(r,n,Hi)}e.memoizedProps=e.pendingProps,n===null?$u(e):Nt=n}function Ca(e,n,r,o){Vi=Es=null,sf(n),ga=null,Uo=0;var h=n.return;try{if($T(e,h,n,r,Mt)){he=1,zu(e,wn(r,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;he=1,zu(e,wn(r,e.current)),Nt=null;return}n.flags&32768?(Lt||o===1?e=!0:Aa||(Mt&536870912)!==0?e=!1:(Sr=e=!0,(o===2||o===9||o===3||o===6)&&(o=mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),py(n,e)):$u(n)}function $u(e){var n=e;do{if((n.flags&32768)!==0){py(n,Sr);return}e=n.return;var r=e1(n.alternate,n,Hi);if(r!==null){Nt=r;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);he===0&&(he=5)}function py(e,n){do{var r=n1(e.alternate,e);if(r!==null){r.flags&=32767,Nt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=r}while(e!==null);he=6,Nt=null}function gy(e,n,r,o,h,f,p,E,I){e.cancelPendingCommit=null;do Wu();while(Ne!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Oh,Sh(e,r,f,p,E,I),e===te&&(Nt=te=null,Mt=0),wa=n,wr=e,Gi=r,jf=f,Bf=h,sy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,m1(nr,function(){return Ty(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,h=X.p,X.p=2,p=Gt,Gt|=4;try{i1(e,n,r)}finally{Gt=p,X.p=h,U.T=o}}Ne=1,yy(),_y(),vy()}}function yy(){if(Ne===1){Ne=0;var e=wr,n=wa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=U.T,U.T=null;var o=X.p;X.p=2;var h=Gt;Gt|=4;try{Jg(n,e);var f=nd,p=ip(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&np(E.ownerDocument.documentElement,E)){if(I!==null&&Rh(E)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,yt=Math.min(I.start,ot),Wt=I.end===void 0?yt:Math.min(I.end,ot);!q.extend&&yt>Wt&&(p=Wt,Wt=yt,yt=p);var x=ep(E,yt),O=ep(E,Wt);if(x&&O&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var P=Y.createRange();P.setStart(x.node,x.offset),q.removeAllRanges(),yt>Wt?(q.addRange(P),q.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),q.addRange(P))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var F=Y[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}hc=!!ed,nd=ed=null}finally{Gt=h,X.p=o,U.T=r}}e.current=n,Ne=2}}function _y(){if(Ne===2){Ne=0;var e=wr,n=wa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=U.T,U.T=null;var o=X.p;X.p=2;var h=Gt;Gt|=4;try{Qg(e,n.alternate,n)}finally{Gt=h,X.p=o,U.T=r}}Ne=3}}function vy(){if(Ne===4||Ne===3){Ne=0,Hl();var e=wr,n=wa,r=Gi,o=sy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,wa=wr=null,Ey(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(br=null),Ci(r),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(kn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=U.T,h=X.p,X.p=2,U.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{U.T=n,X.p=h}}(Gi&3)!==0&&Wu(),yi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===qf?Wo++:(Wo=0,qf=e):Wo=0,tl(0)}}function Ey(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,xo(n)))}function Wu(){return yy(),_y(),vy(),Ty()}function Ty(){if(Ne!==5)return!1;var e=wr,n=jf;jf=0;var r=Ci(Gi),o=U.T,h=X.p;try{X.p=32>r?32:r,U.T=null,r=Bf,Bf=null;var f=wr,p=Gi;if(Ne=0,wa=wr=null,Gi=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,ny(f.current),Wg(f,f.current,p,r),Gt=E,tl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(kn,f)}catch{}return!0}finally{X.p=h,U.T=o,Ey(e,n)}}function Sy(e,n,r){n=wn(r,n),n=Ef(e.stateNode,n,2),e=_r(e,n,2),e!==null&&(is(e,2),yi(e))}function Xt(e,n,r){if(e.tag===3)Sy(e,e,r);else for(;n!==null;){if(n.tag===3){Sy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(br===null||!br.has(o))){e=wn(r,e),r=Ag(2),o=_r(n,r,2),o!==null&&(bg(r,o,n,e),is(o,2),yi(o));break}}n=n.return}}function Ff(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new a1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Lf=!0,h.add(r),e=h1.bind(null,e,n,r),n.then(e,e))}function h1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,te===e&&(Mt&r)===r&&(he===4||he===3&&(Mt&62914560)===Mt&&300>$e()-Yu?(Gt&2)===0&&Ra(e,0):Pf|=r,ba===Mt&&(ba=0)),yi(e)}function Ay(e,n){n===0&&(n=Xl()),e=ys(e,n),e!==null&&(is(e,n),yi(e))}function f1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Ay(e,r)}function d1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Ay(e,r)}function m1(e,n){return De(e,n)}var tc=null,Ia=null,Qf=!1,ec=!1,Yf=!1,Cr=0;function yi(e){e!==Ia&&e.next===null&&(Ia===null?tc=Ia=e:Ia=Ia.next=e),ec=!0,Qf||(Qf=!0,g1())}function tl(e,n){if(!Yf&&ec){Yf=!0;do for(var r=!1,o=tc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Cy(o,f))}else f=Mt,f=Wn(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Un(o,f)||(r=!0,Cy(o,f));o=o.next}while(r);Yf=!1}}function p1(){by()}function by(){ec=Qf=!1;var e=0;Cr!==0&&R1()&&(e=Cr);for(var n=$e(),r=null,o=tc;o!==null;){var h=o.next,f=wy(o,n);f===0?(o.next=null,r===null?tc=h:r.next=h,h===null&&(Ia=r)):(r=o,(e!==0||(f&3)!==0)&&(ec=!0)),o=h}Ne!==0&&Ne!==5||tl(e),Cr!==0&&(Cr=0)}function wy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-fe(f),E=1<<p,I=h[p];I===-1?((E&r)===0||(E&o)!==0)&&(h[p]=Th(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,r=Mt,r=Wn(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&er(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Un(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&er(o),Ci(r)){case 2:case 8:r=uo;break;case 32:r=nr;break;case 268435456:r=Gl;break;default:r=nr}return o=Ry.bind(null,e),r=De(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&er(o),e.callbackPriority=2,e.callbackNode=null,2}function Ry(e,n){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Wu()&&e.callbackNode!==r)return null;var o=Mt;return o=Wn(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(oy(e,o,n),wy(e,$e()),e.callbackNode!=null&&e.callbackNode===r?Ry.bind(null,e):null)}function Cy(e,n){if(Wu())return null;oy(e,n,!0)}function g1(){I1(function(){(Gt&6)!==0?De(lo,p1):by()})}function Kf(){if(Cr===0){var e=da;e===0&&(e=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),Cr=e}return Cr}function Iy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$s(""+e)}function Dy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function y1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Iy((h[Ve]||null).action),p=o.submitter;p&&(n=(n=p[Ve]||null)?Iy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new ci("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Cr!==0){var I=p?Dy(h,p):new FormData(h);mf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?Dy(h,p):new FormData(h),mf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var Xf=0;Xf<Nh.length;Xf++){var Zf=Nh[Xf],_1=Zf.toLowerCase(),v1=Zf[0].toUpperCase()+Zf.slice(1);Gn(_1,"on"+v1)}Gn(ap,"onAnimationEnd"),Gn(op,"onAnimationIteration"),Gn(lp,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(kT,"onTransitionRun"),Gn(UT,"onTransitionStart"),Gn(LT,"onTransitionCancel"),Gn(up,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function Ny(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){gu(G)}h.currentTarget=null,f=I}else for(p=0;p<o.length;p++){if(E=o[p],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){gu(G)}h.currentTarget=null,f=I}}}}function Ot(e,n){var r=n[Ys];r===void 0&&(r=n[Ys]=new Set);var o=e+"__bubble";r.has(o)||(Oy(n,e,2,!1),r.add(o))}function Jf(e,n,r){var o=0;n&&(o|=4),Oy(r,e,o,n)}var nc="_reactListening"+Math.random().toString(36).slice(2);function $f(e){if(!e[nc]){e[nc]=!0,fo.forEach(function(r){r!=="selectionchange"&&(E1.has(r)||Jf(r,!1,e),Jf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[nc]||(n[nc]=!0,Jf("selectionchange",!1,n))}}function Oy(e,n,r,o){switch(a_(n)){case 2:var h=K1;break;case 8:h=X1;break;default:h=dd}r=h.bind(null,n,r,e),h=void 0,!us||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function Wf(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ii(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){o=f=p;continue t}E=E.parentNode}}o=o.return}lr(function(){var z=f,G=Tn(r),Y=[];t:{var j=cp.get(e);if(j!==void 0){var q=ci,ot=e;switch(e){case"keypress":if(hs(r)===0)break t;case"keydown":case"keyup":q=du;break;case"focusin":ot="focus",q=ds;break;case"focusout":ot="blur",q=ds;break;case"beforeblur":case"afterblur":q=ds;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case ap:case op:case lp:q=au;break;case up:q=T;break;case"scroll":case"scrollend":q=wo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ni;break;case"toggle":case"beforetoggle":q=Rt}var yt=(n&4)!==0,Wt=!yt&&(e==="scroll"||e==="scrollend"),x=yt?j!==null?j+"Capture":null:j;yt=[];for(var O=z,P;O!==null;){var F=O;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||x===null||(F=jn(O,x),F!=null&&yt.push(nl(O,F,P))),Wt)break;O=O.return}0<yt.length&&(j=new q(j,ot,null,r,G),Y.push({event:j,listeners:yt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&r!==So&&(ot=r.relatedTarget||r.fromElement)&&(ii(ot)||ot[ei]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=r.relatedTarget||r.toElement,q=z,ot=ot?ii(ot):null,ot!==null&&(Wt=c(ot),yt=ot.tag,ot!==Wt||yt!==5&&yt!==27&&yt!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(yt=Ro,F="onMouseLeave",x="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Ni,F="onPointerLeave",x="onPointerEnter",O="pointer"),Wt=q==null?j:cn(q),P=ot==null?j:cn(ot),j=new yt(F,O+"leave",q,r,G),j.target=Wt,j.relatedTarget=P,F=null,ii(G)===z&&(yt=new yt(x,O+"enter",ot,r,G),yt.target=P,yt.relatedTarget=Wt,F=yt),Wt=F,q&&ot)e:{for(yt=T1,x=q,O=ot,P=0,F=x;F;F=yt(F))P++;F=0;for(var dt=O;dt;dt=yt(dt))F++;for(;0<P-F;)x=yt(x),P--;for(;0<F-P;)O=yt(O),F--;for(;P--;){if(x===O||O!==null&&x===O.alternate){yt=x;break e}x=yt(x),O=yt(O)}yt=null}else yt=null;q!==null&&My(Y,j,q,yt,!1),ot!==null&&Wt!==null&&My(Y,Wt,ot,yt,!0)}}t:{if(j=z?cn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Bt=Xm;else if(Ym(j))if(Zm)Bt=MT;else{Bt=NT;var ut=DT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&Js(z.elementType)&&(Bt=Xm):Bt=OT;if(Bt&&(Bt=Bt(e,z))){Km(Y,Bt,r,G);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&vo(j,"number",j.value)}switch(ut=z?cn(z):window,e){case"focusin":(Ym(ut)||ut.contentEditable==="true")&&(sa=ut,Ch=z,Oo=null);break;case"focusout":Oo=Ch=sa=null;break;case"mousedown":Ih=!0;break;case"contextmenu":case"mouseup":case"dragend":Ih=!1,rp(Y,r,G);break;case"selectionchange":if(xT)break;case"keydown":case"keyup":rp(Y,r,G)}var Dt;if(Ht)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else ra?ms(e,r)&&(Vt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Vt="onCompositionStart");Vt&&(di&&r.locale!=="ko"&&(ra||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&ra&&(Dt=bo()):(ui=G,Ao="value"in ui?ui.value:ui.textContent,ra=!0)),ut=ic(z,Vt),0<ut.length&&(Vt=new fi(Vt,e,null,r,G),Y.push({event:Vt,listeners:ut}),Dt?Vt.data=Dt:(Dt=ia(r),Dt!==null&&(Vt.data=Dt)))),(Dt=An?wT(e,r):RT(e,r))&&(Vt=ic(z,"onBeforeInput"),0<Vt.length&&(ut=new fi("onBeforeInput","beforeinput",null,r,G),Y.push({event:ut,listeners:Vt}),ut.data=Dt)),y1(Y,e,z,r,G)}Ny(Y,n)})}function nl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function ic(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=jn(e,r),h!=null&&o.unshift(nl(e,h,f)),h=jn(e,n),h!=null&&o.push(nl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function T1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function My(e,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=jn(r,f),z!=null&&p.unshift(nl(r,z,I))):h||(z=jn(r,f),z!=null&&p.push(nl(r,z,I)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var S1=/\r\n?/g,A1=/\u0000|\uFFFD/g;function Vy(e){return(typeof e=="string"?e:""+e).replace(S1,`
`).replace(A1,"")}function xy(e,n){return n=Vy(n),Vy(e)===n}function $t(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":hn(e,"class",o);break;case"tabIndex":hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(e,r,o);break;case"style":To(e,o,f);break;case"data":if(n!=="object"){hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=$s(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=$s(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=zn);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=$s(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),Xs(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Xs(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=iu.get(r)||r,Xs(e,r,o))}}function td(e,n,r,o,h,f){switch(r){case"style":To(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Xs(e,r,o)}}}function He(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(e,n,f,p,r,null)}}h&&$t(e,n,"srcSet",r.srcSet,r,null),o&&$t(e,n,"src",r.src,r,null);return;case"input":Ot("invalid",e);var E=f=p=h=null,I=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:$t(e,n,o,G,r,null)}}tu(e,f,E,I,z,p,h,!1);return;case"select":Ot("invalid",e),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:$t(e,n,h,E,r,null)}n=f,r=p,e.multiple=!!o,n!=null?rr(e,!!o,n,!1):r!=null&&rr(e,!!o,r,!0);return;case"textarea":Ot("invalid",e),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:$t(e,n,p,E,r,null)}sr(e,o,h,f);return;case"option":for(I in r)r.hasOwnProperty(I)&&(o=r[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":$t(e,n,I,o,r,null));return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<el.length;o++)Ot(el[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(e,n,z,o,r,null)}return;default:if(Js(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&td(e,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&$t(e,n,E,o,r,null))}function b1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,z=null,G=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=Y;default:o.hasOwnProperty(q)||$t(e,n,q,null,o,Y)}}for(var j in o){var q=o[j];if(Y=r[j],o.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Y&&$t(e,n,j,q,o,Y)}}Zs(e,p,E,I,z,G,f,h);return;case"select":q=p=E=j=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:o.hasOwnProperty(f)||$t(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=r[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&$t(e,n,h,f,o,I)}n=E,r=p,o=q,j!=null?rr(e,!!r,j,!1):!!o!=!!r&&(n!=null?rr(e,!!r,n,!0):rr(e,!!r,r?[]:"",!1));return;case"textarea":q=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&$t(e,n,p,h,o,f)}eu(e,j,q);return;case"option":for(var ot in r)j=r[ot],r.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:$t(e,n,ot,null,o,j));for(I in o)j=o[I],q=r[I],o.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null)&&(I==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":$t(e,n,I,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in r)j=r[yt],r.hasOwnProperty(yt)&&j!=null&&!o.hasOwnProperty(yt)&&$t(e,n,yt,null,o,j);for(z in o)if(j=o[z],q=r[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:$t(e,n,z,j,o,q)}return;default:if(Js(n)){for(var Wt in r)j=r[Wt],r.hasOwnProperty(Wt)&&j!==void 0&&!o.hasOwnProperty(Wt)&&td(e,n,Wt,void 0,o,j);for(G in o)j=o[G],q=r[G],!o.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||td(e,n,G,j,o,q);return}}for(var x in r)j=r[x],r.hasOwnProperty(x)&&j!=null&&!o.hasOwnProperty(x)&&$t(e,n,x,null,o,j);for(Y in o)j=o[Y],q=r[Y],!o.hasOwnProperty(Y)||j===q||j==null&&q==null||$t(e,n,Y,j,o,q)}function ky(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function w1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&ky(p)){for(p=0,E=h.responseEnd,o+=1;o<r.length;o++){var I=r[o],z=I.startTime;if(z>E)break;var G=I.transferSize,Y=I.initiatorType;G&&ky(Y)&&(I=I.responseEnd,p+=G*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ed=null,nd=null;function rc(e){return e.nodeType===9?e:e.ownerDocument}function Uy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ly(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function id(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var rd=null;function R1(){var e=window.event;return e&&e.type==="popstate"?e===rd?!1:(rd=e,!0):(rd=null,!1)}var Py=typeof setTimeout=="function"?setTimeout:void 0,C1=typeof clearTimeout=="function"?clearTimeout:void 0,zy=typeof Promise=="function"?Promise:void 0,I1=typeof queueMicrotask=="function"?queueMicrotask:typeof zy<"u"?function(e){return zy.resolve(null).then(e).catch(D1)}:Py;function D1(e){setTimeout(function(){throw e})}function Ir(e){return e==="head"}function jy(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ma(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")il(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,il(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ni]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&il(e.ownerDocument.body);r=h}while(r);Ma(n)}function By(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function sd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":sd(r),Ks(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function N1(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ni])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function O1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Nn(e.nextSibling),e===null))return null;return e}function qy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nn(e.nextSibling),e===null))return null;return e}function ad(e){return e.data==="$?"||e.data==="$~"}function od(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function M1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Nn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ld=null;function Hy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Nn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Gy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Fy(e,n,r){switch(n=rc(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ks(e)}var On=new Map,Qy=new Set;function sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fi=X.d;X.d={f:V1,r:x1,D:k1,C:U1,L:L1,m:P1,X:j1,S:z1,M:B1};function V1(){var e=Fi.f(),n=Zu();return e||n}function x1(e){var n=En(e);n!==null&&n.tag===5&&n.type==="form"?ug(n):Fi.r(e)}var Da=typeof document>"u"?null:document;function Yy(e,n,r){var o=Da;if(o&&typeof n=="string"&&n){var h=en(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Qy.has(h)||(Qy.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),Ee(n),o.head.appendChild(n)))}}function k1(e){Fi.D(e),Yy("dns-prefetch",e,null)}function U1(e,n){Fi.C(e,n),Yy("preconnect",e,n)}function L1(e,n,r){Fi.L(e,n,r);var o=Da;if(o&&e&&n){var h='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+en(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+en(r.imageSizes)+'"]')):h+='[href="'+en(e)+'"]';var f=h;switch(n){case"style":f=Na(e);break;case"script":f=Oa(e)}On.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),On.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(rl(f))||n==="script"&&o.querySelector(sl(f))||(n=o.createElement("link"),He(n,"link",e),Ee(n),o.head.appendChild(n)))}}function P1(e,n){Fi.m(e,n);var r=Da;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Oa(e)}if(!On.has(f)&&(e=A({rel:"modulepreload",href:e},n),On.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(sl(f)))return}o=r.createElement("link"),He(o,"link",e),Ee(o),r.head.appendChild(o)}}}function z1(e,n,r){Fi.S(e,n,r);var o=Da;if(o&&e){var h=ri(o).hoistableStyles,f=Na(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(rl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=On.get(f))&&ud(e,r);var I=p=o.createElement("link");Ee(I),He(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ac(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function j1(e,n){Fi.X(e,n);var r=Da;if(r&&e){var o=ri(r).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=r.querySelector(sl(h)),f||(e=A({src:e,async:!0},n),(n=On.get(h))&&cd(e,n),f=r.createElement("script"),Ee(f),He(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function B1(e,n){Fi.M(e,n);var r=Da;if(r&&e){var o=ri(r).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=r.querySelector(sl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=On.get(h))&&cd(e,n),f=r.createElement("script"),Ee(f),He(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Ky(e,n,r,o){var h=(h=It.current)?sc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Na(r.href),r=ri(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Na(r.href);var f=ri(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(rl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),On.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},On.set(e,r),f||q1(h,e,r,p.state))),n&&o===null)throw Error(s(528,""));return p}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Oa(r),r=ri(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Na(e){return'href="'+en(e)+'"'}function rl(e){return'link[rel="stylesheet"]['+e+"]"}function Xy(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function q1(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",r),Ee(n),e.head.appendChild(n))}function Oa(e){return'[src="'+en(e)+'"]'}function sl(e){return"script[async]"+e}function Zy(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(r.href)+'"]');if(o)return n.instance=o,Ee(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),He(o,"style",h),ac(o,r.precedence,e),n.instance=o;case"stylesheet":h=Na(r.href);var f=e.querySelector(rl(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=Xy(r),(h=On.get(h))&&ud(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),He(f,"link",o),n.state.loading|=4,ac(f,r.precedence,e),n.instance=f;case"script":return f=Oa(r.src),(h=e.querySelector(sl(f)))?(n.instance=h,Ee(h),h):(o=r,(h=On.get(f))&&(o=A({},r),cd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ac(o,r.precedence,e));return n.instance}function ac(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var oc=null;function Jy(e,n,r){if(oc===null){var o=new Map,h=oc=new Map;h.set(r,o)}else h=oc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ni]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function $y(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function H1(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Wy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function G1(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Na(o.href),f=n.querySelector(rl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=lc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Ee(f);return}f=n.ownerDocument||n,o=Xy(o),(h=On.get(h))&&ud(o,h),f=f.createElement("link"),Ee(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),He(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=lc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var hd=0;function F1(e,n){return e.stylesheets&&e.count===0&&cc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&cc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&hd===0&&(hd=62500*w1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&cc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>hd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uc=null;function cc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,uc=new Map,n.forEach(Q1,e),uc=null,lc.call(e))}function Q1(e,n){if(!(n.state.loading&4)){var r=uc.get(e);if(r)var o=r.get(null);else{r=new Map,uc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=lc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var al={$$typeof:mt,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function Y1(e,n,r,o,h,f,p,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function t_(e,n,r,o,h,f,p,E,I,z,G,Y){return e=new Y1(e,n,r,p,I,z,G,Y,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),e.current=f,f.stateNode=e,n=Hh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Yh(f),e}function e_(e){return e?(e=la,e):la}function n_(e,n,r,o,h,f){h=e_(h),o.context===null?o.context=h:o.pendingContext=h,o=yr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=_r(e,o,n),r!==null&&(ln(r,e,n),Po(r,e,n))}function i_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function fd(e,n){i_(e,n),(e=e.alternate)&&i_(e,n)}function r_(e){if(e.tag===13||e.tag===31){var n=ys(e,67108864);n!==null&&ln(n,e,67108864),fd(e,67108864)}}function s_(e){if(e.tag===13||e.tag===31){var n=_n();n=ss(n);var r=ys(e,n);r!==null&&ln(r,e,n),fd(e,n)}}var hc=!0;function K1(e,n,r,o){var h=U.T;U.T=null;var f=X.p;try{X.p=2,dd(e,n,r,o)}finally{X.p=f,U.T=h}}function X1(e,n,r,o){var h=U.T;U.T=null;var f=X.p;try{X.p=8,dd(e,n,r,o)}finally{X.p=f,U.T=h}}function dd(e,n,r,o){if(hc){var h=md(o);if(h===null)Wf(e,n,o,fc,r),o_(e,o);else if(J1(h,e,n,r,o))o.stopPropagation();else if(o_(e,o),n&4&&-1<Z1.indexOf(e)){for(;h!==null;){var f=En(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=$n(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-fe(p);E.entanglements[1]|=I,p&=~I}yi(f),(Gt&6)===0&&(Ku=$e()+500,tl(0))}}break;case 31:case 13:E=ys(f,2),E!==null&&ln(E,f,2),Zu(),fd(f,2)}if(f=md(o),f===null&&Wf(e,n,o,fc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else Wf(e,n,o,null,r)}}function md(e){return e=Tn(e),pd(e)}var fc=null;function pd(e){if(fc=null,e=ii(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return fc=e,null}function a_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(es()){case lo:return 2;case uo:return 8;case nr:case Eh:return 32;case Gl:return 268435456;default:return 32}default:return 32}}var gd=!1,Dr=null,Nr=null,Or=null,ol=new Map,ll=new Map,Mr=[],Z1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o_(e,n){switch(e){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(n.pointerId)}}function ul(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=En(n),n!==null&&r_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function J1(e,n,r,o,h){switch(n){case"focusin":return Dr=ul(Dr,e,n,r,o,h),!0;case"dragenter":return Nr=ul(Nr,e,n,r,o,h),!0;case"mouseover":return Or=ul(Or,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return ol.set(f,ul(ol.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ll.set(f,ul(ll.get(f)||null,e,n,r,o,h)),!0}return!1}function l_(e){var n=ii(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Ln(e.priority,function(){s_(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,Ln(e.priority,function(){s_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=md(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);So=o,r.target.dispatchEvent(o),So=null}else return n=En(r),n!==null&&r_(n),e.blockedOn=r,!1;n.shift()}return!0}function u_(e,n,r){dc(e)&&r.delete(n)}function $1(){gd=!1,Dr!==null&&dc(Dr)&&(Dr=null),Nr!==null&&dc(Nr)&&(Nr=null),Or!==null&&dc(Or)&&(Or=null),ol.forEach(u_),ll.forEach(u_)}function mc(e,n){e.blockedOn===n&&(e.blockedOn=null,gd||(gd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,$1)))}var pc=null;function c_(e){pc!==e&&(pc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){pc===e&&(pc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(pd(o||r)===null)continue;break}var f=En(r);f!==null&&(e.splice(n,3),n-=3,mf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ma(e){function n(I){return mc(I,e)}Dr!==null&&mc(Dr,e),Nr!==null&&mc(Nr,e),Or!==null&&mc(Or,e),ol.forEach(n),ll.forEach(n);for(var r=0;r<Mr.length;r++){var o=Mr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Mr.length&&(r=Mr[0],r.blockedOn===null);)l_(r),r.blockedOn===null&&Mr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[Ve]||null;if(typeof f=="function")p||c_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ve]||null)E=p.formAction;else if(pd(h)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),c_(r)}}}function h_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function yd(e){this._internalRoot=e}gc.prototype.render=yd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=_n();n_(r,o,e,n,null,null)},gc.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;n_(e.current,2,null,e,null,null),Zu(),n[ei]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Zl();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Mr.length&&n!==0&&n<Mr[r].priority;r++);Mr.splice(r,0,e),r===0&&l_(e)}};var f_=t.version;if(f_!=="19.2.3")throw Error(s(527,f_,"19.2.3"));X.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var W1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{kn=yc.inject(W1),Pe=yc}catch{}}return hl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",h=vg,f=Eg,p=Tg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=t_(e,1,!1,null,null,r,o,null,h,f,p,h_),e[ei]=n.current,$f(e),new yd(n)},hl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,h="",f=vg,p=Eg,E=Tg,I=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=t_(e,1,!0,n,r??null,o,h,I,f,p,E,h_),n.context=e_(null),r=n.current,o=_n(),o=ss(o),h=yr(o),h.callback=null,_r(r,h,o),r=o,n.current.lanes=r,is(n,r),yi(n),e[ei]=n.current,$f(e),new gc(n)},hl.version="19.2.3",hl}var S_;function uS(){if(S_)return Ed.exports;S_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ed.exports=lS(),Ed.exports}var cS=uS();const hS=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fS=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase()),A_=a=>{const t=fS(a);return t.charAt(0).toUpperCase()+t.slice(1)},Wv=(...a)=>a.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim(),dS=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var mS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pS=oe.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...g},_)=>oe.createElement("svg",{ref:_,...mS,width:t,height:t,stroke:a,strokeWidth:s?Number(i)*24/Number(t):i,className:Wv("lucide",l),...!c&&!dS(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,S])=>oe.createElement(y,S)),...Array.isArray(c)?c:[c]]));const Ja=(a,t)=>{const i=oe.forwardRef(({className:s,...l},c)=>oe.createElement(pS,{ref:c,iconNode:t,className:Wv(`lucide-${hS(A_(a))}`,`lucide-${a}`,s),...l}));return i.displayName=A_(a),i};const gS=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],yS=Ja("grip-vertical",gS);const _S=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vS=Ja("plus",_S);const ES=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],TS=Ja("redo-2",ES);const SS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],AS=Ja("settings",SS);const bS=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],wS=Ja("undo-2",bS);const RS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],CS=Ja("x",RS);function t0(a){var t,i,s="";if(typeof a=="string"||typeof a=="number")s+=a;else if(typeof a=="object")if(Array.isArray(a)){var l=a.length;for(t=0;t<l;t++)a[t]&&(i=t0(a[t]))&&(s&&(s+=" "),s+=i)}else for(i in a)a[i]&&(s&&(s+=" "),s+=i);return s}function jr(){for(var a,t,i=0,s="",l=arguments.length;i<l;i++)(a=arguments[i])&&(t=t0(a))&&(s&&(s+=" "),s+=t);return s}const IS=({viewMode:a,setViewMode:t,onAddTask:i,...s})=>Z.jsxs("header",{className:"h-16 border-b border-border bg-void flex items-center justify-between px-6 z-40 shadow-lg shrink-0",children:[Z.jsxs("div",{className:"flex items-center gap-3",children:[Z.jsx("div",{className:"w-8 h-8 rounded border border-bronze/50 flex items-center justify-center bg-bronze/10",children:Z.jsx("span",{className:"font-header text-bronze font-bold text-lg",children:"S"})}),Z.jsxs("div",{children:[Z.jsx("h1",{className:"font-header text-xl tracking-widest text-stone",children:"ST MARY SOMERSET"}),Z.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 font-mono tracking-wider",children:[Z.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),Z.jsx("span",{children:"ONLINE"}),Z.jsx("span",{className:"text-gray-600 pl-2",children:"v1.2.0"})]})]})]}),Z.jsxs("div",{className:"flex items-center gap-6",children:[Z.jsx("button",{onClick:s.onImportData,className:"text-xs bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/30 px-3 py-1 rounded transition-colors",title:"Overwrite current data with 2021 Programme v2",children:"IMPORT DATA"}),Z.jsxs("div",{className:"flex items-center gap-2",children:[Z.jsx("button",{onClick:s.onUndo,disabled:!s.canUndo,className:jr("p-2 rounded hover:bg-white/10 text-gray-400 transition-colors",!s.canUndo&&"opacity-30 cursor-not-allowed"),children:Z.jsx(wS,{size:18})}),Z.jsx("button",{onClick:s.onRedo,disabled:!s.canRedo,className:jr("p-2 rounded hover:bg-white/10 text-gray-400 transition-colors",!s.canRedo&&"opacity-30 cursor-not-allowed"),children:Z.jsx(TS,{size:18})})]}),Z.jsx("div",{className:"hidden md:flex bg-panel border border-border rounded-lg p-1 gap-1 font-mono text-xs",children:["day","week","month"].map(l=>Z.jsx("button",{onClick:()=>t(l),className:jr("px-3 py-1 rounded transition-colors uppercase",a===l?"bg-bronze/20 text-bronze border border-bronze/30 shadow-glow":"hover:bg-border text-gray-400"),children:l},l))}),Z.jsxs("button",{onClick:i,className:"bg-bronze hover:bg-bronzeDark text-midnight font-bold px-4 py-2 rounded font-header text-sm tracking-wide transition-colors flex items-center gap-2",children:[Z.jsx(vS,{size:16}),"NEW PHASE"]}),Z.jsx("button",{className:"text-gray-400 hover:text-white transition-colors p-2",children:Z.jsx(AS,{size:20})})]})]}),DS=({tasks:a,onEditTask:t,onReorderTasks:i})=>{const[s,l]=oe.useState(null),c=(y,S)=>{y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/plain",S.toString()),y.dataTransfer.setDragImage(y.currentTarget,0,0),setTimeout(()=>{y.target&&y.target.classList.add("opacity-30")},0)},d=y=>{y.target&&y.target.classList.remove("opacity-30"),l(null)},g=(y,S)=>{y.preventDefault(),y.stopPropagation();const A=y.currentTarget.getBoundingClientRect(),V=A.top+A.height/2,H=y.clientY<V?"top":"bottom";(!s||s.index!==S||s.position!==H)&&l({index:S,position:H})},_=(y,S)=>{y.preventDefault(),y.stopPropagation();const A=y.dataTransfer.getData("text/plain"),V=parseInt(A,10);if(s&&!isNaN(V)){let H=S;s.position==="bottom"&&(H=S+1),V!==H&&V!==H-1&&i(V,H)}l(null)};return Z.jsxs("div",{className:"w-80 flex-shrink-0 bg-panel border-r border-border flex flex-col z-30 shadow-2xl relative h-full",children:[Z.jsxs("div",{className:"h-[60px] border-b border-border bg-void/50 flex items-center px-4 text-xs font-mono text-bronze uppercase tracking-widest flex-shrink-0",children:[Z.jsx("div",{className:"w-8 text-center",children:"#"}),Z.jsx("div",{className:"flex-1 pl-2",children:"Task Name"}),Z.jsx("div",{className:"w-16 text-right",children:"Dur."})]}),Z.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden relative",onDragLeave:()=>l(null),children:a.map((y,S)=>{const A=y.isSummary;return Z.jsxs("div",{className:jr("h-14 flex items-center px-2 cursor-pointer border-b border-border transition-colors relative",A?"bg-white/5 font-bold":"hover:bg-white/5",s&&s.index===S?"bg-bronze/10":""),draggable:!A,onDragStart:V=>c(V,S),onDragEnd:d,onDragOver:V=>g(V,S),onDrop:V=>_(V,S),onDoubleClick:V=>{V.stopPropagation(),t(y)},children:[s&&s.index===S&&s.position==="top"&&Z.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-bronze z-50 shadow-[0_0_10px_rgba(217,119,6,0.8)] pointer-events-none"}),s&&s.index===S&&s.position==="bottom"&&Z.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-bronze z-50 shadow-[0_0_10px_rgba(217,119,6,0.8)] pointer-events-none"}),Z.jsx("div",{className:"w-8 h-full flex items-center justify-center text-bronze/50 cursor-grab active:cursor-grabbing hover:text-bronze pointer-events-none",children:!A&&Z.jsx(yS,{size:14})}),Z.jsxs("div",{className:"flex-1 flex items-center h-full pointer-events-none overflow-hidden",children:[Z.jsx("div",{className:"w-8 text-center text-xs text-gray-500 font-mono select-none flex-shrink-0",children:y.id}),Z.jsx("div",{className:jr("flex-1 truncate text-sm font-ui select-none pl-2",A?"text-bronze":"text-gray-300"),style:{paddingLeft:`${(y.level||0)*16}px`},children:y.name}),Z.jsxs("div",{className:"w-12 text-right font-mono text-xs text-bronze select-none flex-shrink-0",children:[y.duration,"d"]})]})]},y.id)})})]})},dl=(a,t)=>{const i=new Date(a);return i.setDate(i.getDate()+t),i},NS=(a,t)=>Math.round((new Date(a)-new Date(t))/864e5),fl=a=>{const t=new Map;a.forEach(d=>t.set(d.id,{...d,children:[],_isProcessed:!1}));const i=[];a.forEach(d=>{const g=t.get(d.id);let _=g.parentId;if(!_&&d.id.includes(".")){const y=d.id.split(".");y.pop();const S=y.join(".");t.has(S)&&(_=S,g.parentId=_)}_&&t.has(_)?t.get(_).children.push(g):i.push(g)});const s=d=>{const g=d.children.length>0;if(d.isSummary=g,d.children.forEach(s),g){let _=null,y=null;d.children.forEach(S=>{const A=new Date(S.startDate),V=dl(A,S.duration);(!_||A<_)&&(_=A),(!y||V>y)&&(y=V)}),_&&y&&(d.startDate=_.toISOString(),d.duration=NS(y,_),d.duration<1&&(d.duration=1))}};i.forEach(s);const l=[],c=(d,g=0)=>{d.forEach(_=>{_.level=g;const{children:y,_isProcessed:S,...A}=_;l.push(A),c(_.children,g+1)})};return c(i),l},OS=({task:a,style:t,isSummary:i,onMouseDown:s,onDoubleClick:l})=>{const c=a.type==="milestone";return Z.jsx("div",{className:jr("absolute select-none group touch-none flex items-center z-20",i?"pointer-events-none":""),style:t,onMouseDown:s,onDoubleClick:d=>{i||(d.stopPropagation(),l&&l(d))},children:c?Z.jsx("div",{className:"w-6 h-6 rotate-45 bg-bronze shadow-lg border border-white/20 hover:scale-110 transition-transform cursor-pointer"}):Z.jsxs("div",{className:"w-full h-full relative",children:[Z.jsxs("div",{className:jr("w-full h-full rounded border overflow-hidden transition-shadow",!i&&"cursor-grab active:cursor-grabbing shadow-ingot hover:brightness-110 border-white/10",i?"bg-bronze/40 border-bronze/50 rounded-sm":""),style:i?{}:{background:`linear-gradient(90deg, #9A8C74 ${a.progress}%, #2A2E35 ${a.progress}%)`},children:[!i&&a.duration>2&&Z.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-[10px] font-mono font-bold text-white mix-blend-difference pointer-events-none",children:[a.progress,"%"]}),i&&Z.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-bronze/80"})]}),!i&&Z.jsx("div",{"data-resize":"right",className:"absolute right-0 top-0 bottom-0 w-4 cursor-e-resize z-20 opacity-0 group-hover:opacity-100 hover:bg-white/10 transition-opacity"}),Z.jsx("div",{className:jr("absolute left-full ml-3 top-1/2 -translate-y-1/2 text-xs text-stone whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-30",i?"font-bold text-bronze":"font-bold"),children:a.name})]})})},MS=({tasks:a,viewMode:t,projectStartDate:i,onScroll:s,onTaskDragStart:l,onEditTask:c})=>{const d=oe.useRef(null),g=oe.useRef(null),_=t==="day"?60:t==="week"?40:20,y=56,S=365*2,A=S*_,V=Math.max(a.length*y+100,600),H=[],W=[];let et=new Date(dl(i,-7)),$=null,lt=0;for(let ct=0;ct<S;ct++){const ft=new Date(et),C=ct*_;H.push({label:ft.getDate(),subLabel:ft.toLocaleString("default",{weekday:"narrow"}),left:C,isWeekend:ft.getDay()===0||ft.getDay()===6});const b=ft.toLocaleString("default",{month:"long",year:"numeric"});b!==$&&($&&W.push({label:$,left:lt,width:C-lt}),$=b,lt=C),et.setDate(et.getDate()+1)}W.push({label:$,left:lt,width:S*_-lt});const vt=ct=>{g.current&&(g.current.scrollLeft=ct.target.scrollLeft),s(ct)},mt=(ct,ft)=>{const b=Math.round((new Date(ct.startDate)-new Date(dl(i,-7)))/864e5)*_,w=ct.duration*_,M=ft*y+12,D=y-24;return{left:`${b}px`,top:`${M}px`,width:`${Math.max(w,2)}px`,height:`${D}px`}},Pt=()=>{const ct=[];return a.forEach((ft,C)=>{if(!ft.dependencies||ft.dependencies.length===0)return;const b=Math.round((new Date(ft.startDate)-new Date(dl(i,-7)))/(1e3*60*60*24))*_,w=C*y+y/2+12;ft.dependencies.forEach(M=>{const D=a.find(rt=>rt.id===M),k=a.findIndex(rt=>rt.id===M);if(!D||k===-1)return;const Ft=(Math.round((new Date(D.startDate)-new Date(dl(i,-7)))/(1e3*60*60*24))+D.duration)*_,it=k*y+y/2+12,U=Math.abs(b-Ft)*.5,X=`M ${Ft} ${it} C ${Ft+U} ${it}, ${b-U} ${w}, ${b} ${w}`;ct.push(Z.jsx("path",{d:X,stroke:"#5C5242",strokeWidth:"1.5",fill:"none",className:"opacity-60",markerEnd:"url(#arrowhead)"},`${M}-${ft.id}`))})}),ct};return Z.jsxs("div",{className:"flex-1 flex flex-col relative bg-midnight overflow-hidden h-full",children:[Z.jsxs("div",{className:"h-[60px] bg-void/90 border-b border-border flex-shrink-0 relative overflow-hidden z-20 shadow-sm",ref:g,children:[Z.jsx("div",{className:"h-[30px] border-b border-border/30 flex relative min-w-max",children:W.map((ct,ft)=>Z.jsx("div",{className:"h-full border-r border-border/30 flex items-center bg-void/90 overflow-hidden",style:{width:ct.width},children:Z.jsx("span",{className:"sticky left-0 px-4 text-xs font-header text-bronze tracking-widest uppercase whitespace-nowrap",children:ct.label})},ft))}),Z.jsx("div",{className:"h-[30px] w-[max-content] relative",children:H.map((ct,ft)=>Z.jsxs("div",{className:`absolute top-0 h-full border-r border-border/30 flex flex-col justify-center items-center text-[10px] select-none ${ct.isWeekend?"bg-white/5":""}`,style:{left:ct.left,width:_},children:[Z.jsx("span",{className:"text-gray-500",children:ct.subLabel}),Z.jsx("span",{className:"text-stone font-bold",children:ct.label})]},ft))})]}),Z.jsx("div",{ref:d,className:"flex-1 overflow-auto relative bg-grid-pattern bg-[length:40px_40px]",onScroll:vt,children:Z.jsxs("div",{style:{width:A,height:V},className:"relative",children:[Z.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-10 overflow-visible",children:[Z.jsx("defs",{children:Z.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:Z.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#5C5242"})})}),Pt()]}),a.map((ct,ft)=>Z.jsx(OS,{task:ct,style:mt(ct,ft),isSummary:ct.isSummary,onMouseDown:C=>{ct.isSummary||l(C,ct)},onDoubleClick:()=>c(ct)},ct.id))]})})]})},VS=({task:a,onClose:t,onSave:i})=>{const[s,l]=oe.useState({...a});return Z.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:Z.jsxs("div",{className:"w-[400px] bg-panel border border-bronze/50 shadow-2xl rounded-lg overflow-hidden",children:[Z.jsxs("div",{className:"h-12 bg-void/50 border-b border-border flex items-center justify-between px-4",children:[Z.jsx("h2",{className:"font-header text-bronze tracking-wide",children:"Edit Phase"}),Z.jsx("button",{onClick:t,className:"text-stone hover:text-white",children:Z.jsx(CS,{size:18})})]}),Z.jsxs("div",{className:"p-6 space-y-4 font-mono text-sm",children:[Z.jsxs("div",{className:"space-y-1",children:[Z.jsx("label",{className:"text-gray-500 uppercase text-[10px] tracking-wider",children:"Phase Name"}),Z.jsx("input",{type:"text",value:s.name,onChange:c=>l({...s,name:c.target.value}),className:"w-full bg-midnight border border-border px-3 py-2 text-stone focus:border-bronze outline-none rounded"})]}),Z.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Z.jsxs("div",{className:"space-y-1",children:[Z.jsx("label",{className:"text-gray-500 uppercase text-[10px] tracking-wider",children:"Start Date"}),Z.jsx("input",{type:"date",min:"2000-01-01",max:"2100-12-31",value:s.startDate?s.startDate.split("T")[0]:"",onChange:c=>l({...s,startDate:new Date(c.target.value).toISOString()}),className:"w-full bg-midnight border border-border px-3 py-2 text-stone focus:border-bronze outline-none rounded text-xs"})]}),Z.jsxs("div",{className:"space-y-1",children:[Z.jsx("label",{className:"text-gray-500 uppercase text-[10px] tracking-wider",children:"Duration (Days)"}),Z.jsx("input",{type:"number",value:s.duration,onChange:c=>l({...s,duration:parseInt(c.target.value)}),className:"w-full bg-midnight border border-border px-3 py-2 text-stone focus:border-bronze outline-none rounded"})]}),Z.jsxs("div",{className:"space-y-1",children:[Z.jsx("label",{className:"text-gray-500 uppercase text-[10px] tracking-wider",children:"Progress (%)"}),Z.jsx("input",{type:"number",min:"0",max:"100",value:s.progress,onChange:c=>l({...s,progress:parseInt(c.target.value)}),className:"w-full bg-midnight border border-border px-3 py-2 text-stone focus:border-bronze outline-none rounded"})]})]}),Z.jsxs("div",{className:"space-y-1",children:[Z.jsx("label",{className:"text-gray-500 uppercase text-[10px] tracking-wider",children:"Depends On (IDs, comma sep)"}),Z.jsx("input",{type:"text",placeholder:"e.g. t1, t2",value:s.dependencies?s.dependencies.join(", "):"",onChange:c=>{const g=c.target.value.split(",").map(_=>_.trim()).filter(Boolean);l({...s,dependencies:g})},className:"w-full bg-midnight border border-border px-3 py-2 text-stone focus:border-bronze outline-none rounded font-mono text-xs"})]})]}),Z.jsxs("div",{className:"p-4 border-t border-border bg-void/30 flex justify-end gap-2",children:[Z.jsx("button",{onClick:t,className:"px-4 py-2 hover:bg-white/5 rounded text-stone transition-colors",children:"Cancel"}),Z.jsx("button",{onClick:()=>{const d=new Date(s.startDate).getFullYear();if(isNaN(d)||d<2e3||d>2100){alert("Please enter a valid year between 2000 and 2100.");return}if(s.duration<1){alert("Duration must be at least 1 day.");return}i(s)},className:"px-4 py-2 bg-bronze hover:bg-bronzeDark text-midnight font-bold rounded font-header tracking-wide transition-colors",children:"Confirm Updates"})]})]})})},b_=[{id:"1",name:"Approved Inspection",startDate:"2021-01-19",duration:29,progress:0,type:"task",dependencies:[]},{id:"1.1",name:"Revise Plans",startDate:"2021-01-19",duration:9,progress:0,type:"task",dependencies:[]},{id:"1.2",name:"Get Plan Check",startDate:"2021-01-29",duration:13,progress:0,type:"task",dependencies:[]},{id:"1.3",name:"Confirm Remaining Items",startDate:"2021-02-12",duration:3,progress:0,type:"task",dependencies:[]},{id:"1.4",name:"Inspection 1",startDate:"2021-02-16",duration:1,progress:0,type:"task",dependencies:[]},{id:"1.5",name:"Inspection 2",startDate:"2021-05-01",duration:1,progress:0,type:"task",dependencies:[]},{id:"2",name:"Clear-down",startDate:"2021-01-19",duration:51,progress:0,type:"task",dependencies:[]},{id:"2.1",name:"Ebay items",startDate:"2021-01-19",duration:29,progress:0,type:"task",dependencies:[]},{id:"2.2",name:"Assemble rubbish",startDate:"2021-01-24",duration:6,progress:0,type:"task",dependencies:[]},{id:"2.3",name:"Skip",startDate:"2021-01-31",duration:1,progress:0,type:"task",dependencies:[]},{id:"2.4",name:"Remove rubbish zone",startDate:"2021-02-01",duration:6,progress:0,type:"task",dependencies:[]},{id:"2.5",name:"Move other things to storage",startDate:"2021-02-08",duration:6,progress:0,type:"task",dependencies:[]},{id:"3",name:"Fire Hardware",startDate:"2021-02-08",duration:63,progress:0,type:"task",dependencies:[]},{id:"3.1",name:"Build wall L02",startDate:"2021-02-08",duration:6,progress:0,type:"task",dependencies:[]},{id:"3.2",name:"Hang fire door L01",startDate:"2021-02-15",duration:6,progress:0,type:"task",dependencies:[]},{id:"3.3",name:"Fit hardware to fire doors",startDate:"2021-02-22",duration:13,progress:0,type:"task",dependencies:[]},{id:"3.4",name:"Wall/ceiling linings",startDate:"2021-03-08",duration:14,progress:0,type:"task",dependencies:[]},{id:"3.5",name:"Boxing in services",startDate:"2021-03-23",duration:20,progress:0,type:"task",dependencies:[]},{id:"4",name:"Sprinklers",startDate:"2021-04-13",duration:38,progress:0,type:"task",dependencies:[]},{id:"4.1",name:"Pipework",startDate:"2021-04-13",duration:13,progress:0,type:"task",dependencies:[]},{id:"4.2",name:"Pressure Test",startDate:"2021-04-27",duration:3,progress:0,type:"task",dependencies:[]},{id:"4.3",name:"Fix sprinkler heads",startDate:"2021-05-01",duration:6,progress:0,type:"task",dependencies:[]},{id:"4.4",name:"Connect supply",startDate:"2021-05-08",duration:6,progress:0,type:"task",dependencies:[]},{id:"4.5",name:"Commission",startDate:"2021-05-15",duration:6,progress:0,type:"task",dependencies:[]},{id:"5",name:"Fire Alarm",startDate:"2021-01-19",duration:22,progress:0,type:"task",dependencies:[]},{id:"5.1",name:"Complete wiring",startDate:"2021-01-19",duration:4,progress:0,type:"task",dependencies:[]},{id:"5.2",name:"Wire up",startDate:"2021-01-24",duration:2,progress:0,type:"task",dependencies:[]},{id:"5.3",name:"(plastering a pre-requisite)",startDate:"2021-01-27",duration:3,progress:0,type:"task",dependencies:[]},{id:"6",name:"Hot water",startDate:"2021-01-19",duration:62,progress:0,type:"task",dependencies:[]},{id:"6.1",name:"Discharge Pipework /Other",startDate:"2021-01-19",duration:13,progress:0,type:"task",dependencies:[]},{id:"6.2",name:"Tradesman pause",startDate:"2021-02-02",duration:32,progress:0,type:"task",dependencies:[]},{id:"6.3",name:"Boiler & cylinder install",startDate:"2021-03-07",duration:6,progress:0,type:"task",dependencies:[]},{id:"6.4",name:"pressure testing/commis",startDate:"2021-03-14",duration:1,progress:0,type:"task",dependencies:[]},{id:"6.5",name:"flue to roof incl. cowl",startDate:"2021-03-01",duration:6,progress:0,type:"task",dependencies:[]},{id:"7",name:"UFH",startDate:"2021-02-02",duration:34,progress:0,type:"task",dependencies:[]},{id:"7.1",name:"Manifold install",startDate:"2021-02-02",duration:6,progress:0,type:"task",dependencies:[]},{id:"7.2",name:"Complete piping",startDate:"2021-02-09",duration:6,progress:0,type:"task",dependencies:[]},{id:"7.3",name:"Repair damaged pipework",startDate:"2021-02-16",duration:6,progress:0,type:"task",dependencies:[]},{id:"7.4",name:"Connect supply",startDate:"2021-02-23",duration:6,progress:0,type:"task",dependencies:[]},{id:"7.5",name:"Wiring",startDate:"2021-03-02",duration:6,progress:0,type:"task",dependencies:[]},{id:"8",name:"Envelope",startDate:"2021-05-22",duration:23,progress:0,type:"task",dependencies:[]},{id:"8.1",name:"Re-gutter roof",startDate:"2021-05-22",duration:6,progress:0,type:"task",dependencies:[]},{id:"8.2",name:"Weld window L01",startDate:"2021-05-29",duration:1,progress:0,type:"task",dependencies:[]},{id:"8.3",name:"Front door openable - lock",startDate:"2021-05-31",duration:9,progress:0,type:"task",dependencies:[]},{id:"8.4",name:"cowls for vents",startDate:"2021-06-10",duration:4,progress:0,type:"task",dependencies:[]},{id:"9",name:"Temporary Making Good",startDate:"2021-06-15",duration:20,progress:0,type:"task",dependencies:[]},{id:"9.1",name:"Floor paint to L04",startDate:"2021-06-15",duration:6,progress:0,type:"task",dependencies:[]},{id:"9.2",name:"Boxing in services",startDate:"2021-06-22",duration:13,progress:0,type:"task",dependencies:[]},{id:"10",name:"Lighting",startDate:"2021-07-06",duration:62,progress:0,type:"task",dependencies:[]},{id:"10.1",name:"Design / Schedule",startDate:"2021-07-06",duration:6,progress:0,type:"task",dependencies:[]},{id:"10.2",name:"Digidim/DALI",startDate:"2021-07-13",duration:6,progress:0,type:"task",dependencies:[]},{id:"10.3",name:"Fittings",startDate:"2021-07-20",duration:20,progress:0,type:"task",dependencies:[]},{id:"10.4",name:"Switches",startDate:"2021-08-10",duration:13,progress:0,type:"task",dependencies:[]},{id:"10.5",name:"Making good",startDate:"2021-08-24",duration:13,progress:0,type:"task",dependencies:[]},{id:"11",name:"Kitchen",startDate:"2021-09-07",duration:62,progress:0,type:"task",dependencies:[]},{id:"11.1",name:"Carcassing",startDate:"2021-09-07",duration:13,progress:0,type:"task",dependencies:[]},{id:"11.2",name:"Doors",startDate:"2021-09-21",duration:13,progress:0,type:"task",dependencies:[]},{id:"11.3",name:"Appliances",startDate:"2021-10-05",duration:6,progress:0,type:"task",dependencies:[]},{id:"11.4",name:"Electrics",startDate:"2021-10-12",duration:13,progress:0,type:"task",dependencies:[]},{id:"11.5",name:"Making good",startDate:"2021-10-26",duration:13,progress:0,type:"task",dependencies:[]},{id:"12",name:"Showerroom",startDate:"2021-11-08",duration:55,progress:0,type:"task",dependencies:[]},{id:"12.1",name:"Tiling",startDate:"2021-11-08",duration:6,progress:0,type:"task",dependencies:[]},{id:"12.2",name:"Shower screen",startDate:"2021-11-15",duration:6,progress:0,type:"task",dependencies:[]},{id:"12.3",name:"Plastering",startDate:"2021-11-22",duration:13,progress:0,type:"task",dependencies:[]},{id:"12.4",name:"Lighting",startDate:"2021-12-06",duration:6,progress:0,type:"task",dependencies:[]},{id:"12.5",name:"Making good",startDate:"2021-12-13",duration:20,progress:0,type:"task",dependencies:[]}],xS=()=>{};var w_={};const e0=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},kS=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],g=a[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const c=a[i++],d=a[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},n0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,g=d?a[l+1]:0,_=l+2<a.length,y=_?a[l+2]:0,S=c>>2,A=(c&3)<<4|g>>4;let V=(g&15)<<2|y>>6,H=y&63;_||(H=64,d||(V=64)),s.push(i[S],i[A],i[V],i[H])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(e0(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):kS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],g=l<a.length?i[a.charAt(l)]:0;++l;const y=l<a.length?i[a.charAt(l)]:64;++l;const A=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||g==null||y==null||A==null)throw new US;const V=c<<2|g>>4;if(s.push(V),y!==64){const H=g<<4&240|y>>2;if(s.push(H),A!==64){const W=y<<6&192|A;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class US extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LS=function(a){const t=e0(a);return n0.encodeByteArray(t,!0)},xc=function(a){return LS(a).replace(/\./g,"")},i0=function(a){try{return n0.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function PS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zS=()=>PS().__FIREBASE_DEFAULTS__,jS=()=>{if(typeof process>"u"||typeof w_>"u")return;const a=w_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},BS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&i0(a[1]);return t&&JSON.parse(t)},eh=()=>{try{return xS()||zS()||jS()||BS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},r0=a=>eh()?.emulatorHosts?.[a],qS=a=>{const t=r0(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},s0=()=>eh()?.config,a0=a=>eh()?.[`_${a}`];class HS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function $a(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function o0(a){return(await fetch(a,{credentials:"include"})).ok}function GS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[xc(JSON.stringify(i)),xc(JSON.stringify(d)),""].join(".")}const _l={};function FS(){const a={prod:[],emulator:[]};for(const t of Object.keys(_l))_l[t]?a.emulator.push(t):a.prod.push(t);return a}function QS(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let R_=!1;function l0(a,t){if(typeof window>"u"||typeof document>"u"||!$a(window.location.host)||_l[a]===t||_l[a]||R_)return;_l[a]=t;function i(V){return`__firebase__banner__${V}`}const s="__firebase__banner",c=FS().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,H){V.setAttribute("width","24"),V.setAttribute("id",H),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{R_=!0,d()},V}function S(V,H){V.setAttribute("id",H),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function A(){const V=QS(s),H=i("text"),W=document.getElementById(H)||document.createElement("span"),et=i("learnmore"),$=document.getElementById(et)||document.createElement("a"),lt=i("preprendIcon"),vt=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const mt=V.element;g(mt),S($,et);const Pt=y();_(vt,lt),mt.append(vt,W,$,Pt),document.body.appendChild(mt)}c?(W.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function KS(){const a=eh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function JS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $S(){const a=Je();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function WS(){return!KS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tA(){try{return typeof indexedDB=="object"}catch{return!1}}function eA(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const nA="FirebaseError";class tr extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=nA,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vl.prototype.create)}}class Vl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?iA(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new tr(l,g,s)}}function iA(a,t){return a.replace(rA,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const rA=/\{\$([^}]+)}/g;function sA(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function xs(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=a[l],d=t[l];if(C_(c)&&C_(d)){if(!xs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function C_(a){return a!==null&&typeof a=="object"}function xl(a){const t=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function aA(a,t){const i=new oA(a,t);return i.subscribe.bind(i)}class oA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");lA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=bd),l.error===void 0&&(l.error=bd),l.complete===void 0&&(l.complete=bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lA(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function bd(){}function xn(a){return a&&a._delegate?a._delegate:a}class ks{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ns="[DEFAULT]";class uA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new HS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(hA(t))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Ns){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ns){return this.instances.has(t)}getOptions(t=Ns){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cA(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ns){return this.component?this.component.multipleInstances?t:Ns:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cA(a){return a===Ns?void 0:a}function hA(a){return a.instantiationMode==="EAGER"}class fA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new uA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var xt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(xt||(xt={}));const dA={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},mA=xt.INFO,pA={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},gA=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=pA[t];if(l)console[l](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class om{constructor(t){this.name=t,this._logLevel=mA,this._logHandler=gA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?dA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const yA=(a,t)=>t.some(i=>a instanceof i);let I_,D_;function _A(){return I_||(I_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vA(){return D_||(D_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u0=new WeakMap,Ud=new WeakMap,c0=new WeakMap,wd=new WeakMap,lm=new WeakMap;function EA(a){const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Br(a.result)),l()},d=()=>{s(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&u0.set(i,a)}).catch(()=>{}),lm.set(t,a),t}function TA(a){if(Ud.has(a))return;const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});Ud.set(a,t)}let Ld={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Ud.get(a);if(t==="objectStoreNames")return a.objectStoreNames||c0.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Br(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function SA(a){Ld=a(Ld)}function AA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(Rd(this),t,...i);return c0.set(s,t.sort?t.sort():[t]),Br(s)}:vA().includes(a)?function(...t){return a.apply(Rd(this),t),Br(u0.get(this))}:function(...t){return Br(a.apply(Rd(this),t))}}function bA(a){return typeof a=="function"?AA(a):(a instanceof IDBTransaction&&TA(a),yA(a,_A())?new Proxy(a,Ld):a)}function Br(a){if(a instanceof IDBRequest)return EA(a);if(wd.has(a))return wd.get(a);const t=bA(a);return t!==a&&(wd.set(a,t),lm.set(t,a)),t}const Rd=a=>lm.get(a);function wA(a,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),g=Br(d);return s&&d.addEventListener("upgradeneeded",_=>{s(Br(d.result),_.oldVersion,_.newVersion,Br(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const RA=["get","getKey","getAll","getAllKeys","count"],CA=["put","add","delete","clear"],Cd=new Map;function N_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Cd.get(t))return Cd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=CA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||RA.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return Cd.set(t,c),c}SA(a=>({...a,get:(t,i,s)=>N_(t,i)||a.get(t,i,s),has:(t,i)=>!!N_(t,i)||a.has(t,i)}));class IA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(DA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function DA(a){return a.getComponent()?.type==="VERSION"}const Pd="@firebase/app",O_="0.14.6";const Xi=new om("@firebase/app"),NA="@firebase/app-compat",OA="@firebase/analytics-compat",MA="@firebase/analytics",VA="@firebase/app-check-compat",xA="@firebase/app-check",kA="@firebase/auth",UA="@firebase/auth-compat",LA="@firebase/database",PA="@firebase/data-connect",zA="@firebase/database-compat",jA="@firebase/functions",BA="@firebase/functions-compat",qA="@firebase/installations",HA="@firebase/installations-compat",GA="@firebase/messaging",FA="@firebase/messaging-compat",QA="@firebase/performance",YA="@firebase/performance-compat",KA="@firebase/remote-config",XA="@firebase/remote-config-compat",ZA="@firebase/storage",JA="@firebase/storage-compat",$A="@firebase/firestore",WA="@firebase/ai",tb="@firebase/firestore-compat",eb="firebase",nb="12.6.0";const zd="[DEFAULT]",ib={[Pd]:"fire-core",[NA]:"fire-core-compat",[MA]:"fire-analytics",[OA]:"fire-analytics-compat",[xA]:"fire-app-check",[VA]:"fire-app-check-compat",[kA]:"fire-auth",[UA]:"fire-auth-compat",[LA]:"fire-rtdb",[PA]:"fire-data-connect",[zA]:"fire-rtdb-compat",[jA]:"fire-fn",[BA]:"fire-fn-compat",[qA]:"fire-iid",[HA]:"fire-iid-compat",[GA]:"fire-fcm",[FA]:"fire-fcm-compat",[QA]:"fire-perf",[YA]:"fire-perf-compat",[KA]:"fire-rc",[XA]:"fire-rc-compat",[ZA]:"fire-gcs",[JA]:"fire-gcs-compat",[$A]:"fire-fst",[tb]:"fire-fst-compat",[WA]:"fire-vertex","fire-js":"fire-js",[eb]:"fire-js-all"};const kc=new Map,rb=new Map,jd=new Map;function M_(a,t){try{a.container.addComponent(t)}catch(i){Xi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ga(a){const t=a.name;if(jd.has(t))return Xi.debug(`There were multiple attempts to register component ${t}.`),!1;jd.set(t,a);for(const i of kc.values())M_(i,a);for(const i of rb.values())M_(i,a);return!0}function um(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Yn(a){return a==null?!1:a.settings!==void 0}const sb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new Vl("app","Firebase",sb);class ab{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const Wa=nb;function h0(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s={name:zd,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw qr.create("bad-app-name",{appName:String(l)});if(i||(i=s0()),!i)throw qr.create("no-options");const c=kc.get(l);if(c){if(xs(i,c.options)&&xs(s,c.config))return c;throw qr.create("duplicate-app",{appName:l})}const d=new fA(l);for(const _ of jd.values())d.addComponent(_);const g=new ab(i,s,d);return kc.set(l,g),g}function f0(a=zd){const t=kc.get(a);if(!t&&a===zd&&s0())return h0();if(!t)throw qr.create("no-app",{appName:a});return t}function Hr(a,t,i){let s=ib[a]??a;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xi.warn(d.join(" "));return}Ga(new ks(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const ob="firebase-heartbeat-database",lb=1,bl="firebase-heartbeat-store";let Id=null;function d0(){return Id||(Id=wA(ob,lb,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(bl)}catch(i){console.warn(i)}}}}).catch(a=>{throw qr.create("idb-open",{originalErrorMessage:a.message})})),Id}async function ub(a){try{const i=(await d0()).transaction(bl),s=await i.objectStore(bl).get(m0(a));return await i.done,s}catch(t){if(t instanceof tr)Xi.warn(t.message);else{const i=qr.create("idb-get",{originalErrorMessage:t?.message});Xi.warn(i.message)}}}async function V_(a,t){try{const s=(await d0()).transaction(bl,"readwrite");await s.objectStore(bl).put(t,m0(a)),await s.done}catch(i){if(i instanceof tr)Xi.warn(i.message);else{const s=qr.create("idb-set",{originalErrorMessage:i?.message});Xi.warn(s.message)}}}function m0(a){return`${a.name}!${a.options.appId}`}const cb=1024,hb=30;class fb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new mb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=x_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>hb){const l=pb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Xi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=x_(),{heartbeatsToSend:i,unsentEntries:s}=db(this._heartbeatsCache.heartbeats),l=xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Xi.warn(t),""}}}function x_(){return new Date().toISOString().substring(0,10)}function db(a,t=cb){const i=[];let s=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),k_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),k_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class mb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tA()?eA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ub(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return V_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return V_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function k_(a){return xc(JSON.stringify({version:2,heartbeats:a})).length}function pb(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}function gb(a){Ga(new ks("platform-logger",t=>new IA(t),"PRIVATE")),Ga(new ks("heartbeat",t=>new fb(t),"PRIVATE")),Hr(Pd,O_,a),Hr(Pd,O_,"esm2020"),Hr("fire-js","")}gb("");var yb="firebase",_b="12.7.0";Hr(yb,_b,"app");function p0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vb=p0,g0=new Vl("auth","Firebase",p0());const Uc=new om("@firebase/auth");function Eb(a,...t){Uc.logLevel<=xt.WARN&&Uc.warn(`Auth (${Wa}): ${a}`,...t)}function bc(a,...t){Uc.logLevel<=xt.ERROR&&Uc.error(`Auth (${Wa}): ${a}`,...t)}function Zi(a,...t){throw cm(a,...t)}function vi(a,...t){return cm(a,...t)}function y0(a,t,i){const s={...vb(),[t]:i};return new Vl("auth","Firebase",s).create(t,{appName:a.name})}function Gr(a){return y0(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cm(a,...t){if(typeof a!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return g0.create(a,...t)}function Et(a,t,...i){if(!a)throw cm(t,...i)}function Qi(a){const t="INTERNAL ASSERTION FAILED: "+a;throw bc(t),new Error(t)}function Ji(a,t){a||Qi(t)}function Bd(){return typeof self<"u"&&self.location?.href||""}function Tb(){return U_()==="http:"||U_()==="https:"}function U_(){return typeof self<"u"&&self.location?.protocol||null}function Sb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tb()||ZS()||"connection"in navigator)?navigator.onLine:!0}function Ab(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class kl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Ji(i>t,"Short delay should be less than long delay!"),this.isMobile=YS()||JS()}get(){return Sb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hm(a,t){Ji(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class _0{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const wb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Rb=new kl(3e4,6e4);function nh(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function to(a,t,i,s,l={}){return v0(a,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=xl({key:a.config.apiKey,...d}).slice(1),_=await a._getAdditionalHeaders();_["Content-Type"]="application/json",a.languageCode&&(_["X-Firebase-Locale"]=a.languageCode);const y={method:t,headers:_,...c};return XS()||(y.referrerPolicy="no-referrer"),a.emulatorConfig&&$a(a.emulatorConfig.host)&&(y.credentials="include"),_0.fetch()(await T0(a,a.config.apiHost,i,g),y)})}async function v0(a,t,i){a._canInitEmulator=!1;const s={...bb,...t};try{const l=new Cb(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw _c(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(a,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw _c(a,"email-already-in-use",d);if(_==="USER_DISABLED")throw _c(a,"user-disabled",d);const S=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw y0(a,S,y);Zi(a,S)}}catch(l){if(l instanceof tr)throw l;Zi(a,"network-request-failed",{message:String(l)})}}async function E0(a,t,i,s,l={}){const c=await to(a,t,i,s,l);return"mfaPendingCredential"in c&&Zi(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function T0(a,t,i,s){const l=`${t}${i}?${s}`,c=a,d=c.config.emulator?hm(a.config,l):`${a.config.apiScheme}://${l}`;return wb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Cb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(vi(this.auth,"network-request-failed")),Rb.get())})}}function _c(a,t,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=vi(a,t,s);return l.customData._tokenResponse=i,l}async function Ib(a,t){return to(a,"POST","/v1/accounts:delete",t)}async function Lc(a,t){return to(a,"POST","/v1/accounts:lookup",t)}function vl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Db(a,t=!1){const i=xn(a),s=await i.getIdToken(t),l=fm(s);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:vl(Dd(l.auth_time)),issuedAtTime:vl(Dd(l.iat)),expirationTime:vl(Dd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Dd(a){return Number(a)*1e3}function fm(a){const[t,i,s]=a.split(".");if(t===void 0||i===void 0||s===void 0)return bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=i0(i);return l?JSON.parse(l):(bc("Failed to decode base64 JWT payload"),null)}catch(l){return bc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function L_(a){const t=fm(a);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function wl(a,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof tr&&Nb(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function Nb({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class Ob{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class qd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Pc(a){const t=a.auth,i=await a.getIdToken(),s=await wl(a,Lc(t,{idToken:i}));Et(s?.users.length,t,"internal-error");const l=s.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?S0(l.providerUserInfo):[],d=Vb(a.providerData,c),g=a.isAnonymous,_=!(a.email&&l.passwordHash)&&!d?.length,y=g?_:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new qd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(a,S)}async function Mb(a){const t=xn(a);await Pc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Vb(a,t){return[...a.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function S0(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function xb(a,t){const i=await v0(a,{},async()=>{const s=xl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await T0(a,l,"/v1/token",`key=${c}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:s};return a.emulatorConfig&&$a(a.emulatorConfig.host)&&(_.credentials="include"),_0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function kb(a,t){return to(a,"POST","/v2/accounts:revokeToken",nh(a,t))}class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):L_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=L_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await xb(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Pa;return s&&(Et(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(Et(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return Qi("not implemented")}}function xr(a,t){Et(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Kn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new Ob(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new qd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await wl(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Db(this,t)}reload(){return Mb(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Kn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Pc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Gr(this.auth));const t=await this.getIdToken();return await wl(this,Ib(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:V,isAnonymous:H,providerData:W,stsTokenManager:et}=i;Et(A&&et,t,"internal-error");const $=Pa.fromJSON(this.name,et);Et(typeof A=="string",t,"internal-error"),xr(s,t.name),xr(l,t.name),Et(typeof V=="boolean",t,"internal-error"),Et(typeof H=="boolean",t,"internal-error"),xr(c,t.name),xr(d,t.name),xr(g,t.name),xr(_,t.name),xr(y,t.name),xr(S,t.name);const lt=new Kn({uid:A,auth:t,email:l,emailVerified:V,displayName:s,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:$,createdAt:y,lastLoginAt:S});return W&&Array.isArray(W)&&(lt.providerData=W.map(vt=>({...vt}))),_&&(lt._redirectEventId=_),lt}static async _fromIdTokenResponse(t,i,s=!1){const l=new Pa;l.updateFromServerResponse(i);const c=new Kn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Pc(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?S0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Pa;g.updateFromIdToken(s);const _=new Kn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new qd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const P_=new Map;function Yi(a){Ji(a instanceof Function,"Expected a class definition");let t=P_.get(a);return t?(Ji(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,P_.set(a,t),t)}class A0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}A0.type="NONE";const z_=A0;function wc(a,t,i){return`firebase:${a}:${t}:${i}`}class za{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=wc(this.userKey,l.apiKey,c),this.fullPersistenceKey=wc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Lc(this.auth,{idToken:t}).catch(()=>{});return i?Kn._fromGetAccountInfoResponse(this.auth,i,t):null}return Kn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new za(Yi(z_),t,s);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Yi(z_);const d=wc(s,t.config.apiKey,t.name);let g=null;for(const y of i)try{const S=await y._get(d);if(S){let A;if(typeof S=="string"){const V=await Lc(t,{idToken:S}).catch(()=>{});if(!V)break;A=await Kn._fromGetAccountInfoResponse(t,V,S)}else A=Kn._fromJSON(t,S);y!==c&&(g=A),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new za(c,t,s):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new za(c,t,s))}}function j_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(C0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(b0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(D0(t))return"Blackberry";if(N0(t))return"Webos";if(w0(t))return"Safari";if((t.includes("chrome/")||R0(t))&&!t.includes("edge/"))return"Chrome";if(I0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if(s?.length===2)return s[1]}return"Other"}function b0(a=Je()){return/firefox\//i.test(a)}function w0(a=Je()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function R0(a=Je()){return/crios\//i.test(a)}function C0(a=Je()){return/iemobile/i.test(a)}function I0(a=Je()){return/android/i.test(a)}function D0(a=Je()){return/blackberry/i.test(a)}function N0(a=Je()){return/webos/i.test(a)}function dm(a=Je()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function Ub(a=Je()){return dm(a)&&!!window.navigator?.standalone}function Lb(){return $S()&&document.documentMode===10}function O0(a=Je()){return dm(a)||I0(a)||N0(a)||D0(a)||/windows phone/i.test(a)||C0(a)}function M0(a,t=[]){let i;switch(a){case"Browser":i=j_(Je());break;case"Worker":i=`${j_(Je())}-${a}`;break;default:i=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Wa}/${s}`}class Pb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function zb(a,t={}){return to(a,"GET","/v2/passwordPolicy",nh(a,t))}const jb=6;class Bb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??jb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class qb{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B_(this),this.idTokenSubscription=new B_(this),this.beforeStateQueue=new Pb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Yi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Lc(this,{idToken:t}),s=await Kn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Pc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Ab()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(Gr(this));const i=t?xn(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(Gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await zb(this),i=new Bb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Vl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await kb(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Yi(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[Yi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,s,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=M0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Eb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ih(a){return xn(a)}class B_{constructor(t){this.auth=t,this.observer=null,this.addObserver=aA(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hb(a){mm=a}function Gb(a){return mm.loadJS(a)}function Fb(){return mm.gapiScript}function Qb(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function Yb(a,t){const i=um(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(xs(c,t??{}))return l;Zi(l,"already-initialized")}return i.initialize({options:t})}function Kb(a,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(Yi);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t?.popupRedirectResolver)}function Xb(a,t,i){const s=ih(a);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=V0(t),{host:d,port:g}=Zb(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(xs(y,s.config.emulator)&&xs(S,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=S,s.settings.appVerificationDisabledForTesting=!0,$a(d)?(o0(`${c}//${d}${_}`),l0("Auth",!0)):Jb()}function V0(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function Zb(a){const t=V0(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:q_(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:q_(d)}}}function q_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function Jb(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class x0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Qi("not implemented")}_getIdTokenResponse(t){return Qi("not implemented")}_linkToIdToken(t,i){return Qi("not implemented")}_getReauthenticationResolver(t){return Qi("not implemented")}}async function ja(a,t){return E0(a,"POST","/v1/accounts:signInWithIdp",nh(a,t))}const $b="http://localhost";class Us extends x0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Us(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Zi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Us(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return ja(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,ja(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ja(t,i)}buildRequest(){const t={requestUri:$b,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=xl(i)}return t}}class k0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ul extends k0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class kr extends Ul{constructor(){super("facebook.com")}static credential(t){return Us._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";class Ur extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Us._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Ur.credential(i,s)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";class Lr extends Ul{constructor(){super("github.com")}static credential(t){return Us._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lr.credential(t.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";class Pr extends Ul{constructor(){super("twitter.com")}static credential(t,i){return Us._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Pr.credential(i,s)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";async function Wb(a,t){return E0(a,"POST","/v1/accounts:signUp",nh(a,t))}class Qr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Kn._fromIdTokenResponse(t,s,l),d=H_(s);return new Qr({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=H_(s);return new Qr({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function H_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function t2(a){if(Yn(a.app))return Promise.reject(Gr(a));const t=ih(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Qr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Wb(t,{returnSecureToken:!0}),s=await Qr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(s.user),s}class zc extends tr{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new zc(t,i,s,l)}}function U0(a,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(a,c,t,s):c})}async function e2(a,t,i=!1){const s=await wl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Qr._forOperation(a,"link",s)}async function n2(a,t,i=!1){const{auth:s}=a;if(Yn(s.app))return Promise.reject(Gr(s));const l="reauthenticate";try{const c=await wl(a,U0(s,l,t,a),i);Et(c.idToken,s,"internal-error");const d=fm(c.idToken);Et(d,s,"internal-error");const{sub:g}=d;return Et(a.uid===g,s,"user-mismatch"),Qr._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Zi(s,"user-mismatch"),c}}async function i2(a,t,i=!1){if(Yn(a.app))return Promise.reject(Gr(a));const s="signIn",l=await U0(a,s,t),c=await Qr._fromIdTokenResponse(a,s,l);return i||await a._updateCurrentUser(c.user),c}function r2(a,t,i,s){return xn(a).onIdTokenChanged(t,i,s)}function s2(a,t,i){return xn(a).beforeAuthStateChanged(t,i)}function a2(a,t,i,s){return xn(a).onAuthStateChanged(t,i,s)}const jc="__sak";class L0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(jc,"1"),this.storage.removeItem(jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const o2=1e3,l2=10;class P0 extends L0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);Lb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,l2):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},o2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}P0.type="LOCAL";const u2=P0;class z0 extends L0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}z0.type="SESSION";const j0=z0;function c2(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class rh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new rh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await c2(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rh.receivers=[];function pm(a="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return a+i}class h2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=pm("",20);l.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(A){const V=A;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(S),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ei(){return window}function f2(a){Ei().location.href=a}function B0(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function d2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function m2(){return navigator?.serviceWorker?.controller||null}function p2(){return B0()?self:null}const q0="firebaseLocalStorageDb",g2=1,Bc="firebaseLocalStorage",H0="fbase_key";class Ll{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function sh(a,t){return a.transaction([Bc],t?"readwrite":"readonly").objectStore(Bc)}function y2(){const a=indexedDB.deleteDatabase(q0);return new Ll(a).toPromise()}function Hd(){const a=indexedDB.open(q0,g2);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(Bc,{keyPath:H0})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(Bc)?t(s):(s.close(),await y2(),t(await Hd()))})})}async function G_(a,t,i){const s=sh(a,!0).put({[H0]:t,value:i});return new Ll(s).toPromise()}async function _2(a,t){const i=sh(a,!1).get(t),s=await new Ll(i).toPromise();return s===void 0?null:s.value}function F_(a,t){const i=sh(a,!0).delete(t);return new Ll(i).toPromise()}const v2=800,E2=3;class G0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>E2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rh._getInstance(p2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await d2(),!this.activeServiceWorker)return;this.sender=new h2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||m2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Hd();return await G_(t,jc,"1"),await F_(t,jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>G_(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>_2(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>F_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=sh(l,!1).getAll();return new Ll(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),v2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G0.type="LOCAL";const T2=G0;new kl(3e4,6e4);function S2(a,t){return t?Yi(t):(Et(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class gm extends x0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function A2(a){return i2(a.auth,new gm(a),a.bypassAuthState)}function b2(a){const{auth:t,user:i}=a;return Et(i,t,"internal-error"),n2(i,new gm(a),a.bypassAuthState)}async function w2(a){const{auth:t,user:i}=a;return Et(i,t,"internal-error"),e2(i,new gm(a),a.bypassAuthState)}class F0{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return A2;case"linkViaPopup":case"linkViaRedirect":return w2;case"reauthViaPopup":case"reauthViaRedirect":return b2;default:Zi(this.auth,"internal-error")}}resolve(t){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const R2=new kl(2e3,1e4);class La extends F0{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const t=pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,R2.get())};t()}}La.currentPopupAction=null;const C2="pendingRedirect",Rc=new Map;class I2 extends F0{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Rc.get(this.auth._key());if(!t){try{const s=await D2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Rc.set(this.auth._key(),t)}return this.bypassAuthState||Rc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function D2(a,t){const i=M2(t),s=O2(a);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function N2(a,t){Rc.set(a._key(),t)}function O2(a){return Yi(a._redirectPersistence)}function M2(a){return wc(C2,a.config.apiKey,a.name)}async function V2(a,t,i=!1){if(Yn(a.app))return Promise.reject(Gr(a));const s=ih(a),l=S2(s,t),d=await new I2(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const x2=600*1e3;class k2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!U2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!Q0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(vi(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=x2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q_(t))}saveEventToCache(t){this.cachedEventUids.add(Q_(t)),this.lastProcessedEventTime=Date.now()}}function Q_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function Q0({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function U2(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Q0(a);default:return!1}}async function L2(a,t={}){return to(a,"GET","/v1/projects",t)}const P2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z2=/^https?/;async function j2(a){if(a.config.emulator)return;const{authorizedDomains:t}=await L2(a);for(const i of t)try{if(B2(i))return}catch{}Zi(a,"unauthorized-domain")}function B2(a){const t=Bd(),{protocol:i,hostname:s}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!z2.test(i))return!1;if(P2.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const q2=new kl(3e4,6e4);function Y_(){const a=Ei().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function H2(a){return new Promise((t,i)=>{function s(){Y_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Y_(),i(vi(a,"network-request-failed"))},timeout:q2.get()})}if(Ei().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ei().gapi?.load)s();else{const l=Qb("iframefcb");return Ei()[l]=()=>{gapi.load?s():i(vi(a,"network-request-failed"))},Gb(`${Fb()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Cc=null,t})}let Cc=null;function G2(a){return Cc=Cc||H2(a),Cc}const F2=new kl(5e3,15e3),Q2="__/auth/iframe",Y2="emulator/auth/iframe",K2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z2(a){const t=a.config;Et(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?hm(t,Y2):`https://${a.config.authDomain}/${Q2}`,s={apiKey:t.apiKey,appName:a.name,v:Wa},l=X2.get(a.config.apiHost);l&&(s.eid=l);const c=a._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${xl(s).slice(1)}`}async function J2(a){const t=await G2(a),i=Ei().gapi;return Et(i,a,"internal-error"),t.open({where:document.body,url:Z2(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K2,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=vi(a,"network-request-failed"),g=Ei().setTimeout(()=>{c(d)},F2.get());function _(){Ei().clearTimeout(g),l(s)}s.ping(_).then(_,()=>{c(d)})}))}const $2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},W2=500,tw=600,ew="_blank",nw="http://localhost";class K_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iw(a,t,i,s=W2,l=tw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const _={...$2,width:s.toString(),height:l.toString(),top:c,left:d},y=Je().toLowerCase();i&&(g=R0(y)?ew:i),b0(y)&&(t=t||nw,_.scrollbars="yes");const S=Object.entries(_).reduce((V,[H,W])=>`${V}${H}=${W},`,"");if(Ub(y)&&g!=="_self")return rw(t||"",g),new K_(null);const A=window.open(t||"",g,S);Et(A,a,"popup-blocked");try{A.focus()}catch{}return new K_(A)}function rw(a,t){const i=document.createElement("a");i.href=a,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const sw="__/auth/handler",aw="emulator/auth/handler",ow=encodeURIComponent("fac");async function X_(a,t,i,s,l,c){Et(a.config.authDomain,a,"auth-domain-config-required"),Et(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:Wa,eventId:l};if(t instanceof k0){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",sA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(t instanceof Ul){const S=t.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}a.tenantId&&(d.tid=a.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const _=await a._getAppCheckToken(),y=_?`#${ow}=${encodeURIComponent(_)}`:"";return`${lw(a)}?${xl(g).slice(1)}${y}`}function lw({config:a}){return a.emulator?hm(a,aw):`https://${a.authDomain}/${sw}`}const Nd="webStorageSupport";class uw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j0,this._completeRedirectFn=V2,this._overrideRedirectResult=N2}async _openPopup(t,i,s,l){Ji(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await X_(t,i,s,Bd(),l);return iw(t,c,pm())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await X_(t,i,s,Bd(),l);return f2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ji(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await J2(t),s=new k2(t);return i.register("authEvent",l=>(Et(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Nd,{type:Nd},l=>{const c=l?.[0]?.[Nd];c!==void 0&&i(!!c),Zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=j2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return O0()||w0()||dm()}}const cw=uw;var Z_="@firebase/auth",J_="1.12.0";class hw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fw(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dw(a){Ga(new ks("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M0(a)},y=new qb(s,l,c,_);return Kb(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Ga(new ks("auth-internal",t=>{const i=ih(t.getProvider("auth").getImmediate());return(s=>new hw(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hr(Z_,J_,fw(a)),Hr(Z_,J_,"esm2020")}const mw=300,pw=a0("authIdTokenMaxAge")||mw;let $_=null;const gw=a=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>pw)return;const l=i?.token;$_!==l&&($_=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function yw(a=f0()){const t=um(a,"auth");if(t.isInitialized())return t.getImmediate();const i=Yb(a,{popupRedirectResolver:cw,persistence:[T2,u2,j0]}),s=a0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=gw(c.toString());s2(i,d,()=>d(i.currentUser)),r2(i,g=>d(g))}}const l=r0("auth");return l&&Xb(i,`http://${l}`),i}function _w(){return document.getElementsByTagName("head")?.[0]??document}Hb({loadJS(a){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=t,s.onerror=l=>{const c=vi("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",_w().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dw("Browser");var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fr,Y0;(function(){var a;function t(C,b){function w(){}w.prototype=b.prototype,C.F=b.prototype,C.prototype=new w,C.prototype.constructor=C,C.D=function(M,D,k){for(var R=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)R[Ft-2]=arguments[Ft];return b.prototype[D].apply(M,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,w){w||(w=0);const M=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)M[D]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(D=0;D<16;++D)M[D]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=C.g[0],w=C.g[1],D=C.g[2];let k=C.g[3],R;R=b+(k^w&(D^k))+M[0]+3614090360&4294967295,b=w+(R<<7&4294967295|R>>>25),R=k+(D^b&(w^D))+M[1]+3905402710&4294967295,k=b+(R<<12&4294967295|R>>>20),R=D+(w^k&(b^w))+M[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=w+(b^D&(k^b))+M[3]+3250441966&4294967295,w=D+(R<<22&4294967295|R>>>10),R=b+(k^w&(D^k))+M[4]+4118548399&4294967295,b=w+(R<<7&4294967295|R>>>25),R=k+(D^b&(w^D))+M[5]+1200080426&4294967295,k=b+(R<<12&4294967295|R>>>20),R=D+(w^k&(b^w))+M[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=w+(b^D&(k^b))+M[7]+4249261313&4294967295,w=D+(R<<22&4294967295|R>>>10),R=b+(k^w&(D^k))+M[8]+1770035416&4294967295,b=w+(R<<7&4294967295|R>>>25),R=k+(D^b&(w^D))+M[9]+2336552879&4294967295,k=b+(R<<12&4294967295|R>>>20),R=D+(w^k&(b^w))+M[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=w+(b^D&(k^b))+M[11]+2304563134&4294967295,w=D+(R<<22&4294967295|R>>>10),R=b+(k^w&(D^k))+M[12]+1804603682&4294967295,b=w+(R<<7&4294967295|R>>>25),R=k+(D^b&(w^D))+M[13]+4254626195&4294967295,k=b+(R<<12&4294967295|R>>>20),R=D+(w^k&(b^w))+M[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=w+(b^D&(k^b))+M[15]+1236535329&4294967295,w=D+(R<<22&4294967295|R>>>10),R=b+(D^k&(w^D))+M[1]+4129170786&4294967295,b=w+(R<<5&4294967295|R>>>27),R=k+(w^D&(b^w))+M[6]+3225465664&4294967295,k=b+(R<<9&4294967295|R>>>23),R=D+(b^w&(k^b))+M[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=w+(k^b&(D^k))+M[0]+3921069994&4294967295,w=D+(R<<20&4294967295|R>>>12),R=b+(D^k&(w^D))+M[5]+3593408605&4294967295,b=w+(R<<5&4294967295|R>>>27),R=k+(w^D&(b^w))+M[10]+38016083&4294967295,k=b+(R<<9&4294967295|R>>>23),R=D+(b^w&(k^b))+M[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=w+(k^b&(D^k))+M[4]+3889429448&4294967295,w=D+(R<<20&4294967295|R>>>12),R=b+(D^k&(w^D))+M[9]+568446438&4294967295,b=w+(R<<5&4294967295|R>>>27),R=k+(w^D&(b^w))+M[14]+3275163606&4294967295,k=b+(R<<9&4294967295|R>>>23),R=D+(b^w&(k^b))+M[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=w+(k^b&(D^k))+M[8]+1163531501&4294967295,w=D+(R<<20&4294967295|R>>>12),R=b+(D^k&(w^D))+M[13]+2850285829&4294967295,b=w+(R<<5&4294967295|R>>>27),R=k+(w^D&(b^w))+M[2]+4243563512&4294967295,k=b+(R<<9&4294967295|R>>>23),R=D+(b^w&(k^b))+M[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=w+(k^b&(D^k))+M[12]+2368359562&4294967295,w=D+(R<<20&4294967295|R>>>12),R=b+(w^D^k)+M[5]+4294588738&4294967295,b=w+(R<<4&4294967295|R>>>28),R=k+(b^w^D)+M[8]+2272392833&4294967295,k=b+(R<<11&4294967295|R>>>21),R=D+(k^b^w)+M[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=w+(D^k^b)+M[14]+4259657740&4294967295,w=D+(R<<23&4294967295|R>>>9),R=b+(w^D^k)+M[1]+2763975236&4294967295,b=w+(R<<4&4294967295|R>>>28),R=k+(b^w^D)+M[4]+1272893353&4294967295,k=b+(R<<11&4294967295|R>>>21),R=D+(k^b^w)+M[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=w+(D^k^b)+M[10]+3200236656&4294967295,w=D+(R<<23&4294967295|R>>>9),R=b+(w^D^k)+M[13]+681279174&4294967295,b=w+(R<<4&4294967295|R>>>28),R=k+(b^w^D)+M[0]+3936430074&4294967295,k=b+(R<<11&4294967295|R>>>21),R=D+(k^b^w)+M[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=w+(D^k^b)+M[6]+76029189&4294967295,w=D+(R<<23&4294967295|R>>>9),R=b+(w^D^k)+M[9]+3654602809&4294967295,b=w+(R<<4&4294967295|R>>>28),R=k+(b^w^D)+M[12]+3873151461&4294967295,k=b+(R<<11&4294967295|R>>>21),R=D+(k^b^w)+M[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=w+(D^k^b)+M[2]+3299628645&4294967295,w=D+(R<<23&4294967295|R>>>9),R=b+(D^(w|~k))+M[0]+4096336452&4294967295,b=w+(R<<6&4294967295|R>>>26),R=k+(w^(b|~D))+M[7]+1126891415&4294967295,k=b+(R<<10&4294967295|R>>>22),R=D+(b^(k|~w))+M[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=w+(k^(D|~b))+M[5]+4237533241&4294967295,w=D+(R<<21&4294967295|R>>>11),R=b+(D^(w|~k))+M[12]+1700485571&4294967295,b=w+(R<<6&4294967295|R>>>26),R=k+(w^(b|~D))+M[3]+2399980690&4294967295,k=b+(R<<10&4294967295|R>>>22),R=D+(b^(k|~w))+M[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=w+(k^(D|~b))+M[1]+2240044497&4294967295,w=D+(R<<21&4294967295|R>>>11),R=b+(D^(w|~k))+M[8]+1873313359&4294967295,b=w+(R<<6&4294967295|R>>>26),R=k+(w^(b|~D))+M[15]+4264355552&4294967295,k=b+(R<<10&4294967295|R>>>22),R=D+(b^(k|~w))+M[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=w+(k^(D|~b))+M[13]+1309151649&4294967295,w=D+(R<<21&4294967295|R>>>11),R=b+(D^(w|~k))+M[4]+4149444226&4294967295,b=w+(R<<6&4294967295|R>>>26),R=k+(w^(b|~D))+M[11]+3174756917&4294967295,k=b+(R<<10&4294967295|R>>>22),R=D+(b^(k|~w))+M[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=w+(k^(D|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+k&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const w=b-this.blockSize,M=this.C;let D=this.h,k=0;for(;k<b;){if(D==0)for(;k<=w;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<b;)if(M[D++]=C.charCodeAt(k++),D==this.blockSize){l(this,M),D=0;break}}else for(;k<b;)if(M[D++]=C[k++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var w=C.length-8;w<C.length;++w)C[w]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,w=0;w<4;++w)for(let M=0;M<32;M+=8)C[b++]=this.g[w]>>>M&255;return C};function c(C,b){var w=g;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=b(C)}function d(C,b){this.h=b;const w=[];let M=!0;for(let D=C.length-1;D>=0;D--){const k=C[D]|0;M&&k==b||(w[D]=k,M=!1)}this.g=w}var g={};function _(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return $(y(-C));const b=[];let w=1;for(let M=0;C>=w;M++)b[M]=C/w|0,w*=4294967296;return new d(b,0)}function S(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return $(S(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(b,8));let M=A;for(let k=0;k<C.length;k+=8){var D=Math.min(8,C.length-k);const R=parseInt(C.substring(k,k+D),b);D<8?(D=y(Math.pow(b,D)),M=M.j(D).add(y(R))):(M=M.j(w),M=M.add(y(R)))}return M}var A=_(0),V=_(1),H=_(16777216);a=d.prototype,a.m=function(){if(et(this))return-$(this).m();let C=0,b=1;for(let w=0;w<this.g.length;w++){const M=this.i(w);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},a.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(et(this))return"-"+$(this).toString(C);const b=y(Math.pow(C,6));var w=this;let M="";for(;;){const D=Pt(w,b).g;w=lt(w,D.j(b));let k=((w.g.length>0?w.g[0]:w.h)>>>0).toString(C);if(w=D,W(w))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},a.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function et(C){return C.h==-1}a.l=function(C){return C=lt(this,C),et(C)?-1:W(C)?0:1};function $(C){const b=C.g.length,w=[];for(let M=0;M<b;M++)w[M]=~C.g[M];return new d(w,~C.h).add(V)}a.abs=function(){return et(this)?$(this):this},a.add=function(C){const b=Math.max(this.g.length,C.g.length),w=[];let M=0;for(let D=0;D<=b;D++){let k=M+(this.i(D)&65535)+(C.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);M=R>>>16,k&=65535,R&=65535,w[D]=R<<16|k}return new d(w,w[w.length-1]&-2147483648?-1:0)};function lt(C,b){return C.add($(b))}a.j=function(C){if(W(this)||W(C))return A;if(et(this))return et(C)?$(this).j($(C)):$($(this).j(C));if(et(C))return $(this.j($(C)));if(this.l(H)<0&&C.l(H)<0)return y(this.m()*C.m());const b=this.g.length+C.g.length,w=[];for(var M=0;M<2*b;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<C.g.length;D++){const k=this.i(M)>>>16,R=this.i(M)&65535,Ft=C.i(D)>>>16,it=C.i(D)&65535;w[2*M+2*D]+=R*it,vt(w,2*M+2*D),w[2*M+2*D+1]+=k*it,vt(w,2*M+2*D+1),w[2*M+2*D+1]+=R*Ft,vt(w,2*M+2*D+1),w[2*M+2*D+2]+=k*Ft,vt(w,2*M+2*D+2)}for(C=0;C<b;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=b;C<2*b;C++)w[C]=0;return new d(w,0)};function vt(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function mt(C,b){this.g=C,this.h=b}function Pt(C,b){if(W(b))throw Error("division by zero");if(W(C))return new mt(A,A);if(et(C))return b=Pt($(C),b),new mt($(b.g),$(b.h));if(et(b))return b=Pt(C,$(b)),new mt($(b.g),b.h);if(C.g.length>30){if(et(C)||et(b))throw Error("slowDivide_ only works with positive integers.");for(var w=V,M=b;M.l(C)<=0;)w=ct(w),M=ct(M);var D=ft(w,1),k=ft(M,1);for(M=ft(M,2),w=ft(w,2);!W(M);){var R=k.add(M);R.l(C)<=0&&(D=D.add(w),k=R),M=ft(M,1),w=ft(w,1)}return b=lt(C,D.j(b)),new mt(D,b)}for(D=A;C.l(b)>=0;){for(w=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=y(w),R=k.j(b);et(R)||R.l(C)>0;)w-=M,k=y(w),R=k.j(b);W(k)&&(k=V),D=D.add(k),C=lt(C,R)}return new mt(D,C)}a.B=function(C){return Pt(this,C).h},a.and=function(C){const b=Math.max(this.g.length,C.g.length),w=[];for(let M=0;M<b;M++)w[M]=this.i(M)&C.i(M);return new d(w,this.h&C.h)},a.or=function(C){const b=Math.max(this.g.length,C.g.length),w=[];for(let M=0;M<b;M++)w[M]=this.i(M)|C.i(M);return new d(w,this.h|C.h)},a.xor=function(C){const b=Math.max(this.g.length,C.g.length),w=[];for(let M=0;M<b;M++)w[M]=this.i(M)^C.i(M);return new d(w,this.h^C.h)};function ct(C){const b=C.g.length+1,w=[];for(let M=0;M<b;M++)w[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(w,C.h)}function ft(C,b){const w=b>>5;b%=32;const M=C.g.length-w,D=[];for(let k=0;k<M;k++)D[k]=b>0?C.i(k+w)>>>b|C.i(k+w+1)<<32-b:C.i(k+w);return new d(D,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Y0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,Fr=d}).apply(typeof W_<"u"?W_:typeof self<"u"?self:typeof window<"u"?window:{});var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var K0,ml,X0,Ic,Gd,Z0,J0,$0;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vc=="object"&&vc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var tt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)tt[Rt-2]=arguments[Rt];return m.prototype[L].apply(T,tt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=L[tt]}else u.push(L)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function lt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,v){const T=mt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new et(()=>new Pt,u=>u.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,ft=!1,C=new vt,b=()=>{const u=Promise.resolve(void 0);ct=()=>{u.then(w)}};function w(){for(var u;u=lt();){try{u.h.call(u.g)}catch(v){$(v)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ft=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Ft(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(Ft,D),Ft.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ft.Z.h.call(this)},Ft.prototype.h=function(){Ft.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var it="closure_listenable_"+(Math.random()*1e6|0),U=0;function X(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++U,this.da=this.fa=!1}function rt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function pt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function At(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function N(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<Q.length;B++)v=Q[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=It(u,m,T,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new X(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function Tt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(rt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function It(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),Ie={};function re(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],v,T,L);return null}return v=oo(v),u&&u[it]?u.J(m,v,g(T)?!!T.capture:!1,L):Wr(u,m,v,!1,T,L)}function Wr(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const tt=g(L)?!!L.capture:!!L;let Rt=ts(u);if(Rt||(u[zt]=Rt=new at(u)),v=Rt.add(m,v,T,tt,B),v.proxy)return v;if(T=Hs(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Zn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Hs(){function u(v){return m.call(u.src,u.listener,v)}const m=so;return u}function Gs(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Gs(u,m[B],v,T,L);else T=g(T)?!!T.capture:!!T,v=oo(v),u&&u[it]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=It(m,v,T,L),v>-1&&(rt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ts(u))&&(m=u.g[m.toString()],u=-1,m&&(u=It(m,v,T,L)),(v=u>-1?m[u]:null)&&Fs(v))}function Fs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[it])Tt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Zn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=ts(m))?(Tt(v,u),v.h==0&&(v.src=null,m[zt]=null)):rt(u)}}}function Zn(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function so(u,m){if(u.da)u=!0;else{m=new Ft(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Fs(u),u=v.call(T,m)}return u}function ts(u){return u=u[zt],u instanceof at?u:null}var ao="__closure_events_fn_"+(Math.random()*1e9>>>0);function oo(u){return typeof u=="function"?u:(u[ao]||(u[ao]=function(m){return u.handleEvent(m)}),u[ao])}function ye(){M.call(this),this.i=new at(this),this.M=this,this.G=null}A(ye,M),ye.prototype[it]=!0,ye.prototype.removeEventListener=function(u,m,v,T){Gs(this,u,m,v,T)};function De(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),nt(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=er(B,T,!0,m)&&L;if(B=m.g=u,L=er(B,T,!0,m)&&L,L=er(B,T,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=er(B,T,!1,m)&&L}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)rt(v[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ye.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function er(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const Rt=tt.listener,de=tt.ha||tt.src;tt.fa&&Tt(u.i,tt),L=Rt.call(de,T)!==!1&&L}}return L&&!T.defaultPrevented}function vh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Hl(u){u.g=vh(()=>{u.g=null,u.i&&(u.i=!1,Hl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Hl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(u){M.call(this),this.h=u,this.g={}}A(es,M);var lo=[];function uo(u){pt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Fs(m)},u),u.g={}}es.prototype.N=function(){es.Z.N.call(this),uo(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=d.JSON.stringify,Eh=d.JSON.parse,Gl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Fl(){}function Ql(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){D.call(this,"d")}A(Pe,D);function vn(){D.call(this,"c")}A(vn,D);var fe={},Yl=null;function Qs(){return Yl=Yl||new ye}fe.Ia="serverreachability";function Kl(u){D.call(this,fe.Ia,u)}A(Kl,D);function Jn(u){const m=Qs();De(m,new Kl(m))}fe.STAT_EVENT="statevent";function ns(u,m){D.call(this,fe.STAT_EVENT,u),this.stat=m}A(ns,D);function _e(u){const m=Qs();De(m,new ns(m,u))}fe.Ja="timingevent";function $n(u,m){D.call(this,fe.Ja,u),this.size=m}A($n,D);function Wn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function Th(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var tt="",Rt=B.split("&");for(let Ht=0;Ht<Rt.length;Ht++){var de=Rt[Ht].split("=");if(de.length>1){const se=de[0];de=de[1];const An=se.split("_");tt=An.length>=2&&An[1]=="type"?tt+(se+"="+de+"&"):tt+(se+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function Xl(u,m,v,T,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function ti(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sh(u,v)+(T?" "+T:"")})}function is(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function Sh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return nr(B)}catch{return m}}var rs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ho;function ss(){}A(ss,Fl),ss.prototype.g=function(){return new XMLHttpRequest},ho=new ss;function Ci(u){return encodeURIComponent(String(u))}function Zl(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Ln(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var ve={},Ve={};function ei(u,m,v){u.M=1,u.A=as(Te(m)),u.u=v,u.R=!0,Ys(u,null)}function Ys(u,m){u.F=Date.now(),ni(u),u.B=Te(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Js(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Pn,u.g=hu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new $e(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(lo[0]=L.toString()),L=lo);for(let B=0;B<L.length;B++){const tt=re(v,L[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Jn(),Th(u.i,u.v,u.B,u.l,u.S,u.u)}Ln.prototype.ba=function(u){u=u.target;const m=this.O;m&&Bn(u)==3?m.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=Bn(this.g),de=this.g.ya(),Ht=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||Rt!=4||de==7||(de==8||Ht<=0?Jn(3):Jn(2)),ii(this);var m=this.g.ca();this.X=m;var v=Ah(this);if(this.o=m==200,Xl(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)ti(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,u);else{this.o=!1,this.m=3,_e(12),cn(this),En(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<v.length;)if(se=$l(this,v),se==Ve){Rt==4&&(this.m=4,_e(14),u=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ve){this.m=4,_e(15),ti(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ti(this.i,this.l,se,null),ri(this,se);if(Jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||v.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ti(this.i,this.l,v,"[Invalid Chunked Response]"),cn(this),En(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Co(tt),tt.P=!0,_e(11))}}else ti(this.i,this.l,v,null),ri(this,v);Rt==4&&cn(this),this.o&&!this.K&&(Rt==4?ou(this.j,this):(this.o=!1,ni(this)))}else Di(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),cn(this),En(this)}}}catch{}};function Ah(u){if(!Jl(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,L=Bn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),En(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Jl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function $l(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ve:(v=Number(m.substring(v,T)),isNaN(v)?ve:(T+=1,T+v>m.length?Ve:(m=m.slice(T,T+v),u.C=T+v,m)))}Ln.prototype.cancel=function(){this.K=!0,cn(this)};function ni(u){u.T=Date.now()+u.H,Ks(u,u.H)}function Ks(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Wn(y(u.aa,u),m)}function ii(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Ln.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(is(this.i,this.B),this.M!=2&&(Jn(),_e(17)),cn(this),this.m=2,En(this)):Ks(this,this.T-u)};function En(u){u.j.I==0||u.K||ou(u.j,u)}function cn(u){ii(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,uo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ri(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ai(v.h,u))){if(!u.L&&ai(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)na(v),cr(v);else break t;ds(v),_e(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Wn(y(v.Va,v),6e3));si(v.h)<=1&&v.ta&&(v.ta=void 0)}else fi(v,11)}else if((u.L||v.g==u)&&na(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Ht=L[m];const se=Ht[0];if(!(se<=v.K))if(v.K=se,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const An=Ht[3];An!=null&&(v.ka=An,v.j.info("VER="+v.ka));const di=Ht[4];di!=null&&(v.za=di,v.j.info("SVER="+v.za));const qn=Ht[5];qn!=null&&typeof qn=="number"&&qn>0&&(T=1.5*qn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Hn=u.g;if(Hn){const ms=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var B=T.h;B.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(po(B,B.h),B.h=null))}if(T.G){const ia=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;ia&&(T.wa=ia,Yt(T.J,T.G,ia))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=cu(T,T.L?T.ba:null,T.W),tt.L){go(T.h,tt);var Rt=tt,de=T.O;de&&(Rt.H=de),Rt.D&&(ii(Rt),ni(Rt)),T.g=tt}else su(T);v.i.length>0&&hi(v)}else Ht[0]!="stop"&&Ht[0]!="close"||fi(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?fi(v,7):wo(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}Jn(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function fo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function si(u){return u.h?1:u.g?u.g.size:0}function ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function po(u,m){u.g?u.g.add(m):u.h=m}function go(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fo.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var Wl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xs(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,xe(this,u.j),this.o=u.o,this.g=u.g,ir(this,u.u),this.h=u.h,_o(this,iu(u.i)),this.m=u.m):u&&(m=String(u).match(Wl))?(this.l=!1,xe(this,m[1]||"",!0),this.o=oi(m[2]||""),this.g=oi(m[3]||"",!0),ir(this,m[4]),this.h=oi(m[5]||"",!0),_o(this,m[6]||"",!0),this.m=oi(m[7]||"")):(this.l=!1,this.i=new sr(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(os(m,Zs,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(os(m,Zs,!0),"@"),u.push(Ci(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(os(v,v.charAt(0)=="/"?vo:tu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",os(v,eu)),u.join("")},hn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?xe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ir(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const Rt=L[tt++];Rt=="."?T&&tt==L.length&&B.push(""):Rt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==L.length&&B.push("")):(B.push(Rt),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?_o(m,iu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new hn(u)}function xe(u,m,v){u.j=v?oi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ir(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function _o(u,m,v){m instanceof sr?(u.i=m,$s(u.i,u.l)):(v||(m=os(m,rr)),u.i=new sr(m,u.l))}function Yt(u,m,v){u.i.set(m,v)}function as(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function oi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function os(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,en),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zs=/[#\/\?@]/g,tu=/[#\?:]/g,vo=/[#\?]/g,rr=/[#\?@]/g,eu=/#/g;function sr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Xs(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=sr.prototype,a.add=function(u,m){nn(this),this.i=null,u=ar(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function nu(u,m){nn(u),m=ar(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Eo(u,m){return nn(u),m=ar(u,m),u.g.has(m)}a.forEach=function(u,m){nn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function To(u,m){nn(u);let v=[];if(typeof m=="string")Eo(u,m)&&(v=v.concat(u.g.get(ar(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}a.set=function(u,m){return nn(this),this.i=null,u=ar(this,u),Eo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=To(this,u),u.length>0?String(u[0]):m):m};function Js(u,m,v){nu(u,m),v.length>0&&(u.i=null,u.g.set(ar(u,m),H(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Ci(v);v=To(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+Ci(v[B])),u.push(tt)}}return this.i=u.join("&")};function iu(u){const m=new sr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ar(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function $s(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(nu(this,T),Js(this,L,v))},u)),u.j=m}function zn(u,m){const v=new Un;if(d.Image){const T=new Image;T.onload=S(Tn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Tn,v,"TestLoadImage: error",!1,m,T),T.onabort=S(Tn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Tn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function So(u,m){const v=new Un,T=new AbortController,L=setTimeout(()=>{T.abort(),Tn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Tn(v,"TestPingServer: ok",!0,m):Tn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Tn(v,"TestPingServer: error",!1,m)})}function Tn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function or(){this.g=new Gl}function li(u){this.i=u.Sb||null,this.h=u.ab||!1}A(li,Fl),li.prototype.g=function(){return new ls(this.i,this.h)};function ls(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(ls,ye),a=ls.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,jn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ws(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ws(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?lr(this):jn(this),this.readyState==3&&Ws(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,lr(this))},a.Na=function(u){this.g&&(this.response=u,lr(this))},a.ga=function(){this.g&&lr(this)};function lr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return pt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function us(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Sn(v),typeof u=="string"?v!=null&&Ci(v):Yt(u,m,v))}function Zt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Zt,ye);var ui=/^https?$/i,Ao=["POST","PUT"];a=Zt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ho.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){cs(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ao,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){cs(this,B)}};function cs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,bo(u),Ii(u)}function bo(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Ii(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),Zt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?hs(this):this.Xa())},a.Xa=function(){hs(this)};function hs(u){if(u.h&&typeof c<"u"){if(u.v&&Bn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(Wl)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!ui.test(tt?tt.toLowerCase():"")}v=T}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=Bn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",bo(u)}}finally{Ii(u)}}}}function Ii(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||De(u,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Eh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&Bn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=Zl(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}At(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ur(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ci("baseRetryDelayMs",5e3,u),this.Za=ci("retryDelaySeedMs",1e4,u),this.Ta=ci("forwardChannelMaxRetries",2,u),this.va=ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new fo(u&&u.concurrentRequestLimit),this.Ba=new or,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ur.prototype,a.ka=8,a.I=1,a.connect=function(u,m,v,T){_e(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=cu(this,null,this.W),hi(this)};function wo(u){if(ta(u),u.I==3){var m=u.V++,v=Te(u.J);if(Yt(v,"SID",u.M),Yt(v,"RID",m),Yt(v,"TYPE","terminate"),fs(u,v),m=new Ln(u,u.j,m),m.M=2,m.A=as(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=hu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ni(m)}uu(u)}function cr(u){u.g&&(Co(u),u.g.cancel(),u.g=null)}function ta(u){cr(u),u.v&&(d.clearTimeout(u.v),u.v=null),na(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function hi(u){if(!mo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ct||b(),ft||(ct(),ft=!0),C.add(m,u),u.D=0}}function ea(u,m){return si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Wn(y(u.Ea,u,m),lu(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Ln(this,this.j,u);let B=this.o;if(this.U&&(B?(B=N(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=ru(this,L,m),v=Te(this.J),Yt(v,"RID",u),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),fs(this,v),B&&(this.R?m="headers="+Ci(Sn(B))+"&"+m:this.u&&us(v,this.u,B)),po(this.h,L),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",m),Yt(v,"SID","null"),L.U=!0,ei(L,v,null)):ei(L,v,m),this.I=2}}else this.I==3&&(u?Ro(this,u):this.i.length==0||mo(this.h)||Ro(this))};function Ro(u,m){var v;m?v=m.l:v=u.V++;const T=Te(u.J);Yt(T,"SID",u.M),Yt(T,"RID",v),Yt(T,"AID",u.K),fs(u,T),u.u&&u.o&&us(T,u.u,u.o),v=new Ln(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=ru(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),po(u.h,v),ei(v,T,m)}function fs(u,m){u.H&&pt(u.H,function(v,T){Yt(m,T,v)}),u.l&&pt({},function(v,T){Yt(m,T,v)})}function ru(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Rt=-1;for(;;){const de=["count="+v];Rt==-1?v>0?(Rt=L[0].g,de.push("ofs="+Rt)):Rt=0:de.push("ofs="+Rt);let Ht=!0;for(let se=0;se<v;se++){var B=L[se].g;const An=L[se].map;if(B-=Rt,B<0)Rt=Math.max(0,L[se].g-100),Ht=!1;else try{B="req"+B+"_"||"";try{var tt=An instanceof Map?An:Object.entries(An);for(const[di,qn]of tt){let Hn=qn;g(qn)&&(Hn=nr(qn)),de.push(B+di+"="+encodeURIComponent(Hn))}}catch(di){throw de.push(B+"type="+encodeURIComponent("_badmap")),di}}catch{T&&T(An)}}if(Ht){tt=de.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function su(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ct||b(),ft||(ct(),ft=!0),C.add(m,u),u.A=0}}function ds(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Wn(y(u.Da,u),lu(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Wn(y(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),cr(this),au(this))};function Co(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function au(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),fs(u,m),u.u&&u.o&&us(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=as(Te(m)),v.u=null,v.R=!0,Ys(v,u)}a.Va=function(){this.C!=null&&(this.C=null,cr(this),ds(this),_e(19))};function na(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ou(u,m){var v=null;if(u.g==m){na(u),Co(u),u.g=null;var T=2}else if(ai(u.h,m))v=m.G,go(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Qs(),De(T,new $n(T,v)),hi(u)}else su(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ea(u,m)||T==2&&ds(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:fi(u,5);break;case 4:fi(u,10);break;case 3:fi(u,6);break;default:fi(u,2)}}}function lu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function fi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const L=!T;T=new hn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(T,"https"),as(T),L?zn(T.toString(),v):So(T.toString(),v)}else _e(2);u.I=0,u.l&&u.l.pa(m),uu(u),ta(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function uu(u){if(u.I=0,u.ja=[],u.l){const m=yo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function cu(u,m,v){var T=v instanceof hn?Te(v):new hn(v);if(T.g!="")m&&(T.g=m+"."+T.g),ir(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new hn(null);T&&xe(B,T),m&&(B.g=m),L&&ir(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Yt(T,v,m),Yt(T,"VER",u.ka),fs(u,T),T}function hu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new li({ab:v})):new Zt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}a=fu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function hr(){}hr.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ye.call(this),this.g=new ur(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ni(this)}A(We,ye),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){wo(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=nr(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&hi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,We.Z.N.call(this)};function du(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(du,Pe);function mu(){vn.call(this),this.status=1}A(mu,vn);function Ni(u){this.g=u}A(Ni,fu),Ni.prototype.ra=function(){De(this.g,"a")},Ni.prototype.qa=function(u){De(this.g,new du(u))},Ni.prototype.pa=function(u){De(this.g,new mu)},Ni.prototype.oa=function(){De(this.g,"b")},hr.prototype.createWebChannel=hr.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,$0=function(){return new hr},J0=function(){return Qs()},Z0=fe,Gd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,Ic=rs,co.COMPLETE="complete",X0=co,Ql.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,ml=Ql,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,K0=Zt}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});const tv="@firebase/firestore",ev="4.9.3";class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let eo="12.7.0";const Ls=new om("@firebase/firestore");function Va(){return Ls.logLevel}function st(a,...t){if(Ls.logLevel<=xt.DEBUG){const i=t.map(ym);Ls.debug(`Firestore (${eo}): ${a}`,...i)}}function $i(a,...t){if(Ls.logLevel<=xt.ERROR){const i=t.map(ym);Ls.error(`Firestore (${eo}): ${a}`,...i)}}function Fa(a,...t){if(Ls.logLevel<=xt.WARN){const i=t.map(ym);Ls.warn(`Firestore (${eo}): ${a}`,...i)}}function ym(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function _t(a,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,W0(a,s,i)}function W0(a,t,i){let s=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw $i(s),new Error(s)}function Qt(a,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,a||W0(t,l,s)}function wt(a,t){return a}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends tr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ms{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class tE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class vw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class Ew{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Tw{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let c=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ms,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ms)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qt(typeof s.accessToken=="string",31837,{l:s}),new tE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class Sw{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Aw{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new Sw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const s=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new nv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ww(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}class _m{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=ww(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function kt(a,t){return a<t?-1:a>t?1:0}function Fd(a,t){const i=Math.min(a.length,t.length);for(let s=0;s<i;s++){const l=a.charAt(s),c=t.charAt(s);if(l!==c)return Od(l)===Od(c)?kt(l,c):Od(l)?1:-1}return kt(a.length,t.length)}const Rw=55296,Cw=57343;function Od(a){const t=a.charCodeAt(0);return t>=Rw&&t<=Cw}function Qa(a,t,i){return a.length===t.length&&a.every(((s,l)=>i(s,t[l])))}const iv="__name__";class _i{constructor(t,i,s){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&_t(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return _i.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof _i?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=_i.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return kt(t.length,i.length)}static compareSegments(t,i){const s=_i.isNumericId(t),l=_i.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?_i.extractNumericId(t).compare(_i.extractNumericId(i)):Fd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Fr.fromString(t.substring(4,t.length-2))}}class le extends _i{construct(t,i,s){return new le(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new le(i)}static emptyPath(){return new le([])}}const Iw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends _i{construct(t,i,s){return new Fe(t,i,s)}static isValidIdentifier(t){return Iw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iv}static keyField(){return new Fe([iv])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new ht(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ht(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ht(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new ht(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(le.fromString(t))}static fromName(t){return new gt(le.fromString(t).popFirst(5))}static empty(){return new gt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return le.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new le(t.slice()))}}function Dw(a,t,i){if(!i)throw new ht(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function Nw(a,t,i,s){if(t===!0&&s===!0)throw new ht(J.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function rv(a){if(!gt.isDocumentKey(a))throw new ht(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function eE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function vm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":_t(12329,{type:typeof a})}function Ba(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ht(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=vm(a);throw new ht(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function Ce(a,t){const i={typeString:a};return t&&(i.value=t),i}function Pl(a,t){if(!eE(a))throw new ht(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ht(J.INVALID_ARGUMENT,i);return!0}const sv=-62135596800,av=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*av);return new ie(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<sv)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/av}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Pl(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-sv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ce("string",ie._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new ie(0,0))}static max(){return new St(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Rl=-1;function Ow(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=St.fromTimestamp(s===1e9?new ie(i+1,0):new ie(i,s));return new Yr(l,gt.empty(),t)}function Mw(a){return new Yr(a.readTime,a.key,Rl)}class Yr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Yr(St.min(),gt.empty(),Rl)}static max(){return new Yr(St.max(),gt.empty(),Rl)}}function Vw(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(a.documentKey,t.documentKey),i!==0?i:kt(a.largestBatchId,t.largestBatchId))}const xw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function no(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==xw)throw a;st("LocalStore","Unexpectedly lost primary lease")}class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new K(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):K.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):K.reject(i)}static resolve(t){return new K(((i,s)=>{i(t)}))}static reject(t){return new K(((i,s)=>{s(t)}))}static waitFor(t){return new K(((i,s)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>s(_)))})),d=!0,c===l&&i()}))}static or(t){let i=K.resolve(!1);for(const s of t)i=i.next((l=>l?K.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new K(((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((S=>{d[y]=S,++g,g===c&&s(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new K(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function Uw(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function io(a){return a.name==="IndexedDbTransactionError"}class ah{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ah.ce=-1;const Em=-1;function oh(a){return a==null}function qc(a){return a===0&&1/a==-1/0}function Lw(a){return typeof a=="number"&&Number.isInteger(a)&&!qc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const nE="";function Pw(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=ov(t)),t=zw(a.get(i),t);return ov(t)}function zw(a,t){let i=t;const s=a.length;for(let l=0;l<s;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case nE:i+="";break;default:i+=c}}return i}function ov(a){return a+nE+""}function lv(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function zs(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function iE(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ec(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ec(this.root,t,this.comparator,!0)}}class Ec{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new Ge(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new uv(this.data.getIterator())}getIteratorFrom(t){return new uv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class uv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Xn([])}unionWith(t){let i=new Me(Fe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Qa(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class rE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new rE("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const jw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(a){if(Qt(!!a,39018),typeof a=="string"){let t=0;const i=jw.exec(a);if(Qt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(a.seconds),nanos:ge(a.nanos)}}function ge(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Xr(a){return typeof a=="string"?Qe.fromBase64String(a):Qe.fromUint8Array(a)}const sE="server_timestamp",aE="__type__",oE="__previous_value__",lE="__local_write_time__";function Tm(a){return(a?.mapValue?.fields||{})[aE]?.stringValue===sE}function lh(a){const t=a.mapValue.fields[oE];return Tm(t)?lh(t):t}function Cl(a){const t=Kr(a.mapValue.fields[lE].timestampValue);return new ie(t.seconds,t.nanos)}class Bw{constructor(t,i,s,l,c,d,g,_,y,S){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=S}}const Hc="(default)";class Il{constructor(t,i){this.projectId=t,this.database=i||Hc}static empty(){return new Il("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(t){return t instanceof Il&&t.projectId===this.projectId&&t.database===this.database}}const uE="__type__",qw="__max__",Tc={mapValue:{}},cE="__vector__",Gc="value";function Zr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Tm(a)?4:Gw(a)?9007199254740991:Hw(a)?10:11:_t(28295,{value:a})}function wi(a,t){if(a===t)return!0;const i=Zr(a);if(i!==Zr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Cl(a).isEqual(Cl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Kr(l.timestampValue),g=Kr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return Xr(l.bytesValue).isEqual(Xr(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),g=ge(c.doubleValue);return d===g?qc(d)===qc(g):isNaN(d)&&isNaN(g)}return!1})(a,t);case 9:return Qa(a.arrayValue.values||[],t.arrayValue.values||[],wi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(lv(d)!==lv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!wi(d[_],g[_])))return!1;return!0})(a,t);default:return _t(52216,{left:a})}}function Dl(a,t){return(a.values||[]).find((i=>wi(i,t)))!==void 0}function Ya(a,t){if(a===t)return 0;const i=Zr(a),s=Zr(t);if(i!==s)return kt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(a,t);case 3:return cv(a.timestampValue,t.timestampValue);case 4:return cv(Cl(a),Cl(t));case 5:return Fd(a.stringValue,t.stringValue);case 6:return(function(c,d){const g=Xr(c),_=Xr(d);return g.compareTo(_)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const S=kt(g[y],_[y]);if(S!==0)return S}return kt(g.length,_.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=kt(ge(c.latitude),ge(d.latitude));return g!==0?g:kt(ge(c.longitude),ge(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return hv(a.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[Gc]?.arrayValue,S=_[Gc]?.arrayValue,A=kt(y?.values?.length||0,S?.values?.length||0);return A!==0?A:hv(y,S)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Tc.mapValue&&d===Tc.mapValue)return 0;if(c===Tc.mapValue)return 1;if(d===Tc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},S=Object.keys(y);_.sort(),S.sort();for(let A=0;A<_.length&&A<S.length;++A){const V=Fd(_[A],S[A]);if(V!==0)return V;const H=Ya(g[_[A]],y[S[A]]);if(H!==0)return H}return kt(_.length,S.length)})(a.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function cv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return kt(a,t);const i=Kr(a),s=Kr(t),l=kt(i.seconds,s.seconds);return l!==0?l:kt(i.nanos,s.nanos)}function hv(a,t){const i=a.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Ya(i[l],s[l]);if(c)return c}return kt(i.length,s.length)}function Ka(a){return Qd(a)}function Qd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=Kr(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Xr(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return gt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Qd(c);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Qd(i.fields[d])}`;return l+"}"})(a.mapValue):_t(61005,{value:a})}function Dc(a){switch(Zr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=lh(a);return t?16+Dc(t):16;case 5:return 2*a.stringValue.length;case 6:return Xr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Dc(c)),0)})(a.arrayValue);case 10:case 11:return(function(s){let l=0;return zs(s.fields,((c,d)=>{l+=c.length+Dc(d)})),l})(a.mapValue);default:throw _t(13486,{value:a})}}function Yd(a){return!!a&&"integerValue"in a}function Sm(a){return!!a&&"arrayValue"in a}function fv(a){return!!a&&"nullValue"in a}function dv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Nc(a){return!!a&&"mapValue"in a}function Hw(a){return(a?.mapValue?.fields||{})[uE]?.stringValue===cE}function El(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return zs(a.mapValue.fields,((i,s)=>t.mapValue.fields[i]=El(s))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=El(a.arrayValue.values[i]);return t}return{...a}}function Gw(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===qw}class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Nc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=El(i)}setAll(t){let i=Fe.emptyPath(),s={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=El(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Nc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return wi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Nc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){zs(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new Mn(El(this.value))}}function hE(a){const t=[];return zs(a.fields,((i,s)=>{const l=new Fe([i]);if(Nc(s)){const c=hE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Xn(t)}class Ze{constructor(t,i,s,l,c,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ze(t,0,St.min(),St.min(),St.min(),Mn.empty(),0)}static newFoundDocument(t,i,s,l){return new Ze(t,1,i,St.min(),s,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,St.min(),St.min(),Mn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,St.min(),St.min(),Mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fc{constructor(t,i){this.position=t,this.inclusive=i}}function mv(a,t,i){let s=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=Ya(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function pv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!wi(a.position[i],t.position[i]))return!1;return!0}class Qc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Fw(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class fE{}class Oe extends fE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new Yw(t,i,s):i==="array-contains"?new Zw(t,s):i==="in"?new Jw(t,s):i==="not-in"?new $w(t,s):i==="array-contains-any"?new Ww(t,s):new Oe(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new Kw(t,s):new Xw(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ya(i,this.value)):i!==null&&Zr(this.value)===Zr(i)&&this.matchesComparison(Ya(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends fE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ri(t,i)}matches(t){return dE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dE(a){return a.op==="and"}function mE(a){return Qw(a)&&dE(a)}function Qw(a){for(const t of a.filters)if(t instanceof Ri)return!1;return!0}function Kd(a){if(a instanceof Oe)return a.field.canonicalString()+a.op.toString()+Ka(a.value);if(mE(a))return a.filters.map((t=>Kd(t))).join(",");{const t=a.filters.map((i=>Kd(i))).join(",");return`${a.op}(${t})`}}function pE(a,t){return a instanceof Oe?(function(s,l){return l instanceof Oe&&s.op===l.op&&s.field.isEqual(l.field)&&wi(s.value,l.value)})(a,t):a instanceof Ri?(function(s,l){return l instanceof Ri&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,g)=>c&&pE(d,l.filters[g])),!0):!1})(a,t):void _t(19439)}function gE(a){return a instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ka(i.value)}`})(a):a instanceof Ri?(function(i){return i.op.toString()+" {"+i.getFilters().map(gE).join(" ,")+"}"})(a):"Filter"}class Yw extends Oe{constructor(t,i,s){super(t,i,s),this.key=gt.fromName(s.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Kw extends Oe{constructor(t,i){super(t,"in",i),this.keys=yE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Xw extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=yE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function yE(a,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class Zw extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Sm(i)&&Dl(i.arrayValue,this.value)}}class Jw extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Dl(this.value.arrayValue,i)}}class $w extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Dl(this.value.arrayValue,i)}}class Ww extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Sm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Dl(this.value.arrayValue,s)))}}class tR{constructor(t,i=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function gv(a,t=null,i=[],s=[],l=null,c=null,d=null){return new tR(a,t,i,s,l,c,d)}function Am(a){const t=wt(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>Kd(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),oh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>Ka(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>Ka(s))).join(",")),t.Te=i}return t.Te}function bm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Fw(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!pE(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!pv(a.startAt,t.startAt)&&pv(a.endAt,t.endAt)}function Xd(a){return gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class uh{constructor(t,i=null,s=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eR(a,t,i,s,l,c,d,g){return new uh(a,t,i,s,l,c,d,g)}function wm(a){return new uh(a)}function yv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function nR(a){return a.collectionGroup!==null}function Tl(a){const t=wt(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Fe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Qc(c,s))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new Qc(Fe.keyField(),s))}return t.Ie}function Ti(a){const t=wt(a);return t.Ee||(t.Ee=iR(t,Tl(a))),t.Ee}function iR(a,t){if(a.limitType==="F")return gv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Qc(l.field,c)}));const i=a.endAt?new Fc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Fc(a.startAt.position,a.startAt.inclusive):null;return gv(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function Zd(a,t,i){return new uh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function ch(a,t){return bm(Ti(a),Ti(t))&&a.limitType===t.limitType}function _E(a){return`${Am(Ti(a))}|lt:${a.limitType}`}function xa(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>gE(l))).join(", ")}]`),oh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Ka(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Ka(l))).join(",")),`Target(${s})`})(Ti(a))}; limitType=${a.limitType})`}function hh(a,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):gt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(a,t)&&(function(s,l){for(const c of Tl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(s,l){return!(s.startAt&&!(function(d,g,_){const y=mv(d,g,_);return d.inclusive?y<=0:y<0})(s.startAt,Tl(s),l)||s.endAt&&!(function(d,g,_){const y=mv(d,g,_);return d.inclusive?y>=0:y>0})(s.endAt,Tl(s),l))})(a,t)}function rR(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function vE(a){return(t,i)=>{let s=!1;for(const l of Tl(a)){const c=sR(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function sR(a,t,i){const s=a.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?Ya(_,y):_t(42886)})(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:a.dir})}}class js{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){zs(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return iE(this.inner)}size(){return this.innerSize}}const aR=new ue(gt.comparator);function Wi(){return aR}const EE=new ue(gt.comparator);function pl(...a){let t=EE;for(const i of a)t=t.insert(i.key,i);return t}function TE(a){let t=EE;return a.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Os(){return Sl()}function SE(){return Sl()}function Sl(){return new js((a=>a.toString()),((a,t)=>a.isEqual(t)))}const oR=new ue(gt.comparator),lR=new Me(gt.comparator);function Ut(...a){let t=lR;for(const i of a)t=t.add(i);return t}const uR=new Me(kt);function cR(){return uR}function Rm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(t)?"-0":t}}function AE(a){return{integerValue:""+a}}function hR(a,t){return Lw(t)?AE(t):Rm(a,t)}class fh{constructor(){this._=void 0}}function fR(a,t,i){return a instanceof Yc?(function(l,c){const d={fields:{[aE]:{stringValue:sE},[lE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Tm(c)&&(c=lh(c)),c&&(d.fields[oE]=c),{mapValue:d}})(i,t):a instanceof Nl?wE(a,t):a instanceof Ol?RE(a,t):(function(l,c){const d=bE(l,c),g=_v(d)+_v(l.Ae);return Yd(d)&&Yd(l.Ae)?AE(g):Rm(l.serializer,g)})(a,t)}function dR(a,t,i){return a instanceof Nl?wE(a,t):a instanceof Ol?RE(a,t):i}function bE(a,t){return a instanceof Kc?(function(s){return Yd(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Yc extends fh{}class Nl extends fh{constructor(t){super(),this.elements=t}}function wE(a,t){const i=CE(t);for(const s of a.elements)i.some((l=>wi(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Ol extends fh{constructor(t){super(),this.elements=t}}function RE(a,t){let i=CE(t);for(const s of a.elements)i=i.filter((l=>!wi(l,s)));return{arrayValue:{values:i}}}class Kc extends fh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function _v(a){return ge(a.integerValue||a.doubleValue)}function CE(a){return Sm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function mR(a,t){return a.field.isEqual(t.field)&&(function(s,l){return s instanceof Nl&&l instanceof Nl||s instanceof Ol&&l instanceof Ol?Qa(s.elements,l.elements,wi):s instanceof Kc&&l instanceof Kc?wi(s.Ae,l.Ae):s instanceof Yc&&l instanceof Yc})(a.transform,t.transform)}class pR{constructor(t,i){this.version=t,this.transformResults=i}}class Ki{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ki}static exists(t){return new Ki(void 0,t)}static updateTime(t){return new Ki(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class dh{}function IE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new NE(a.key,Ki.none()):new zl(a.key,a.data,Ki.none());{const i=a.data,s=Mn.empty();let l=new Me(Fe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Bs(a.key,s,new Xn(l.toArray()),Ki.none())}}function gR(a,t,i){a instanceof zl?(function(l,c,d){const g=l.value.clone(),_=Ev(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,t,i):a instanceof Bs?(function(l,c,d){if(!Oc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Ev(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(DE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Al(a,t,i,s){return a instanceof zl?(function(c,d,g,_){if(!Oc(c.precondition,d))return g;const y=c.value.clone(),S=Tv(c.fieldTransforms,_,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(a,t,i,s):a instanceof Bs?(function(c,d,g,_){if(!Oc(c.precondition,d))return g;const y=Tv(c.fieldTransforms,_,d),S=d.data;return S.setAll(DE(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(a,t,i,s):(function(c,d,g){return Oc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(a,t,i)}function yR(a,t){let i=null;for(const s of a.fieldTransforms){const l=t.data.field(s.field),c=bE(s.transform,l||null);c!=null&&(i===null&&(i=Mn.empty()),i.set(s.field,c))}return i||null}function vv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Qa(s,l,((c,d)=>mR(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class zl extends dh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Bs extends dh{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function DE(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}})),t}function Ev(a,t,i){const s=new Map;Qt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,dR(d,g,i[l]))}return s}function Tv(a,t,i){const s=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);s.set(l.field,fR(c,d,t))}return s}class NE extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _R extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vR{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&gR(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Al(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Al(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=SE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=IE(d,g);_!==null&&s.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(St.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Qa(this.mutations,t.mutations,((i,s)=>vv(i,s)))&&Qa(this.baseMutations,t.baseMutations,((i,s)=>vv(i,s)))}}class Cm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return oR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Cm(t,i,s,l)}}class ER{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,jt;function SR(a){switch(a){case J.OK:return _t(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _t(15467,{code:a})}}function OE(a){if(a===void 0)return $i("GRPC error has no .code"),J.UNKNOWN;switch(a){case Re.OK:return J.OK;case Re.CANCELLED:return J.CANCELLED;case Re.UNKNOWN:return J.UNKNOWN;case Re.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Re.INTERNAL:return J.INTERNAL;case Re.UNAVAILABLE:return J.UNAVAILABLE;case Re.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Re.NOT_FOUND:return J.NOT_FOUND;case Re.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Re.ABORTED:return J.ABORTED;case Re.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Re.DATA_LOSS:return J.DATA_LOSS;default:return _t(39323,{code:a})}}(jt=Re||(Re={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function AR(){return new TextEncoder}const bR=new Fr([4294967295,4294967295],0);function Sv(a){const t=AR().encode(a),i=new Y0;return i.update(t),new Uint8Array(i.digest())}function Av(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Fr([i,s],0),new Fr([l,c],0)]}class Im{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new gl(`Invalid padding: ${i}`);if(s<0)throw new gl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Fr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Fr.fromNumber(s)));return l.compare(bR)===1&&(l=new Fr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Sv(t),[s,l]=Av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Im(c,l,i);return s.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Sv(t),[s,l]=Av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,jl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new mh(St.min(),l,new ue(kt),Wi(),Ut())}}class jl{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new jl(s,i,Ut(),Ut(),Ut())}}class Mc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class ME{constructor(t,i){this.targetId=t,this.Ce=i}}class VE{constructor(t,i,s=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class bv{constructor(){this.ve=0,this.Fe=wv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),i=Ut(),s=Ut();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:_t(38017,{changeType:c})}})),new jl(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=wv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wR{constructor(t){this.Ge=t,this.ze=new Map,this.je=Wi(),this.Je=Sc(),this.He=Sc(),this.Ye=new ue(kt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Xd(c))if(s===0){const d=new gt(c.path);this.et(i,d,Ze.newNoDocument(d,St.min()))}else Qt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Xr(s).toUint8Array()}catch(_){if(_ instanceof rE)return Fa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Im(d,l,c)}catch(_){return Fa(_ instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Xd(g.target)){const _=new gt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ze.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Ut();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new mh(t,i,this.Ye,this.je,s);return this.je=Wi(),this.Je=Sc(),this.He=Sc(),this.Ye=new ue(kt),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new bv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(kt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(kt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new bv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Sc(){return new ue(gt.comparator)}function wv(){return new ue(gt.comparator)}const RR={asc:"ASCENDING",desc:"DESCENDING"},CR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IR={and:"AND",or:"OR"};class DR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Jd(a,t){return a.useProto3Json||oh(t)?t:{value:t}}function Xc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xE(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function NR(a,t){return Xc(a,t.toTimestamp())}function Si(a){return Qt(!!a,49232),St.fromTimestamp((function(i){const s=Kr(i);return new ie(s.seconds,s.nanos)})(a))}function Dm(a,t){return $d(a,t).canonicalString()}function $d(a,t){const i=(function(l){return new le(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function kE(a){const t=le.fromString(a);return Qt(jE(t),10190,{key:t.toString()}),t}function Wd(a,t){return Dm(a.databaseId,t.path)}function Md(a,t){const i=kE(t);if(i.get(1)!==a.databaseId.projectId)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new gt(LE(i))}function UE(a,t){return Dm(a.databaseId,t)}function OR(a){const t=kE(a);return t.length===4?le.emptyPath():LE(t)}function tm(a){return new le(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function LE(a){return Qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Rv(a,t,i){return{name:Wd(a,t),fields:i.value.mapValue.fields}}function MR(a,t){let i;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?(Qt(S===void 0||typeof S=="string",58123),Qe.fromBase64String(S||"")):(Qt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Qe.fromUint8Array(S||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const S=y.code===void 0?J.UNKNOWN:OE(y.code);return new ht(S,y.message||"")})(d);i=new VE(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Md(a,s.document.name),c=Si(s.document.updateTime),d=s.document.createTime?Si(s.document.createTime):St.min(),g=new Mn({mapValue:{fields:s.document.fields}}),_=Ze.newFoundDocument(l,c,d,g),y=s.targetIds||[],S=s.removedTargetIds||[];i=new Mc(y,S,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Md(a,s.document),c=s.readTime?Si(s.readTime):St.min(),d=Ze.newNoDocument(l,c),g=s.removedTargetIds||[];i=new Mc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Md(a,s.document),c=s.removedTargetIds||[];i=new Mc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new TR(l,c),g=s.targetId;i=new ME(g,d)}}return i}function VR(a,t){let i;if(t instanceof zl)i={update:Rv(a,t.key,t.value)};else if(t instanceof NE)i={delete:Wd(a,t.key)};else if(t instanceof Bs)i={update:Rv(a,t.key,t.data),updateMask:qR(t.fieldMask)};else{if(!(t instanceof _R))return _t(16599,{Vt:t.type});i={verify:Wd(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof Yc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Nl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ol)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Kc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:NR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(a,t.precondition)),i}function xR(a,t){return a&&a.length>0?(Qt(t!==void 0,14353),a.map((i=>(function(l,c){let d=l.updateTime?Si(l.updateTime):Si(c);return d.isEqual(St.min())&&(d=Si(c)),new pR(d,l.transformResults||[])})(i,t)))):[]}function kR(a,t){return{documents:[UE(a,t.path)]}}function UR(a,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=UE(a,l);const c=(function(y){if(y.length!==0)return zE(Ri.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(V){return{field:ka(V.field),direction:zR(V.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Jd(a,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function LR(a){let t=OR(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Qt(s===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const V=PE(A);return V instanceof Ri&&mE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((V=>(function(W){return new Qc(Ua(W.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let V;return V=typeof A=="object"?A.value:A,oh(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(A){const V=!!A.before,H=A.values||[];return new Fc(H,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const V=!A.before,H=A.values||[];return new Fc(H,V)})(i.endAt)),eR(t,l,d,c,g,"F",_,y)}function PR(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function PE(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ua(i.unaryFilter.field);return Oe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ua(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ua(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ua(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Oe.create(Ua(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Ri.create(i.compositeFilter.filters.map((s=>PE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(a):_t(30097,{filter:a})}function zR(a){return RR[a]}function jR(a){return CR[a]}function BR(a){return IR[a]}function ka(a){return{fieldPath:a.canonicalString()}}function Ua(a){return Fe.fromServerFormat(a.fieldPath)}function zE(a){return a instanceof Oe?(function(i){if(i.op==="=="){if(dv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NAN"}};if(fv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(dv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NAN"}};if(fv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(i.field),op:jR(i.op),value:i.value}}})(a):a instanceof Ri?(function(i){const s=i.getFilters().map((l=>zE(l)));return s.length===1?s[0]:{compositeFilter:{op:BR(i.op),filters:s}}})(a):_t(54877,{filter:a})}function qR(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function jE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class zr{constructor(t,i,s,l,c=St.min(),d=St.min(),g=Qe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new zr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class HR{constructor(t){this.yt=t}}function GR(a){const t=LR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Zd(t,t.limit,"L"):t}class FR{constructor(){this.Cn=new QR}addToCollectionParentIndex(t,i){return this.Cn.add(i),K.resolve()}getCollectionParents(t,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return K.resolve()}deleteFieldIndex(t,i){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,i){return K.resolve()}getDocumentsMatchingTarget(t,i){return K.resolve(null)}getIndexType(t,i){return K.resolve(0)}getFieldIndexes(t,i){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,i){return K.resolve(Yr.min())}getMinOffsetFromCollectionGroup(t,i){return K.resolve(Yr.min())}updateCollectionGroup(t,i,s){return K.resolve()}updateIndexEntries(t,i){return K.resolve()}}class QR{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Me(le.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Me(le.comparator)).toArray()}}const Cv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BE=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(BE,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Xa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Xa(0)}static cr(){return new Xa(-1)}}const Iv="LruGarbageCollector",YR=1048576;function Dv([a,t],[i,s]){const l=kt(a,i);return l===0?kt(t,s):l}class KR{constructor(t){this.Ir=t,this.buffer=new Me(Dv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Dv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class XR{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(Iv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){io(i)?st(Iv,"Ignoring IndexedDB error during garbage collection: ",i):await no(i)}await this.Vr(3e5)}))}}class ZR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return K.resolve(ah.ce);const s=new KR(i);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Cv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,c,d,g,_,y;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(s=A,g=Date.now(),this.removeTargets(t,s,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(t,s)))).next((A=>(y=Date.now(),Va()<=xt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-S}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function JR(a,t){return new ZR(a,t)}class $R{constructor(){this.changes=new js((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?K.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class WR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class tC{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&Al(s.mutation,l,Xn.empty(),ie.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Ut()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Ut()){const l=Os();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=pl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Os();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Ut())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,s,l){let c=Wi();const d=Sl(),g=(function(){return Sl()})();return i.forEach(((_,y)=>{const S=s.get(y.key);l.has(y.key)&&(S===void 0||S.mutation instanceof Bs)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),Al(S.mutation,y,S.mutation.getFieldMask(),ie.now())):d.set(y.key,Xn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>g.set(y,new WR(S,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const s=Sl();let l=new ue(((d,g)=>d-g)),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let S=s.get(_)||Xn.empty();S=g.applyToLocalView(y,S),s.set(_,S);const A=(l.get(g.batchId)||Ut()).add(_);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,S=_.value,A=SE();S.forEach((V=>{if(!c.has(V)){const H=IE(i.get(V),s.get(V));H!==null&&A.set(V,H),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return K.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):nR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):K.resolve(Os());let g=Rl,_=c;return d.next((y=>K.forEach(y,((S,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(S)?K.resolve():this.remoteDocumentCache.getEntry(t,S).next((V=>{_=_.insert(S,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Ut()))).next((S=>({batchId:g,changes:TE(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((s=>{let l=pl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=pl();return this.indexManager.getCollectionParents(t,c).next((g=>K.forEach(g,(_=>{const y=(function(A,V){return new uh(V,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next((S=>{S.forEach(((A,V)=>{d=d.insert(A,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((_,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,Ze.newInvalidDocument(S)))}));let g=pl();return d.forEach(((_,y)=>{const S=c.get(_);S!==void 0&&Al(S.mutation,y,Xn.empty(),ie.now()),hh(i,y)&&(g=g.insert(_,y))})),g}))}}class eC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Si(l.createTime)}})(i)),K.resolve()}getNamedQuery(t,i){return K.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:GR(l.bundledQuery),readTime:Si(l.readTime)}})(i)),K.resolve()}}class nC{constructor(){this.overlays=new ue(gt.comparator),this.qr=new Map}getOverlay(t,i){return K.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Os();return K.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.St(t,i,c)})),K.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),K.resolve()}getOverlaysForCollection(t,i,s){const l=Os(),c=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>s&&l.set(_.getKey(),_)}return K.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new ue(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let S=c.get(y.largestBatchId);S===null&&(S=Os(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const g=Os(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,S)=>g.set(y,S))),!(g.size()>=l)););return K.resolve(g)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new ER(i,s));let c=this.qr.get(i);c===void 0&&(c=Ut(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class iC{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,K.resolve()}}class Nm{constructor(){this.Qr=new Me(Ue.$r),this.Ur=new Me(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Ue(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new Ue(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new gt(new le([])),s=new Ue(i,t),l=new Ue(i,t+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new le([])),s=new Ue(i,t),l=new Ue(i,t+1);let c=Ut();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ue(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Ue{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||kt(t.Yr,i.Yr)}static Kr(t,i){return kt(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}class rC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Ue.$r)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vR(c,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Ue(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(t,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Em:this.tr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Ue(i,0),l=new Ue(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Me(kt);return i.forEach((l=>{const c=new Ue(l,0),d=new Ue(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{s=s.add(g.Yr)}))})),K.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;gt.isDocumentKey(c)||(c=c.child(""));const d=new Ue(new gt(c),0);let g=new Me(kt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),d),K.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return K.forEach(i.mutations,(l=>{const c=new Ue(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new Ue(i,0),l=this.Zr.firstAfterOrEqual(s);return K.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class sC{constructor(t){this.ri=t,this.docs=(function(){return new ue(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return K.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let s=Wi();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),K.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=Wi();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:S}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Vw(Mw(S),s)<=0||(l.has(S.key)||hh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(t,i,s,l){_t(9500)}ii(t,i){return K.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new aC(this)}getSize(t){return K.resolve(this.size)}}class aC extends $R{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),K.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class oC{constructor(t){this.persistence=t,this.si=new js((i=>Am(i)),bm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Nm,this.targetCount=0,this.ai=Xa.ur()}forEachTarget(t,i){return this.si.forEach(((s,l)=>i(l))),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),K.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Xa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(t,i){return this.Pr(i),K.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),K.waitFor(c).next((()=>l))}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return K.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),K.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),K.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return K.resolve(s)}containsKey(t,i){return K.resolve(this._i.containsKey(i))}}class qE{constructor(t,i){this.ui={},this.overlays={},this.ci=new ah(0),this.li=!1,this.li=!0,this.hi=new iC,this.referenceDelegate=t(this),this.Pi=new oC(this),this.indexManager=new FR,this.remoteDocumentCache=(function(l){return new sC(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new HR(i),this.Ii=new eC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new nC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new rC(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){st("MemoryPersistence","Starting transaction:",t);const l=new lC(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return K.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class lC extends kw{constructor(t){super(),this.currentSequenceNumber=t}}class Om{constructor(t){this.persistence=t,this.Ri=new Nm,this.Vi=null}static mi(t){return new Om(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),K.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(s=>{const l=gt.fromPath(s);return this.gi(t,l).next((c=>{c||i.removeEntry(l,St.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Zc{constructor(t,i){this.persistence=t,this.pi=new js((s=>Pw(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=JR(this,i)}static mi(t,i){return new Zc(t,i)}Ei(){}di(t){return K.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return K.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?K.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(s++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),K.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),K.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),K.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Dc(t.data.value)),i}br(t,i,s){return K.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return K.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Mm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=Ut(),l=Ut();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Mm(t,i.fromCache,s,l)}}class uC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class cC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return WS()?8:Uw(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new uC;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,s,l){return s.documentReadCount<this.fs?(Va()<=xt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",xa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Va()<=xt.DEBUG&&st("QueryEngine","Query:",xa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Va()<=xt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",xa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):K.resolve())}ys(t,i){if(yv(i))return K.resolve(null);let s=Ti(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Zd(i,null,"F"),s=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Ut(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,s).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(t,Zd(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,s,l){return yv(i)||l.isEqual(St.min())?K.resolve(null):this.ps.getDocuments(t,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,l)?K.resolve(null):(Va()<=xt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),xa(i)),this.vs(t,d,i,Ow(l,Rl)).next((g=>g)))}))}Ds(t,i){let s=new Me(vE(t));return i.forEach(((l,c)=>{hh(t,c)&&(s=s.add(c))})),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,s){return Va()<=xt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",xa(i)),this.ps.getDocumentsMatchingQuery(t,i,Yr.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Vm="LocalStore",hC=3e8;class fC{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ue(kt),this.xs=new js((c=>Am(c)),bm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function dC(a,t,i,s){return new fC(a,t,i,s)}async function HE(a,t){const i=wt(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let _=Ut();for(const y of l){d.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}for(const y of c){g.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(s,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function mC(a,t){const i=wt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,S){const A=y.batch,V=A.keys();let H=K.resolve();return V.forEach((W=>{H=H.next((()=>S.getEntry(_,W))).next((et=>{const $=y.docVersions.get(W);Qt($!==null,48541),et.version.compareTo($)<0&&(A.applyToRemoteDocument(et,y),et.isValidDocument()&&(et.setReadTime(y.commitVersion),S.addEntry(et)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let _=Ut();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function GE(a){const t=wt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function pC(a,t){const i=wt(a),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((S,A)=>{const V=l.get(A);if(!V)return;g.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,A))));let H=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?H=H.withResumeToken(Qe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):S.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(S.resumeToken,s)),l=l.insert(A,H),(function(et,$,lt){return et.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=hC?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(V,H,S)&&g.push(i.Pi.updateTargetData(c,H))}));let _=Wi(),y=Ut();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(gC(c,d,t.documentUpdates).next((S=>{_=S.ks,y=S.qs}))),!s.isEqual(St.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(S)}return K.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function gC(a,t,i){let s=Ut(),l=Ut();return i.forEach((c=>s=s.add(c))),t.getEntries(a,s).next((c=>{let d=Wi();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(St.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):st(Vm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function yC(a,t){const i=wt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Em),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function _C(a,t){const i=wt(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,t).next((c=>c?(l=c,K.resolve(l)):i.Pi.allocateTargetId(s).next((d=>(l=new zr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function em(a,t,i){const s=wt(a),l=s.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!io(d))throw d;st(Vm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function Nv(a,t,i){const s=wt(a);let l=St.min(),c=Ut();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,S){const A=wt(_),V=A.xs.get(S);return V!==void 0?K.resolve(A.Ms.get(V)):A.Pi.getTargetData(y,S)})(s,d,Ti(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,i?l:St.min(),i?c:Ut()))).next((g=>(vC(s,rR(t),g),{documents:g,Qs:c})))))}function vC(a,t,i){let s=a.Os.get(t)||St.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),a.Os.set(t,s)}class Ov{constructor(){this.activeTargetIds=cR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class EC{constructor(){this.Mo=new Ov,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Ov,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class TC{Oo(t){}shutdown(){}}const Mv="ConnectivityMonitor";class Vv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(Mv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(Mv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ac=null;function nm(){return Ac===null?Ac=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ac++,"0x"+Ac.toString(16)}const Vd="RestConnection",SC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Hc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,c){const d=nm(),g=this.zo(t,i.toUriEncodedString());st(Vd,`Sending RPC '${t}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(g),S=$a(y);return this.Jo(t,g,_,s,S).then((A=>(st(Vd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Fa(Vd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",s),A}))}Ho(t,i,s,l,c,d){return this.Go(t,i,s,l,c)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+eo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const s=SC[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class bC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ke="WebChannelConnection";class wC extends AC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,c){const d=nm();return new Promise(((g,_)=>{const y=new K0;y.setWithCredentials(!0),y.listenOnce(X0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ic.NO_ERROR:const A=y.getResponseJson();st(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case Ic.TIMEOUT:st(Ke,`RPC '${t}' ${d} timed out`),_(new ht(J.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const V=y.getStatus();if(st(Ke,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const W=H?.error;if(W&&W.status&&W.message){const et=(function(lt){const vt=lt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(vt)>=0?vt:J.UNKNOWN})(W.status);_(new ht(et,W.message))}else _(new ht(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ht(J.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(Ke,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);st(Ke,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",S,s,15)}))}T_(t,i,s){const l=nm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=$0(),g=J0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const S=c.join("");st(Ke,`Creating RPC '${t}' stream ${l}: ${S}`,_);const A=d.createWebChannel(S,_);this.I_(A);let V=!1,H=!1;const W=new bC({Yo:$=>{H?st(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(V||(st(Ke,`Opening RPC '${t}' stream ${l} transport.`),A.open(),V=!0),st(Ke,`RPC '${t}' stream ${l} sending:`,$),A.send($))},Zo:()=>A.close()}),et=($,lt,vt)=>{$.listen(lt,(mt=>{try{vt(mt)}catch(Pt){setTimeout((()=>{throw Pt}),0)}}))};return et(A,ml.EventType.OPEN,(()=>{H||(st(Ke,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),et(A,ml.EventType.CLOSE,(()=>{H||(H=!0,st(Ke,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(A))})),et(A,ml.EventType.ERROR,($=>{H||(H=!0,Fa(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),W.a_(new ht(J.UNAVAILABLE,"The operation could not be completed")))})),et(A,ml.EventType.MESSAGE,($=>{if(!H){const lt=$.data[0];Qt(!!lt,16349);const vt=lt,mt=vt?.error||vt[0]?.error;if(mt){st(Ke,`RPC '${t}' stream ${l} received error:`,mt);const Pt=mt.status;let ct=(function(b){const w=Re[b];if(w!==void 0)return OE(w)})(Pt),ft=mt.message;ct===void 0&&(ct=J.INTERNAL,ft="Unknown error status: "+Pt+" with message "+mt.message),H=!0,W.a_(new ht(ct,ft)),A.close()}else st(Ke,`RPC '${t}' stream ${l} received:`,lt),W.u_(lt)}})),et(g,Z0.STAT_EVENT,($=>{$.stat===Gd.PROXY?st(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===Gd.NOPROXY&&st(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function xd(){return typeof document<"u"?document:null}function ph(a){return new DR(a,!0)}class FE{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const xv="PersistentStream";class QE{constructor(t,i,s,l,c,d,g,_){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new FE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?($i(i.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new ht(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(xv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RC extends QE{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=MR(this.serializer,t),s=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Si(d.readTime):St.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=tm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=Xd(_)?{documents:kR(c,_)}:{query:UR(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=xE(c,d.resumeToken);const y=Jd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(St.min())>0){g.readTime=Xc(c,d.snapshotVersion.toTimestamp());const y=Jd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const s=PR(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=tm(this.serializer),i.removeTarget=t,this.q_(i)}}class CC extends QE{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=xR(t.writeResults,t.commitTime),s=Si(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=tm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>VR(this.serializer,s)))};this.q_(i)}}class IC{}class DC extends IC{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,$d(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(J.UNKNOWN,c.toString())}))}Ho(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,$d(i,s),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ps="RemoteStore";class OC{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{qs(this)&&(st(Ps,"Restarting streams for network reachability change."),await(async function(_){const y=wt(_);y.Ea.add(4),await Bl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await gh(y)})(this))}))})),this.Ra=new NC(s,l)}}async function gh(a){if(qs(a))for(const t of a.da)await t(!0)}async function Bl(a){for(const t of a.da)await t(!1)}function YE(a,t){const i=wt(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Lm(i)?Um(i):ro(i).O_()&&km(i,t))}function xm(a,t){const i=wt(a),s=ro(i);i.Ia.delete(t),s.O_()&&KE(i,t),i.Ia.size===0&&(s.O_()?s.L_():qs(i)&&i.Ra.set("Unknown"))}function km(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ro(a).Y_(t)}function KE(a,t){a.Va.Ue(t),ro(a).Z_(t)}function Um(a){a.Va=new wR({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),ro(a).start(),a.Ra.ua()}function Lm(a){return qs(a)&&!ro(a).x_()&&a.Ia.size>0}function qs(a){return wt(a).Ea.size===0}function XE(a){a.Va=void 0}async function MC(a){a.Ra.set("Online")}async function VC(a){a.Ia.forEach(((t,i)=>{km(a,t)}))}async function xC(a,t){XE(a),Lm(a)?(a.Ra.ha(t),Um(a)):a.Ra.set("Unknown")}async function kC(a,t,i){if(a.Ra.set("Online"),t instanceof VE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(a,t)}catch(s){st(Ps,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Jc(a,s)}else if(t instanceof Mc?a.Va.Ze(t):t instanceof ME?a.Va.st(t):a.Va.tt(t),!i.isEqual(St.min()))try{const s=await GE(a.localStore);i.compareTo(s)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const S=c.Ia.get(_);if(!S)return;c.Ia.set(_,S.withResumeToken(Qe.EMPTY_BYTE_STRING,S.snapshotVersion)),KE(c,_);const A=new zr(S.target,_,y,S.sequenceNumber);km(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(a,i)}catch(s){st(Ps,"Failed to raise snapshot:",s),await Jc(a,s)}}async function Jc(a,t,i){if(!io(t))throw t;a.Ea.add(1),await Bl(a),a.Ra.set("Offline"),i||(i=()=>GE(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{st(Ps,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await gh(a)}))}function ZE(a,t){return t().catch((i=>Jc(a,i,t)))}async function yh(a){const t=wt(a),i=Jr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Em;for(;UC(t);)try{const l=await yC(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,LC(t,l)}catch(l){await Jc(t,l)}JE(t)&&$E(t)}function UC(a){return qs(a)&&a.Ta.length<10}function LC(a,t){a.Ta.push(t);const i=Jr(a);i.O_()&&i.X_&&i.ea(t.mutations)}function JE(a){return qs(a)&&!Jr(a).x_()&&a.Ta.length>0}function $E(a){Jr(a).start()}async function PC(a){Jr(a).ra()}async function zC(a){const t=Jr(a);for(const i of a.Ta)t.ea(i.mutations)}async function jC(a,t,i){const s=a.Ta.shift(),l=Cm.from(s,t,i);await ZE(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await yh(a)}async function BC(a,t){t&&Jr(a).X_&&await(async function(s,l){if((function(d){return SR(d)&&d!==J.ABORTED})(l.code)){const c=s.Ta.shift();Jr(s).B_(),await ZE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await yh(s)}})(a,t),JE(a)&&$E(a)}async function kv(a,t){const i=wt(a);i.asyncQueue.verifyOperationInProgress(),st(Ps,"RemoteStore received new credentials");const s=qs(i);i.Ea.add(3),await Bl(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await gh(i)}async function qC(a,t){const i=wt(a);t?(i.Ea.delete(2),await gh(i)):t||(i.Ea.add(2),await Bl(i),i.Ra.set("Unknown"))}function ro(a){return a.ma||(a.ma=(function(i,s,l){const c=wt(i);return c.sa(),new RC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:MC.bind(null,a),t_:VC.bind(null,a),r_:xC.bind(null,a),H_:kC.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Lm(a)?Um(a):a.Ra.set("Unknown")):(await a.ma.stop(),XE(a))}))),a.ma}function Jr(a){return a.fa||(a.fa=(function(i,s,l){const c=wt(i);return c.sa(),new CC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:PC.bind(null,a),r_:BC.bind(null,a),ta:zC.bind(null,a),na:jC.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await yh(a)):(await a.fa.stop(),a.Ta.length>0&&(st(Ps,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Pm{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,g=new Pm(t,i,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zm(a,t){if($i("AsyncQueue",`${t}: ${a}`),io(a))return new ht(J.UNAVAILABLE,`${t}: ${a}`);throw a}class qa{static emptySet(t){return new qa(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=pl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new qa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class Uv{constructor(){this.ga=new ue(gt.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class Za{constructor(t,i,s,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Za(t,i,qa.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class HC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class GC{constructor(){this.queries=Lv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=wt(i),c=l.queries;l.queries=Lv(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(s)}))})(this,new ht(J.ABORTED,"Firestore shutting down"))}}function Lv(){return new js((a=>_E(a)),ch)}async function FC(a,t){const i=wt(a);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new HC,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=zm(d,`Initialization of query '${xa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&jm(i)}async function QC(a,t){const i=wt(a),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function YC(a,t){const i=wt(a);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(s=!0);d.wa=l}}s&&jm(i)}function KC(a,t,i){const s=wt(a),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(t)}function jm(a){a.Ca.forEach((t=>{t.next()}))}var im,Pv;(Pv=im||(im={})).Ma="default",Pv.Cache="cache";class XC{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Za(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Za.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==im.Cache}}class WE{constructor(t){this.key=t}}class tT{constructor(t){this.key=t}}class ZC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=vE(t),this.tu=new qa(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new Uv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,A)=>{const V=l.get(S),H=hh(this.query,A)?A:null,W=!!V&&this.mutatedKeys.has(V.key),et=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let $=!1;V&&H?V.data.isEqual(H.data)?W!==et&&(s.track({type:3,doc:H}),$=!0):this.su(V,H)||(s.track({type:2,doc:H}),$=!0,(_&&this.eu(H,_)>0||y&&this.eu(H,y)<0)&&(g=!0)):!V&&H?(s.track({type:0,doc:H}),$=!0):V&&!H&&(s.track({type:1,doc:V}),$=!0,(_||y)&&(g=!0)),$&&(H?(d=d.add(H),c=et?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),s.track({type:1,doc:S})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,A)=>(function(H,W){const et=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:$})}};return et(H)-et(W)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(s),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new Za(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Uv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new tT(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new WE(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ut();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bm="SyncEngine";class JC{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class $C{constructor(t){this.key=t,this.hu=!1}}class WC{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new js((g=>_E(g)),ch),this.Iu=new Map,this.Eu=new Set,this.du=new ue(gt.comparator),this.Au=new Map,this.Ru=new Nm,this.Vu={},this.mu=new Map,this.fu=Xa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tI(a,t,i=!0){const s=aT(a);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await eT(s,t,i,!0),l}async function eI(a,t){const i=aT(a);await eT(i,t,!0,!1)}async function eT(a,t,i,s){const l=await _C(a.localStore,Ti(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await nI(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&YE(a.remoteStore,l),g}async function nI(a,t,i,s,l){a.pu=(A,V,H)=>(async function(et,$,lt,vt){let mt=$.view.ru(lt);mt.Cs&&(mt=await Nv(et.localStore,$.query,!1).then((({documents:C})=>$.view.ru(C,mt))));const Pt=vt&&vt.targetChanges.get($.targetId),ct=vt&&vt.targetMismatches.get($.targetId)!=null,ft=$.view.applyChanges(mt,et.isPrimaryClient,Pt,ct);return jv(et,$.targetId,ft.au),ft.snapshot})(a,A,V,H);const c=await Nv(a.localStore,t,!0),d=new ZC(t,c.Qs),g=d.ru(c.documents),_=jl.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),y=d.applyChanges(g,a.isPrimaryClient,_);jv(a,i,y.au);const S=new JC(t,i,d);return a.Tu.set(t,S),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),y.snapshot}async function iI(a,t,i){const s=wt(a),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!ch(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await em(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&xm(s.remoteStore,l.targetId),rm(s,l.targetId)})).catch(no)):(rm(s,l.targetId),await em(s.localStore,l.targetId,!0))}async function rI(a,t){const i=wt(a),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),xm(i.remoteStore,s.targetId))}async function sI(a,t,i){const s=fI(a);try{const l=await(function(d,g){const _=wt(d),y=ie.now(),S=g.reduce(((H,W)=>H.add(W.key)),Ut());let A,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let W=Wi(),et=Ut();return _.Ns.getEntries(H,S).next(($=>{W=$,W.forEach(((lt,vt)=>{vt.isValidDocument()||(et=et.add(lt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,W))).next(($=>{A=$;const lt=[];for(const vt of g){const mt=yR(vt,A.get(vt.key).overlayedDocument);mt!=null&&lt.push(new Bs(vt.key,mt,hE(mt.value.mapValue),Ki.exists(!0)))}return _.mutationQueue.addMutationBatch(H,y,lt,g)})).next(($=>{V=$;const lt=$.applyToLocalDocumentSet(A,et);return _.documentOverlayCache.saveOverlays(H,$.batchId,lt)}))})).then((()=>({batchId:V.batchId,changes:TE(A)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ue(kt)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(s,l.batchId,i),await ql(s,l.changes),await yh(s.remoteStore)}catch(l){const c=zm(l,"Failed to persist write");i.reject(c)}}async function nT(a,t){const i=wt(a);try{const s=await pC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Qt(d.hu,14607):l.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await ql(i,s,t)}catch(s){await no(s)}}function zv(a,t,i){const s=wt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=wt(d);_.onlineState=g;let y=!1;_.queries.forEach(((S,A)=>{for(const V of A.Sa)V.va(g)&&(y=!0)})),y&&jm(_)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function aI(a,t,i){const s=wt(a);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new ue(gt.comparator);d=d.insert(c,Ze.newNoDocument(c,St.min()));const g=Ut().add(c),_=new mh(St.min(),new Map,new ue(kt),d,g);await nT(s,_),s.du=s.du.remove(c),s.Au.delete(t),qm(s)}else await em(s.localStore,t,!1).then((()=>rm(s,t,i))).catch(no)}async function oI(a,t){const i=wt(a),s=t.batch.batchId;try{const l=await mC(i.localStore,t);rT(i,s,null),iT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ql(i,l)}catch(l){await no(l)}}async function lI(a,t,i){const s=wt(a);try{const l=await(function(d,g){const _=wt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return _.mutationQueue.lookupMutationBatch(y,g).next((A=>(Qt(A!==null,37113),S=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,S,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>_.localDocuments.getDocuments(y,S)))}))})(s.localStore,t);rT(s,t,i),iT(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await ql(s,l)}catch(l){await no(l)}}function iT(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function rT(a,t,i){const s=wt(a);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function rm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Iu.get(t))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((s=>{a.Ru.containsKey(s)||sT(a,s)}))}function sT(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(xm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),qm(a))}function jv(a,t,i){for(const s of i)s instanceof WE?(a.Ru.addReference(s.key,t),uI(a,s)):s instanceof tT?(st(Bm,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,t),a.Ru.containsKey(s.key)||sT(a,s.key)):_t(19791,{wu:s})}function uI(a,t){const i=t.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(st(Bm,"New document in limbo: "+i),a.Eu.add(s),qm(a))}function qm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new gt(le.fromString(t)),s=a.fu.next();a.Au.set(s,new $C(i)),a.du=a.du.insert(i,s),YE(a.remoteStore,new zr(Ti(wm(i.path)),s,"TargetPurposeLimboResolution",ah.ce))}}async function ql(a,t,i){const s=wt(a),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,_)=>{d.push(s.pu(_,t,i).then((y=>{if((y||i)&&s.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(y){l.push(y);const S=Mm.As(_.targetId,y);c.push(S)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(_,y){const S=wt(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>K.forEach(y,(V=>K.forEach(V.Es,(H=>S.persistence.referenceDelegate.addReference(A,V.targetId,H))).next((()=>K.forEach(V.ds,(H=>S.persistence.referenceDelegate.removeReference(A,V.targetId,H)))))))))}catch(A){if(!io(A))throw A;st(Vm,"Failed to update sequence numbers: "+A)}for(const A of y){const V=A.targetId;if(!A.fromCache){const H=S.Ms.get(V),W=H.snapshotVersion,et=H.withLastLimboFreeSnapshotVersion(W);S.Ms=S.Ms.insert(V,et)}}})(s.localStore,c))}async function cI(a,t){const i=wt(a);if(!i.currentUser.isEqual(t)){st(Bm,"User change. New user:",t.toKey());const s=await HE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ht(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await ql(i,s.Ls)}}function hI(a,t){const i=wt(a),s=i.Au.get(t);if(s&&s.hu)return Ut().add(s.key);{let l=Ut();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function aT(a){const t=wt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=nT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aI.bind(null,t),t.Pu.H_=YC.bind(null,t.eventManager),t.Pu.yu=KC.bind(null,t.eventManager),t}function fI(a){const t=wt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lI.bind(null,t),t}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ph(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return dC(this.persistence,new cC,t.initialUser,this.serializer)}Cu(t){return new qE(Om.mi,this.serializer)}Du(t){return new EC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class dI extends $c{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Qt(this.persistence.referenceDelegate instanceof Zc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new XR(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new qE((s=>Zc.mi(s,i)),this.serializer)}}class sm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>zv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=cI.bind(null,this.syncEngine),await qC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new GC})()}createDatastore(t){const i=ph(t.databaseInfo.databaseId),s=(function(c){return new wC(c)})(t.databaseInfo);return(function(c,d,g,_){return new DC(c,d,g,_)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,g){return new OC(s,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>zv(this.syncEngine,i,0)),(function(){return Vv.v()?new Vv:new TC})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,S){const A=new WC(l,c,d,g,_,y);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=wt(i);st(Ps,"RemoteStore shutting down."),s.Ea.add(5),await Bl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sm.provider={build:()=>new sm};class mI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):$i("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const $r="FirestoreClient";class pI{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=_m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{st($r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(st($r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=zm(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function kd(a,t){a.asyncQueue.verifyOperationInProgress(),st($r,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async l=>{s.isEqual(l)||(await HE(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Bv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await gI(a);st($r,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((s=>kv(t.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,l)=>kv(t.remoteStore,l))),a._onlineComponents=t}async function gI(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){st($r,"Using user provided OfflineComponentProvider");try{await kd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Fa("Error using user provided cache. Falling back to memory cache: "+i),await kd(a,new $c)}}else st($r,"Using default OfflineComponentProvider"),await kd(a,new dI(void 0));return a._offlineComponents}async function oT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(st($r,"Using user provided OnlineComponentProvider"),await Bv(a,a._uninitializedComponentsProvider._online)):(st($r,"Using default OnlineComponentProvider"),await Bv(a,new sm))),a._onlineComponents}function yI(a){return oT(a).then((t=>t.syncEngine))}async function qv(a){const t=await oT(a),i=t.eventManager;return i.onListen=tI.bind(null,t.syncEngine),i.onUnlisten=iI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=eI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=rI.bind(null,t.syncEngine),i}function lT(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const Hv=new Map;const uT="firestore.googleapis.com",Gv=!0;class Fv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uT,this.ssl=Gv}else this.host=t.host,this.ssl=t.ssl??Gv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=BE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<YR)throw new ht(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Nw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hm{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new vw;switch(s.type){case"firstParty":return new Aw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Hv.get(i);s&&(st("ComponentProvider","Removing Datastore"),Hv.delete(i),s.terminate())})(this),Promise.resolve()}}function _I(a,t,i,s={}){a=Ba(a,Hm);const l=$a(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},g=`${t}:${i}`;l&&(o0(`https://${g}`),l0("Firestore",!0)),c.host!==uT&&c.host!==g&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:s};if(!xs(_,d)&&(a._setSettings(_),s.mockUserToken)){let y,S;if(typeof s.mockUserToken=="string")y=s.mockUserToken,S=Xe.MOCK_USER;else{y=GS(s.mockUserToken,a._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ht(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Xe(A)}a._authCredentials=new Ew(new tE(y,S))}}class _h{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new _h(this.firestore,t,this._query)}}class Le{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ml(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(Pl(i,Le._jsonSchema))return new Le(t,s||null,new gt(le.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:Ce("string",Le._jsonSchemaVersion),referencePath:Ce("string")};class Ml extends _h{constructor(t,i,s){super(t,i,wm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new gt(t))}withConverter(t){return new Ml(this.firestore,t,this._path)}}function cT(a,t,...i){if(a=xn(a),arguments.length===1&&(t=_m.newId()),Dw("doc","path",t),a instanceof Hm){const s=le.fromString(t,...i);return rv(s),new Le(a,null,new gt(s))}{if(!(a instanceof Le||a instanceof Ml))throw new ht(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(le.fromString(t,...i));return rv(s),new Le(a.firestore,a instanceof Ml?a.converter:null,new gt(s))}}const Qv="AsyncQueue";class Yv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FE(this,"async_queue_retry"),this._c=()=>{const s=xd();s&&st(Qv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ms;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!io(t))throw t;st(Qv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",Kv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Pm.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:Kv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Kv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function Xv(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class Wc extends Hm{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new Yv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Yv(t),this._firestoreClient=void 0,await t}}}function vI(a,t){const i=typeof a=="object"?a:f0(),s=typeof a=="string"?a:Hc,l=um(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=qS("firestore");c&&_I(l,...c)}return l}function hT(a){if(a._terminated)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||EI(a),a._firestoreClient}function EI(a){const t=a._freezeSettings(),i=(function(l,c,d,g){return new Bw(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,lT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new pI(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class Vn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vn(Qe.fromBase64String(t))}catch(i){throw new ht(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Vn(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Pl(t,Vn._jsonSchema))return Vn.fromBase64String(t.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:Ce("string",Vn._jsonSchemaVersion),bytes:Ce("string")};class Gm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ht(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class fT{constructor(t){this._methodName=t}}class Ai{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ht(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ht(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ai._jsonSchemaVersion}}static fromJSON(t){if(Pl(t,Ai._jsonSchema))return new Ai(t.latitude,t.longitude)}}Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:Ce("string",Ai._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class bi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Pl(t,bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new bi(t.vectorValues);throw new ht(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:Ce("string",bi._jsonSchemaVersion),vectorValues:Ce("object")};const TI=/^__.*__$/;class SI{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Bs(t,this.data,this.fieldMask,i,this.fieldTransforms):new zl(t,this.data,i,this.fieldTransforms)}}function dT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:a})}}class Fm{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Fm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return th(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(dT(this.Ac)&&TI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class AI{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||ph(t)}Cc(t,i,s,l=!1){return new Fm({Ac:t,methodName:i,Dc:s,path:Fe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bI(a){const t=a._freezeSettings(),i=ph(a._databaseId);return new AI(a._databaseId,!!t.ignoreUndefinedProperties,i)}function wI(a,t,i,s,l,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,t,i,l);yT("Data must be an object, but it was:",d,s);const g=pT(s,d);let _,y;if(c.merge)_=new Xn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const V=RI(t,A,i);if(!d.contains(V))throw new ht(J.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);II(S,V)||S.push(V)}_=new Xn(S),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new SI(new Mn(g),_,y)}function mT(a,t){if(gT(a=xn(a)))return yT("Unsupported field value:",t,a),pT(a,t);if(a instanceof fT)return(function(s,l){if(!dT(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const g of s){let _=mT(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(a,t)}return(function(s,l){if((s=xn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return hR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ie.fromDate(s);return{timestampValue:Xc(l.serializer,c)}}if(s instanceof ie){const c=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xc(l.serializer,c)}}if(s instanceof Ai)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vn)return{bytesValue:xE(l.serializer,s._byteString)};if(s instanceof Le){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof bi)return(function(d,g){return{mapValue:{fields:{[uE]:{stringValue:cE},[Gc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Rm(g.serializer,y)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${vm(s)}`)})(a,t)}function pT(a,t){const i={};return iE(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zs(a,((s,l)=>{const c=mT(l,t.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function gT(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ie||a instanceof Ai||a instanceof Vn||a instanceof Le||a instanceof fT||a instanceof bi)}function yT(a,t,i){if(!gT(i)||!eE(i)){const s=vm(i);throw s==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+s)}}function RI(a,t,i){if((t=xn(t))instanceof Gm)return t._internalPath;if(typeof t=="string")return _T(a,t);throw th("Field path arguments must be of type string or ",a,!1,void 0,i)}const CI=new RegExp("[~\\*/\\[\\]]");function _T(a,t,i){if(t.search(CI)>=0)throw th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Gm(...t.split("."))._internalPath}catch{throw th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function th(a,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${s}`),d&&(_+=` in document ${l}`),_+=")"),new ht(J.INVALID_ARGUMENT,g+a+_)}function II(a,t){return a.some((i=>i.isEqual(t)))}class vT{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(ET("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class DI extends vT{data(){return super.data()}}function ET(a,t){return typeof t=="string"?_T(a,t):t instanceof Gm?t._internalPath:t._delegate._internalPath}function NI(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ht(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OI{convertValue(t,i="none"){switch(Zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return zs(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[Gc].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new bi(i)}convertGeoPoint(t){return new Ai(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=lh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Cl(t));default:return null}}convertTimestamp(t){const i=Kr(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=le.fromString(t);Qt(jE(s),9688,{name:t});const l=new Il(s.get(1),s.get(3)),c=new gt(s.popFirst(5));return l.isEqual(i)||$i(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function MI(a,t,i){let s;return s=a?a.toFirestore(t):t,s}class yl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Vs extends vT{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(ET("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Vs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vs._jsonSchema={type:Ce("string",Vs._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Vc extends Vs{data(t={}){return super.data(t)}}class Ha{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new yl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Vc(this._firestore,this._userDataWriter,s.key,s,new yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Vc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new yl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Vc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new yl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,S=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:VI(g.type),doc:_,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ha._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=_m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function VI(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:a})}}Ha._jsonSchemaVersion="firestore/querySnapshot/1.0",Ha._jsonSchema={type:Ce("string",Ha._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class TT extends OI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,i)}}function xI(a,t,i){a=Ba(a,Le);const s=Ba(a.firestore,Wc),l=MI(a.converter,t);return UI(s,[wI(bI(s),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,Ki.none())])}function kI(a,...t){a=xn(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Xv(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Xv(t[s])){const _=t[s];t[s]=_.next?.bind(_),t[s+1]=_.error?.bind(_),t[s+2]=_.complete?.bind(_)}let c,d,g;if(a instanceof Le)d=Ba(a.firestore,Wc),g=wm(a._key.path),c={next:_=>{t[s]&&t[s](LI(d,a,_))},error:t[s+1],complete:t[s+2]};else{const _=Ba(a,_h);d=Ba(_.firestore,Wc),g=_._query;const y=new TT(d);c={next:S=>{t[s]&&t[s](new Ha(d,y,_,S))},error:t[s+1],complete:t[s+2]},NI(a._query)}return(function(y,S,A,V){const H=new mI(V),W=new XC(S,H,A);return y.asyncQueue.enqueueAndForget((async()=>FC(await qv(y),W))),()=>{H.Nu(),y.asyncQueue.enqueueAndForget((async()=>QC(await qv(y),W)))}})(hT(d),g,l,c)}function UI(a,t){return(function(s,l){const c=new Ms;return s.asyncQueue.enqueueAndForget((async()=>sI(await yI(s),l,c))),c.promise})(hT(a),t)}function LI(a,t,i){const s=i.docs.get(t._key),l=new TT(a);return new Vs(a,l,t._key,s,new yl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){eo=l})(Wa),Ga(new ks("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Wc(new Tw(s.getProvider("auth-internal")),new bw(d,s.getProvider("app-check-internal")),(function(y,S){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ht(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(y.options.projectId,S)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Hr(tv,ev,t),Hr(tv,ev,"esm2020")})();const PI={apiKey:"AIzaSyBcezJRuEx8vsThQKhi8Az_XdL_XSM6u8g",authDomain:"st-mary-somerset.firebaseapp.com",projectId:"st-mary-somerset",storageBucket:"st-mary-somerset.firebasestorage.app",messagingSenderId:"924281338278",appId:"1:924281338278:web:83affbb1aff93ba797f767"},ST=h0(PI),Qm=yw(ST),AT=vI(ST),bT="default-app",zI=async()=>{try{await t2(Qm)}catch(a){console.error("Firebase Auth Error",a)}},jI=a=>a2(Qm,t=>{if(t){const i=cT(AT,"artifacts",bT,"public","data","st_mary_project","main");return kI(i,s=>{s.exists()?a(s.data()):console.log("No data found, seeding...")})}}),Zv=async(a,t)=>{if(!Qm.currentUser)return;const i=cT(AT,"artifacts",bT,"public","data","st_mary_project","main");try{await xI(i,{projectStartDate:t.toISOString(),tasks:a,lastUpdated:new Date().toISOString()}),console.log("Data saved to Firebase")}catch(s){console.error("Error saving data:",s)}},BI=(a,t,i)=>{if(t===i)return!0;const s=new Set,l=[i];for(;l.length>0;){const c=l.pop();if(s.has(c))continue;s.add(c);const d=a.find(g=>g.id===c);if(d){if(d.dependencies&&d.dependencies.includes(t))return!0;d.dependencies&&d.dependencies.forEach(g=>l.push(g))}}return!1},Jv=(a,t)=>{if(!a.dependencies||a.dependencies.length===0)return null;let i=null;return a.dependencies.forEach(s=>{const l=t.find(c=>c.id===s);if(l){const c=new Date(l.startDate);c.setDate(c.getDate()+l.duration),(!i||c>i)&&(i=c)}}),i},$v=(a,t)=>{const i=[...t],s=new Map(i.map(d=>[d.id,d]));s.set(a.id,a);const l=[a],c=new Set;for(;l.length>0;){const d=l.shift();if(c.has(d.id))continue;c.add(d.id);const g=new Date(d.startDate);g.setDate(g.getDate()+d.duration),i.forEach(_=>{if(_.dependencies&&_.dependencies.includes(d.id)&&new Date(_.startDate)<g){const S=new Date(g),A={..._,startDate:S.toISOString()};s.set(_.id,A);const V=i.findIndex(H=>H.id===_.id);i[V]=A,l.push(A)}})}return i};function qI(){const[a,t]=oe.useState([]),[i,s]=oe.useState(null),[l,c]=oe.useState("week"),[d,g]=oe.useState(new Date("2024-01-01")),[_,y]=oe.useState("list"),[S,A]=oe.useState(!1);oe.useEffect(()=>{const it=()=>A(window.innerWidth<1024);return it(),window.addEventListener("resize",it),()=>window.removeEventListener("resize",it)},[]),oe.useEffect(()=>{zI();const it=jI(U=>{if(U){g(new Date(U.projectStartDate));const X=fl(U.tasks);t(X)}});return()=>it&&it()},[]);const V=it=>{Zv(it,d)},H=oe.useRef(null),W=oe.useRef(null),et=oe.useRef(!1),$=it=>U=>{if(et.current)return;et.current=!0;const X=U.target.scrollTop;it==="sidebar"&&W.current?W.current.scrollTop=X:it==="timeline"&&H.current&&(H.current.scrollTop=X),setTimeout(()=>{et.current=!1},10)},[lt,vt]=oe.useState([]),[mt,Pt]=oe.useState([]),ct=(it,U=!0)=>{const X=fl(it);U&&(vt(rt=>[...rt,a]),Pt([])),t(X),V(X)},ft=()=>{if(lt.length===0)return;const it=lt[lt.length-1],U=lt.slice(0,-1);Pt(X=>[a,...X]),vt(U),t(fl(it)),V(it)},C=()=>{if(mt.length===0)return;const it=mt[0],U=mt.slice(1);vt(X=>[...X,a]),Pt(U),t(fl(it)),V(it)},b=()=>{const it={id:`t${Date.now()}`,name:"New Phase",startDate:new Date().toISOString(),duration:5,progress:0,type:"task",dependencies:[]},U=[...a,it];ct(U)},w=(it,U)=>{if(it===U)return;const X=[...a];if(it<0||it>=X.length){console.error("Invalid drag index:",it);return}const[rt]=X.splice(it,1);if(!rt){console.error("Failed to remove task at index:",it);return}let pt=U;pt>it&&(pt-=1),pt=Math.max(0,Math.min(pt,X.length)),X.splice(pt,0,rt),ct(X)},[M,D]=oe.useState(null),k=(it,U)=>{if(U.isSummary)return;const X=it.target.getAttribute("data-resize")==="right",rt=it.clientX;D({task:U,startX:rt,originalDate:new Date(U.startDate),originalDuration:U.duration,type:X?"resize":"move",snapshot:[...a]}),it.preventDefault()},R=it=>{if(!M)return;const U=it.clientX-M.startX,rt=Math.round(U/(l==="day"?60:l==="week"?40:20));if(M.type==="move"){let pt=new Date(M.originalDate);pt.setDate(pt.getDate()+rt);const At=Jv(M.task,a);At&&pt<At&&(pt=At),t(N=>N.map(Q=>Q.id===M.task.id?{...Q,startDate:pt.toISOString()}:Q))}else if(M.type==="resize"){const pt=Math.max(1,M.originalDuration+rt);t(At=>At.map(N=>N.id===M.task.id?{...N,duration:pt}:N))}},Ft=()=>{if(M){const it=a.find(U=>U.id===M.task.id);if(it){const U=$v(it,a);ct(U)}}D(null)};return Z.jsxs("div",{className:"h-screen w-screen bg-midnight text-stone flex flex-col overflow-hidden font-ui select-none",onMouseMove:R,onMouseUp:Ft,children:[Z.jsx(IS,{viewMode:l,setViewMode:c,onAddTask:b,onUndo:ft,onRedo:C,canUndo:lt.length>0,canRedo:mt.length>0,status,onImportData:()=>{if(confirm("Verify: This will OVERWRITE all current tasks with the Excel data. Continue?")){const it=b_.reduce((rt,pt)=>{const At=new Date(pt.startDate);return At<rt?At:rt},new Date(864e13)),U=new Date(it);U.setDate(U.getDate()-7),g(U);const X=fl(b_);t(X),Zv(X,U),alert("Data reset to v1.2.0 (Excel Import) & Timeline adjusted.")}}}),S&&Z.jsxs("div",{className:"flex border-b border-border bg-void/50",children:[Z.jsx("button",{onClick:()=>y("list"),className:`flex-1 py-2 text-xs font-header tracking-wider uppercase ${_==="list"?"bg-bronze text-midnight":"text-stone"}`,children:"Task List"}),Z.jsx("button",{onClick:()=>y("chart"),className:`flex-1 py-2 text-xs font-header tracking-wider uppercase ${_==="chart"?"bg-bronze text-midnight":"text-stone"}`,children:"Timeline"})]}),Z.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[Z.jsx("div",{className:`w-full lg:w-80 flex-shrink-0 h-full overflow-y-auto no-scrollbar border-r border-border transition-all ${S&&_!=="list"?"hidden":"block"}`,ref:H,onScroll:$("sidebar"),children:Z.jsx(DS,{tasks:a,onEditTask:s,onReorderTasks:w})}),Z.jsx("div",{className:`flex-1 h-full overflow-y-auto overflow-x-hidden transition-all ${S&&_!=="chart"?"hidden":"block"}`,ref:W,onScroll:$("timeline"),children:Z.jsx(MS,{tasks:a,viewMode:l,projectStartDate:d,onScroll:()=>{},onTaskDragStart:k,onEditTask:s})})]}),i&&Z.jsx(VS,{task:i,onClose:()=>s(null),onSave:it=>{let U=!1;if(it.dependencies&&it.dependencies.forEach(At=>{BI([...a],it.id,At)&&(alert(`Circular dependency detected! Cannot depend on ${At}`),U=!0)}),U)return;const X=Jv(it,a);X&&new Date(it.startDate)<X&&(alert("Start date adjusted to obey dependencies."),it.startDate=X.toISOString());const rt=a.map(At=>At.id===it.id?it:At),pt=$v(it,rt);t(pt),V(pt),s(null)}})]})}cS.createRoot(document.getElementById("root")).render(Z.jsx(oe.StrictMode,{children:Z.jsx(qI,{})}));
