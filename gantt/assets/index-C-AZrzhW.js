(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var pd={exports:{}},ll={};var h_;function $S(){if(h_)return ll;h_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:c}}return ll.Fragment=t,ll.jsx=i,ll.jsxs=i,ll}var f_;function WS(){return f_||(f_=1,pd.exports=$S()),pd.exports}var $=WS(),yd={exports:{}},St={};var d_;function tA(){if(d_)return St;d_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),U=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=U&&O[U]||O["@@iterator"],typeof O=="function"?O:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,X={};function ot(O,K,nt){this.props=O,this.context=K,this.refs=X,this.updater=nt||tt}ot.prototype.isReactComponent={},ot.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},ot.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function yt(){}yt.prototype=ot.prototype;function ft(O,K,nt){this.props=O,this.context=K,this.refs=X,this.updater=nt||tt}var at=ft.prototype=new yt;at.constructor=ft,J(at,ot.prototype),at.isPureReactComponent=!0;var ut=Array.isArray;function dt(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function w(O,K,nt){var rt=nt.ref;return{$$typeof:a,type:O,key:K,ref:rt!==void 0?rt:null,props:nt}}function M(O,K){return w(O.type,K,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function x(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return K[nt]})}var C=/\/+/g;function ne(O,K){return typeof O=="object"&&O!==null&&O.key!=null?x(""+O.key):K.toString(36)}function Re(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(dt,dt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,K,nt,rt,Et){var Rt=typeof O;(Rt==="undefined"||Rt==="boolean")&&(O=null);var Lt=!1;if(O===null)Lt=!0;else switch(Rt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(O.$$typeof){case a:case t:Lt=!0;break;case S:return Lt=O._init,H(Lt(O._payload),K,nt,rt,Et)}}if(Lt)return Et=Et(O),Lt=rt===""?"."+ne(O,0):rt,ut(Et)?(nt="",Lt!=null&&(nt=Lt.replace(C,"$&/")+"/"),H(Et,K,nt,"",function($r){return $r})):Et!=null&&(D(Et)&&(Et=M(Et,nt+(Et.key==null||O&&O.key===Et.key?"":(""+Et.key).replace(C,"$&/")+"/")+Lt)),K.push(Et)),1;Lt=0;var Ce=rt===""?".":rt+":";if(ut(O))for(var ie=0;ie<O.length;ie++)rt=O[ie],Rt=Ce+ne(rt,ie),Lt+=H(rt,K,nt,Rt,Et);else if(ie=G(O),typeof ie=="function")for(O=ie.call(O),ie=0;!(rt=O.next()).done;)rt=rt.value,Rt=Ce+ne(rt,ie++),Lt+=H(rt,K,nt,Rt,Et);else if(Rt==="object"){if(typeof O.then=="function")return H(Re(O),K,nt,rt,Et);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function et(O,K,nt){if(O==null)return O;var rt=[],Et=0;return H(O,rt,"","",function(Rt){return K.call(nt,Rt,Et++)}),rt}function mt(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Pt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Gt={map:et,forEach:function(O,K,nt){et(O,function(){K.apply(this,arguments)},nt)},count:function(O){var K=0;return et(O,function(){K++}),K},toArray:function(O){return et(O,function(K){return K})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return St.Activity=b,St.Children=Gt,St.Component=ot,St.Fragment=i,St.Profiler=l,St.PureComponent=ft,St.StrictMode=s,St.Suspense=y,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,St.__COMPILER_RUNTIME={__proto__:null,c:function(O){return R.H.useMemoCache(O)}},St.cache=function(O){return function(){return O.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(O,K,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=J({},O.props),Et=O.key;if(K!=null)for(Rt in K.key!==void 0&&(Et=""+K.key),K)!A.call(K,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&K.ref===void 0||(rt[Rt]=K[Rt]);var Rt=arguments.length-2;if(Rt===1)rt.children=nt;else if(1<Rt){for(var Lt=Array(Rt),Ce=0;Ce<Rt;Ce++)Lt[Ce]=arguments[Ce+2];rt.children=Lt}return w(O.type,Et,rt)},St.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},St.createElement=function(O,K,nt){var rt,Et={},Rt=null;if(K!=null)for(rt in K.key!==void 0&&(Rt=""+K.key),K)A.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(Et[rt]=K[rt]);var Lt=arguments.length-2;if(Lt===1)Et.children=nt;else if(1<Lt){for(var Ce=Array(Lt),ie=0;ie<Lt;ie++)Ce[ie]=arguments[ie+2];Et.children=Ce}if(O&&O.defaultProps)for(rt in Lt=O.defaultProps,Lt)Et[rt]===void 0&&(Et[rt]=Lt[rt]);return w(O,Rt,Et)},St.createRef=function(){return{current:null}},St.forwardRef=function(O){return{$$typeof:p,render:O}},St.isValidElement=D,St.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:mt}},St.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},St.startTransition=function(O){var K=R.T,nt={};R.T=nt;try{var rt=O(),Et=R.S;Et!==null&&Et(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(dt,Pt)}catch(Rt){Pt(Rt)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),R.T=K}},St.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},St.use=function(O){return R.H.use(O)},St.useActionState=function(O,K,nt){return R.H.useActionState(O,K,nt)},St.useCallback=function(O,K){return R.H.useCallback(O,K)},St.useContext=function(O){return R.H.useContext(O)},St.useDebugValue=function(){},St.useDeferredValue=function(O,K){return R.H.useDeferredValue(O,K)},St.useEffect=function(O,K){return R.H.useEffect(O,K)},St.useEffectEvent=function(O){return R.H.useEffectEvent(O)},St.useId=function(){return R.H.useId()},St.useImperativeHandle=function(O,K,nt){return R.H.useImperativeHandle(O,K,nt)},St.useInsertionEffect=function(O,K){return R.H.useInsertionEffect(O,K)},St.useLayoutEffect=function(O,K){return R.H.useLayoutEffect(O,K)},St.useMemo=function(O,K){return R.H.useMemo(O,K)},St.useOptimistic=function(O,K){return R.H.useOptimistic(O,K)},St.useReducer=function(O,K,nt){return R.H.useReducer(O,K,nt)},St.useRef=function(O){return R.H.useRef(O)},St.useState=function(O){return R.H.useState(O)},St.useSyncExternalStore=function(O,K,nt){return R.H.useSyncExternalStore(O,K,nt)},St.useTransition=function(){return R.H.useTransition()},St.version="19.2.3",St}var m_;function rm(){return m_||(m_=1,yd.exports=tA()),yd.exports}var Ne=rm(),_d={exports:{}},ul={},vd={exports:{}},Ed={};var g_;function eA(){return g_||(g_=1,(function(a){function t(H,et){var mt=H.length;H.push(et);t:for(;0<mt;){var Pt=mt-1>>>1,Gt=H[Pt];if(0<l(Gt,et))H[Pt]=et,H[mt]=Gt,mt=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],mt=H.pop();if(mt!==et){H[0]=mt;t:for(var Pt=0,Gt=H.length,O=Gt>>>1;Pt<O;){var K=2*(Pt+1)-1,nt=H[K],rt=K+1,Et=H[rt];if(0>l(nt,mt))rt<Gt&&0>l(Et,nt)?(H[Pt]=Et,H[rt]=mt,Pt=rt):(H[Pt]=nt,H[K]=mt,Pt=K);else if(rt<Gt&&0>l(Et,mt))H[Pt]=Et,H[rt]=mt,Pt=rt;else break t}}return et}function l(H,et){var mt=H.sortIndex-et.sortIndex;return mt!==0?mt:H.id-et.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var y=[],_=[],S=1,b=null,U=3,G=!1,tt=!1,J=!1,X=!1,ot=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function at(H){for(var et=i(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=H)s(_),et.sortIndex=et.expirationTime,t(y,et);else break;et=i(_)}}function ut(H){if(J=!1,at(H),!tt)if(i(y)!==null)tt=!0,dt||(dt=!0,x());else{var et=i(_);et!==null&&Re(ut,et.startTime-H)}}var dt=!1,R=-1,A=5,w=-1;function M(){return X?!0:!(a.unstable_now()-w<A)}function D(){if(X=!1,dt){var H=a.unstable_now();w=H;var et=!0;try{t:{tt=!1,J&&(J=!1,yt(R),R=-1),G=!0;var mt=U;try{e:{for(at(H),b=i(y);b!==null&&!(b.expirationTime>H&&M());){var Pt=b.callback;if(typeof Pt=="function"){b.callback=null,U=b.priorityLevel;var Gt=Pt(b.expirationTime<=H);if(H=a.unstable_now(),typeof Gt=="function"){b.callback=Gt,at(H),et=!0;break e}b===i(y)&&s(y),at(H)}else s(y);b=i(y)}if(b!==null)et=!0;else{var O=i(_);O!==null&&Re(ut,O.startTime-H),et=!1}}break t}finally{b=null,U=mt,G=!1}et=void 0}}finally{et?x():dt=!1}}}var x;if(typeof ft=="function")x=function(){ft(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ne=C.port2;C.port1.onmessage=D,x=function(){ne.postMessage(null)}}else x=function(){ot(D,0)};function Re(H,et){R=ot(function(){H(a.unstable_now())},et)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return U},a.unstable_next=function(H){switch(U){case 1:case 2:case 3:var et=3;break;default:et=U}var mt=U;U=et;try{return H()}finally{U=mt}},a.unstable_requestPaint=function(){X=!0},a.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var mt=U;U=H;try{return et()}finally{U=mt}},a.unstable_scheduleCallback=function(H,et,mt){var Pt=a.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Pt+mt:Pt):mt=Pt,H){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=mt+Gt,H={id:S++,callback:et,priorityLevel:H,startTime:mt,expirationTime:Gt,sortIndex:-1},mt>Pt?(H.sortIndex=mt,t(_,H),i(y)===null&&H===i(_)&&(J?(yt(R),R=-1):J=!0,Re(ut,mt-Pt))):(H.sortIndex=Gt,t(y,H),tt||G||(tt=!0,dt||(dt=!0,x()))),H},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(H){var et=U;return function(){var mt=U;U=et;try{return H.apply(this,arguments)}finally{U=mt}}}})(Ed)),Ed}var p_;function nA(){return p_||(p_=1,vd.exports=eA()),vd.exports}var Td={exports:{}},Ke={};var y_;function iA(){if(y_)return Ke;y_=1;var a=rm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:_,implementation:S}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(y,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,S)},Ke.flushSync=function(y){var _=d.T,S=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=_,s.p=S,s.d.f()}},Ke.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},Ke.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ke.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var S=_.as,b=p(S,_.crossOrigin),U=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:U,fetchPriority:G}):S==="script"&&s.d.X(y,{crossOrigin:b,integrity:U,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ke.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=p(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},Ke.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,b=p(S,_.crossOrigin);s.d.L(y,S,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ke.preloadModule=function(y,_){if(typeof y=="string")if(_){var S=p(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},Ke.requestFormReset=function(y){s.d.r(y)},Ke.unstable_batchedUpdates=function(y,_){return y(_)},Ke.useFormState=function(y,_,S){return d.H.useFormState(y,_,S)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.3",Ke}var __;function rA(){if(__)return Td.exports;__=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Td.exports=iA(),Td.exports}var v_;function sA(){if(v_)return ul;v_=1;var a=nA(),t=rm(),i=rA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(s(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,U=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case ot:return"Profiler";case X:return"StrictMode";case ut:return"Suspense";case dt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case ft:return e.displayName||"Context";case yt:return(e._context.displayName||"Context")+".Consumer";case at:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return n=e.displayName||null,n!==null?n:ne(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ne(e(n))}catch{}}return null}var Re=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Pt=[],Gt=-1;function O(e){return{current:e}}function K(e){0>Gt||(e.current=Pt[Gt],Pt[Gt]=null,Gt--)}function nt(e,n){Gt++,Pt[Gt]=e.current,e.current=n}var rt=O(null),Et=O(null),Rt=O(null),Lt=O(null);function Ce(e,n){switch(nt(Rt,n),nt(Et,e),nt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?xy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=xy(n),e=Uy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),nt(rt,e)}function ie(){K(rt),K(Et),K(Rt)}function $r(e){e.memoizedState!==null&&nt(Lt,e);var n=rt.current,r=Uy(n,e.type);n!==r&&(nt(Et,e),nt(rt,r))}function qs(e){Et.current===e&&(K(rt),K(Et)),Lt.current===e&&(K(Lt),rl._currentValue=mt)}var Hs,Gs;function Zn(e){if(Hs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Hs=n&&n[1]||"",Gs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hs+e+Gs}var io=!1;function Wr(e,n){if(!e||io)return"";io=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var z=B}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(B){z=B}e.call(Q.prototype)}}else{try{throw Error()}catch(B){z=B}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),P=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===P.length)for(o=I.length-1,h=P.length-1;1<=o&&0<=h&&I[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==P[h]){var q=`
`+I[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=h);break}}}finally{io=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Zn(r):""}function ro(e,n){switch(e.tag){case 26:case 27:case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return e.child!==n&&n!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return Wr(e.type,!1);case 11:return Wr(e.type.render,!1);case 1:return Wr(e.type,!0);case 31:return Zn("Activity");default:return""}}function so(e){try{var n="",r=null;do n+=ro(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,Ie=a.unstable_scheduleCallback,er=a.unstable_cancelCallback,yh=a.unstable_shouldYield,zl=a.unstable_requestPaint,$e=a.unstable_now,ts=a.unstable_getCurrentPriorityLevel,ao=a.unstable_ImmediatePriority,oo=a.unstable_UserBlockingPriority,nr=a.unstable_NormalPriority,_h=a.unstable_LowPriority,jl=a.unstable_IdlePriority,Bl=a.log,ql=a.unstable_setDisableYieldValue,Un=null,Pe=null;function vn(e){if(typeof Bl=="function"&&ql(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Un,e)}catch{}}var ce=Math.clz32?Math.clz32:Gl,Hl=Math.log,Fs=Math.LN2;function Gl(e){return e>>>=0,e===0?32:31-(Hl(e)/Fs|0)|0}var Jn=256,es=262144,pe=4194304;function $n(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Wn(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=$n(o):(g&=E,g!==0?h=$n(g):r||(r=E&~e,r!==0&&(h=$n(r))))):(E=o&~f,E!==0?h=$n(E):g!==0?h=$n(g):r||(r=o&~e,r!==0&&(h=$n(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function vh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fl(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function ti(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ns(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Eh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,P=e.hiddenUpdates;for(r=g&~r;0<r;){var q=31-ce(r),Q=1<<q;E[q]=0,I[q]=-1;var z=P[q];if(z!==null)for(P[q]=null,q=0;q<z.length;q++){var B=z[q];B!==null&&(B.lane&=-536870913)}r&=~Q}o!==0&&is(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function is(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function lo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ce(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function uo(e,n){var r=n&-n;return r=(r&42)!==0?1:rs(r),(r&(e.suspendedLanes|n))!==0?0:r}function rs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ci(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ql(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:r_(e.type))}function kn(e,n){var r=et.p;try{return et.p=e,n()}finally{et.p=r}}var Pn=Math.random().toString(36).slice(2),ye="__reactFiber$"+Pn,Ve="__reactProps$"+Pn,ei="__reactContainer$"+Pn,Qs="__reactEvents$"+Pn,Th="__reactListeners$"+Pn,Kl="__reactHandles$"+Pn,Yl="__reactResources$"+Pn,ni="__reactMarker$"+Pn;function Ks(e){delete e[ye],delete e[Ve],delete e[Qs],delete e[Th],delete e[Kl]}function ii(e){var n=e[ye];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ei]||r[ye]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=qy(e);e!==null;){if(r=e[ye])return r;e=qy(e)}return n}e=r,r=e.parentNode}return null}function En(e){if(e=e[ye]||e[ei]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function cn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function ri(e){var n=e[Yl];return n||(n=e[Yl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[ni]=!0}var co=new Set,ho={};function si(e,n){ai(e,n),ai(e+"Capture",n)}function ai(e,n){for(ho[e]=n,e=0;e<n.length;e++)co.add(n[e])}var fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mo={},go={};function Xl(e){return ge.call(go,e)?!0:ge.call(mo,e)?!1:fo.test(e)?go[e]=!0:(mo[e]=!0,!1)}function Ys(e,n,r){if(Xl(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function hn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function ve(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ir(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function po(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ft(e){if(!e._valueTracker){var n=ir(e)?"checked":"value";e._valueTracker=po(e,n,""+e[n])}}function ss(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=ir(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var as=/[\n"\\]/g;function en(e){return e.replace(as,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Xs(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xe(n)):e.value!==""+xe(n)&&(e.value=""+xe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?yo(e,g,xe(n)):r!=null?yo(e,g,xe(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+xe(E):e.removeAttribute("name")}function Zl(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(e);return}r=r!=null?""+xe(r):"",n=n!=null?""+xe(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ft(e)}function yo(e,n,r){n==="number"&&oi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function rr(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+xe(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Jl(e,n,r){if(n!=null&&(n=""+xe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+xe(r):""}function sr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(Re(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=xe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Ft(e)}function nn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var $l=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _o(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||$l.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function vo(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&_o(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&_o(e,f,n[f])}function Zs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Js(e){return ar.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var Eo=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var or=null,li=null;function os(e){var n=En(e);if(n&&(e=n.stateNode)){var r=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(Xs(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(s(90));Xs(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&ss(o)}break t;case"textarea":Jl(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&rr(e,!!r.multiple,n,!1)}}}var $s=!1;function lr(e,n,r){if($s)return e(n,r);$s=!0;try{var o=e(n);return o}finally{if($s=!1,(or!==null||li!==null)&&(Qu(),or&&(n=or,e=li,li=or=null,os(n),e)))for(n=0;n<e.length;n++)os(e[n])}}function jn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ve]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ls=!1;if(Sn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){ls=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{ls=!1}var ui=null,To=null,us=null;function So(){if(us)return us;var e,n=To,r=n.length,o,h="value"in ui?ui.value:ui.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return us=h.slice(e,1<o?1-o:void 0)}function cs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ii(){return!0}function Bn(){return!1}function ze(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ii:Bn,this.isPropagationStopped=Bn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=ze(Di),ur=b({},Di,{view:0,detail:0}),Ao=ze(ur),cr,Ws,hi,ta=b({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hi&&(hi&&e.type==="mousemove"?(cr=e.screenX-hi.screenX,Ws=e.screenY-hi.screenY):Ws=cr=0,hi=e),cr)},movementY:function(e){return"movementY"in e?e.movementY:Ws}}),bo=ze(ta),hs=b({},ta,{dataTransfer:0}),tu=ze(hs),eu=b({},ur,{relatedTarget:0}),fs=ze(eu),wo=b({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),nu=ze(wo),ea=b({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iu=ze(ea),ru=b({},Di,{data:0}),fi=ze(ru),su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ou[e])?!!n[e]:!1}function hr(){return lu}var We=b({},ur,{key:function(e){if(e.key){var n=su[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?au[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(e){return e.type==="keypress"?cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uu=ze(We),cu=b({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ni=ze(cu),u=b({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),m=ze(u),v=b({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),L=b({},ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=ze(L),W=b({},Di,{newState:0,oldState:0}),bt=ze(W),he=[9,13,27,32],Bt=Sn&&"CompositionEvent"in window,re=null;Sn&&"documentMode"in document&&(re=document.documentMode);var An=Sn&&"TextEvent"in window&&!re,di=Sn&&(!Bt||re&&8<re&&11>=re),qn=" ",Hn=!1;function ds(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function na(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ia=!1;function S0(e,n){switch(e){case"compositionend":return na(n);case"keypress":return n.which!==32?null:(Hn=!0,qn);case"textInput":return e=n.data,e===qn&&Hn?null:e;default:return null}}function A0(e,n){if(ia)return e==="compositionend"||!Bt&&ds(e,n)?(e=So(),us=To=ui=null,ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return di&&n.locale!=="ko"?null:n.data;default:return null}}var b0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!b0[e.type]:n==="textarea"}function Qm(e,n,r,o){or?li?li.push(o):li=[o]:or=o,n=Wu(n,"onChange"),0<n.length&&(r=new ci("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Ro=null,Co=null;function w0(e){Iy(e,0)}function hu(e){var n=cn(e);if(ss(n))return e}function Km(e,n){if(e==="change")return n}var Ym=!1;if(Sn){var Sh;if(Sn){var Ah="oninput"in document;if(!Ah){var Xm=document.createElement("div");Xm.setAttribute("oninput","return;"),Ah=typeof Xm.oninput=="function"}Sh=Ah}else Sh=!1;Ym=Sh&&(!document.documentMode||9<document.documentMode)}function Zm(){Ro&&(Ro.detachEvent("onpropertychange",Jm),Co=Ro=null)}function Jm(e){if(e.propertyName==="value"&&hu(Co)){var n=[];Qm(n,Co,e,Tn(e)),lr(w0,n)}}function R0(e,n,r){e==="focusin"?(Zm(),Ro=n,Co=r,Ro.attachEvent("onpropertychange",Jm)):e==="focusout"&&Zm()}function C0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hu(Co)}function I0(e,n){if(e==="click")return hu(n)}function D0(e,n){if(e==="input"||e==="change")return hu(n)}function N0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:N0;function Io(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!ge.call(n,h)||!fn(e[h],n[h]))return!1}return!0}function $m(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wm(e,n){var r=$m(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=$m(r)}}function tg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?tg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function eg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=oi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=oi(e.document)}return n}function bh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var O0=Sn&&"documentMode"in document&&11>=document.documentMode,ra=null,wh=null,Do=null,Rh=!1;function ng(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rh||ra==null||ra!==oi(o)||(o=ra,"selectionStart"in o&&bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Do&&Io(Do,o)||(Do=o,o=Wu(wh,"onSelect"),0<o.length&&(n=new ci("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ra)))}function ms(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var sa={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},Ch={},ig={};Sn&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function gs(e){if(Ch[e])return Ch[e];if(!sa[e])return e;var n=sa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in ig)return Ch[e]=n[r];return e}var rg=gs("animationend"),sg=gs("animationiteration"),ag=gs("animationstart"),M0=gs("transitionrun"),V0=gs("transitionstart"),x0=gs("transitioncancel"),og=gs("transitionend"),lg=new Map,Ih="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ih.push("scrollEnd");function Gn(e,n){lg.set(e,n),si(n,[e])}var fu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},bn=[],aa=0,Dh=0;function du(){for(var e=aa,n=Dh=aa=0;n<e;){var r=bn[n];bn[n++]=null;var o=bn[n];bn[n++]=null;var h=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&ug(r,h,f)}}function mu(e,n,r,o){bn[aa++]=e,bn[aa++]=n,bn[aa++]=r,bn[aa++]=o,Dh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Nh(e,n,r,o){return mu(e,n,r,o),gu(e)}function ps(e,n){return mu(e,null,null,n),gu(e)}function ug(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ce(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function gu(e){if(50<Jo)throw Jo=0,jf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var oa={};function U0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,r,o){return new U0(e,n,r,o)}function Oh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oi(e,n){var r=e.alternate;return r===null?(r=dn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function cg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function pu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Oh(e)&&(g=1);else if(typeof e=="string")g=jS(e,r,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=dn(31,r,n,h),e.elementType=w,e.lanes=f,e;case J:return ys(r.children,h,f,n);case X:g=8,h|=24;break;case ot:return e=dn(12,r,n,h|2),e.elementType=ot,e.lanes=f,e;case ut:return e=dn(13,r,n,h),e.elementType=ut,e.lanes=f,e;case dt:return e=dn(19,r,n,h),e.elementType=dt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:g=10;break t;case yt:g=9;break t;case at:g=11;break t;case R:g=14;break t;case A:g=16,o=null;break t}g=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=dn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function ys(e,n,r,o){return e=dn(7,e,o,n),e.lanes=r,e}function Mh(e,n,r){return e=dn(6,e,null,n),e.lanes=r,e}function hg(e){var n=dn(18,null,null,0);return n.stateNode=e,n}function Vh(e,n,r){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var fg=new WeakMap;function wn(e,n){if(typeof e=="object"&&e!==null){var r=fg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:so(n)},fg.set(e,n),n)}return{value:e,source:n,stack:so(n)}}var la=[],ua=0,yu=null,No=0,Rn=[],Cn=0,fr=null,mi=1,gi="";function Mi(e,n){la[ua++]=No,la[ua++]=yu,yu=e,No=n}function dg(e,n,r){Rn[Cn++]=mi,Rn[Cn++]=gi,Rn[Cn++]=fr,fr=e;var o=mi;e=gi;var h=32-ce(o)-1;o&=~(1<<h),r+=1;var f=32-ce(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,mi=1<<32-ce(n)+h|r<<h|o,gi=f+e}else mi=1<<f|r<<h|o,gi=e}function xh(e){e.return!==null&&(Mi(e,1),dg(e,1,0))}function Uh(e){for(;e===yu;)yu=la[--ua],la[ua]=null,No=la[--ua],la[ua]=null;for(;e===fr;)fr=Rn[--Cn],Rn[Cn]=null,gi=Rn[--Cn],Rn[Cn]=null,mi=Rn[--Cn],Rn[Cn]=null}function mg(e,n){Rn[Cn++]=mi,Rn[Cn++]=gi,Rn[Cn++]=fr,mi=n.id,gi=n.overflow,fr=e}var je=null,Wt=null,Ut=!1,dr=null,In=!1,Lh=Error(s(519));function mr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oo(wn(n,e)),Lh}function gg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ye]=e,n[Ve]=o,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<Wo.length;r++)Dt(Wo[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Zl(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),sr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||My(n.textContent,r)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||mr(e,!0)}function pg(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:je=je.return}}function ca(e){if(e!==je)return!1;if(!Ut)return pg(e),Ut=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||ed(e.type,e.memoizedProps)),r=!r),r&&Wt&&mr(e),pg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Wt=By(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Wt=By(e)}else n===27?(n=Wt,Ir(e.type)?(e=ad,ad=null,Wt=e):Wt=n):Wt=je?Nn(e.stateNode.nextSibling):null;return!0}function _s(){Wt=je=null,Ut=!1}function kh(){var e=dr;return e!==null&&(on===null?on=e:on.push.apply(on,e),dr=null),e}function Oo(e){dr===null?dr=[e]:dr.push(e)}var Ph=O(null),vs=null,Vi=null;function gr(e,n,r){nt(Ph,n._currentValue),n._currentValue=r}function xi(e){e._currentValue=Ph.current,K(Ph)}function zh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function jh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),zh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),zh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ha(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;fn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(rl):e=[rl])}h=h.return}e!==null&&jh(n,e,r,o),n.flags|=262144}function _u(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Es(e){vs=e,Vi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return yg(vs,e)}function vu(e,n){return vs===null&&Es(e),yg(e,n)}function yg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Vi===null){if(e===null)throw Error(s(308));Vi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Vi=Vi.next=n;return r}var L0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},k0=a.unstable_scheduleCallback,P0=a.unstable_NormalPriority,Ee={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bh(){return{controller:new L0,data:new Map,refCount:0}}function Mo(e){e.refCount--,e.refCount===0&&k0(P0,function(){e.controller.abort()})}var Vo=null,qh=0,fa=0,da=null;function z0(e,n){if(Vo===null){var r=Vo=[];qh=0,fa=Qf(),da={status:"pending",value:void 0,then:function(o){r.push(o)}}}return qh++,n.then(_g,_g),n}function _g(){if(--qh===0&&Vo!==null){da!==null&&(da.status="fulfilled");var e=Vo;Vo=null,fa=0,da=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function j0(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var vg=H.S;H.S=function(e,n){ny=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&z0(e,n),vg!==null&&vg(e,n)};var Ts=O(null);function Hh(){var e=Ts.current;return e!==null?e:$t.pooledCache}function Eu(e,n){n===null?nt(Ts,Ts.current):nt(Ts,n.pool)}function Eg(){var e=Hh();return e===null?null:{parent:Ee._currentValue,pool:e}}var ma=Error(s(460)),Gh=Error(s(474)),Tu=Error(s(542)),Su={then:function(){}};function Tg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(zn,zn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,bg(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,bg(e),e}throw As=n,ma}}function Ss(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(As=r,ma):r}}var As=null;function Ag(){if(As===null)throw Error(s(459));var e=As;return As=null,e}function bg(e){if(e===ma||e===Tu)throw Error(s(483))}var ga=null,xo=0;function Au(e){var n=xo;return xo+=1,ga===null&&(ga=[]),Sg(ga,e,n)}function Uo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function bu(e,n){throw n.$$typeof===U?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function wg(e){function n(V,N){if(e){var k=V.deletions;k===null?(V.deletions=[N],V.flags|=16):k.push(N)}}function r(V,N){if(!e)return null;for(;N!==null;)n(V,N),N=N.sibling;return null}function o(V){for(var N=new Map;V!==null;)V.key!==null?N.set(V.key,V):N.set(V.index,V),V=V.sibling;return N}function h(V,N){return V=Oi(V,N),V.index=0,V.sibling=null,V}function f(V,N,k){return V.index=k,e?(k=V.alternate,k!==null?(k=k.index,k<N?(V.flags|=67108866,N):k):(V.flags|=67108866,N)):(V.flags|=1048576,N)}function g(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,N,k,F){return N===null||N.tag!==6?(N=Mh(k,V.mode,F),N.return=V,N):(N=h(N,k),N.return=V,N)}function I(V,N,k,F){var ht=k.type;return ht===J?q(V,N,k.props.children,F,k.key):N!==null&&(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Ss(ht)===N.type)?(N=h(N,k.props),Uo(N,k),N.return=V,N):(N=pu(k.type,k.key,k.props,null,V.mode,F),Uo(N,k),N.return=V,N)}function P(V,N,k,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=Vh(k,V.mode,F),N.return=V,N):(N=h(N,k.children||[]),N.return=V,N)}function q(V,N,k,F,ht){return N===null||N.tag!==7?(N=ys(k,V.mode,F,ht),N.return=V,N):(N=h(N,k),N.return=V,N)}function Q(V,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Mh(""+N,V.mode,k),N.return=V,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case G:return k=pu(N.type,N.key,N.props,null,V.mode,k),Uo(k,N),k.return=V,k;case tt:return N=Vh(N,V.mode,k),N.return=V,N;case A:return N=Ss(N),Q(V,N,k)}if(Re(N)||x(N))return N=ys(N,V.mode,k,null),N.return=V,N;if(typeof N.then=="function")return Q(V,Au(N),k);if(N.$$typeof===ft)return Q(V,vu(V,N),k);bu(V,N)}return null}function z(V,N,k,F){var ht=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ht!==null?null:E(V,N,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case G:return k.key===ht?I(V,N,k,F):null;case tt:return k.key===ht?P(V,N,k,F):null;case A:return k=Ss(k),z(V,N,k,F)}if(Re(k)||x(k))return ht!==null?null:q(V,N,k,F,null);if(typeof k.then=="function")return z(V,N,Au(k),F);if(k.$$typeof===ft)return z(V,N,vu(V,k),F);bu(V,k)}return null}function B(V,N,k,F,ht){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return V=V.get(k)||null,E(N,V,""+F,ht);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return V=V.get(F.key===null?k:F.key)||null,I(N,V,F,ht);case tt:return V=V.get(F.key===null?k:F.key)||null,P(N,V,F,ht);case A:return F=Ss(F),B(V,N,k,F,ht)}if(Re(F)||x(F))return V=V.get(k)||null,q(N,V,F,ht,null);if(typeof F.then=="function")return B(V,N,k,Au(F),ht);if(F.$$typeof===ft)return B(V,N,k,vu(N,F),ht);bu(N,F)}return null}function st(V,N,k,F){for(var ht=null,zt=null,lt=N,Ct=N=0,Ot=null;lt!==null&&Ct<k.length;Ct++){lt.index>Ct?(Ot=lt,lt=null):Ot=lt.sibling;var jt=z(V,lt,k[Ct],F);if(jt===null){lt===null&&(lt=Ot);break}e&&lt&&jt.alternate===null&&n(V,lt),N=f(jt,N,Ct),zt===null?ht=jt:zt.sibling=jt,zt=jt,lt=Ot}if(Ct===k.length)return r(V,lt),Ut&&Mi(V,Ct),ht;if(lt===null){for(;Ct<k.length;Ct++)lt=Q(V,k[Ct],F),lt!==null&&(N=f(lt,N,Ct),zt===null?ht=lt:zt.sibling=lt,zt=lt);return Ut&&Mi(V,Ct),ht}for(lt=o(lt);Ct<k.length;Ct++)Ot=B(lt,V,Ct,k[Ct],F),Ot!==null&&(e&&Ot.alternate!==null&&lt.delete(Ot.key===null?Ct:Ot.key),N=f(Ot,N,Ct),zt===null?ht=Ot:zt.sibling=Ot,zt=Ot);return e&&lt.forEach(function(Vr){return n(V,Vr)}),Ut&&Mi(V,Ct),ht}function pt(V,N,k,F){if(k==null)throw Error(s(151));for(var ht=null,zt=null,lt=N,Ct=N=0,Ot=null,jt=k.next();lt!==null&&!jt.done;Ct++,jt=k.next()){lt.index>Ct?(Ot=lt,lt=null):Ot=lt.sibling;var Vr=z(V,lt,jt.value,F);if(Vr===null){lt===null&&(lt=Ot);break}e&&lt&&Vr.alternate===null&&n(V,lt),N=f(Vr,N,Ct),zt===null?ht=Vr:zt.sibling=Vr,zt=Vr,lt=Ot}if(jt.done)return r(V,lt),Ut&&Mi(V,Ct),ht;if(lt===null){for(;!jt.done;Ct++,jt=k.next())jt=Q(V,jt.value,F),jt!==null&&(N=f(jt,N,Ct),zt===null?ht=jt:zt.sibling=jt,zt=jt);return Ut&&Mi(V,Ct),ht}for(lt=o(lt);!jt.done;Ct++,jt=k.next())jt=B(lt,V,Ct,jt.value,F),jt!==null&&(e&&jt.alternate!==null&&lt.delete(jt.key===null?Ct:jt.key),N=f(jt,N,Ct),zt===null?ht=jt:zt.sibling=jt,zt=jt);return e&&lt.forEach(function(JS){return n(V,JS)}),Ut&&Mi(V,Ct),ht}function Jt(V,N,k,F){if(typeof k=="object"&&k!==null&&k.type===J&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case G:t:{for(var ht=k.key;N!==null;){if(N.key===ht){if(ht=k.type,ht===J){if(N.tag===7){r(V,N.sibling),F=h(N,k.props.children),F.return=V,V=F;break t}}else if(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Ss(ht)===N.type){r(V,N.sibling),F=h(N,k.props),Uo(F,k),F.return=V,V=F;break t}r(V,N);break}else n(V,N);N=N.sibling}k.type===J?(F=ys(k.props.children,V.mode,F,k.key),F.return=V,V=F):(F=pu(k.type,k.key,k.props,null,V.mode,F),Uo(F,k),F.return=V,V=F)}return g(V);case tt:t:{for(ht=k.key;N!==null;){if(N.key===ht)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){r(V,N.sibling),F=h(N,k.children||[]),F.return=V,V=F;break t}else{r(V,N);break}else n(V,N);N=N.sibling}F=Vh(k,V.mode,F),F.return=V,V=F}return g(V);case A:return k=Ss(k),Jt(V,N,k,F)}if(Re(k))return st(V,N,k,F);if(x(k)){if(ht=x(k),typeof ht!="function")throw Error(s(150));return k=ht.call(k),pt(V,N,k,F)}if(typeof k.then=="function")return Jt(V,N,Au(k),F);if(k.$$typeof===ft)return Jt(V,N,vu(V,k),F);bu(V,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(r(V,N.sibling),F=h(N,k),F.return=V,V=F):(r(V,N),F=Mh(k,V.mode,F),F.return=V,V=F),g(V)):r(V,N)}return function(V,N,k,F){try{xo=0;var ht=Jt(V,N,k,F);return ga=null,ht}catch(lt){if(lt===ma||lt===Tu)throw lt;var zt=dn(29,lt,null,V.mode);return zt.lanes=F,zt.return=V,zt}}}var bs=wg(!0),Rg=wg(!1),pr=!1;function Fh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function yr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _r(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=gu(e),ug(e,null,r),n}return mu(e,o,n,r),gu(e)}function Lo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,lo(e,r)}}function Kh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Yh=!1;function ko(){if(Yh){var e=da;if(e!==null)throw e}}function Po(e,n,r,o){Yh=!1;var h=e.updateQueue;pr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,P=I.next;I.next=null,g===null?f=P:g.next=P,g=I;var q=e.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==g&&(E===null?q.firstBaseUpdate=P:E.next=P,q.lastBaseUpdate=I))}if(f!==null){var Q=h.baseState;g=0,q=P=I=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Nt&z)===z:(o&z)===z){z!==0&&z===fa&&(Yh=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,pt=E;z=n;var Jt=r;switch(pt.tag){case 1:if(st=pt.payload,typeof st=="function"){Q=st.call(Jt,Q,z);break t}Q=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=pt.payload,z=typeof st=="function"?st.call(Jt,Q,z):st,z==null)break t;Q=b({},Q,z);break t;case 2:pr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(P=q=B,I=Q):q=q.next=B,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);q===null&&(I=Q),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=q,f===null&&(h.shared.lanes=0),Ar|=g,e.lanes=g,e.memoizedState=Q}}function Cg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Ig(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Cg(r[e],n)}var pa=O(null),wu=O(0);function Dg(e,n){e=Hi,nt(wu,e),nt(pa,n),Hi=e|n.baseLanes}function Xh(){nt(wu,Hi),nt(pa,pa.current)}function Zh(){Hi=wu.current,K(pa),K(wu)}var mn=O(null),Dn=null;function vr(e){var n=e.alternate;nt(fe,fe.current&1),nt(mn,e),Dn===null&&(n===null||pa.current!==null||n.memoizedState!==null)&&(Dn=e)}function Jh(e){nt(fe,fe.current),nt(mn,e),Dn===null&&(Dn=e)}function Ng(e){e.tag===22?(nt(fe,fe.current),nt(mn,e),Dn===null&&(Dn=e)):Er()}function Er(){nt(fe,fe.current),nt(mn,mn.current)}function gn(e){K(mn),Dn===e&&(Dn=null),K(fe)}var fe=O(0);function Ru(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||rd(r)||sd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ui=0,wt=null,Xt=null,Te=null,Cu=!1,ya=!1,ws=!1,Iu=0,zo=0,_a=null,B0=0;function le(){throw Error(s(321))}function $h(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!fn(e[r],n[r]))return!1;return!0}function Wh(e,n,r,o,h,f){return Ui=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?dp:gf,ws=!1,f=r(o,h),ws=!1,ya&&(f=Mg(n,r,o,h)),Og(e),f}function Og(e){H.H=qo;var n=Xt!==null&&Xt.next!==null;if(Ui=0,Te=Xt=wt=null,Cu=!1,zo=0,_a=null,n)throw Error(s(300));e===null||Se||(e=e.dependencies,e!==null&&_u(e)&&(Se=!0))}function Mg(e,n,r,o){wt=e;var h=0;do{if(ya&&(_a=null),zo=0,ya=!1,25<=h)throw Error(s(301));if(h+=1,Te=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=mp,f=n(r,o)}while(ya);return f}function q0(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?jo(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(wt.flags|=1024),n}function tf(){var e=Iu!==0;return Iu=0,e}function ef(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function nf(e){if(Cu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Cu=!1}Ui=0,Te=Xt=wt=null,ya=!1,zo=Iu=0,_a=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?wt.memoizedState=Te=e:Te=Te.next=e,Te}function de(){if(Xt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Te===null?wt.memoizedState:Te.next;if(n!==null)Te=n,Xt=e;else{if(e===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Te===null?wt.memoizedState=Te=e:Te=Te.next=e}return Te}function Du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(e){var n=zo;return zo+=1,_a===null&&(_a=[]),e=Sg(_a,e,n),n=wt,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?dp:gf),e}function Nu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jo(e);if(e.$$typeof===ft)return Be(e)}throw Error(s(438,String(e)))}function rf(e){var n=null,r=wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Du(),wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=M;return n.index++,r}function Li(e,n){return typeof n=="function"?n(e):n}function Ou(e){var n=de();return sf(n,Xt,e)}function sf(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,P=n,q=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(Nt&Q)===Q:(Ui&Q)===Q){var z=P.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===fa&&(q=!0);else if((Ui&z)===z){P=P.next,z===fa&&(q=!0);continue}else Q={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=Q,g=f):I=I.next=Q,wt.lanes|=z,Ar|=z;Q=P.action,ws&&r(f,Q),f=P.hasEagerState?P.eagerState:r(f,Q)}else z={lane:Q,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=z,g=f):I=I.next=z,wt.lanes|=Q,Ar|=Q;P=P.next}while(P!==null&&P!==n);if(I===null?g=f:I.next=E,!fn(f,e.memoizedState)&&(Se=!0,q&&(r=da,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function af(e){var n=de(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);fn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Vg(e,n,r){var o=wt,h=de(),f=Ut;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var g=!fn((Xt||h).memoizedState,r);if(g&&(h.memoizedState=r,Se=!0),h=h.queue,uf(Lg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,va(9,{destroy:void 0},Ug.bind(null,o,h,r,n),null),$t===null)throw Error(s(349));f||(Ui&127)!==0||xg(o,n,r)}return r}function xg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=wt.updateQueue,n===null?(n=Du(),wt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Ug(e,n,r,o){n.value=r,n.getSnapshot=o,kg(n)&&Pg(e)}function Lg(e,n,r){return r(function(){kg(n)&&Pg(e)})}function kg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!fn(e,r)}catch{return!0}}function Pg(e){var n=ps(e,2);n!==null&&ln(n,e,2)}function of(e){var n=tn();if(typeof e=="function"){var r=e;if(e=r(),ws){vn(!0);try{r()}finally{vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},n}function zg(e,n,r,o){return e.baseState=r,sf(e,Xt,typeof o=="function"?o:Li)}function H0(e,n,r,o,h){if(xu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,jg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function jg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=r(h,o),I=H.S;I!==null&&I(g,E),Bg(e,n,E)}catch(P){lf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=r(h,o),Bg(e,n,f)}catch(P){lf(e,n,P)}}function Bg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){qg(e,n,o)},function(o){return lf(e,n,o)}):qg(e,n,r)}function qg(e,n,r){n.status="fulfilled",n.value=r,Hg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,jg(e,r)))}function lf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Hg(n),n=n.next;while(n!==o)}e.action=null}function Hg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Gg(e,n){return n}function Fg(e,n){if(Ut){var r=$t.formState;if(r!==null){t:{var o=wt;if(Ut){if(Wt){e:{for(var h=Wt,f=In;h.nodeType!==8;){if(!f){h=null;break e}if(h=Nn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Wt=Nn(h.nextSibling),o=h.data==="F!";break t}}mr(o)}o=!1}o&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gg,lastRenderedState:n},r.queue=o,r=cp.bind(null,wt,o),o.dispatch=r,o=of(!1),f=mf.bind(null,wt,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=H0.bind(null,wt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function Qg(e){var n=de();return Kg(n,Xt,e)}function Kg(e,n,r){if(n=sf(e,n,Gg)[0],e=Ou(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=jo(n)}catch(g){throw g===ma?Tu:g}else o=n;n=de();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(wt.flags|=2048,va(9,{destroy:void 0},G0.bind(null,h,r),null)),[o,f,e]}function G0(e,n){e.action=n}function Yg(e){var n=de(),r=Xt;if(r!==null)return Kg(n,r,e);de(),n=n.memoizedState,r=de();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function va(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Du(),wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Xg(){return de().memoizedState}function Mu(e,n,r,o){var h=tn();wt.flags|=e,h.memoizedState=va(1|n,{destroy:void 0},r,o===void 0?null:o)}function Vu(e,n,r,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&$h(o,Xt.memoizedState.deps)?h.memoizedState=va(n,f,r,o):(wt.flags|=e,h.memoizedState=va(1|n,f,r,o))}function Zg(e,n){Mu(8390656,8,e,n)}function uf(e,n){Vu(2048,8,e,n)}function F0(e){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=Du(),wt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Jg(e){var n=de().memoizedState;return F0({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function $g(e,n){return Vu(4,2,e,n)}function Wg(e,n){return Vu(4,4,e,n)}function tp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ep(e,n,r){r=r!=null?r.concat([e]):null,Vu(4,4,tp.bind(null,n,e),r)}function cf(){}function np(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&$h(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function ip(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&$h(n,o[1]))return o[0];if(o=e(),ws){vn(!0);try{e()}finally{vn(!1)}}return r.memoizedState=[o,n],o}function hf(e,n,r){return r===void 0||(Ui&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=ry(),wt.lanes|=e,Ar|=e,r)}function rp(e,n,r,o){return fn(r,n)?r:pa.current!==null?(e=hf(e,r,o),fn(e,n)||(Se=!0),e):(Ui&42)===0||(Ui&1073741824)!==0&&(Nt&261930)===0?(Se=!0,e.memoizedState=r):(e=ry(),wt.lanes|=e,Ar|=e,n)}function sp(e,n,r,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,mf(e,!1,n,r);try{var I=h(),P=H.S;if(P!==null&&P(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var q=j0(I,o);Bo(e,n,q,_n(e))}else Bo(e,n,o,_n(e))}catch(Q){Bo(e,n,{then:function(){},status:"rejected",reason:Q},_n())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function Q0(){}function ff(e,n,r,o){if(e.tag!==5)throw Error(s(476));var h=ap(e).queue;sp(e,h,n,mt,r===null?Q0:function(){return op(e),r(o)})}function ap(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:mt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function op(e){var n=ap(e);n.next===null&&(n=e.alternate.memoizedState),Bo(e,n.next.queue,{},_n())}function df(){return Be(rl)}function lp(){return de().memoizedState}function up(){return de().memoizedState}function K0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=_n();e=yr(r);var o=_r(n,e,r);o!==null&&(ln(o,n,r),Lo(o,n,r)),n={cache:Bh()},e.payload=n;return}n=n.return}}function Y0(e,n,r){var o=_n();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},xu(e)?hp(n,r):(r=Nh(e,n,r,o),r!==null&&(ln(r,e,o),fp(r,n,o)))}function cp(e,n,r){var o=_n();Bo(e,n,r,o)}function Bo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(xu(e))hp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,fn(E,g))return mu(e,n,h,0),$t===null&&du(),!1}catch{}if(r=Nh(e,n,h,o),r!==null)return ln(r,e,o),fp(r,n,o),!0}return!1}function mf(e,n,r,o){if(o={lane:2,revertLane:Qf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},xu(e)){if(n)throw Error(s(479))}else n=Nh(e,r,o,2),n!==null&&ln(n,e,2)}function xu(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function hp(e,n){ya=Cu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function fp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,lo(e,r)}}var qo={readContext:Be,use:Nu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};qo.useEffectEvent=le;var dp={readContext:Be,use:Nu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:Zg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Mu(4194308,4,tp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Mu(4194308,4,e,n)},useInsertionEffect:function(e,n){Mu(4,2,e,n)},useMemo:function(e,n){var r=tn();n=n===void 0?null:n;var o=e();if(ws){vn(!0);try{e()}finally{vn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=tn();if(r!==void 0){var h=r(n);if(ws){vn(!0);try{r(n)}finally{vn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=Y0.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=of(e);var n=e.queue,r=cp.bind(null,wt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:cf,useDeferredValue:function(e,n){var r=tn();return hf(r,e,n)},useTransition:function(){var e=of(!1);return e=sp.bind(null,wt,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=wt,h=tn();if(Ut){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),$t===null)throw Error(s(349));(Nt&127)!==0||xg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Zg(Lg.bind(null,o,f,e),[e]),o.flags|=2048,va(9,{destroy:void 0},Ug.bind(null,o,f,r,n),null),r},useId:function(){var e=tn(),n=$t.identifierPrefix;if(Ut){var r=gi,o=mi;r=(o&~(1<<32-ce(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Iu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=B0++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:df,useFormState:Fg,useActionState:Fg,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=mf.bind(null,wt,!0,r),r.dispatch=n,[e,n]},useMemoCache:rf,useCacheRefresh:function(){return tn().memoizedState=K0.bind(null,wt)},useEffectEvent:function(e){var n=tn(),r={impl:e};return n.memoizedState=r,function(){if((qt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},gf={readContext:Be,use:Nu,useCallback:np,useContext:Be,useEffect:uf,useImperativeHandle:ep,useInsertionEffect:$g,useLayoutEffect:Wg,useMemo:ip,useReducer:Ou,useRef:Xg,useState:function(){return Ou(Li)},useDebugValue:cf,useDeferredValue:function(e,n){var r=de();return rp(r,Xt.memoizedState,e,n)},useTransition:function(){var e=Ou(Li)[0],n=de().memoizedState;return[typeof e=="boolean"?e:jo(e),n]},useSyncExternalStore:Vg,useId:lp,useHostTransitionStatus:df,useFormState:Qg,useActionState:Qg,useOptimistic:function(e,n){var r=de();return zg(r,Xt,e,n)},useMemoCache:rf,useCacheRefresh:up};gf.useEffectEvent=Jg;var mp={readContext:Be,use:Nu,useCallback:np,useContext:Be,useEffect:uf,useImperativeHandle:ep,useInsertionEffect:$g,useLayoutEffect:Wg,useMemo:ip,useReducer:af,useRef:Xg,useState:function(){return af(Li)},useDebugValue:cf,useDeferredValue:function(e,n){var r=de();return Xt===null?hf(r,e,n):rp(r,Xt.memoizedState,e,n)},useTransition:function(){var e=af(Li)[0],n=de().memoizedState;return[typeof e=="boolean"?e:jo(e),n]},useSyncExternalStore:Vg,useId:lp,useHostTransitionStatus:df,useFormState:Yg,useActionState:Yg,useOptimistic:function(e,n){var r=de();return Xt!==null?zg(r,Xt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:rf,useCacheRefresh:up};mp.useEffectEvent=Jg;function pf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=_n(),h=yr(o);h.payload=n,r!=null&&(h.callback=r),n=_r(e,h,o),n!==null&&(ln(n,e,o),Lo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=_n(),h=yr(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=_r(e,h,o),n!==null&&(ln(n,e,o),Lo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=_n(),o=yr(r);o.tag=2,n!=null&&(o.callback=n),n=_r(e,o,r),n!==null&&(ln(n,e,r),Lo(n,e,r))}};function gp(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Io(r,o)||!Io(h,f):!0}function pp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&yf.enqueueReplaceState(n,n.state,null)}function Rs(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function yp(e){fu(e)}function _p(e){console.error(e)}function vp(e){fu(e)}function Uu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Ep(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function _f(e,n,r){return r=yr(r),r.tag=3,r.payload={element:null},r.callback=function(){Uu(e,n)},r}function Tp(e){return e=yr(e),e.tag=3,e}function Sp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Ep(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Ep(n,r,o),typeof h!="function"&&(br===null?br=new Set([this]):br.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function X0(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ha(n,r,h,!0),r=mn.current,r!==null){switch(r.tag){case 31:case 13:return Dn===null?Ku():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Su?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Hf(e,o,h)),!1;case 22:return r.flags|=65536,o===Su?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Hf(e,o,h)),!1}throw Error(s(435,r.tag))}return Hf(e,o,h),Ku(),!1}if(Ut)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Lh&&(e=Error(s(422),{cause:o}),Oo(wn(e,r)))):(o!==Lh&&(n=Error(s(423),{cause:o}),Oo(wn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=wn(o,r),h=_f(e.stateNode,o,h),Kh(e,h),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:o});if(f=wn(f,r),Zo===null?Zo=[f]:Zo.push(f),ue!==4&&(ue=2),n===null)return!0;o=wn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=_f(r.stateNode,o,e),Kh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(br===null||!br.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Tp(h),Sp(h,e,r,o),Kh(r,h),!1}r=r.return}while(r!==null);return!1}var vf=Error(s(461)),Se=!1;function qe(e,n,r,o){n.child=e===null?Rg(n,null,r,o):bs(n,e.child,r,o)}function Ap(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Es(n),o=Wh(e,n,r,g,f,h),E=tf(),e!==null&&!Se?(ef(e,n,h),ki(e,n,h)):(Ut&&E&&xh(n),n.flags|=1,qe(e,n,o,h),n.child)}function bp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Oh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,wp(e,n,f,o,h)):(e=pu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Cf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Io,r(g,o)&&e.ref===n.ref)return ki(e,n,h)}return n.flags|=1,e=Oi(f,o),e.ref=n.ref,e.return=n,n.child=e}function wp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Io(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,Cf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,ki(e,n,h)}return Ef(e,n,r,o,h)}function Rp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Cp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Eu(n,f!==null?f.cachePool:null),f!==null?Dg(n,f):Xh(),Ng(n);else return o=n.lanes=536870912,Cp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Eu(n,f.cachePool),Dg(n,f),Er(),n.memoizedState=null):(e!==null&&Eu(n,null),Xh(),Er());return qe(e,n,h,r),n.child}function Ho(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Cp(e,n,r,o,h){var f=Hh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Eu(n,null),Xh(),Ng(n),e!==null&&ha(e,n,o,!0),n.childLanes=h,null}function Lu(e,n){return n=Pu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ip(e,n,r){return bs(n,e.child,null,r),e=Lu(n,n.pendingProps),e.flags|=2,gn(n),n.memoizedState=null,e}function Z0(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=Lu(n,o),n.lanes=536870912,Ho(null,e);if(Jh(n),(e=Wt)?(e=jy(e,In),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fr!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},r=hg(e),r.return=n,n.child=r,je=n,Wt=null)):e=null,e===null)throw mr(n);return n.lanes=536870912,null}return Lu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Jh(n),h)if(n.flags&256)n.flags&=-257,n=Ip(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Se||ha(e,n,r,!1),h=(r&e.childLanes)!==0,Se||h){if(o=$t,o!==null&&(g=uo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,ps(e,g),ln(o,e,g),vf;Ku(),n=Ip(e,n,r)}else e=f.treeContext,Wt=Nn(g.nextSibling),je=n,Ut=!0,dr=null,In=!1,e!==null&&mg(n,e),n=Lu(n,o),n.flags|=4096;return n}return e=Oi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ku(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Ef(e,n,r,o,h){return Es(n),r=Wh(e,n,r,o,void 0,h),o=tf(),e!==null&&!Se?(ef(e,n,h),ki(e,n,h)):(Ut&&o&&xh(n),n.flags|=1,qe(e,n,r,h),n.child)}function Dp(e,n,r,o,h,f){return Es(n),n.updateQueue=null,r=Mg(n,o,r,h),Og(e),o=tf(),e!==null&&!Se?(ef(e,n,f),ki(e,n,f)):(Ut&&o&&xh(n),n.flags|=1,qe(e,n,r,f),n.child)}function Np(e,n,r,o,h){if(Es(n),n.stateNode===null){var f=oa,g=r.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=yf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Fh(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Be(g):oa,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(pf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&yf.enqueueReplaceState(f,f.state,null),Po(n,o,f,h),ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Rs(r,E);f.props=I;var P=f.context,q=r.contextType;g=oa,typeof q=="object"&&q!==null&&(g=Be(q));var Q=r.getDerivedStateFromProps;q=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&pp(n,f,o,g),pr=!1;var z=n.memoizedState;f.state=z,Po(n,o,f,h),ko(),P=n.memoizedState,E||z!==P||pr?(typeof Q=="function"&&(pf(n,r,Q,o),P=n.memoizedState),(I=pr||gp(n,r,I,o,z,P,g))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Qh(e,n),g=n.memoizedProps,q=Rs(r,g),f.props=q,Q=n.pendingProps,z=f.context,P=r.contextType,I=oa,typeof P=="object"&&P!==null&&(I=Be(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||z!==I)&&pp(n,f,o,I),pr=!1,z=n.memoizedState,f.state=z,Po(n,o,f,h),ko();var B=n.memoizedState;g!==Q||z!==B||pr||e!==null&&e.dependencies!==null&&_u(e.dependencies)?(typeof E=="function"&&(pf(n,r,E,o),B=n.memoizedState),(q=pr||gp(n,r,q,o,z,B,I)||e!==null&&e.dependencies!==null&&_u(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=I,o=q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=bs(n,e.child,null,h),n.child=bs(n,null,r,h)):qe(e,n,r,h),n.memoizedState=f.state,e=n.child):e=ki(e,n,h),e}function Op(e,n,r,o){return _s(),n.flags|=256,qe(e,n,r,o),n.child}var Tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sf(e){return{baseLanes:e,cachePool:Eg()}}function Af(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=yn),e}function Mp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?vr(n):Er(),(e=Wt)?(e=jy(e,In),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fr!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},r=hg(e),r.return=n,n.child=r,je=n,Wt=null)):e=null,e===null)throw mr(n);return sd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Er(),h=n.mode,E=Pu({mode:"hidden",children:E},h),o=ys(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Sf(r),o.childLanes=Af(e,g,r),n.memoizedState=Tf,Ho(null,o)):(vr(n),bf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(vr(n),n.flags&=-257,n=wf(e,n,r)):n.memoizedState!==null?(Er(),n.child=e.child,n.flags|=128,n=null):(Er(),E=o.fallback,h=n.mode,o=Pu({mode:"visible",children:o.children},h),E=ys(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,bs(n,e.child,null,r),o=n.child,o.memoizedState=Sf(r),o.childLanes=Af(e,g,r),n.memoizedState=Tf,n=Ho(null,o));else if(vr(n),sd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(s(419)),o.stack="",o.digest=g,Oo({value:o,source:null,stack:null}),n=wf(e,n,r)}else if(Se||ha(e,n,r,!1),g=(r&e.childLanes)!==0,Se||g){if(g=$t,g!==null&&(o=uo(g,r),o!==0&&o!==I.retryLane))throw I.retryLane=o,ps(e,o),ln(g,e,o),vf;rd(E)||Ku(),n=wf(e,n,r)}else rd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,Wt=Nn(E.nextSibling),je=n,Ut=!0,dr=null,In=!1,e!==null&&mg(n,e),n=bf(n,o.children),n.flags|=4096);return n}return h?(Er(),E=o.fallback,h=n.mode,I=e.child,P=I.sibling,o=Oi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,P!==null?E=Oi(P,E):(E=ys(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Ho(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Sf(r):(h=E.cachePool,h!==null?(I=Ee._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Eg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Af(e,g,r),n.memoizedState=Tf,Ho(e.child,o)):(vr(n),r=e.child,e=r.sibling,r=Oi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function bf(e,n){return n=Pu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Pu(e,n){return e=dn(22,e,null,n),e.lanes=0,e}function wf(e,n,r){return bs(n,e.child,null,r),e=bf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Vp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),zh(e.return,n,r)}function Rf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function xp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(fe,g),qe(e,n,o,r),o=Ut?No:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vp(e,r,n);else if(e.tag===19)Vp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Ru(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Rf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ru(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Rf(n,!0,r,null,f,o);break;case"together":Rf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ki(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Ar|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ha(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Oi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Oi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Cf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&_u(e)))}function J0(e,n,r){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),gr(n,Ee,e.memoizedState.cache),_s();break;case 27:case 5:$r(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:gr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Jh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(vr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Mp(e,n,r):(vr(n),e=ki(e,n,r),e!==null?e.sibling:null);vr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ha(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return xp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(fe,fe.current),o)break;return null;case 22:return n.lanes=0,Rp(e,n,r,n.pendingProps);case 24:gr(n,Ee,e.memoizedState.cache)}return ki(e,n,r)}function Up(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!Cf(e,r)&&(n.flags&128)===0)return Se=!1,J0(e,n,r);Se=(e.flags&131072)!==0}else Se=!1,Ut&&(n.flags&1048576)!==0&&dg(n,No,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ss(n.elementType),n.type=e,typeof e=="function")Oh(e)?(o=Rs(e,o),n.tag=1,n=Np(null,n,e,o,r)):(n.tag=0,n=Ef(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===at){n.tag=11,n=Ap(null,n,e,o,r);break t}else if(h===R){n.tag=14,n=bp(null,n,e,o,r);break t}}throw n=ne(e)||e,Error(s(306,n,""))}}return n;case 0:return Ef(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Rs(o,n.pendingProps),Np(e,n,o,h,r);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Qh(e,n),Po(n,o,null,r);var g=n.memoizedState;if(o=g.cache,gr(n,Ee,o),o!==f.cache&&jh(n,[Ee],r,!0),ko(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Op(e,n,o,r);break t}else if(o!==h){h=wn(Error(s(424)),n),Oo(h),n=Op(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Wt=Nn(e.firstChild),je=n,Ut=!0,dr=null,In=!0,r=Rg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_s(),o===h){n=ki(e,n,r);break t}qe(e,n,o,r)}n=n.child}return n;case 26:return ku(e,n),e===null?(r=Qy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ut||(r=n.type,e=n.pendingProps,o=tc(Rt.current).createElement(r),o[ye]=n,o[Ve]=e,He(o,r,e),_e(o),n.stateNode=o):n.memoizedState=Qy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return $r(n),e===null&&Ut&&(o=n.stateNode=Hy(n.type,n.pendingProps,Rt.current),je=n,In=!0,h=Wt,Ir(n.type)?(ad=h,Wt=Nn(o.firstChild)):Wt=h),qe(e,n,n.pendingProps.children,r),ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=Wt)&&(o=CS(o,n.type,n.pendingProps,In),o!==null?(n.stateNode=o,je=n,Wt=Nn(o.firstChild),In=!1,h=!0):h=!1),h||mr(n)),$r(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,ed(h,f)?o=null:g!==null&&ed(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Wh(e,n,q0,null,null,r),rl._currentValue=h),ku(e,n),qe(e,n,o,r),n.child;case 6:return e===null&&Ut&&((e=r=Wt)&&(r=IS(r,n.pendingProps,In),r!==null?(n.stateNode=r,je=n,Wt=null,e=!0):e=!1),e||mr(n)),null;case 13:return Mp(e,n,r);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=bs(n,null,o,r):qe(e,n,o,r),n.child;case 11:return Ap(e,n,n.type,n.pendingProps,r);case 7:return qe(e,n,n.pendingProps,r),n.child;case 8:return qe(e,n,n.pendingProps.children,r),n.child;case 12:return qe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,gr(n,n.type,o.value),qe(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Es(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,r),n.child;case 14:return bp(e,n,n.type,n.pendingProps,r);case 15:return wp(e,n,n.type,n.pendingProps,r);case 19:return xp(e,n,r);case 31:return Z0(e,n,r);case 22:return Rp(e,n,r,n.pendingProps);case 24:return Es(n),o=Be(Ee),e===null?(h=Hh(),h===null&&(h=$t,f=Bh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Fh(n),gr(n,Ee,h)):((e.lanes&r)!==0&&(Qh(e,n),Po(n,null,null,r),ko()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),gr(n,Ee,o)):(o=f.cache,gr(n,Ee,o),o!==h.cache&&jh(n,[Ee],r,!0))),qe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Pi(e){e.flags|=4}function If(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(ly())e.flags|=8192;else throw As=Su,Gh}else e.flags&=-16777217}function Lp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jy(n))if(ly())e.flags|=8192;else throw As=Su,Gh}function zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Fl():536870912,e.lanes|=n,Aa|=n)}function Go(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function te(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function $0(e,n,r){var o=n.pendingProps;switch(Uh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),xi(Ee),ie(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ca(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,kh())),te(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Pi(n),f!==null?(te(n),Lp(n,f)):(te(n),If(n,h,null,o,r))):f?f!==e.memoizedState?(Pi(n),te(n),Lp(n,f)):(te(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Pi(n),te(n),If(n,h,e,o,r)),null;case 27:if(qs(n),r=Rt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return te(n),null}e=rt.current,ca(n)?gg(n):(e=Hy(h,o,r),n.stateNode=e,Pi(n))}return te(n),null;case 5:if(qs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return te(n),null}if(f=rt.current,ca(n))gg(n);else{var g=tc(Rt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[ye]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Pi(n)}}return te(n),If(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=Rt.current,ca(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ye]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||My(e.nodeValue,r)),e||mr(n,!0)}else e=tc(e).createTextNode(o),e[ye]=n,n.stateNode=e}return te(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ca(n),r!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ye]=n}else _s(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),e=!1}else r=kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return te(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ca(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ye]=n}else _s(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else h=kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),zu(n,n.updateQueue),te(n),null);case 4:return ie(),e===null&&Zf(n.stateNode.containerInfo),te(n),null;case 10:return xi(n.type),te(n),null;case 19:if(K(fe),o=n.memoizedState,o===null)return te(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Go(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ru(e),f!==null){for(n.flags|=128,Go(o,!1),e=f.updateQueue,n.updateQueue=e,zu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)cg(r,e),r=r.sibling;return nt(fe,fe.current&1|2),Ut&&Mi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>Gu&&(n.flags|=128,h=!0,Go(o,!1),n.lanes=4194304)}else{if(!h)if(e=Ru(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,zu(n,e),Go(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return te(n),null}else 2*$e()-o.renderingStartTime>Gu&&r!==536870912&&(n.flags|=128,h=!0,Go(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,r=fe.current,nt(fe,h?r&1|2:r&1),Ut&&Mi(n,o.treeForkCount),e):(te(n),null);case 22:case 23:return gn(n),Zh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),r=n.updateQueue,r!==null&&zu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&K(Ts),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),xi(Ee),te(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function W0(e,n){switch(Uh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return xi(Ee),ie(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return qs(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(s(340));_s()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(gn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));_s()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(fe),null;case 4:return ie(),null;case 10:return xi(n.type),null;case 22:case 23:return gn(n),Zh(),e!==null&&K(Ts),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return xi(Ee),null;case 25:return null;default:return null}}function kp(e,n){switch(Uh(n),n.tag){case 3:xi(Ee),ie();break;case 26:case 27:case 5:qs(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:K(fe);break;case 10:xi(n.type);break;case 22:case 23:gn(n),Zh(),e!==null&&K(Ts);break;case 24:xi(Ee)}}function Fo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Kt(n,n.return,E)}}function Tr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=r,P=E;try{P()}catch(q){Kt(h,I,q)}}}o=o.next}while(o!==f)}}catch(q){Kt(n,n.return,q)}}function Pp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Ig(n,r)}catch(o){Kt(e,e.return,o)}}}function zp(e,n,r){r.props=Rs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Kt(e,n,o)}}function Qo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Kt(e,n,h)}}function pi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Kt(e,n,h)}else r.current=null}function jp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Kt(e,e.return,h)}}function Df(e,n,r){try{var o=e.stateNode;TS(o,e.type,r,n),o[Ve]=n}catch(h){Kt(e,e.return,h)}}function Bp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ir(e.type)||e.tag===4}function Nf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Bp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ir(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Of(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=zn));else if(o!==4&&(o===27&&Ir(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Of(e,n,r),e=e.sibling;e!==null;)Of(e,n,r),e=e.sibling}function ju(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Ir(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(ju(e,n,r),e=e.sibling;e!==null;)ju(e,n,r),e=e.sibling}function qp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,r),n[ye]=e,n[Ve]=r}catch(f){Kt(e,e.return,f)}}var zi=!1,Ae=!1,Mf=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function tS(e,n){if(e=e.containerInfo,Wf=oc,e=eg(e),bh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,I=-1,P=0,q=0,Q=e,z=null;e:for(;;){for(var B;Q!==r||h!==0&&Q.nodeType!==3||(E=g+h),Q!==f||o!==0&&Q.nodeType!==3||(I=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(B=Q.firstChild)!==null;)z=Q,Q=B;for(;;){if(Q===e)break e;if(z===r&&++P===h&&(E=g),z===f&&++q===o&&(I=g),(B=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=B}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(td={focusedElem:e,selectionRange:r},oc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var st=Rs(r.type,h);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Kt(r,r.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)id(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":id(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function Gp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Bi(e,r),o&4&&Fo(5,r);break;case 1:if(Bi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Kt(r,r.return,g)}else{var h=Rs(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(r,r.return,g)}}o&64&&Pp(r),o&512&&Qo(r,r.return);break;case 3:if(Bi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Ig(e,n)}catch(g){Kt(r,r.return,g)}}break;case 27:n===null&&o&4&&qp(r);case 26:case 5:Bi(e,r),n===null&&o&4&&jp(r),o&512&&Qo(r,r.return);break;case 12:Bi(e,r);break;case 31:Bi(e,r),o&4&&Kp(e,r);break;case 13:Bi(e,r),o&4&&Yp(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=uS.bind(null,r),DS(e,r))));break;case 22:if(o=r.memoizedState!==null||zi,!o){n=n!==null&&n.memoizedState!==null||Ae,h=zi;var f=Ae;zi=o,(Ae=n)&&!f?qi(e,r,(r.subtreeFlags&8772)!==0):Bi(e,r),zi=h,Ae=f}break;case 30:break;default:Bi(e,r)}}function Fp(e){var n=e.alternate;n!==null&&(e.alternate=null,Fp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ks(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var se=null,rn=!1;function ji(e,n,r){for(r=r.child;r!==null;)Qp(e,n,r),r=r.sibling}function Qp(e,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Un,r)}catch{}switch(r.tag){case 26:Ae||pi(r,n),ji(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ae||pi(r,n);var o=se,h=rn;Ir(r.type)&&(se=r.stateNode,rn=!1),ji(e,n,r),el(r.stateNode),se=o,rn=h;break;case 5:Ae||pi(r,n);case 6:if(o=se,h=rn,se=null,ji(e,n,r),se=o,rn=h,se!==null)if(rn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{se.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:se!==null&&(rn?(e=se,Py(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Oa(e)):Py(se,r.stateNode));break;case 4:o=se,h=rn,se=r.stateNode.containerInfo,rn=!0,ji(e,n,r),se=o,rn=h;break;case 0:case 11:case 14:case 15:Tr(2,r,n),Ae||Tr(4,r,n),ji(e,n,r);break;case 1:Ae||(pi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&zp(r,n,o)),ji(e,n,r);break;case 21:ji(e,n,r);break;case 22:Ae=(o=Ae)||r.memoizedState!==null,ji(e,n,r),Ae=o;break;default:ji(e,n,r)}}function Kp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Oa(e)}catch(r){Kt(n,n.return,r)}}}function Yp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Oa(e)}catch(r){Kt(n,n.return,r)}}function eS(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Hp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Hp),n;default:throw Error(s(435,e.tag))}}function Bu(e,n){var r=eS(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=cS.bind(null,e,o);o.then(h,h)}})}function sn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ir(E.type)){se=E.stateNode,rn=!1;break t}break;case 5:se=E.stateNode,rn=!1;break t;case 3:case 4:se=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(se===null)throw Error(s(160));Qp(f,g,h),se=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Xp(n,e),n=n.sibling}var Fn=null;function Xp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),an(e),o&4&&(Tr(3,e,e.return),Fo(3,e),Tr(5,e,e.return));break;case 1:sn(n,e),an(e),o&512&&(Ae||r===null||pi(r,r.return)),o&64&&zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Fn;if(sn(n,e),an(e),o&512&&(Ae||r===null||pi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ni]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,r),f[ye]=e,_e(f),o=f;break t;case"link":var g=Xy("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,r),h.head.appendChild(f);break;case"meta":if(g=Xy("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,r),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[ye]=e,_e(f),o=f}e.stateNode=o}else Zy(h,e.type,e.stateNode);else e.stateNode=Yy(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?Zy(h,e.type,e.stateNode):Yy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Df(e,e.memoizedProps,r.memoizedProps)}break;case 27:sn(n,e),an(e),o&512&&(Ae||r===null||pi(r,r.return)),r!==null&&o&4&&Df(e,e.memoizedProps,r.memoizedProps);break;case 5:if(sn(n,e),an(e),o&512&&(Ae||r===null||pi(r,r.return)),e.flags&32){h=e.stateNode;try{nn(h,"")}catch(st){Kt(e,e.return,st)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Df(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Mf=!0);break;case 6:if(sn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(st){Kt(e,e.return,st)}}break;case 3:if(ic=null,h=Fn,Fn=ec(n.containerInfo),sn(n,e),Fn=h,an(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Oa(n.containerInfo)}catch(st){Kt(e,e.return,st)}Mf&&(Mf=!1,Zp(e));break;case 4:o=Fn,Fn=ec(e.stateNode.containerInfo),sn(n,e),an(e),Fn=o;break;case 12:sn(n,e),an(e);break;case 31:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Bu(e,o)));break;case 13:sn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Hu=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Bu(e,o)));break;case 22:h=e.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,P=zi,q=Ae;if(zi=P||h,Ae=q||I,sn(n,e),Ae=q,zi=P,an(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||zi||Ae||Cs(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var Q=I.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Kt(I,I.return,st)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(st){Kt(I,I.return,st)}}}else if(n.tag===18){if(r===null){I=n;try{var B=I.stateNode;h?zy(B,!0):zy(I.stateNode,!1)}catch(st){Kt(I,I.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Bu(e,r))));break;case 19:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Bu(e,o)));break;case 30:break;case 21:break;default:sn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Bp(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=Nf(e);ju(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(nn(g,""),r.flags&=-33);var E=Nf(e);ju(e,E,g);break;case 3:case 4:var I=r.stateNode.containerInfo,P=Nf(e);Of(e,P,I);break;default:throw Error(s(161))}}catch(q){Kt(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Zp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Zp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Bi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Gp(e,n.alternate,n),n=n.sibling}function Cs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Tr(4,n,n.return),Cs(n);break;case 1:pi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&zp(n,n.return,r),Cs(n);break;case 27:el(n.stateNode);case 26:case 5:pi(n,n.return),Cs(n);break;case 22:n.memoizedState===null&&Cs(n);break;case 30:Cs(n);break;default:Cs(n)}e=e.sibling}}function qi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:qi(h,f,r),Fo(4,f);break;case 1:if(qi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Kt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Cg(I[h],E)}catch(P){Kt(o,o.return,P)}}r&&g&64&&Pp(f),Qo(f,f.return);break;case 27:qp(f);case 26:case 5:qi(h,f,r),r&&o===null&&g&4&&jp(f),Qo(f,f.return);break;case 12:qi(h,f,r);break;case 31:qi(h,f,r),r&&g&4&&Kp(h,f);break;case 13:qi(h,f,r),r&&g&4&&Yp(h,f);break;case 22:f.memoizedState===null&&qi(h,f,r),Qo(f,f.return);break;case 30:break;default:qi(h,f,r)}n=n.sibling}}function Vf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Mo(r))}function xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Mo(e))}function Qn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Jp(e,n,r,o),n=n.sibling}function Jp(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,r,o),h&2048&&Fo(9,n);break;case 1:Qn(e,n,r,o);break;case 3:Qn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Mo(e)));break;case 12:if(h&2048){Qn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Kt(n,n.return,I)}}else Qn(e,n,r,o);break;case 31:Qn(e,n,r,o);break;case 13:Qn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,r,o):Ko(e,n):f._visibility&2?Qn(e,n,r,o):(f._visibility|=2,Ea(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Vf(g,n);break;case 24:Qn(e,n,r,o),h&2048&&xf(n.alternate,n);break;default:Qn(e,n,r,o)}}function Ea(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,I=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ea(f,g,E,I,h),Fo(8,g);break;case 23:break;case 22:var q=g.stateNode;g.memoizedState!==null?q._visibility&2?Ea(f,g,E,I,h):Ko(f,g):(q._visibility|=2,Ea(f,g,E,I,h)),h&&P&2048&&Vf(g.alternate,g);break;case 24:Ea(f,g,E,I,h),h&&P&2048&&xf(g.alternate,g);break;default:Ea(f,g,E,I,h)}n=n.sibling}}function Ko(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Ko(r,o),h&2048&&Vf(o.alternate,o);break;case 24:Ko(r,o),h&2048&&xf(o.alternate,o);break;default:Ko(r,o)}n=n.sibling}}var Yo=8192;function Ta(e,n,r){if(e.subtreeFlags&Yo)for(e=e.child;e!==null;)$p(e,n,r),e=e.sibling}function $p(e,n,r){switch(e.tag){case 26:Ta(e,n,r),e.flags&Yo&&e.memoizedState!==null&&BS(r,Fn,e.memoizedState,e.memoizedProps);break;case 5:Ta(e,n,r);break;case 3:case 4:var o=Fn;Fn=ec(e.stateNode.containerInfo),Ta(e,n,r),Fn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Yo,Yo=16777216,Ta(e,n,r),Yo=o):Ta(e,n,r));break;default:Ta(e,n,r)}}function Wp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Xo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,ey(o,e)}Wp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ty(e),e=e.sibling}function ty(e){switch(e.tag){case 0:case 11:case 15:Xo(e),e.flags&2048&&Tr(9,e,e.return);break;case 3:Xo(e);break;case 12:Xo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,qu(e)):Xo(e);break;default:Xo(e)}}function qu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,ey(o,e)}Wp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Tr(8,n,n.return),qu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,qu(n));break;default:qu(n)}e=e.sibling}}function ey(e,n){for(;Ue!==null;){var r=Ue;switch(r.tag){case 0:case 11:case 15:Tr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Mo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ue=o;else t:for(r=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(Fp(o),o===r){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var nS={getCacheForType:function(e){var n=Be(Ee),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Be(Ee).controller.signal}},iS=typeof WeakMap=="function"?WeakMap:Map,qt=0,$t=null,It=null,Nt=0,Qt=0,pn=null,Sr=!1,Sa=!1,Uf=!1,Hi=0,ue=0,Ar=0,Is=0,Lf=0,yn=0,Aa=0,Zo=null,on=null,kf=!1,Hu=0,ny=0,Gu=1/0,Fu=null,br=null,De=0,wr=null,ba=null,Gi=0,Pf=0,zf=null,iy=null,Jo=0,jf=null;function _n(){return(qt&2)!==0&&Nt!==0?Nt&-Nt:H.T!==null?Qf():Ql()}function ry(){if(yn===0)if((Nt&536870912)===0||Ut){var e=es;es<<=1,(es&3932160)===0&&(es=262144),yn=e}else yn=536870912;return e=mn.current,e!==null&&(e.flags|=32),yn}function ln(e,n,r){(e===$t&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(wa(e,0),Rr(e,Nt,yn,!1)),ns(e,r),((qt&2)===0||e!==$t)&&(e===$t&&((qt&2)===0&&(Is|=r),ue===4&&Rr(e,Nt,yn,!1)),yi(e))}function sy(e,n,r){if((qt&6)!==0)throw Error(s(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),h=o?aS(e,n):qf(e,n,!0),f=o;do{if(h===0){Sa&&!o&&Rr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!rS(r)){h=qf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=Zo;var I=E.current.memoizedState.isDehydrated;if(I&&(wa(E,g).flags|=256),g=qf(E,g,!1),g!==2){if(Uf&&!I){E.errorRecoveryDisabledLanes|=f,Is|=f,h=4;break t}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){wa(e,0),Rr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Rr(o,n,yn,!Sr);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Hu+300-$e(),10<h)){if(Rr(o,n,yn,!Sr),Wn(o,0,!0)!==0)break t;Gi=n,o.timeoutHandle=Ly(ay.bind(null,o,r,on,Fu,kf,n,yn,Is,Aa,Sr,f,"Throttled",-0,0),h);break t}ay(o,r,on,Fu,kf,n,yn,Is,Aa,Sr,f,null,-0,0)}}break}while(!0);yi(e)}function ay(e,n,r,o,h,f,g,E,I,P,q,Q,z,B){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},$p(n,f,Q);var st=(f&62914560)===f?Hu-$e():(f&4194048)===f?ny-$e():0;if(st=qS(Q,st),st!==null){Gi=f,e.cancelPendingCommit=st(my.bind(null,e,n,f,r,o,h,g,E,I,q,Q,null,z,B)),Rr(e,f,g,!P);return}}my(e,n,f,r,o,h,g,E,I)}function rS(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!fn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Rr(e,n,r,o){n&=~Lf,n&=~Is,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ce(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&is(e,r,n)}function Qu(){return(qt&6)===0?($o(0),!1):!0}function Bf(){if(It!==null){if(Qt===0)var e=It.return;else e=It,Vi=vs=null,nf(e),ga=null,xo=0,e=It;for(;e!==null;)kp(e.alternate,e),e=e.return;It=null}}function wa(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,bS(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Gi=0,Bf(),$t=e,It=r=Oi(e.current,null),Nt=n,Qt=0,pn=null,Sr=!1,Sa=Ln(e,n),Uf=!1,Aa=yn=Lf=Is=Ar=ue=0,on=Zo=null,kf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ce(o),f=1<<h;n|=e[h],o&=~f}return Hi=n,du(),r}function oy(e,n){wt=null,H.H=qo,n===ma||n===Tu?(n=Ag(),Qt=3):n===Gh?(n=Ag(),Qt=4):Qt=n===vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,It===null&&(ue=1,Uu(e,wn(n,e.current)))}function ly(){var e=mn.current;return e===null?!0:(Nt&4194048)===Nt?Dn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Dn:!1}function uy(){var e=H.H;return H.H=qo,e===null?qo:e}function cy(){var e=H.A;return H.A=nS,e}function Ku(){ue=4,Sr||(Nt&4194048)!==Nt&&mn.current!==null||(Sa=!0),(Ar&134217727)===0&&(Is&134217727)===0||$t===null||Rr($t,Nt,yn,!1)}function qf(e,n,r){var o=qt;qt|=2;var h=uy(),f=cy();($t!==e||Nt!==n)&&(Fu=null,wa(e,n)),n=!1;var g=ue;t:do try{if(Qt!==0&&It!==null){var E=It,I=pn;switch(Qt){case 8:Bf(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var P=Qt;if(Qt=0,pn=null,Ra(e,E,I,P),r&&Sa){g=0;break t}break;default:P=Qt,Qt=0,pn=null,Ra(e,E,I,P)}}sS(),g=ue;break}catch(q){oy(e,q)}while(!0);return n&&e.shellSuspendCounter++,Vi=vs=null,qt=o,H.H=h,H.A=f,It===null&&($t=null,Nt=0,du()),g}function sS(){for(;It!==null;)hy(It)}function aS(e,n){var r=qt;qt|=2;var o=uy(),h=cy();$t!==e||Nt!==n?(Fu=null,Gu=$e()+500,wa(e,n)):Sa=Ln(e,n);t:do try{if(Qt!==0&&It!==null){n=It;var f=pn;e:switch(Qt){case 1:Qt=0,pn=null,Ra(e,n,f,1);break;case 2:case 9:if(Tg(f)){Qt=0,pn=null,fy(n);break}n=function(){Qt!==2&&Qt!==9||$t!==e||(Qt=7),yi(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Tg(f)?(Qt=0,pn=null,fy(n)):(Qt=0,pn=null,Ra(e,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?Jy(g):E.stateNode.complete){Qt=0,pn=null;var I=E.sibling;if(I!==null)It=I;else{var P=E.return;P!==null?(It=P,Yu(P)):It=null}break e}}Qt=0,pn=null,Ra(e,n,f,5);break;case 6:Qt=0,pn=null,Ra(e,n,f,6);break;case 8:Bf(),ue=6;break t;default:throw Error(s(462))}}oS();break}catch(q){oy(e,q)}while(!0);return Vi=vs=null,H.H=o,H.A=h,qt=r,It!==null?0:($t=null,Nt=0,du(),ue)}function oS(){for(;It!==null&&!yh();)hy(It)}function hy(e){var n=Up(e.alternate,e,Hi);e.memoizedProps=e.pendingProps,n===null?Yu(e):It=n}function fy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Dp(r,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Dp(r,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:nf(n);default:kp(r,n),n=It=cg(n,Hi),n=Up(r,n,Hi)}e.memoizedProps=e.pendingProps,n===null?Yu(e):It=n}function Ra(e,n,r,o){Vi=vs=null,nf(n),ga=null,xo=0;var h=n.return;try{if(X0(e,h,n,r,Nt)){ue=1,Uu(e,wn(r,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;ue=1,Uu(e,wn(r,e.current)),It=null;return}n.flags&32768?(Ut||o===1?e=!0:Sa||(Nt&536870912)!==0?e=!1:(Sr=e=!0,(o===2||o===9||o===3||o===6)&&(o=mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),dy(n,e)):Yu(n)}function Yu(e){var n=e;do{if((n.flags&32768)!==0){dy(n,Sr);return}e=n.return;var r=$0(n.alternate,n,Hi);if(r!==null){It=r;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ue===0&&(ue=5)}function dy(e,n){do{var r=W0(e.alternate,e);if(r!==null){r.flags&=32767,It=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=r}while(e!==null);ue=6,It=null}function my(e,n,r,o,h,f,g,E,I){e.cancelPendingCommit=null;do Xu();while(De!==0);if((qt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Dh,Eh(e,r,f,g,E,I),e===$t&&(It=$t=null,Nt=0),ba=n,wr=e,Gi=r,Pf=f,zf=h,iy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hS(nr,function(){return vy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=et.p,et.p=2,g=qt,qt|=4;try{tS(e,n,r)}finally{qt=g,et.p=h,H.T=o}}De=1,gy(),py(),yy()}}function gy(){if(De===1){De=0;var e=wr,n=ba,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=et.p;et.p=2;var h=qt;qt|=4;try{Xp(n,e);var f=td,g=eg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&tg(E.ownerDocument.documentElement,E)){if(I!==null&&bh(E)){var P=I.start,q=I.end;if(q===void 0&&(q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(q,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var B=z.getSelection(),st=E.textContent.length,pt=Math.min(I.start,st),Jt=I.end===void 0?pt:Math.min(I.end,st);!B.extend&&pt>Jt&&(g=Jt,Jt=pt,pt=g);var V=Wm(E,pt),N=Wm(E,Jt);if(V&&N&&(B.rangeCount!==1||B.anchorNode!==V.node||B.anchorOffset!==V.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var k=Q.createRange();k.setStart(V.node,V.offset),B.removeAllRanges(),pt>Jt?(B.addRange(k),B.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),B.addRange(k))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}oc=!!Wf,td=Wf=null}finally{qt=h,et.p=o,H.T=r}}e.current=n,De=2}}function py(){if(De===2){De=0;var e=wr,n=ba,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=et.p;et.p=2;var h=qt;qt|=4;try{Gp(e,n.alternate,n)}finally{qt=h,et.p=o,H.T=r}}De=3}}function yy(){if(De===4||De===3){De=0,zl();var e=wr,n=ba,r=Gi,o=iy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,ba=wr=null,_y(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(br=null),Ci(r),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=et.p,et.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=h}}(Gi&3)!==0&&Xu(),yi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===jf?Jo++:(Jo=0,jf=e):Jo=0,$o(0)}}function _y(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Mo(n)))}function Xu(){return gy(),py(),yy(),vy()}function vy(){if(De!==5)return!1;var e=wr,n=Pf;Pf=0;var r=Ci(Gi),o=H.T,h=et.p;try{et.p=32>r?32:r,H.T=null,r=zf,zf=null;var f=wr,g=Gi;if(De=0,ba=wr=null,Gi=0,(qt&6)!==0)throw Error(s(331));var E=qt;if(qt|=4,ty(f.current),Jp(f,f.current,g,r),qt=E,$o(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{et.p=h,H.T=o,_y(e,n)}}function Ey(e,n,r){n=wn(r,n),n=_f(e.stateNode,n,2),e=_r(e,n,2),e!==null&&(ns(e,2),yi(e))}function Kt(e,n,r){if(e.tag===3)Ey(e,e,r);else for(;n!==null;){if(n.tag===3){Ey(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(br===null||!br.has(o))){e=wn(r,e),r=Tp(2),o=_r(n,r,2),o!==null&&(Sp(r,o,n,e),ns(o,2),yi(o));break}}n=n.return}}function Hf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new iS;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Uf=!0,h.add(r),e=lS.bind(null,e,n,r),n.then(e,e))}function lS(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,$t===e&&(Nt&r)===r&&(ue===4||ue===3&&(Nt&62914560)===Nt&&300>$e()-Hu?(qt&2)===0&&wa(e,0):Lf|=r,Aa===Nt&&(Aa=0)),yi(e)}function Ty(e,n){n===0&&(n=Fl()),e=ps(e,n),e!==null&&(ns(e,n),yi(e))}function uS(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Ty(e,r)}function cS(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Ty(e,r)}function hS(e,n){return Ie(e,n)}var Zu=null,Ca=null,Gf=!1,Ju=!1,Ff=!1,Cr=0;function yi(e){e!==Ca&&e.next===null&&(Ca===null?Zu=Ca=e:Ca=Ca.next=e),Ju=!0,Gf||(Gf=!0,dS())}function $o(e,n){if(!Ff&&Ju){Ff=!0;do for(var r=!1,o=Zu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,wy(o,f))}else f=Nt,f=Wn(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ln(o,f)||(r=!0,wy(o,f));o=o.next}while(r);Ff=!1}}function fS(){Sy()}function Sy(){Ju=Gf=!1;var e=0;Cr!==0&&AS()&&(e=Cr);for(var n=$e(),r=null,o=Zu;o!==null;){var h=o.next,f=Ay(o,n);f===0?(o.next=null,r===null?Zu=h:r.next=h,h===null&&(Ca=r)):(r=o,(e!==0||(f&3)!==0)&&(Ju=!0)),o=h}De!==0&&De!==5||$o(e),Cr!==0&&(Cr=0)}function Ay(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,I=h[g];I===-1?((E&r)===0||(E&o)!==0)&&(h[g]=vh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=$t,r=Nt,r=Wn(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&er(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Ln(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&er(o),Ci(r)){case 2:case 8:r=oo;break;case 32:r=nr;break;case 268435456:r=jl;break;default:r=nr}return o=by.bind(null,e),r=Ie(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&er(o),e.callbackPriority=2,e.callbackNode=null,2}function by(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Xu()&&e.callbackNode!==r)return null;var o=Nt;return o=Wn(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(sy(e,o,n),Ay(e,$e()),e.callbackNode!=null&&e.callbackNode===r?by.bind(null,e):null)}function wy(e,n){if(Xu())return null;sy(e,n,!0)}function dS(){wS(function(){(qt&6)!==0?Ie(ao,fS):Sy()})}function Qf(){if(Cr===0){var e=fa;e===0&&(e=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),Cr=e}return Cr}function Ry(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Js(""+e)}function Cy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function mS(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Ry((h[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?Ry(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new ci("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Cr!==0){var I=g?Cy(h,g):new FormData(h);ff(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?Cy(h,g):new FormData(h),ff(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var Kf=0;Kf<Ih.length;Kf++){var Yf=Ih[Kf],gS=Yf.toLowerCase(),pS=Yf[0].toUpperCase()+Yf.slice(1);Gn(gS,"on"+pS)}Gn(rg,"onAnimationEnd"),Gn(sg,"onAnimationIteration"),Gn(ag,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(M0,"onTransitionRun"),Gn(V0,"onTransitionStart"),Gn(x0,"onTransitionCancel"),Gn(og,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wo));function Iy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,P=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(q){fu(q)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,P=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(q){fu(q)}h.currentTarget=null,f=I}}}}function Dt(e,n){var r=n[Qs];r===void 0&&(r=n[Qs]=new Set);var o=e+"__bubble";r.has(o)||(Dy(n,e,2,!1),r.add(o))}function Xf(e,n,r){var o=0;n&&(o|=4),Dy(r,e,o,n)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Zf(e){if(!e[$u]){e[$u]=!0,co.forEach(function(r){r!=="selectionchange"&&(yS.has(r)||Xf(r,!1,e),Xf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[$u]||(n[$u]=!0,Xf("selectionchange",!1,n))}}function Dy(e,n,r,o){switch(r_(n)){case 2:var h=FS;break;case 8:h=QS;break;default:h=hd}r=h.bind(null,n,r,e),h=void 0,!ls||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function Jf(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ii(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}lr(function(){var P=f,q=Tn(r),Q=[];t:{var z=lg.get(e);if(z!==void 0){var B=ci,st=e;switch(e){case"keypress":if(cs(r)===0)break t;case"keydown":case"keyup":B=uu;break;case"focusin":st="focus",B=fs;break;case"focusout":st="blur",B=fs;break;case"beforeblur":case"afterblur":B=fs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case rg:case sg:case ag:B=nu;break;case og:B=T;break;case"scroll":case"scrollend":B=Ao;break;case"wheel":B=j;break;case"copy":case"cut":case"paste":B=iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Ni;break;case"toggle":case"beforetoggle":B=bt}var pt=(n&4)!==0,Jt=!pt&&(e==="scroll"||e==="scrollend"),V=pt?z!==null?z+"Capture":null:z;pt=[];for(var N=P,k;N!==null;){var F=N;if(k=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||k===null||V===null||(F=jn(N,V),F!=null&&pt.push(tl(N,F,k))),Jt)break;N=N.return}0<pt.length&&(z=new B(z,st,null,r,q),Q.push({event:z,listeners:pt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&r!==Eo&&(st=r.relatedTarget||r.fromElement)&&(ii(st)||st[ei]))break t;if((B||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,B?(st=r.relatedTarget||r.toElement,B=P,st=st?ii(st):null,st!==null&&(Jt=c(st),pt=st.tag,st!==Jt||pt!==5&&pt!==27&&pt!==6)&&(st=null)):(B=null,st=P),B!==st)){if(pt=bo,F="onMouseLeave",V="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Ni,F="onPointerLeave",V="onPointerEnter",N="pointer"),Jt=B==null?z:cn(B),k=st==null?z:cn(st),z=new pt(F,N+"leave",B,r,q),z.target=Jt,z.relatedTarget=k,F=null,ii(q)===P&&(pt=new pt(V,N+"enter",st,r,q),pt.target=k,pt.relatedTarget=Jt,F=pt),Jt=F,B&&st)e:{for(pt=_S,V=B,N=st,k=0,F=V;F;F=pt(F))k++;F=0;for(var ht=N;ht;ht=pt(ht))F++;for(;0<k-F;)V=pt(V),k--;for(;0<F-k;)N=pt(N),F--;for(;k--;){if(V===N||N!==null&&V===N.alternate){pt=V;break e}V=pt(V),N=pt(N)}pt=null}else pt=null;B!==null&&Ny(Q,z,B,pt,!1),st!==null&&Jt!==null&&Ny(Q,Jt,st,pt,!0)}}t:{if(z=P?cn(P):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var zt=Km;else if(Fm(z))if(Ym)zt=D0;else{zt=C0;var lt=R0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Zs(P.elementType)&&(zt=Km):zt=I0;if(zt&&(zt=zt(e,P))){Qm(Q,zt,r,q);break t}lt&&lt(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&yo(z,"number",z.value)}switch(lt=P?cn(P):window,e){case"focusin":(Fm(lt)||lt.contentEditable==="true")&&(ra=lt,wh=P,Do=null);break;case"focusout":Do=wh=ra=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,ng(Q,r,q);break;case"selectionchange":if(O0)break;case"keydown":case"keyup":ng(Q,r,q)}var Ct;if(Bt)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else ia?ds(e,r)&&(Ot="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ot="onCompositionStart");Ot&&(di&&r.locale!=="ko"&&(ia||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ia&&(Ct=So()):(ui=q,To="value"in ui?ui.value:ui.textContent,ia=!0)),lt=Wu(P,Ot),0<lt.length&&(Ot=new fi(Ot,e,null,r,q),Q.push({event:Ot,listeners:lt}),Ct?Ot.data=Ct:(Ct=na(r),Ct!==null&&(Ot.data=Ct)))),(Ct=An?S0(e,r):A0(e,r))&&(Ot=Wu(P,"onBeforeInput"),0<Ot.length&&(lt=new fi("onBeforeInput","beforeinput",null,r,q),Q.push({event:lt,listeners:Ot}),lt.data=Ct)),mS(Q,e,P,r,q)}Iy(Q,n)})}function tl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Wu(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=jn(e,r),h!=null&&o.unshift(tl(e,h,f)),h=jn(e,n),h!=null&&o.push(tl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function _S(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ny(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,I=E.alternate,P=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||P===null||(I=P,h?(P=jn(r,f),P!=null&&g.unshift(tl(r,P,I))):h||(P=jn(r,f),P!=null&&g.push(tl(r,P,I)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var vS=/\r\n?/g,ES=/\u0000|\uFFFD/g;function Oy(e){return(typeof e=="string"?e:""+e).replace(vS,`
`).replace(ES,"")}function My(e,n){return n=Oy(n),Oy(e)===n}function Zt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":hn(e,"class",o);break;case"tabIndex":hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(e,r,o);break;case"style":vo(e,o,f);break;case"data":if(n!=="object"){hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Js(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Js(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=zn);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Js(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),Ys(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ys(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Wl.get(r)||r,Ys(e,r,o))}}function $f(e,n,r,o,h,f){switch(r){case"style":vo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ho.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Ys(e,r,o)}}}function He(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(e,n,f,g,r,null)}}h&&Zt(e,n,"srcSet",r.srcSet,r,null),o&&Zt(e,n,"src",r.src,r,null);return;case"input":Dt("invalid",e);var E=f=g=h=null,I=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var q=r[o];if(q!=null)switch(o){case"name":h=q;break;case"type":g=q;break;case"checked":I=q;break;case"defaultChecked":P=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Zt(e,n,o,q,r,null)}}Zl(e,f,E,I,P,g,h,!1);return;case"select":Dt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Zt(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?rr(e,!!o,n,!1):r!=null&&rr(e,!!o,r,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Zt(e,n,g,E,r,null)}sr(e,o,h,f);return;case"option":for(I in r)r.hasOwnProperty(I)&&(o=r[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Zt(e,n,I,o,r,null));return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<Wo.length;o++)Dt(Wo[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(e,n,P,o,r,null)}return;default:if(Zs(n)){for(q in r)r.hasOwnProperty(q)&&(o=r[q],o!==void 0&&$f(e,n,q,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Zt(e,n,E,o,r,null))}function TS(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,P=null,q=null;for(B in r){var Q=r[B];if(r.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":I=Q;default:o.hasOwnProperty(B)||Zt(e,n,B,null,o,Q)}}for(var z in o){var B=o[z];if(Q=r[z],o.hasOwnProperty(z)&&(B!=null||Q!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":P=B;break;case"defaultChecked":q=B;break;case"value":g=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==Q&&Zt(e,n,z,B,o,Q)}}Xs(e,g,E,I,P,q,f,h);return;case"select":B=g=E=z=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":B=I;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=r[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&Zt(e,n,h,f,o,I)}n=E,r=g,o=B,z!=null?rr(e,!!r,z,!1):!!o!=!!r&&(n!=null?rr(e,!!r,n,!0):rr(e,!!r,r?[]:"",!1));return;case"textarea":B=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Zt(e,n,g,h,o,f)}Jl(e,z,B);return;case"option":for(var st in r)z=r[st],r.hasOwnProperty(st)&&z!=null&&!o.hasOwnProperty(st)&&(st==="selected"?e.selected=!1:Zt(e,n,st,null,o,z));for(I in o)z=o[I],B=r[I],o.hasOwnProperty(I)&&z!==B&&(z!=null||B!=null)&&(I==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Zt(e,n,I,z,o,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)z=r[pt],r.hasOwnProperty(pt)&&z!=null&&!o.hasOwnProperty(pt)&&Zt(e,n,pt,null,o,z);for(P in o)if(z=o[P],B=r[P],o.hasOwnProperty(P)&&z!==B&&(z!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:Zt(e,n,P,z,o,B)}return;default:if(Zs(n)){for(var Jt in r)z=r[Jt],r.hasOwnProperty(Jt)&&z!==void 0&&!o.hasOwnProperty(Jt)&&$f(e,n,Jt,void 0,o,z);for(q in o)z=o[q],B=r[q],!o.hasOwnProperty(q)||z===B||z===void 0&&B===void 0||$f(e,n,q,z,o,B);return}}for(var V in r)z=r[V],r.hasOwnProperty(V)&&z!=null&&!o.hasOwnProperty(V)&&Zt(e,n,V,null,o,z);for(Q in o)z=o[Q],B=r[Q],!o.hasOwnProperty(Q)||z===B||z==null&&B==null||Zt(e,n,Q,z,o,B)}function Vy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Vy(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var I=r[o],P=I.startTime;if(P>E)break;var q=I.transferSize,Q=I.initiatorType;q&&Vy(Q)&&(I=I.responseEnd,g+=q*(I<E?1:(E-P)/(I-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Wf=null,td=null;function tc(e){return e.nodeType===9?e:e.ownerDocument}function xy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ed(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var nd=null;function AS(){var e=window.event;return e&&e.type==="popstate"?e===nd?!1:(nd=e,!0):(nd=null,!1)}var Ly=typeof setTimeout=="function"?setTimeout:void 0,bS=typeof clearTimeout=="function"?clearTimeout:void 0,ky=typeof Promise=="function"?Promise:void 0,wS=typeof queueMicrotask=="function"?queueMicrotask:typeof ky<"u"?function(e){return ky.resolve(null).then(e).catch(RS)}:Ly;function RS(e){setTimeout(function(){throw e})}function Ir(e){return e==="head"}function Py(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Oa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")el(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,el(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ni]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&el(e.ownerDocument.body);r=h}while(r);Oa(n)}function zy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function id(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":id(r),Ks(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function CS(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ni])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function IS(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Nn(e.nextSibling),e===null))return null;return e}function jy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nn(e.nextSibling),e===null))return null;return e}function rd(e){return e.data==="$?"||e.data==="$~"}function sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function DS(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Nn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ad=null;function By(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Nn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function qy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Hy(e,n,r){switch(n=tc(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function el(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ks(e)}var On=new Map,Gy=new Set;function ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fi=et.d;et.d={f:NS,r:OS,D:MS,C:VS,L:xS,m:US,X:kS,S:LS,M:PS};function NS(){var e=Fi.f(),n=Qu();return e||n}function OS(e){var n=En(e);n!==null&&n.tag===5&&n.type==="form"?op(n):Fi.r(e)}var Ia=typeof document>"u"?null:document;function Fy(e,n,r){var o=Ia;if(o&&typeof n=="string"&&n){var h=en(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Gy.has(h)||(Gy.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),_e(n),o.head.appendChild(n)))}}function MS(e){Fi.D(e),Fy("dns-prefetch",e,null)}function VS(e,n){Fi.C(e,n),Fy("preconnect",e,n)}function xS(e,n,r){Fi.L(e,n,r);var o=Ia;if(o&&e&&n){var h='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+en(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+en(r.imageSizes)+'"]')):h+='[href="'+en(e)+'"]';var f=h;switch(n){case"style":f=Da(e);break;case"script":f=Na(e)}On.has(f)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),On.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(nl(f))||n==="script"&&o.querySelector(il(f))||(n=o.createElement("link"),He(n,"link",e),_e(n),o.head.appendChild(n)))}}function US(e,n){Fi.m(e,n);var r=Ia;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Na(e)}if(!On.has(f)&&(e=b({rel:"modulepreload",href:e},n),On.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(il(f)))return}o=r.createElement("link"),He(o,"link",e),_e(o),r.head.appendChild(o)}}}function LS(e,n,r){Fi.S(e,n,r);var o=Ia;if(o&&e){var h=ri(o).hoistableStyles,f=Da(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(nl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=On.get(f))&&od(e,r);var I=g=o.createElement("link");_e(I),He(I,"link",e),I._p=new Promise(function(P,q){I.onload=P,I.onerror=q}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,nc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function kS(e,n){Fi.X(e,n);var r=Ia;if(r&&e){var o=ri(r).hoistableScripts,h=Na(e),f=o.get(h);f||(f=r.querySelector(il(h)),f||(e=b({src:e,async:!0},n),(n=On.get(h))&&ld(e,n),f=r.createElement("script"),_e(f),He(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function PS(e,n){Fi.M(e,n);var r=Ia;if(r&&e){var o=ri(r).hoistableScripts,h=Na(e),f=o.get(h);f||(f=r.querySelector(il(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=On.get(h))&&ld(e,n),f=r.createElement("script"),_e(f),He(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Qy(e,n,r,o){var h=(h=Rt.current)?ec(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Da(r.href),r=ri(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Da(r.href);var f=ri(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(nl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),On.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},On.set(e,r),f||zS(h,e,r,g.state))),n&&o===null)throw Error(s(528,""));return g}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Na(r),r=ri(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Da(e){return'href="'+en(e)+'"'}function nl(e){return'link[rel="stylesheet"]['+e+"]"}function Ky(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function zS(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",r),_e(n),e.head.appendChild(n))}function Na(e){return'[src="'+en(e)+'"]'}function il(e){return"script[async]"+e}function Yy(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(r.href)+'"]');if(o)return n.instance=o,_e(o),o;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),He(o,"style",h),nc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Da(r.href);var f=e.querySelector(nl(h));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=Ky(r),(h=On.get(h))&&od(o,h),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),He(f,"link",o),n.state.loading|=4,nc(f,r.precedence,e),n.instance=f;case"script":return f=Na(r.src),(h=e.querySelector(il(f)))?(n.instance=h,_e(h),h):(o=r,(h=On.get(f))&&(o=b({},r),ld(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,nc(o,r.precedence,e));return n.instance}function nc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function od(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ld(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ic=null;function Xy(e,n,r){if(ic===null){var o=new Map,h=ic=new Map;h.set(r,o)}else h=ic,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ni]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function Zy(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function jS(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Jy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function BS(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Da(o.href),f=n.querySelector(nl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=rc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,_e(f);return}f=n.ownerDocument||n,o=Ky(o),(h=On.get(h))&&od(o,h),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),He(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=rc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var ud=0;function qS(e,n){return e.stylesheets&&e.count===0&&ac(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&ac(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&ud===0&&(ud=62500*SS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ac(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>ud?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ac(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sc=null;function ac(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sc=new Map,n.forEach(HS,e),sc=null,rc.call(e))}function HS(e,n){if(!(n.state.loading&4)){var r=sc.get(e);if(r)var o=r.get(null);else{r=new Map,sc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=rc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var rl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function GS(e,n,r,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function $y(e,n,r,o,h,f,g,E,I,P,q,Q){return e=new GS(e,n,r,g,I,P,q,Q,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),e.current=f,f.stateNode=e,n=Bh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Fh(f),e}function Wy(e){return e?(e=oa,e):oa}function t_(e,n,r,o,h,f){h=Wy(h),o.context===null?o.context=h:o.pendingContext=h,o=yr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=_r(e,o,n),r!==null&&(ln(r,e,n),Lo(r,e,n))}function e_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function cd(e,n){e_(e,n),(e=e.alternate)&&e_(e,n)}function n_(e){if(e.tag===13||e.tag===31){var n=ps(e,67108864);n!==null&&ln(n,e,67108864),cd(e,67108864)}}function i_(e){if(e.tag===13||e.tag===31){var n=_n();n=rs(n);var r=ps(e,n);r!==null&&ln(r,e,n),cd(e,n)}}var oc=!0;function FS(e,n,r,o){var h=H.T;H.T=null;var f=et.p;try{et.p=2,hd(e,n,r,o)}finally{et.p=f,H.T=h}}function QS(e,n,r,o){var h=H.T;H.T=null;var f=et.p;try{et.p=8,hd(e,n,r,o)}finally{et.p=f,H.T=h}}function hd(e,n,r,o){if(oc){var h=fd(o);if(h===null)Jf(e,n,o,lc,r),s_(e,o);else if(YS(h,e,n,r,o))o.stopPropagation();else if(s_(e,o),n&4&&-1<KS.indexOf(e)){for(;h!==null;){var f=En(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=$n(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-ce(g);E.entanglements[1]|=I,g&=~I}yi(f),(qt&6)===0&&(Gu=$e()+500,$o(0))}}break;case 31:case 13:E=ps(f,2),E!==null&&ln(E,f,2),Qu(),cd(f,2)}if(f=fd(o),f===null&&Jf(e,n,o,lc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else Jf(e,n,o,null,r)}}function fd(e){return e=Tn(e),dd(e)}var lc=null;function dd(e){if(lc=null,e=ii(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return lc=e,null}function r_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ts()){case ao:return 2;case oo:return 8;case nr:case _h:return 32;case jl:return 268435456;default:return 32}default:return 32}}var md=!1,Dr=null,Nr=null,Or=null,sl=new Map,al=new Map,Mr=[],KS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s_(e,n){switch(e){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(n.pointerId)}}function ol(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=En(n),n!==null&&n_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function YS(e,n,r,o,h){switch(n){case"focusin":return Dr=ol(Dr,e,n,r,o,h),!0;case"dragenter":return Nr=ol(Nr,e,n,r,o,h),!0;case"mouseover":return Or=ol(Or,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return sl.set(f,ol(sl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,al.set(f,ol(al.get(f)||null,e,n,r,o,h)),!0}return!1}function a_(e){var n=ii(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,kn(e.priority,function(){i_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,kn(e.priority,function(){i_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=fd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Eo=o,r.target.dispatchEvent(o),Eo=null}else return n=En(r),n!==null&&n_(n),e.blockedOn=r,!1;n.shift()}return!0}function o_(e,n,r){uc(e)&&r.delete(n)}function XS(){md=!1,Dr!==null&&uc(Dr)&&(Dr=null),Nr!==null&&uc(Nr)&&(Nr=null),Or!==null&&uc(Or)&&(Or=null),sl.forEach(o_),al.forEach(o_)}function cc(e,n){e.blockedOn===n&&(e.blockedOn=null,md||(md=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,XS)))}var hc=null;function l_(e){hc!==e&&(hc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){hc===e&&(hc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(dd(o||r)===null)continue;break}var f=En(r);f!==null&&(e.splice(n,3),n-=3,ff(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Oa(e){function n(I){return cc(I,e)}Dr!==null&&cc(Dr,e),Nr!==null&&cc(Nr,e),Or!==null&&cc(Or,e),sl.forEach(n),al.forEach(n);for(var r=0;r<Mr.length;r++){var o=Mr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Mr.length&&(r=Mr[0],r.blockedOn===null);)a_(r),r.blockedOn===null&&Mr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Ve]||null;if(typeof f=="function")g||l_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(dd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),l_(r)}}}function u_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function gd(e){this._internalRoot=e}fc.prototype.render=gd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=_n();t_(r,o,e,n,null,null)},fc.prototype.unmount=gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;t_(e.current,2,null,e,null,null),Qu(),n[ei]=null}};function fc(e){this._internalRoot=e}fc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ql();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Mr.length&&n!==0&&n<Mr[r].priority;r++);Mr.splice(r,0,e),r===0&&a_(e)}};var c_=t.version;if(c_!=="19.2.3")throw Error(s(527,c_,"19.2.3"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var ZS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{Un=dc.inject(ZS),Pe=dc}catch{}}return ul.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",h=yp,f=_p,g=vp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=$y(e,1,!1,null,null,r,o,null,h,f,g,u_),e[ei]=n.current,Zf(e),new gd(n)},ul.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,h="",f=yp,g=_p,E=vp,I=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=$y(e,1,!0,n,r??null,o,h,I,f,g,E,u_),n.context=Wy(null),r=n.current,o=_n(),o=rs(o),h=yr(o),h.callback=null,_r(r,h,o),r=o,n.current.lanes=r,ns(n,r),yi(n),e[ei]=n.current,Zf(e),new fc(n)},ul.version="19.2.3",ul}var E_;function aA(){if(E_)return _d.exports;E_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),_d.exports=sA(),_d.exports}var oA=aA();const lA=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uA=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase()),T_=a=>{const t=uA(a);return t.charAt(0).toUpperCase()+t.slice(1)},Xv=(...a)=>a.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim(),cA=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var hA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const fA=Ne.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...p},y)=>Ne.createElement("svg",{ref:y,...hA,width:t,height:t,stroke:a,strokeWidth:s?Number(i)*24/Number(t):i,className:Xv("lucide",l),...!c&&!cA(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,S])=>Ne.createElement(_,S)),...Array.isArray(c)?c:[c]]));const $c=(a,t)=>{const i=Ne.forwardRef(({className:s,...l},c)=>Ne.createElement(fA,{ref:c,iconNode:t,className:Xv(`lucide-${lA(T_(a))}`,`lucide-${a}`,s),...l}));return i.displayName=T_(a),i};const dA=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],mA=$c("grip-vertical",dA);const gA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pA=$c("plus",gA);const yA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_A=$c("settings",yA);const vA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],EA=$c("x",vA);function Zv(a){var t,i,s="";if(typeof a=="string"||typeof a=="number")s+=a;else if(typeof a=="object")if(Array.isArray(a)){var l=a.length;for(t=0;t<l;t++)a[t]&&(i=Zv(a[t]))&&(s&&(s+=" "),s+=i)}else for(i in a)a[i]&&(s&&(s+=" "),s+=i);return s}function Jv(){for(var a,t,i=0,s="",l=arguments.length;i<l;i++)(a=arguments[i])&&(t=Zv(a))&&(s&&(s+=" "),s+=t);return s}const TA=({viewMode:a,setViewMode:t,onAddTask:i})=>$.jsxs("header",{className:"h-16 border-b border-border bg-void flex items-center justify-between px-6 z-40 shadow-lg shrink-0",children:[$.jsxs("div",{className:"flex items-center gap-3",children:[$.jsx("div",{className:"w-8 h-8 rounded border border-bronze/50 flex items-center justify-center bg-bronze/10",children:$.jsx("span",{className:"font-header text-bronze font-bold text-lg",children:"S"})}),$.jsxs("div",{children:[$.jsx("h1",{className:"font-header text-xl tracking-widest text-stone",children:"ST MARY SOMERSET"}),$.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 font-mono tracking-wider",children:[$.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),$.jsx("span",{children:"ONLINE"})]})]})]}),$.jsxs("div",{className:"flex items-center gap-6",children:[$.jsx("div",{className:"hidden md:flex bg-panel border border-border rounded-lg p-1 gap-1 font-mono text-xs",children:["day","week","month"].map(s=>$.jsx("button",{onClick:()=>t(s),className:Jv("px-3 py-1 rounded transition-colors uppercase",a===s?"bg-bronze/20 text-bronze border border-bronze/30 shadow-glow":"hover:bg-border text-gray-400"),children:s},s))}),$.jsxs("button",{onClick:i,className:"bg-bronze hover:bg-bronzeDark text-midnight font-bold px-4 py-2 rounded font-header text-sm tracking-wide transition-colors flex items-center gap-2",children:[$.jsx(pA,{size:16}),"NEW PHASE"]}),$.jsx("button",{className:"text-gray-400 hover:text-white transition-colors p-2",children:$.jsx(_A,{size:20})})]})]}),SA=({tasks:a,onEditTask:t,onReorderTasks:i})=>{const s=Ne.useRef(null),l=Ne.useRef(null),c=(_,S)=>{s.current=S,_.dataTransfer.effectAllowed="move",_.dataTransfer.setData("text/plain",S)},d=(_,S)=>{l.current=S},p=()=>{const _=s.current,S=l.current;_!==null&&S!==null&&_!==S&&i(_,S),s.current=null,l.current=null},y=_=>{_.preventDefault()};return $.jsxs("div",{className:"w-80 flex-shrink-0 bg-panel border-r border-border flex flex-col z-30 shadow-2xl relative h-full",children:[$.jsxs("div",{className:"h-10 border-b border-border bg-void/50 flex items-center px-4 text-xs font-mono text-bronze uppercase tracking-widest flex-shrink-0",children:[$.jsx("div",{className:"w-8 text-center",children:"#"}),$.jsx("div",{className:"flex-1 pl-2",children:"Task Name"}),$.jsx("div",{className:"w-16 text-right",children:"Dur."})]}),$.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:a.map((_,S)=>$.jsxs("div",{className:"h-14 border-b border-border flex items-center px-2 hover:bg-white/5 transition-colors cursor-pointer group",draggable:!0,onDragStart:b=>c(b,S),onDragEnter:b=>d(b,S),onDragOver:y,onDragEnd:p,onDoubleClick:b=>{b.stopPropagation(),t(_)},children:[$.jsx("div",{className:"w-8 h-full flex items-center justify-center text-bronze/50 cursor-grab active:cursor-grabbing hover:text-bronze pointer-events-none",children:$.jsx(mA,{size:14})}),$.jsx("div",{className:"w-6 text-center text-xs text-gray-500 font-mono select-none pointer-events-none",children:S+1}),$.jsx("div",{className:"flex-1 pl-2 truncate text-sm text-gray-300 font-ui select-none pointer-events-none",children:_.name}),$.jsxs("div",{className:"w-12 text-right font-mono text-xs text-bronze select-none pointer-events-none",children:[_.duration,"d"]})]},_.id))})]})},mc=(a,t)=>{const i=new Date(a);return i.setDate(i.getDate()+t),i},AA=({task:a,style:t,onMouseDown:i,onDoubleClick:s})=>{const l=a.type==="milestone";return $.jsx("div",{className:"absolute select-none group touch-none flex items-center z-20",style:t,onMouseDown:i,onDoubleClick:s,children:l?$.jsx("div",{className:"w-6 h-6 rotate-45 bg-bronze shadow-lg border border-white/20 hover:scale-110 transition-transform cursor-pointer"}):$.jsxs("div",{className:"w-full h-full relative",children:[$.jsx("div",{className:Jv("w-full h-full rounded border border-white/10 overflow-hidden cursor-grab active:cursor-grabbing shadow-ingot transition-shadow","hover:brightness-110"),style:{background:`linear-gradient(90deg, #9A8C74 ${a.progress}%, #2A2E35 ${a.progress}%)`},children:a.duration>2&&$.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-[10px] font-mono font-bold text-white mix-blend-difference pointer-events-none",children:[a.progress,"%"]})}),$.jsx("div",{"data-resize":"right",className:"absolute right-0 top-0 bottom-0 w-4 cursor-e-resize z-20 opacity-0 group-hover:opacity-100 hover:bg-white/10 transition-opacity"}),$.jsx("div",{className:"absolute left-full ml-3 top-1/2 -translate-y-1/2 text-xs font-bold text-stone whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-30",children:a.name})]})})},bA=({tasks:a,viewMode:t,projectStartDate:i,onScroll:s,onTaskDragStart:l,onEditTask:c})=>{const d=Ne.useRef(null),p=t==="day"?60:t==="week"?40:20,y=56,_=100,S=_*p,b=Math.max(a.length*y+100,600),U=[];let G=new Date(mc(i,-2));for(let X=0;X<_;X++)U.push({date:new Date(G),label:G.getDate(),subLabel:G.toLocaleString("default",{weekday:"narrow"}),left:X*p}),G.setDate(G.getDate()+1);const tt=(X,ot)=>{const ft=Math.round((new Date(X.startDate)-new Date(mc(i,-2)))/864e5)*p,at=X.duration*p,ut=ot*y+12,dt=y-24;return{left:`${ft}px`,top:`${ut}px`,width:`${Math.max(at,2)}px`,height:`${dt}px`}},J=()=>{const X=[];return a.forEach((ot,yt)=>{if(!ot.dependencies||ot.dependencies.length===0)return;const ft=Math.round((new Date(ot.startDate)-new Date(mc(i,-2)))/(1e3*60*60*24))*p,at=yt*y+y/2+12;ot.dependencies.forEach(ut=>{const dt=a.find(x=>x.id===ut),R=a.findIndex(x=>x.id===ut);if(!dt||R===-1)return;const w=(Math.round((new Date(dt.startDate)-new Date(mc(i,-2)))/(1e3*60*60*24))+dt.duration)*p,M=R*y+y/2+12,D=`M ${w} ${M} C ${w+20} ${M}, ${ft-20} ${at}, ${ft} ${at}`;X.push($.jsx("path",{d:D,stroke:"#5C5242",strokeWidth:"1.5",fill:"none",className:"opacity-60",markerEnd:"url(#arrowhead)"},`${ut}-${ot.id}`))})}),X};return $.jsxs("div",{className:"flex-1 flex flex-col relative bg-midnight overflow-hidden h-full",children:[$.jsx("div",{className:"h-10 bg-void/50 border-b border-border flex-shrink-0 relative overflow-hidden",ref:X=>{X&&d.current&&(X.scrollLeft=d.current.scrollLeft)},children:U.map((X,ot)=>$.jsxs("div",{className:"absolute top-0 h-full border-r border-border/50 flex flex-col justify-end pb-1 items-center text-[10px] select-none text-stone/50",style:{left:X.left,width:p},children:[$.jsx("span",{children:X.subLabel}),$.jsx("span",{className:"text-stone font-bold",children:X.label})]},ot))}),$.jsx("div",{ref:d,className:"flex-1 overflow-auto relative bg-grid-pattern bg-[length:40px_40px]",onScroll:s,children:$.jsxs("div",{style:{width:S,height:b},className:"relative",children:[$.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-10 overflow-visible",children:[$.jsx("defs",{children:$.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:$.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#5C5242"})})}),J()]}),a.map((X,ot)=>$.jsx(AA,{task:X,style:tt(X,ot),onMouseDown:yt=>l(yt,X),onDoubleClick:()=>c(X)},X.id))]})})]})},wA=({task:a,onClose:t,onSave:i})=>{const[s,l]=Ne.useState({...a});return $.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:$.jsxs("div",{className:"w-[400px] bg-panel border border-bronze/50 shadow-2xl rounded-lg overflow-hidden",children:[$.jsxs("div",{className:"h-12 bg-void/50 border-b border-border flex items-center justify-between px-4",children:[$.jsx("h2",{className:"font-header text-bronze tracking-wide",children:"Edit Phase"}),$.jsx("button",{onClick:t,className:"text-stone hover:text-white",children:$.jsx(EA,{size:18})})]}),$.jsxs("div",{className:"p-6 space-y-4 font-mono text-sm",children:[$.jsxs("div",{className:"space-y-1",children:[$.jsx("label",{className:"text-gray-500 uppercase text-[10px] tracking-wider",children:"Phase Name"}),$.jsx("input",{type:"text",value:s.name,onChange:c=>l({...s,name:c.target.value}),className:"w-full bg-midnight border border-border px-3 py-2 text-stone focus:border-bronze outline-none rounded"})]}),$.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[$.jsxs("div",{className:"space-y-1",children:[$.jsx("label",{className:"text-gray-500 uppercase text-[10px] tracking-wider",children:"Start Date"}),$.jsx("input",{type:"date",value:s.startDate?s.startDate.split("T")[0]:"",onChange:c=>l({...s,startDate:new Date(c.target.value).toISOString()}),className:"w-full bg-midnight border border-border px-3 py-2 text-stone focus:border-bronze outline-none rounded text-xs"})]}),$.jsxs("div",{className:"space-y-1",children:[$.jsx("label",{className:"text-gray-500 uppercase text-[10px] tracking-wider",children:"Duration (Days)"}),$.jsx("input",{type:"number",value:s.duration,onChange:c=>l({...s,duration:parseInt(c.target.value)}),className:"w-full bg-midnight border border-border px-3 py-2 text-stone focus:border-bronze outline-none rounded"})]}),$.jsxs("div",{className:"space-y-1",children:[$.jsx("label",{className:"text-gray-500 uppercase text-[10px] tracking-wider",children:"Progress (%)"}),$.jsx("input",{type:"number",min:"0",max:"100",value:s.progress,onChange:c=>l({...s,progress:parseInt(c.target.value)}),className:"w-full bg-midnight border border-border px-3 py-2 text-stone focus:border-bronze outline-none rounded"})]})]}),$.jsxs("div",{className:"space-y-1",children:[$.jsx("label",{className:"text-gray-500 uppercase text-[10px] tracking-wider",children:"Depends On (IDs, comma sep)"}),$.jsx("input",{type:"text",placeholder:"e.g. t1, t2",value:s.dependencies?s.dependencies.join(", "):"",onChange:c=>{const p=c.target.value.split(",").map(y=>y.trim()).filter(Boolean);l({...s,dependencies:p})},className:"w-full bg-midnight border border-border px-3 py-2 text-stone focus:border-bronze outline-none rounded font-mono text-xs"})]})]}),$.jsxs("div",{className:"p-4 border-t border-border bg-void/30 flex justify-end gap-2",children:[$.jsx("button",{onClick:t,className:"px-4 py-2 hover:bg-white/5 rounded text-stone transition-colors",children:"Cancel"}),$.jsx("button",{onClick:()=>i(s),className:"px-4 py-2 bg-bronze hover:bg-bronzeDark text-midnight font-bold rounded font-header tracking-wide transition-colors",children:"Confirm Updates"})]})]})})};new Date("2024-01-01").toISOString(),new Date("2024-01-03").toISOString(),new Date("2024-01-15").toISOString(),new Date("2024-01-15").toISOString(),new Date("2024-02-05").toISOString(),new Date("2024-02-20").toISOString();const RA=()=>{};var S_={};const $v=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},CA=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],p=a[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const c=a[i++],d=a[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,p=d?a[l+1]:0,y=l+2<a.length,_=y?a[l+2]:0,S=c>>2,b=(c&3)<<4|p>>4;let U=(p&15)<<2|_>>6,G=_&63;y||(G=64,d||(U=64)),s.push(i[S],i[b],i[U],i[G])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray($v(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):CA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],p=l<a.length?i[a.charAt(l)]:0;++l;const _=l<a.length?i[a.charAt(l)]:64;++l;const b=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||p==null||_==null||b==null)throw new IA;const U=c<<2|p>>4;if(s.push(U),_!==64){const G=p<<4&240|_>>2;if(s.push(G),b!==64){const tt=_<<6&192|b;s.push(tt)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class IA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DA=function(a){const t=$v(a);return Wv.encodeByteArray(t,!0)},Oc=function(a){return DA(a).replace(/\./g,"")},tE=function(a){try{return Wv.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function NA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const OA=()=>NA().__FIREBASE_DEFAULTS__,MA=()=>{if(typeof process>"u"||typeof S_>"u")return;const a=S_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},VA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&tE(a[1]);return t&&JSON.parse(t)},Wc=()=>{try{return RA()||OA()||MA()||VA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},eE=a=>Wc()?.emulatorHosts?.[a],xA=a=>{const t=eE(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},nE=()=>Wc()?.config,iE=a=>Wc()?.[`_${a}`];class UA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function Za(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rE(a){return(await fetch(a,{credentials:"include"})).ok}function LA(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Oc(JSON.stringify(i)),Oc(JSON.stringify(d)),""].join(".")}const ml={};function kA(){const a={prod:[],emulator:[]};for(const t of Object.keys(ml))ml[t]?a.emulator.push(t):a.prod.push(t);return a}function PA(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let A_=!1;function sE(a,t){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||ml[a]===t||ml[a]||A_)return;ml[a]=t;function i(U){return`__firebase__banner__${U}`}const s="__firebase__banner",c=kA().prod.length>0;function d(){const U=document.getElementById(s);U&&U.remove()}function p(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function y(U,G){U.setAttribute("width","24"),U.setAttribute("id",G),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function _(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{A_=!0,d()},U}function S(U,G){U.setAttribute("id",G),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function b(){const U=PA(s),G=i("text"),tt=document.getElementById(G)||document.createElement("span"),J=i("learnmore"),X=document.getElementById(J)||document.createElement("a"),ot=i("preprendIcon"),yt=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const ft=U.element;p(ft),S(X,J);const at=_();y(yt,ot),ft.append(yt,tt,X,at),document.body.appendChild(ft)}c?(tt.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function jA(){const a=Wc()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function HA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GA(){const a=Je();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function FA(){return!jA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QA(){try{return typeof indexedDB=="object"}catch{return!1}}function KA(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const YA="FirebaseError";class tr extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=YA,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?XA(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new tr(l,p,s)}}function XA(a,t){return a.replace(ZA,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const ZA=/\{\$([^}]+)}/g;function JA(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Vs(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=a[l],d=t[l];if(b_(c)&&b_(d)){if(!Vs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function b_(a){return a!==null&&typeof a=="object"}function Nl(a){const t=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function $A(a,t){const i=new WA(a,t);return i.subscribe.bind(i)}class WA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");t1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Sd),l.error===void 0&&(l.error=Sd),l.complete===void 0&&(l.complete=Sd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t1(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Sd(){}function xn(a){return a&&a._delegate?a._delegate:a}class xs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ds="[DEFAULT]";class e1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new UA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(i1(t))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Ds){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ds){return this.instances.has(t)}getOptions(t=Ds){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:n1(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ds){return this.component?this.component.multipleInstances?t:Ds:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function n1(a){return a===Ds?void 0:a}function i1(a){return a.instantiationMode==="EAGER"}class r1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new e1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Mt||(Mt={}));const s1={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},a1=Mt.INFO,o1={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},l1=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=o1[t];if(l)console[l](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class sm{constructor(t){this.name=t,this._logLevel=a1,this._logHandler=l1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?s1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const u1=(a,t)=>t.some(i=>a instanceof i);let w_,R_;function c1(){return w_||(w_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h1(){return R_||(R_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aE=new WeakMap,xd=new WeakMap,oE=new WeakMap,Ad=new WeakMap,am=new WeakMap;function f1(a){const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(jr(a.result)),l()},d=()=>{s(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&aE.set(i,a)}).catch(()=>{}),am.set(t,a),t}function d1(a){if(xd.has(a))return;const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});xd.set(a,t)}let Ud={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return xd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||oE.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return jr(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function m1(a){Ud=a(Ud)}function g1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(bd(this),t,...i);return oE.set(s,t.sort?t.sort():[t]),jr(s)}:h1().includes(a)?function(...t){return a.apply(bd(this),t),jr(aE.get(this))}:function(...t){return jr(a.apply(bd(this),t))}}function p1(a){return typeof a=="function"?g1(a):(a instanceof IDBTransaction&&d1(a),u1(a,c1())?new Proxy(a,Ud):a)}function jr(a){if(a instanceof IDBRequest)return f1(a);if(Ad.has(a))return Ad.get(a);const t=p1(a);return t!==a&&(Ad.set(a,t),am.set(t,a)),t}const bd=a=>am.get(a);function y1(a,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),p=jr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(jr(d.result),y.oldVersion,y.newVersion,jr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const _1=["get","getKey","getAll","getAllKeys","count"],v1=["put","add","delete","clear"],wd=new Map;function C_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(wd.get(t))return wd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=v1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||_1.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return wd.set(t,c),c}m1(a=>({...a,get:(t,i,s)=>C_(t,i)||a.get(t,i,s),has:(t,i)=>!!C_(t,i)||a.has(t,i)}));class E1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(T1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function T1(a){return a.getComponent()?.type==="VERSION"}const Ld="@firebase/app",I_="0.14.6";const Xi=new sm("@firebase/app"),S1="@firebase/app-compat",A1="@firebase/analytics-compat",b1="@firebase/analytics",w1="@firebase/app-check-compat",R1="@firebase/app-check",C1="@firebase/auth",I1="@firebase/auth-compat",D1="@firebase/database",N1="@firebase/data-connect",O1="@firebase/database-compat",M1="@firebase/functions",V1="@firebase/functions-compat",x1="@firebase/installations",U1="@firebase/installations-compat",L1="@firebase/messaging",k1="@firebase/messaging-compat",P1="@firebase/performance",z1="@firebase/performance-compat",j1="@firebase/remote-config",B1="@firebase/remote-config-compat",q1="@firebase/storage",H1="@firebase/storage-compat",G1="@firebase/firestore",F1="@firebase/ai",Q1="@firebase/firestore-compat",K1="firebase",Y1="12.6.0";const kd="[DEFAULT]",X1={[Ld]:"fire-core",[S1]:"fire-core-compat",[b1]:"fire-analytics",[A1]:"fire-analytics-compat",[R1]:"fire-app-check",[w1]:"fire-app-check-compat",[C1]:"fire-auth",[I1]:"fire-auth-compat",[D1]:"fire-rtdb",[N1]:"fire-data-connect",[O1]:"fire-rtdb-compat",[M1]:"fire-fn",[V1]:"fire-fn-compat",[x1]:"fire-iid",[U1]:"fire-iid-compat",[L1]:"fire-fcm",[k1]:"fire-fcm-compat",[P1]:"fire-perf",[z1]:"fire-perf-compat",[j1]:"fire-rc",[B1]:"fire-rc-compat",[q1]:"fire-gcs",[H1]:"fire-gcs-compat",[G1]:"fire-fst",[Q1]:"fire-fst-compat",[F1]:"fire-vertex","fire-js":"fire-js",[K1]:"fire-js-all"};const Mc=new Map,Z1=new Map,Pd=new Map;function D_(a,t){try{a.container.addComponent(t)}catch(i){Xi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ha(a){const t=a.name;if(Pd.has(t))return Xi.debug(`There were multiple attempts to register component ${t}.`),!1;Pd.set(t,a);for(const i of Mc.values())D_(i,a);for(const i of Z1.values())D_(i,a);return!0}function om(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Kn(a){return a==null?!1:a.settings!==void 0}const J1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new Dl("app","Firebase",J1);class $1{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}const Ja=Y1;function lE(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s={name:kd,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Br.create("bad-app-name",{appName:String(l)});if(i||(i=nE()),!i)throw Br.create("no-options");const c=Mc.get(l);if(c){if(Vs(i,c.options)&&Vs(s,c.config))return c;throw Br.create("duplicate-app",{appName:l})}const d=new r1(l);for(const y of Pd.values())d.addComponent(y);const p=new $1(i,s,d);return Mc.set(l,p),p}function uE(a=kd){const t=Mc.get(a);if(!t&&a===kd&&nE())return lE();if(!t)throw Br.create("no-app",{appName:a});return t}function qr(a,t,i){let s=X1[a]??a;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xi.warn(d.join(" "));return}Ha(new xs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const W1="firebase-heartbeat-database",tb=1,El="firebase-heartbeat-store";let Rd=null;function cE(){return Rd||(Rd=y1(W1,tb,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(El)}catch(i){console.warn(i)}}}}).catch(a=>{throw Br.create("idb-open",{originalErrorMessage:a.message})})),Rd}async function eb(a){try{const i=(await cE()).transaction(El),s=await i.objectStore(El).get(hE(a));return await i.done,s}catch(t){if(t instanceof tr)Xi.warn(t.message);else{const i=Br.create("idb-get",{originalErrorMessage:t?.message});Xi.warn(i.message)}}}async function N_(a,t){try{const s=(await cE()).transaction(El,"readwrite");await s.objectStore(El).put(t,hE(a)),await s.done}catch(i){if(i instanceof tr)Xi.warn(i.message);else{const s=Br.create("idb-set",{originalErrorMessage:i?.message});Xi.warn(s.message)}}}function hE(a){return`${a.name}!${a.options.appId}`}const nb=1024,ib=30;class rb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ab(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=O_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>ib){const l=ob(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Xi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=O_(),{heartbeatsToSend:i,unsentEntries:s}=sb(this._heartbeatsCache.heartbeats),l=Oc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Xi.warn(t),""}}}function O_(){return new Date().toISOString().substring(0,10)}function sb(a,t=nb){const i=[];let s=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),M_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),M_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class ab{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QA()?KA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await eb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return N_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return N_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function M_(a){return Oc(JSON.stringify({version:2,heartbeats:a})).length}function ob(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}function lb(a){Ha(new xs("platform-logger",t=>new E1(t),"PRIVATE")),Ha(new xs("heartbeat",t=>new rb(t),"PRIVATE")),qr(Ld,I_,a),qr(Ld,I_,"esm2020"),qr("fire-js","")}lb("");var ub="firebase",cb="12.7.0";qr(ub,cb,"app");function fE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hb=fE,dE=new Dl("auth","Firebase",fE());const Vc=new sm("@firebase/auth");function fb(a,...t){Vc.logLevel<=Mt.WARN&&Vc.warn(`Auth (${Ja}): ${a}`,...t)}function Tc(a,...t){Vc.logLevel<=Mt.ERROR&&Vc.error(`Auth (${Ja}): ${a}`,...t)}function Zi(a,...t){throw lm(a,...t)}function vi(a,...t){return lm(a,...t)}function mE(a,t,i){const s={...hb(),[t]:i};return new Dl("auth","Firebase",s).create(t,{appName:a.name})}function Hr(a){return mE(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lm(a,...t){if(typeof a!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return dE.create(a,...t)}function vt(a,t,...i){if(!a)throw lm(t,...i)}function Qi(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Tc(t),new Error(t)}function Ji(a,t){a||Qi(t)}function zd(){return typeof self<"u"&&self.location?.href||""}function db(){return V_()==="http:"||V_()==="https:"}function V_(){return typeof self<"u"&&self.location?.protocol||null}function mb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(db()||qA()||"connection"in navigator)?navigator.onLine:!0}function gb(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Ol{constructor(t,i){this.shortDelay=t,this.longDelay=i,Ji(i>t,"Short delay should be less than long delay!"),this.isMobile=zA()||HA()}get(){return mb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function um(a,t){Ji(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class gE{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const yb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_b=new Ol(3e4,6e4);function th(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function $a(a,t,i,s,l={}){return pE(a,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const p=Nl({key:a.config.apiKey,...d}).slice(1),y=await a._getAdditionalHeaders();y["Content-Type"]="application/json",a.languageCode&&(y["X-Firebase-Locale"]=a.languageCode);const _={method:t,headers:y,...c};return BA()||(_.referrerPolicy="no-referrer"),a.emulatorConfig&&Za(a.emulatorConfig.host)&&(_.credentials="include"),gE.fetch()(await _E(a,a.config.apiHost,i,p),_)})}async function pE(a,t,i){a._canInitEmulator=!1;const s={...pb,...t};try{const l=new vb(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw gc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw gc(a,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw gc(a,"email-already-in-use",d);if(y==="USER_DISABLED")throw gc(a,"user-disabled",d);const S=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw mE(a,S,_);Zi(a,S)}}catch(l){if(l instanceof tr)throw l;Zi(a,"network-request-failed",{message:String(l)})}}async function yE(a,t,i,s,l={}){const c=await $a(a,t,i,s,l);return"mfaPendingCredential"in c&&Zi(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function _E(a,t,i,s){const l=`${t}${i}?${s}`,c=a,d=c.config.emulator?um(a.config,l):`${a.config.apiScheme}://${l}`;return yb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class vb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(vi(this.auth,"network-request-failed")),_b.get())})}}function gc(a,t,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=vi(a,t,s);return l.customData._tokenResponse=i,l}async function Eb(a,t){return $a(a,"POST","/v1/accounts:delete",t)}async function xc(a,t){return $a(a,"POST","/v1/accounts:lookup",t)}function gl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Tb(a,t=!1){const i=xn(a),s=await i.getIdToken(t),l=cm(s);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:gl(Cd(l.auth_time)),issuedAtTime:gl(Cd(l.iat)),expirationTime:gl(Cd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Cd(a){return Number(a)*1e3}function cm(a){const[t,i,s]=a.split(".");if(t===void 0||i===void 0||s===void 0)return Tc("JWT malformed, contained fewer than 3 sections"),null;try{const l=tE(i);return l?JSON.parse(l):(Tc("Failed to decode base64 JWT payload"),null)}catch(l){return Tc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function x_(a){const t=cm(a);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Tl(a,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof tr&&Sb(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function Sb({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class Ab{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class jd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=gl(this.lastLoginAt),this.creationTime=gl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Uc(a){const t=a.auth,i=await a.getIdToken(),s=await Tl(a,xc(t,{idToken:i}));vt(s?.users.length,t,"internal-error");const l=s.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?vE(l.providerUserInfo):[],d=wb(a.providerData,c),p=a.isAnonymous,y=!(a.email&&l.passwordHash)&&!d?.length,_=p?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new jd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(a,S)}async function bb(a){const t=xn(a);await Uc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function wb(a,t){return[...a.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function vE(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Rb(a,t){const i=await pE(a,{},async()=>{const s=Nl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await _E(a,l,"/v1/token",`key=${c}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:s};return a.emulatorConfig&&Za(a.emulatorConfig.host)&&(y.credentials="include"),gE.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Cb(a,t){return $a(a,"POST","/v2/accounts:revokeToken",th(a,t))}class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):x_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=x_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await Rb(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new ka;return s&&(vt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return Qi("not implemented")}}function xr(a,t){vt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Yn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new Ab(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new jd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Tl(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Tb(this,t)}reload(){return bb(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Yn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Uc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Hr(this.auth));const t=await this.getIdToken();return await Tl(this,Eb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:b,emailVerified:U,isAnonymous:G,providerData:tt,stsTokenManager:J}=i;vt(b&&J,t,"internal-error");const X=ka.fromJSON(this.name,J);vt(typeof b=="string",t,"internal-error"),xr(s,t.name),xr(l,t.name),vt(typeof U=="boolean",t,"internal-error"),vt(typeof G=="boolean",t,"internal-error"),xr(c,t.name),xr(d,t.name),xr(p,t.name),xr(y,t.name),xr(_,t.name),xr(S,t.name);const ot=new Yn({uid:b,auth:t,email:l,emailVerified:U,displayName:s,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:X,createdAt:_,lastLoginAt:S});return tt&&Array.isArray(tt)&&(ot.providerData=tt.map(yt=>({...yt}))),y&&(ot._redirectEventId=y),ot}static async _fromIdTokenResponse(t,i,s=!1){const l=new ka;l.updateFromServerResponse(i);const c=new Yn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Uc(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?vE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new ka;p.updateFromIdToken(s);const y=new Yn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new jd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const U_=new Map;function Ki(a){Ji(a instanceof Function,"Expected a class definition");let t=U_.get(a);return t?(Ji(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,U_.set(a,t),t)}class EE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}EE.type="NONE";const L_=EE;function Sc(a,t,i){return`firebase:${a}:${t}:${i}`}class Pa{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Sc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Sc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await xc(this.auth,{idToken:t}).catch(()=>{});return i?Yn._fromGetAccountInfoResponse(this.auth,i,t):null}return Yn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Pa(Ki(L_),t,s);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Ki(L_);const d=Sc(s,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const S=await _._get(d);if(S){let b;if(typeof S=="string"){const U=await xc(t,{idToken:S}).catch(()=>{});if(!U)break;b=await Yn._fromGetAccountInfoResponse(t,U,S)}else b=Yn._fromJSON(t,S);_!==c&&(p=b),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Pa(c,t,s):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Pa(c,t,s))}}function k_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(TE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(RE(t))return"Blackberry";if(CE(t))return"Webos";if(SE(t))return"Safari";if((t.includes("chrome/")||AE(t))&&!t.includes("edge/"))return"Chrome";if(wE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if(s?.length===2)return s[1]}return"Other"}function TE(a=Je()){return/firefox\//i.test(a)}function SE(a=Je()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function AE(a=Je()){return/crios\//i.test(a)}function bE(a=Je()){return/iemobile/i.test(a)}function wE(a=Je()){return/android/i.test(a)}function RE(a=Je()){return/blackberry/i.test(a)}function CE(a=Je()){return/webos/i.test(a)}function hm(a=Je()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function Ib(a=Je()){return hm(a)&&!!window.navigator?.standalone}function Db(){return GA()&&document.documentMode===10}function IE(a=Je()){return hm(a)||wE(a)||CE(a)||RE(a)||/windows phone/i.test(a)||bE(a)}function DE(a,t=[]){let i;switch(a){case"Browser":i=k_(Je());break;case"Worker":i=`${k_(Je())}-${a}`;break;default:i=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ja}/${s}`}class Nb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Ob(a,t={}){return $a(a,"GET","/v2/passwordPolicy",th(a,t))}const Mb=6;class Vb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Mb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class xb{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P_(this),this.idTokenSubscription=new P_(this),this.beforeStateQueue=new Nb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ki(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Pa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await xc(this,{idToken:t}),s=await Yn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Uc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=gb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kn(this.app))return Promise.reject(Hr(this));const i=t?xn(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kn(this.app)?Promise.reject(Hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Ob(this),i=new Vb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Dl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await Cb(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ki(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[Ki(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=DE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&fb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function eh(a){return xn(a)}class P_{constructor(t){this.auth=t,this.observer=null,this.addObserver=$A(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ub(a){fm=a}function Lb(a){return fm.loadJS(a)}function kb(){return fm.gapiScript}function Pb(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function zb(a,t){const i=om(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Vs(c,t??{}))return l;Zi(l,"already-initialized")}return i.initialize({options:t})}function jb(a,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(Ki);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t?.popupRedirectResolver)}function Bb(a,t,i){const s=eh(a);vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=NE(t),{host:d,port:p}=qb(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt(Vs(_,s.config.emulator)&&Vs(S,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=S,s.settings.appVerificationDisabledForTesting=!0,Za(d)?(rE(`${c}//${d}${y}`),sE("Auth",!0)):Hb()}function NE(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function qb(a){const t=NE(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:z_(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:z_(d)}}}function z_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function Hb(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class OE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Qi("not implemented")}_getIdTokenResponse(t){return Qi("not implemented")}_linkToIdToken(t,i){return Qi("not implemented")}_getReauthenticationResolver(t){return Qi("not implemented")}}async function za(a,t){return yE(a,"POST","/v1/accounts:signInWithIdp",th(a,t))}const Gb="http://localhost";class Us extends OE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Us(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Zi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Us(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return za(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,za(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,za(t,i)}buildRequest(){const t={requestUri:Gb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Nl(i)}return t}}class ME{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ml extends ME{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ur extends Ml{constructor(){super("facebook.com")}static credential(t){return Us._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ur.credential(t.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";class Lr extends Ml{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Us._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Lr.credential(i,s)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";class kr extends Ml{constructor(){super("github.com")}static credential(t){return Us._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";class Pr extends Ml{constructor(){super("twitter.com")}static credential(t,i){return Us._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Pr.credential(i,s)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";async function Fb(a,t){return yE(a,"POST","/v1/accounts:signUp",th(a,t))}class Fr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Yn._fromIdTokenResponse(t,s,l),d=j_(s);return new Fr({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=j_(s);return new Fr({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function j_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function Qb(a){if(Kn(a.app))return Promise.reject(Hr(a));const t=eh(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Fr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Fb(t,{returnSecureToken:!0}),s=await Fr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(s.user),s}class Lc extends tr{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Lc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new Lc(t,i,s,l)}}function VE(a,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Lc._fromErrorAndOperation(a,c,t,s):c})}async function Kb(a,t,i=!1){const s=await Tl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Fr._forOperation(a,"link",s)}async function Yb(a,t,i=!1){const{auth:s}=a;if(Kn(s.app))return Promise.reject(Hr(s));const l="reauthenticate";try{const c=await Tl(a,VE(s,l,t,a),i);vt(c.idToken,s,"internal-error");const d=cm(c.idToken);vt(d,s,"internal-error");const{sub:p}=d;return vt(a.uid===p,s,"user-mismatch"),Fr._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Zi(s,"user-mismatch"),c}}async function Xb(a,t,i=!1){if(Kn(a.app))return Promise.reject(Hr(a));const s="signIn",l=await VE(a,s,t),c=await Fr._fromIdTokenResponse(a,s,l);return i||await a._updateCurrentUser(c.user),c}function Zb(a,t,i,s){return xn(a).onIdTokenChanged(t,i,s)}function Jb(a,t,i){return xn(a).beforeAuthStateChanged(t,i)}function $b(a,t,i,s){return xn(a).onAuthStateChanged(t,i,s)}const kc="__sak";class xE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(kc,"1"),this.storage.removeItem(kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Wb=1e3,tw=10;class UE extends xE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);Db()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,tw):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},Wb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}UE.type="LOCAL";const ew=UE;class LE extends xE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}LE.type="SESSION";const kE=LE;function nw(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new nh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await nw(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nh.receivers=[];function dm(a="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return a+i}class iw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=dm("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(b){const U=b;if(U.data.eventId===_)switch(U.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(U.data.response);break;default:clearTimeout(S),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ei(){return window}function rw(a){Ei().location.href=a}function PE(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function sw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aw(){return navigator?.serviceWorker?.controller||null}function ow(){return PE()?self:null}const zE="firebaseLocalStorageDb",lw=1,Pc="firebaseLocalStorage",jE="fbase_key";class Vl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ih(a,t){return a.transaction([Pc],t?"readwrite":"readonly").objectStore(Pc)}function uw(){const a=indexedDB.deleteDatabase(zE);return new Vl(a).toPromise()}function Bd(){const a=indexedDB.open(zE,lw);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(Pc,{keyPath:jE})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(Pc)?t(s):(s.close(),await uw(),t(await Bd()))})})}async function B_(a,t,i){const s=ih(a,!0).put({[jE]:t,value:i});return new Vl(s).toPromise()}async function cw(a,t){const i=ih(a,!1).get(t),s=await new Vl(i).toPromise();return s===void 0?null:s.value}function q_(a,t){const i=ih(a,!0).delete(t);return new Vl(i).toPromise()}const hw=800,fw=3;class BE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>fw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nh._getInstance(ow()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sw(),!this.activeServiceWorker)return;this.sender=new iw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||aw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Bd();return await B_(t,kc,"1"),await q_(t,kc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>B_(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>cw(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>q_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ih(l,!1).getAll();return new Vl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BE.type="LOCAL";const dw=BE;new Ol(3e4,6e4);function mw(a,t){return t?Ki(t):(vt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class mm extends OE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function gw(a){return Xb(a.auth,new mm(a),a.bypassAuthState)}function pw(a){const{auth:t,user:i}=a;return vt(i,t,"internal-error"),Yb(i,new mm(a),a.bypassAuthState)}async function yw(a){const{auth:t,user:i}=a;return vt(i,t,"internal-error"),Kb(i,new mm(a),a.bypassAuthState)}class qE{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gw;case"linkViaPopup":case"linkViaRedirect":return yw;case"reauthViaPopup":case"reauthViaRedirect":return pw;default:Zi(this.auth,"internal-error")}}resolve(t){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _w=new Ol(2e3,1e4);class La extends qE{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const t=dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,_w.get())};t()}}La.currentPopupAction=null;const vw="pendingRedirect",Ac=new Map;class Ew extends qE{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Ac.get(this.auth._key());if(!t){try{const s=await Tw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Ac.set(this.auth._key(),t)}return this.bypassAuthState||Ac.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Tw(a,t){const i=bw(t),s=Aw(a);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function Sw(a,t){Ac.set(a._key(),t)}function Aw(a){return Ki(a._redirectPersistence)}function bw(a){return Sc(vw,a.config.apiKey,a.name)}async function ww(a,t,i=!1){if(Kn(a.app))return Promise.reject(Hr(a));const s=eh(a),l=mw(s,t),d=await new Ew(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const Rw=600*1e3;class Cw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Iw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!HE(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(vi(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Rw&&this.cachedEventUids.clear(),this.cachedEventUids.has(H_(t))}saveEventToCache(t){this.cachedEventUids.add(H_(t)),this.lastProcessedEventTime=Date.now()}}function H_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function HE({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function Iw(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HE(a);default:return!1}}async function Dw(a,t={}){return $a(a,"GET","/v1/projects",t)}const Nw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ow=/^https?/;async function Mw(a){if(a.config.emulator)return;const{authorizedDomains:t}=await Dw(a);for(const i of t)try{if(Vw(i))return}catch{}Zi(a,"unauthorized-domain")}function Vw(a){const t=zd(),{protocol:i,hostname:s}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!Ow.test(i))return!1;if(Nw.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const xw=new Ol(3e4,6e4);function G_(){const a=Ei().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function Uw(a){return new Promise((t,i)=>{function s(){G_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{G_(),i(vi(a,"network-request-failed"))},timeout:xw.get()})}if(Ei().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ei().gapi?.load)s();else{const l=Pb("iframefcb");return Ei()[l]=()=>{gapi.load?s():i(vi(a,"network-request-failed"))},Lb(`${kb()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw bc=null,t})}let bc=null;function Lw(a){return bc=bc||Uw(a),bc}const kw=new Ol(5e3,15e3),Pw="__/auth/iframe",zw="emulator/auth/iframe",jw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qw(a){const t=a.config;vt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?um(t,zw):`https://${a.config.authDomain}/${Pw}`,s={apiKey:t.apiKey,appName:a.name,v:Ja},l=Bw.get(a.config.apiHost);l&&(s.eid=l);const c=a._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Nl(s).slice(1)}`}async function Hw(a){const t=await Lw(a),i=Ei().gapi;return vt(i,a,"internal-error"),t.open({where:document.body,url:qw(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jw,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=vi(a,"network-request-failed"),p=Ei().setTimeout(()=>{c(d)},kw.get());function y(){Ei().clearTimeout(p),l(s)}s.ping(y).then(y,()=>{c(d)})}))}const Gw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fw=500,Qw=600,Kw="_blank",Yw="http://localhost";class F_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Xw(a,t,i,s=Fw,l=Qw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const y={...Gw,width:s.toString(),height:l.toString(),top:c,left:d},_=Je().toLowerCase();i&&(p=AE(_)?Kw:i),TE(_)&&(t=t||Yw,y.scrollbars="yes");const S=Object.entries(y).reduce((U,[G,tt])=>`${U}${G}=${tt},`,"");if(Ib(_)&&p!=="_self")return Zw(t||"",p),new F_(null);const b=window.open(t||"",p,S);vt(b,a,"popup-blocked");try{b.focus()}catch{}return new F_(b)}function Zw(a,t){const i=document.createElement("a");i.href=a,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const Jw="__/auth/handler",$w="emulator/auth/handler",Ww=encodeURIComponent("fac");async function Q_(a,t,i,s,l,c){vt(a.config.authDomain,a,"auth-domain-config-required"),vt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:Ja,eventId:l};if(t instanceof ME){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",JA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,b]of Object.entries({}))d[S]=b}if(t instanceof Ml){const S=t.getScopes().filter(b=>b!=="");S.length>0&&(d.scopes=S.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const y=await a._getAppCheckToken(),_=y?`#${Ww}=${encodeURIComponent(y)}`:"";return`${tR(a)}?${Nl(p).slice(1)}${_}`}function tR({config:a}){return a.emulator?um(a,$w):`https://${a.authDomain}/${Jw}`}const Id="webStorageSupport";class eR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kE,this._completeRedirectFn=ww,this._overrideRedirectResult=Sw}async _openPopup(t,i,s,l){Ji(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Q_(t,i,s,zd(),l);return Xw(t,c,dm())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await Q_(t,i,s,zd(),l);return rw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ji(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await Hw(t),s=new Cw(t);return i.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Id,{type:Id},l=>{const c=l?.[0]?.[Id];c!==void 0&&i(!!c),Zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Mw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return IE()||SE()||hm()}}const nR=eR;var K_="@firebase/auth",Y_="1.12.0";class iR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sR(a){Ha(new xs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DE(a)},_=new xb(s,l,c,y);return jb(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Ha(new xs("auth-internal",t=>{const i=eh(t.getProvider("auth").getImmediate());return(s=>new iR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(K_,Y_,rR(a)),qr(K_,Y_,"esm2020")}const aR=300,oR=iE("authIdTokenMaxAge")||aR;let X_=null;const lR=a=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>oR)return;const l=i?.token;X_!==l&&(X_=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function uR(a=uE()){const t=om(a,"auth");if(t.isInitialized())return t.getImmediate();const i=zb(a,{popupRedirectResolver:nR,persistence:[dw,ew,kE]}),s=iE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=lR(c.toString());Jb(i,d,()=>d(i.currentUser)),Zb(i,p=>d(p))}}const l=eE("auth");return l&&Bb(i,`http://${l}`),i}function cR(){return document.getElementsByTagName("head")?.[0]??document}Ub({loadJS(a){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=t,s.onerror=l=>{const c=vi("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",cR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sR("Browser");var Z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gr,GE;(function(){var a;function t(R,A){function w(){}w.prototype=A.prototype,R.F=A.prototype,R.prototype=new w,R.prototype.constructor=R,R.D=function(M,D,x){for(var C=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)C[ne-2]=arguments[ne];return A.prototype[D].apply(M,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,A,w){w||(w=0);const M=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)M[D]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(D=0;D<16;++D)M[D]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=R.g[0],w=R.g[1],D=R.g[2];let x=R.g[3],C;C=A+(x^w&(D^x))+M[0]+3614090360&4294967295,A=w+(C<<7&4294967295|C>>>25),C=x+(D^A&(w^D))+M[1]+3905402710&4294967295,x=A+(C<<12&4294967295|C>>>20),C=D+(w^x&(A^w))+M[2]+606105819&4294967295,D=x+(C<<17&4294967295|C>>>15),C=w+(A^D&(x^A))+M[3]+3250441966&4294967295,w=D+(C<<22&4294967295|C>>>10),C=A+(x^w&(D^x))+M[4]+4118548399&4294967295,A=w+(C<<7&4294967295|C>>>25),C=x+(D^A&(w^D))+M[5]+1200080426&4294967295,x=A+(C<<12&4294967295|C>>>20),C=D+(w^x&(A^w))+M[6]+2821735955&4294967295,D=x+(C<<17&4294967295|C>>>15),C=w+(A^D&(x^A))+M[7]+4249261313&4294967295,w=D+(C<<22&4294967295|C>>>10),C=A+(x^w&(D^x))+M[8]+1770035416&4294967295,A=w+(C<<7&4294967295|C>>>25),C=x+(D^A&(w^D))+M[9]+2336552879&4294967295,x=A+(C<<12&4294967295|C>>>20),C=D+(w^x&(A^w))+M[10]+4294925233&4294967295,D=x+(C<<17&4294967295|C>>>15),C=w+(A^D&(x^A))+M[11]+2304563134&4294967295,w=D+(C<<22&4294967295|C>>>10),C=A+(x^w&(D^x))+M[12]+1804603682&4294967295,A=w+(C<<7&4294967295|C>>>25),C=x+(D^A&(w^D))+M[13]+4254626195&4294967295,x=A+(C<<12&4294967295|C>>>20),C=D+(w^x&(A^w))+M[14]+2792965006&4294967295,D=x+(C<<17&4294967295|C>>>15),C=w+(A^D&(x^A))+M[15]+1236535329&4294967295,w=D+(C<<22&4294967295|C>>>10),C=A+(D^x&(w^D))+M[1]+4129170786&4294967295,A=w+(C<<5&4294967295|C>>>27),C=x+(w^D&(A^w))+M[6]+3225465664&4294967295,x=A+(C<<9&4294967295|C>>>23),C=D+(A^w&(x^A))+M[11]+643717713&4294967295,D=x+(C<<14&4294967295|C>>>18),C=w+(x^A&(D^x))+M[0]+3921069994&4294967295,w=D+(C<<20&4294967295|C>>>12),C=A+(D^x&(w^D))+M[5]+3593408605&4294967295,A=w+(C<<5&4294967295|C>>>27),C=x+(w^D&(A^w))+M[10]+38016083&4294967295,x=A+(C<<9&4294967295|C>>>23),C=D+(A^w&(x^A))+M[15]+3634488961&4294967295,D=x+(C<<14&4294967295|C>>>18),C=w+(x^A&(D^x))+M[4]+3889429448&4294967295,w=D+(C<<20&4294967295|C>>>12),C=A+(D^x&(w^D))+M[9]+568446438&4294967295,A=w+(C<<5&4294967295|C>>>27),C=x+(w^D&(A^w))+M[14]+3275163606&4294967295,x=A+(C<<9&4294967295|C>>>23),C=D+(A^w&(x^A))+M[3]+4107603335&4294967295,D=x+(C<<14&4294967295|C>>>18),C=w+(x^A&(D^x))+M[8]+1163531501&4294967295,w=D+(C<<20&4294967295|C>>>12),C=A+(D^x&(w^D))+M[13]+2850285829&4294967295,A=w+(C<<5&4294967295|C>>>27),C=x+(w^D&(A^w))+M[2]+4243563512&4294967295,x=A+(C<<9&4294967295|C>>>23),C=D+(A^w&(x^A))+M[7]+1735328473&4294967295,D=x+(C<<14&4294967295|C>>>18),C=w+(x^A&(D^x))+M[12]+2368359562&4294967295,w=D+(C<<20&4294967295|C>>>12),C=A+(w^D^x)+M[5]+4294588738&4294967295,A=w+(C<<4&4294967295|C>>>28),C=x+(A^w^D)+M[8]+2272392833&4294967295,x=A+(C<<11&4294967295|C>>>21),C=D+(x^A^w)+M[11]+1839030562&4294967295,D=x+(C<<16&4294967295|C>>>16),C=w+(D^x^A)+M[14]+4259657740&4294967295,w=D+(C<<23&4294967295|C>>>9),C=A+(w^D^x)+M[1]+2763975236&4294967295,A=w+(C<<4&4294967295|C>>>28),C=x+(A^w^D)+M[4]+1272893353&4294967295,x=A+(C<<11&4294967295|C>>>21),C=D+(x^A^w)+M[7]+4139469664&4294967295,D=x+(C<<16&4294967295|C>>>16),C=w+(D^x^A)+M[10]+3200236656&4294967295,w=D+(C<<23&4294967295|C>>>9),C=A+(w^D^x)+M[13]+681279174&4294967295,A=w+(C<<4&4294967295|C>>>28),C=x+(A^w^D)+M[0]+3936430074&4294967295,x=A+(C<<11&4294967295|C>>>21),C=D+(x^A^w)+M[3]+3572445317&4294967295,D=x+(C<<16&4294967295|C>>>16),C=w+(D^x^A)+M[6]+76029189&4294967295,w=D+(C<<23&4294967295|C>>>9),C=A+(w^D^x)+M[9]+3654602809&4294967295,A=w+(C<<4&4294967295|C>>>28),C=x+(A^w^D)+M[12]+3873151461&4294967295,x=A+(C<<11&4294967295|C>>>21),C=D+(x^A^w)+M[15]+530742520&4294967295,D=x+(C<<16&4294967295|C>>>16),C=w+(D^x^A)+M[2]+3299628645&4294967295,w=D+(C<<23&4294967295|C>>>9),C=A+(D^(w|~x))+M[0]+4096336452&4294967295,A=w+(C<<6&4294967295|C>>>26),C=x+(w^(A|~D))+M[7]+1126891415&4294967295,x=A+(C<<10&4294967295|C>>>22),C=D+(A^(x|~w))+M[14]+2878612391&4294967295,D=x+(C<<15&4294967295|C>>>17),C=w+(x^(D|~A))+M[5]+4237533241&4294967295,w=D+(C<<21&4294967295|C>>>11),C=A+(D^(w|~x))+M[12]+1700485571&4294967295,A=w+(C<<6&4294967295|C>>>26),C=x+(w^(A|~D))+M[3]+2399980690&4294967295,x=A+(C<<10&4294967295|C>>>22),C=D+(A^(x|~w))+M[10]+4293915773&4294967295,D=x+(C<<15&4294967295|C>>>17),C=w+(x^(D|~A))+M[1]+2240044497&4294967295,w=D+(C<<21&4294967295|C>>>11),C=A+(D^(w|~x))+M[8]+1873313359&4294967295,A=w+(C<<6&4294967295|C>>>26),C=x+(w^(A|~D))+M[15]+4264355552&4294967295,x=A+(C<<10&4294967295|C>>>22),C=D+(A^(x|~w))+M[6]+2734768916&4294967295,D=x+(C<<15&4294967295|C>>>17),C=w+(x^(D|~A))+M[13]+1309151649&4294967295,w=D+(C<<21&4294967295|C>>>11),C=A+(D^(w|~x))+M[4]+4149444226&4294967295,A=w+(C<<6&4294967295|C>>>26),C=x+(w^(A|~D))+M[11]+3174756917&4294967295,x=A+(C<<10&4294967295|C>>>22),C=D+(A^(x|~w))+M[2]+718787259&4294967295,D=x+(C<<15&4294967295|C>>>17),C=w+(x^(D|~A))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+x&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const w=A-this.blockSize,M=this.C;let D=this.h,x=0;for(;x<A;){if(D==0)for(;x<=w;)l(this,R,x),x+=this.blockSize;if(typeof R=="string"){for(;x<A;)if(M[D++]=R.charCodeAt(x++),D==this.blockSize){l(this,M),D=0;break}}else for(;x<A;)if(M[D++]=R[x++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var w=R.length-8;w<R.length;++w)R[w]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,w=0;w<4;++w)for(let M=0;M<32;M+=8)R[A++]=this.g[w]>>>M&255;return R};function c(R,A){var w=p;return Object.prototype.hasOwnProperty.call(w,R)?w[R]:w[R]=A(R)}function d(R,A){this.h=A;const w=[];let M=!0;for(let D=R.length-1;D>=0;D--){const x=R[D]|0;M&&x==A||(w[D]=x,M=!1)}this.g=w}var p={};function y(R){return-128<=R&&R<128?c(R,function(A){return new d([A|0],A<0?-1:0)}):new d([R|0],R<0?-1:0)}function _(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return X(_(-R));const A=[];let w=1;for(let M=0;R>=w;M++)A[M]=R/w|0,w*=4294967296;return new d(A,0)}function S(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return X(S(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(A,8));let M=b;for(let x=0;x<R.length;x+=8){var D=Math.min(8,R.length-x);const C=parseInt(R.substring(x,x+D),A);D<8?(D=_(Math.pow(A,D)),M=M.j(D).add(_(C))):(M=M.j(w),M=M.add(_(C)))}return M}var b=y(0),U=y(1),G=y(16777216);a=d.prototype,a.m=function(){if(J(this))return-X(this).m();let R=0,A=1;for(let w=0;w<this.g.length;w++){const M=this.i(w);R+=(M>=0?M:4294967296+M)*A,A*=4294967296}return R},a.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(tt(this))return"0";if(J(this))return"-"+X(this).toString(R);const A=_(Math.pow(R,6));var w=this;let M="";for(;;){const D=at(w,A).g;w=ot(w,D.j(A));let x=((w.g.length>0?w.g[0]:w.h)>>>0).toString(R);if(w=D,tt(w))return x+M;for(;x.length<6;)x="0"+x;M=x+M}},a.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function tt(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function J(R){return R.h==-1}a.l=function(R){return R=ot(this,R),J(R)?-1:tt(R)?0:1};function X(R){const A=R.g.length,w=[];for(let M=0;M<A;M++)w[M]=~R.g[M];return new d(w,~R.h).add(U)}a.abs=function(){return J(this)?X(this):this},a.add=function(R){const A=Math.max(this.g.length,R.g.length),w=[];let M=0;for(let D=0;D<=A;D++){let x=M+(this.i(D)&65535)+(R.i(D)&65535),C=(x>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);M=C>>>16,x&=65535,C&=65535,w[D]=C<<16|x}return new d(w,w[w.length-1]&-2147483648?-1:0)};function ot(R,A){return R.add(X(A))}a.j=function(R){if(tt(this)||tt(R))return b;if(J(this))return J(R)?X(this).j(X(R)):X(X(this).j(R));if(J(R))return X(this.j(X(R)));if(this.l(G)<0&&R.l(G)<0)return _(this.m()*R.m());const A=this.g.length+R.g.length,w=[];for(var M=0;M<2*A;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<R.g.length;D++){const x=this.i(M)>>>16,C=this.i(M)&65535,ne=R.i(D)>>>16,Re=R.i(D)&65535;w[2*M+2*D]+=C*Re,yt(w,2*M+2*D),w[2*M+2*D+1]+=x*Re,yt(w,2*M+2*D+1),w[2*M+2*D+1]+=C*ne,yt(w,2*M+2*D+1),w[2*M+2*D+2]+=x*ne,yt(w,2*M+2*D+2)}for(R=0;R<A;R++)w[R]=w[2*R+1]<<16|w[2*R];for(R=A;R<2*A;R++)w[R]=0;return new d(w,0)};function yt(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function ft(R,A){this.g=R,this.h=A}function at(R,A){if(tt(A))throw Error("division by zero");if(tt(R))return new ft(b,b);if(J(R))return A=at(X(R),A),new ft(X(A.g),X(A.h));if(J(A))return A=at(R,X(A)),new ft(X(A.g),A.h);if(R.g.length>30){if(J(R)||J(A))throw Error("slowDivide_ only works with positive integers.");for(var w=U,M=A;M.l(R)<=0;)w=ut(w),M=ut(M);var D=dt(w,1),x=dt(M,1);for(M=dt(M,2),w=dt(w,2);!tt(M);){var C=x.add(M);C.l(R)<=0&&(D=D.add(w),x=C),M=dt(M,1),w=dt(w,1)}return A=ot(R,D.j(A)),new ft(D,A)}for(D=b;R.l(A)>=0;){for(w=Math.max(1,Math.floor(R.m()/A.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),x=_(w),C=x.j(A);J(C)||C.l(R)>0;)w-=M,x=_(w),C=x.j(A);tt(x)&&(x=U),D=D.add(x),R=ot(R,C)}return new ft(D,R)}a.B=function(R){return at(this,R).h},a.and=function(R){const A=Math.max(this.g.length,R.g.length),w=[];for(let M=0;M<A;M++)w[M]=this.i(M)&R.i(M);return new d(w,this.h&R.h)},a.or=function(R){const A=Math.max(this.g.length,R.g.length),w=[];for(let M=0;M<A;M++)w[M]=this.i(M)|R.i(M);return new d(w,this.h|R.h)},a.xor=function(R){const A=Math.max(this.g.length,R.g.length),w=[];for(let M=0;M<A;M++)w[M]=this.i(M)^R.i(M);return new d(w,this.h^R.h)};function ut(R){const A=R.g.length+1,w=[];for(let M=0;M<A;M++)w[M]=R.i(M)<<1|R.i(M-1)>>>31;return new d(w,R.h)}function dt(R,A){const w=A>>5;A%=32;const M=R.g.length-w,D=[];for(let x=0;x<M;x++)D[x]=A>0?R.i(x+w)>>>A|R.i(x+w+1)<<32-A:R.i(x+w);return new d(D,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,GE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Gr=d}).apply(typeof Z_<"u"?Z_:typeof self<"u"?self:typeof window<"u"?window:{});var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var FE,cl,QE,wc,qd,KE,YE,XE;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof pc=="object"&&pc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,j){for(var W=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)W[bt-2]=arguments[bt];return m.prototype[L].apply(T,W)}}var U=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const j=L.length||0;u.length=v+j;for(let W=0;W<j;W++)u[v+W]=L[W]}else u.push(L)}}class J{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function X(u){d.setTimeout(()=>{throw u},0)}function ot(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class yt{constructor(){this.h=this.g=null}add(m,v){const T=ft.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ft=new J(()=>new at,u=>u.reset());class at{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,dt=!1,R=new yt,A=()=>{const u=Promise.resolve(void 0);ut=()=>{u.then(w)}};function w(){for(var u;u=ot();){try{u.h.call(u.g)}catch(v){X(v)}var m=ft;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}dt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function ne(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ne,D),ne.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function mt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let j=0;j<K.length;j++)v=K[j],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,L){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const W=Rt(u,m,T,L);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new et(m,this.src,j,!!T,L),m.fa=v,u.push(m)),m};function Et(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),j;(j=L>=0)&&Array.prototype.splice.call(T,L,1),j&&(mt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Rt(u,m,v,T){for(let L=0;L<u.length;++L){const j=u[L];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==T)return L}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ce={};function ie(u,m,v,T,L){if(Array.isArray(m)){for(let j=0;j<m.length;j++)ie(u,m[j],v,T,L);return null}return v=so(v),u&&u[Re]?u.J(m,v,p(T)?!!T.capture:!1,L):$r(u,m,v,!1,T,L)}function $r(u,m,v,T,L,j){if(!m)throw Error("Invalid event type");const W=p(L)?!!L.capture:!!L;let bt=Wr(u);if(bt||(u[Lt]=bt=new rt(u)),v=bt.add(m,v,T,W,j),v.proxy)return v;if(T=qs(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)x||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Zn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function qs(){function u(v){return m.call(u.src,u.listener,v)}const m=io;return u}function Hs(u,m,v,T,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)Hs(u,m[j],v,T,L);else T=p(T)?!!T.capture:!!T,v=so(v),u&&u[Re]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],v=Rt(m,v,T,L),v>-1&&(mt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=Wr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rt(m,v,T,L)),(v=u>-1?m[u]:null)&&Gs(v))}function Gs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])Et(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Zn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Wr(m))?(Et(v,u),v.h==0&&(v.src=null,m[Lt]=null)):mt(u)}}}function Zn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function io(u,m){if(u.da)u=!0;else{m=new ne(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Gs(u),u=v.call(T,m)}return u}function Wr(u){return u=u[Lt],u instanceof rt?u:null}var ro="__closure_events_fn_"+(Math.random()*1e9>>>0);function so(u){return typeof u=="function"?u:(u[ro]||(u[ro]=function(m){return u.handleEvent(m)}),u[ro])}function ge(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}b(ge,M),ge.prototype[Re]=!0,ge.prototype.removeEventListener=function(u,m,v,T){Hs(this,u,m,v,T)};function Ie(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),nt(m,L)}L=!0;let j,W;if(v)for(W=v.length-1;W>=0;W--)j=m.g=v[W],L=er(j,T,!0,m)&&L;if(j=m.g=u,L=er(j,T,!0,m)&&L,L=er(j,T,!1,m)&&L,v)for(W=0;W<v.length;W++)j=m.g=v[W],L=er(j,T,!1,m)&&L}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)mt(v[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ge.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function er(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let j=0;j<m.length;++j){const W=m[j];if(W&&!W.da&&W.capture==v){const bt=W.listener,he=W.ha||W.src;W.fa&&Et(u.i,W),L=bt.call(he,T)!==!1&&L}}return L&&!T.defaultPrevented}function yh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function zl(u){u.g=yh(()=>{u.g=null,u.i&&(u.i=!1,zl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:zl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(u){M.call(this),this.h=u,this.g={}}b(ts,M);var ao=[];function oo(u){Pt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Gs(m)},u),u.g={}}ts.prototype.N=function(){ts.Z.N.call(this),oo(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=d.JSON.stringify,_h=d.JSON.parse,jl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Bl(){}function ql(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){D.call(this,"d")}b(Pe,D);function vn(){D.call(this,"c")}b(vn,D);var ce={},Hl=null;function Fs(){return Hl=Hl||new ge}ce.Ia="serverreachability";function Gl(u){D.call(this,ce.Ia,u)}b(Gl,D);function Jn(u){const m=Fs();Ie(m,new Gl(m))}ce.STAT_EVENT="statevent";function es(u,m){D.call(this,ce.STAT_EVENT,u),this.stat=m}b(es,D);function pe(u){const m=Fs();Ie(m,new es(m,u))}ce.Ja="timingevent";function $n(u,m){D.call(this,ce.Ja,u),this.size=m}b($n,D);function Wn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function vh(u,m,v,T,L,j){u.info(function(){if(u.g)if(j){var W="",bt=j.split("&");for(let Bt=0;Bt<bt.length;Bt++){var he=bt[Bt].split("=");if(he.length>1){const re=he[0];he=he[1];const An=re.split("_");W=An.length>=2&&An[1]=="type"?W+(re+"="+he+"&"):W+(re+"=redacted&")}}}else W=null;else W=j;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+W})}function Fl(u,m,v,T,L,j,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+j+" "+W})}function ti(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Eh(u,v)+(T?" "+T:"")})}function ns(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Eh(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var v=j[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return nr(j)}catch{return m}}var is={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},lo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},uo;function rs(){}b(rs,Bl),rs.prototype.g=function(){return new XMLHttpRequest},uo=new rs;function Ci(u){return encodeURIComponent(String(u))}function Ql(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function kn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var ye={},Ve={};function ei(u,m,v){u.M=1,u.A=ss(ve(m)),u.u=v,u.R=!0,Qs(u,null)}function Qs(u,m){u.F=Date.now(),ni(u),u.B=ve(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Zs(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Pn,u.g=ou(u.j,v?m:null,!u.u),u.P>0&&(u.O=new $e(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ao[0]=L.toString()),L=ao);for(let j=0;j<L.length;j++){const W=ie(v,L[j],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Jn(),vh(u.i,u.v,u.B,u.l,u.S,u.u)}kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Bn(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)t:{const bt=Bn(this.g),he=this.g.ya(),Bt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||bt!=4||he==7||(he==8||Bt<=0?Jn(3):Jn(2)),ii(this);var m=this.g.ca();this.X=m;var v=Th(this);if(this.o=m==200,Fl(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var j=T;break e}}j=null}if(u=j)ti(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,u);else{this.o=!1,this.m=3,pe(12),cn(this),En(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<v.length;)if(re=Yl(this,v),re==Ve){bt==4&&(this.m=4,pe(14),u=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ye){this.m=4,pe(15),ti(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ti(this.i,this.l,re,null),ri(this,re);if(Kl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||v.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)ti(this.i,this.l,v,"[Invalid Chunked Response]"),cn(this),En(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),wo(W),W.P=!0,pe(11))}}else ti(this.i,this.l,v,null),ri(this,v);bt==4&&cn(this),this.o&&!this.K&&(bt==4?iu(this.j,this):(this.o=!1,ni(this)))}else Di(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),cn(this),En(this)}}}catch{}};function Th(u){if(!Kl(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,L=Bn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),En(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<T;j++)u.h.h=!0,v+=u.h.i.decode(m[j],{stream:!(L&&j==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Kl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Yl(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ve:(v=Number(m.substring(v,T)),isNaN(v)?ye:(T+=1,T+v>m.length?Ve:(m=m.slice(T,T+v),u.C=T+v,m)))}kn.prototype.cancel=function(){this.K=!0,cn(this)};function ni(u){u.T=Date.now()+u.H,Ks(u,u.H)}function Ks(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Wn(_(u.aa,u),m)}function ii(u){u.D&&(d.clearTimeout(u.D),u.D=null)}kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ns(this.i,this.B),this.M!=2&&(Jn(),pe(17)),cn(this),this.m=2,En(this)):Ks(this,this.T-u)};function En(u){u.j.I==0||u.K||iu(u.j,u)}function cn(u){ii(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,oo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ri(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ai(v.h,u))){if(!u.L&&ai(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ea(v),cr(v);else break t;fs(v),pe(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Wn(_(v.Va,v),6e3));si(v.h)<=1&&v.ta&&(v.ta=void 0)}else fi(v,11)}else if((u.L||v.g==u)&&ea(v),!C(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Bt=L[m];const re=Bt[0];if(!(re<=v.K))if(v.K=re,Bt=Bt[1],v.I==2)if(Bt[0]=="c"){v.M=Bt[1],v.ba=Bt[2];const An=Bt[3];An!=null&&(v.ka=An,v.j.info("VER="+v.ka));const di=Bt[4];di!=null&&(v.za=di,v.j.info("SVER="+v.za));const qn=Bt[5];qn!=null&&typeof qn=="number"&&qn>0&&(T=1.5*qn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Hn=u.g;if(Hn){const ds=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ds){var j=T.h;j.g||ds.indexOf("spdy")==-1&&ds.indexOf("quic")==-1&&ds.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(fo(j,j.h),j.h=null))}if(T.G){const na=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;na&&(T.wa=na,Ft(T.J,T.G,na))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=au(T,T.L?T.ba:null,T.W),W.L){mo(T.h,W);var bt=W,he=T.O;he&&(bt.H=he),bt.D&&(ii(bt),ni(bt)),T.g=W}else eu(T);v.i.length>0&&hi(v)}else Bt[0]!="stop"&&Bt[0]!="close"||fi(v,7);else v.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?fi(v,7):Ao(v):Bt[0]!="noop"&&v.l&&v.l.qa(Bt),v.A=0)}}Jn(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function co(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ho(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function si(u){return u.h?1:u.g?u.g.size:0}function ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function fo(u,m){u.g?u.g.add(m):u.h=m}function mo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}co.prototype.cancel=function(){if(this.i=go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function go(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var Xl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ys(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,j=null;T>=0?(L=u[v].substring(0,T),j=u[v].substring(T+1)):L=u[v],m(L,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,xe(this,u.j),this.o=u.o,this.g=u.g,ir(this,u.u),this.h=u.h,po(this,Wl(u.i)),this.m=u.m):u&&(m=String(u).match(Xl))?(this.l=!1,xe(this,m[1]||"",!0),this.o=oi(m[2]||""),this.g=oi(m[3]||"",!0),ir(this,m[4]),this.h=oi(m[5]||"",!0),po(this,m[6]||"",!0),this.m=oi(m[7]||"")):(this.l=!1,this.i=new sr(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(as(m,Xs,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(as(m,Xs,!0),"@"),u.push(Ci(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(as(v,v.charAt(0)=="/"?yo:Zl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",as(v,Jl)),u.join("")},hn.prototype.resolve=function(u){const m=ve(this);let v=!!u.j;v?xe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ir(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const j=[];for(let W=0;W<L.length;){const bt=L[W++];bt=="."?T&&W==L.length&&j.push(""):bt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&W==L.length&&j.push("")):(j.push(bt),T=!0)}T=j.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?po(m,Wl(u.i)):v=!!u.m,v&&(m.m=u.m),m};function ve(u){return new hn(u)}function xe(u,m,v){u.j=v?oi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ir(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function po(u,m,v){m instanceof sr?(u.i=m,Js(u.i,u.l)):(v||(m=as(m,rr)),u.i=new sr(m,u.l))}function Ft(u,m,v){u.i.set(m,v)}function ss(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function oi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function as(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,en),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Xs=/[#\/\?@]/g,Zl=/[#\?:]/g,yo=/[#\?]/g,rr=/[#\?@]/g,Jl=/#/g;function sr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ys(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=sr.prototype,a.add=function(u,m){nn(this),this.i=null,u=ar(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function $l(u,m){nn(u),m=ar(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function _o(u,m){return nn(u),m=ar(u,m),u.g.has(m)}a.forEach=function(u,m){nn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function vo(u,m){nn(u);let v=[];if(typeof m=="string")_o(u,m)&&(v=v.concat(u.g.get(ar(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}a.set=function(u,m){return nn(this),this.i=null,u=ar(this,u),_o(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=vo(this,u),u.length>0?String(u[0]):m):m};function Zs(u,m,v){$l(u,m),v.length>0&&(u.i=null,u.g.set(ar(u,m),G(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Ci(v);v=vo(this,v);for(let j=0;j<v.length;j++){let W=L;v[j]!==""&&(W+="="+Ci(v[j])),u.push(W)}}return this.i=u.join("&")};function Wl(u){const m=new sr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ar(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Js(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&($l(this,T),Zs(this,L,v))},u)),u.j=m}function zn(u,m){const v=new Ln;if(d.Image){const T=new Image;T.onload=S(Tn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Tn,v,"TestLoadImage: error",!1,m,T),T.onabort=S(Tn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Tn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Eo(u,m){const v=new Ln,T=new AbortController,L=setTimeout(()=>{T.abort(),Tn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(L),j.ok?Tn(v,"TestPingServer: ok",!0,m):Tn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Tn(v,"TestPingServer: error",!1,m)})}function Tn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function or(){this.g=new jl}function li(u){this.i=u.Sb||null,this.h=u.ab||!1}b(li,Bl),li.prototype.g=function(){return new os(this.i,this.h)};function os(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(os,ge),a=os.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,jn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$s(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function $s(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?lr(this):jn(this),this.readyState==3&&$s(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,lr(this))},a.Na=function(u){this.g&&(this.response=u,lr(this))},a.ga=function(){this.g&&lr(this)};function lr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return Pt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function ls(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Sn(v),typeof u=="string"?v!=null&&Ci(v):Ft(u,m,v))}function Yt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Yt,ge);var ui=/^https?$/i,To=["POST","PUT"];a=Yt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():uo.g(),this.g.onreadystatechange=U(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){us(this,j);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())v.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(To,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of v)this.g.setRequestHeader(j,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){us(this,j)}};function us(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,So(u),Ii(u)}function So(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Ii(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),Yt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?cs(this):this.Xa())},a.Xa=function(){cs(this)};function cs(u){if(u.h&&typeof c<"u"){if(u.v&&Bn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=j===0){let W=String(u.D).match(Xl)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!ui.test(W?W.toLowerCase():"")}v=T}if(v)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var L=Bn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",So(u)}}finally{Ii(u)}}}}function Ii(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ie(u,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),_h(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&Bn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(C(u[T]))continue;var v=Ql(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[L]||[];m[L]=j,j.push(v)}Gt(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ur(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ci("baseRetryDelayMs",5e3,u),this.Za=ci("retryDelaySeedMs",1e4,u),this.Ta=ci("forwardChannelMaxRetries",2,u),this.va=ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new co(u&&u.concurrentRequestLimit),this.Ba=new or,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ur.prototype,a.ka=8,a.I=1,a.connect=function(u,m,v,T){pe(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=au(this,null,this.W),hi(this)};function Ao(u){if(Ws(u),u.I==3){var m=u.V++,v=ve(u.J);if(Ft(v,"SID",u.M),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),hs(u,v),m=new kn(u,u.j,m),m.M=2,m.A=ss(ve(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=ou(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ni(m)}su(u)}function cr(u){u.g&&(wo(u),u.g.cancel(),u.g=null)}function Ws(u){cr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ea(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function hi(u){if(!ho(u.h)&&!u.m){u.m=!0;var m=u.Ea;ut||A(),dt||(ut(),dt=!0),R.add(m,u),u.D=0}}function ta(u,m){return si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Wn(_(u.Ea,u,m),ru(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new kn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=O(j),nt(j,this.U)):j=this.U),this.u!==null||this.R||(L.J=j,j=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=tu(this,L,m),v=ve(this.J),Ft(v,"RID",u),Ft(v,"CVER",22),this.G&&Ft(v,"X-HTTP-Session-Id",this.G),hs(this,v),j&&(this.R?m="headers="+Ci(Sn(j))+"&"+m:this.u&&ls(v,this.u,j)),fo(this.h,L),this.Ra&&Ft(v,"TYPE","init"),this.S?(Ft(v,"$req",m),Ft(v,"SID","null"),L.U=!0,ei(L,v,null)):ei(L,v,m),this.I=2}}else this.I==3&&(u?bo(this,u):this.i.length==0||ho(this.h)||bo(this))};function bo(u,m){var v;m?v=m.l:v=u.V++;const T=ve(u.J);Ft(T,"SID",u.M),Ft(T,"RID",v),Ft(T,"AID",u.K),hs(u,T),u.u&&u.o&&ls(T,u.u,u.o),v=new kn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=tu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),fo(u.h,v),ei(v,T,m)}function hs(u,m){u.H&&Pt(u.H,function(v,T){Ft(m,T,v)}),u.l&&Pt({},function(v,T){Ft(m,T,v)})}function tu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let bt=-1;for(;;){const he=["count="+v];bt==-1?v>0?(bt=L[0].g,he.push("ofs="+bt)):bt=0:he.push("ofs="+bt);let Bt=!0;for(let re=0;re<v;re++){var j=L[re].g;const An=L[re].map;if(j-=bt,j<0)bt=Math.max(0,L[re].g-100),Bt=!1;else try{j="req"+j+"_"||"";try{var W=An instanceof Map?An:Object.entries(An);for(const[di,qn]of W){let Hn=qn;p(qn)&&(Hn=nr(qn)),he.push(j+di+"="+encodeURIComponent(Hn))}}catch(di){throw he.push(j+"type="+encodeURIComponent("_badmap")),di}}catch{T&&T(An)}}if(Bt){W=he.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function eu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ut||A(),dt||(ut(),dt=!0),R.add(m,u),u.A=0}}function fs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Wn(_(u.Da,u),ru(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Wn(_(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),cr(this),nu(this))};function wo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function nu(u){u.g=new kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),hs(u,m),u.u&&u.o&&ls(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ss(ve(m)),v.u=null,v.R=!0,Qs(v,u)}a.Va=function(){this.C!=null&&(this.C=null,cr(this),fs(this),pe(19))};function ea(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function iu(u,m){var v=null;if(u.g==m){ea(u),wo(u),u.g=null;var T=2}else if(ai(u.h,m))v=m.G,mo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Fs(),Ie(T,new $n(T,v)),hi(u)}else eu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ta(u,m)||T==2&&fs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:fi(u,5);break;case 4:fi(u,10);break;case 3:fi(u,6);break;default:fi(u,2)}}}function ru(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function fi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new hn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(T,"https"),ss(T),L?zn(T.toString(),v):Eo(T.toString(),v)}else pe(2);u.I=0,u.l&&u.l.pa(m),su(u),Ws(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function su(u){if(u.I=0,u.ja=[],u.l){const m=go(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function au(u,m,v){var T=v instanceof hn?ve(v):new hn(v);if(T.g!="")m&&(T.g=m+"."+T.g),ir(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const j=new hn(null);T&&xe(j,T),m&&(j.g=m),L&&ir(j,L),v&&(j.h=v),T=j}return v=u.G,m=u.wa,v&&m&&Ft(T,v,m),Ft(T,"VER",u.ka),hs(u,T),T}function ou(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new li({ab:v})):new Yt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function lu(){}a=lu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function hr(){}hr.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ge.call(this),this.g=new ur(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ni(this)}b(We,ge),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Ao(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=nr(u),u=v);m.i.push(new _e(m.Ya++,u)),m.I==3&&hi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,We.Z.N.call(this)};function uu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(uu,Pe);function cu(){vn.call(this),this.status=1}b(cu,vn);function Ni(u){this.g=u}b(Ni,lu),Ni.prototype.ra=function(){Ie(this.g,"a")},Ni.prototype.qa=function(u){Ie(this.g,new uu(u))},Ni.prototype.pa=function(u){Ie(this.g,new cu)},Ni.prototype.oa=function(){Ie(this.g,"b")},hr.prototype.createWebChannel=hr.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,XE=function(){return new hr},YE=function(){return Fs()},KE=ce,qd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},is.NO_ERROR=0,is.TIMEOUT=8,is.HTTP_ERROR=6,wc=is,lo.COMPLETE="complete",QE=lo,ql.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",ge.prototype.listen=ge.prototype.J,cl=ql,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,FE=Yt}).apply(typeof pc<"u"?pc:typeof self<"u"?self:typeof window<"u"?window:{});const J_="@firebase/firestore",$_="4.9.3";class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let Wa="12.7.0";const Ls=new sm("@firebase/firestore");function Ma(){return Ls.logLevel}function it(a,...t){if(Ls.logLevel<=Mt.DEBUG){const i=t.map(gm);Ls.debug(`Firestore (${Wa}): ${a}`,...i)}}function $i(a,...t){if(Ls.logLevel<=Mt.ERROR){const i=t.map(gm);Ls.error(`Firestore (${Wa}): ${a}`,...i)}}function Ga(a,...t){if(Ls.logLevel<=Mt.WARN){const i=t.map(gm);Ls.warn(`Firestore (${Wa}): ${a}`,...i)}}function gm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function _t(a,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,ZE(a,s,i)}function ZE(a,t,i){let s=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw $i(s),new Error(s)}function Ht(a,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,a||ZE(t,l,s)}function At(a,t){return a}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends tr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Os{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class JE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class hR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class fR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class dR{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Os,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Os)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new JE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class mR{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gR{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new mR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class W_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new W_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new W_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}class pm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=yR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Vt(a,t){return a<t?-1:a>t?1:0}function Hd(a,t){const i=Math.min(a.length,t.length);for(let s=0;s<i;s++){const l=a.charAt(s),c=t.charAt(s);if(l!==c)return Dd(l)===Dd(c)?Vt(l,c):Dd(l)?1:-1}return Vt(a.length,t.length)}const _R=55296,vR=57343;function Dd(a){const t=a.charCodeAt(0);return t>=_R&&t<=vR}function Fa(a,t,i){return a.length===t.length&&a.every(((s,l)=>i(s,t[l])))}const tv="__name__";class _i{constructor(t,i,s){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&_t(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return _i.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof _i?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=_i.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const s=_i.isNumericId(t),l=_i.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?_i.extractNumericId(t).compare(_i.extractNumericId(i)):Hd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gr.fromString(t.substring(4,t.length-2))}}class ae extends _i{construct(t,i,s){return new ae(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new ae(i)}static emptyPath(){return new ae([])}}const ER=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends _i{construct(t,i,s){return new Fe(t,i,s)}static isValidIdentifier(t){return ER.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tv}static keyField(){return new Fe([tv])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ae.fromString(t))}static fromName(t){return new gt(ae.fromString(t).popFirst(5))}static empty(){return new gt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ae.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ae(t.slice()))}}function TR(a,t,i){if(!i)throw new ct(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function SR(a,t,i,s){if(t===!0&&s===!0)throw new ct(Z.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function ev(a){if(!gt.isDocumentKey(a))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function $E(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function ym(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":_t(12329,{type:typeof a})}function ja(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ym(a);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function we(a,t){const i={typeString:a};return t&&(i.value=t),i}function xl(a,t){if(!$E(a))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ct(Z.INVALID_ARGUMENT,i);return!0}const nv=-62135596800,iv=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*iv);return new ee(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<nv)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iv}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(xl(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-nv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:we("string",ee._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ee(0,0))}static max(){return new Tt(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Sl=-1;function AR(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(s===1e9?new ee(i+1,0):new ee(i,s));return new Qr(l,gt.empty(),t)}function bR(a){return new Qr(a.readTime,a.key,Sl)}class Qr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Qr(Tt.min(),gt.empty(),Sl)}static max(){return new Qr(Tt.max(),gt.empty(),Sl)}}function wR(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(a.documentKey,t.documentKey),i!==0?i:Vt(a.largestBatchId,t.largestBatchId))}const RR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function to(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==RR)throw a;it("LocalStore","Unexpectedly lost primary lease")}class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,s)=>{i(t)}))}static reject(t){return new Y(((i,s)=>{s(t)}))}static waitFor(t){return new Y(((i,s)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>s(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Y.resolve(!1);for(const s of t)i=i.next((l=>l?Y.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new Y(((s,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((S=>{d[_]=S,++p,p===c&&s(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new Y(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function IR(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function eo(a){return a.name==="IndexedDbTransactionError"}class rh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}rh.ce=-1;const _m=-1;function sh(a){return a==null}function zc(a){return a===0&&1/a==-1/0}function DR(a){return typeof a=="number"&&Number.isInteger(a)&&!zc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const WE="";function NR(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=rv(t)),t=OR(a.get(i),t);return rv(t)}function OR(a,t){let i=t;const s=a.length;for(let l=0;l<s;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case WE:i+="";break;default:i+=c}}return i}function rv(a){return a+WE+""}function sv(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Ps(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function tT(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new yc(this.root,t,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new yc(this.root,t,this.comparator,!0)}}class yc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new Ge(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new av(this.data.getIterator())}getIteratorFrom(t){return new av(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class av{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Xn([])}unionWith(t){let i=new Me(Fe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Fa(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class eT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new eT("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const MR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(a){if(Ht(!!a,39018),typeof a=="string"){let t=0;const i=MR.exec(a);if(Ht(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:me(a.seconds),nanos:me(a.nanos)}}function me(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Yr(a){return typeof a=="string"?Qe.fromBase64String(a):Qe.fromUint8Array(a)}const nT="server_timestamp",iT="__type__",rT="__previous_value__",sT="__local_write_time__";function vm(a){return(a?.mapValue?.fields||{})[iT]?.stringValue===nT}function ah(a){const t=a.mapValue.fields[rT];return vm(t)?ah(t):t}function Al(a){const t=Kr(a.mapValue.fields[sT].timestampValue);return new ee(t.seconds,t.nanos)}class VR{constructor(t,i,s,l,c,d,p,y,_,S){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=S}}const jc="(default)";class bl{constructor(t,i){this.projectId=t,this.database=i||jc}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database===jc}isEqual(t){return t instanceof bl&&t.projectId===this.projectId&&t.database===this.database}}const aT="__type__",xR="__max__",_c={mapValue:{}},oT="__vector__",Bc="value";function Xr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?vm(a)?4:LR(a)?9007199254740991:UR(a)?10:11:_t(28295,{value:a})}function wi(a,t){if(a===t)return!0;const i=Xr(a);if(i!==Xr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Al(a).isEqual(Al(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Kr(l.timestampValue),p=Kr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return Yr(l.bytesValue).isEqual(Yr(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return me(l.geoPointValue.latitude)===me(c.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return me(l.integerValue)===me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=me(l.doubleValue),p=me(c.doubleValue);return d===p?zc(d)===zc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return Fa(a.arrayValue.values||[],t.arrayValue.values||[],wi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(sv(d)!==sv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!wi(d[y],p[y])))return!1;return!0})(a,t);default:return _t(52216,{left:a})}}function wl(a,t){return(a.values||[]).find((i=>wi(i,t)))!==void 0}function Qa(a,t){if(a===t)return 0;const i=Xr(a),s=Xr(t);if(i!==s)return Vt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=me(c.integerValue||c.doubleValue),y=me(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(a,t);case 3:return ov(a.timestampValue,t.timestampValue);case 4:return ov(Al(a),Al(t));case 5:return Hd(a.stringValue,t.stringValue);case 6:return(function(c,d){const p=Yr(c),y=Yr(d);return p.compareTo(y)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const S=Vt(p[_],y[_]);if(S!==0)return S}return Vt(p.length,y.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Vt(me(c.latitude),me(d.latitude));return p!==0?p:Vt(me(c.longitude),me(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return lv(a.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Bc]?.arrayValue,S=y[Bc]?.arrayValue,b=Vt(_?.values?.length||0,S?.values?.length||0);return b!==0?b:lv(_,S)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===_c.mapValue&&d===_c.mapValue)return 0;if(c===_c.mapValue)return 1;if(d===_c.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},S=Object.keys(_);y.sort(),S.sort();for(let b=0;b<y.length&&b<S.length;++b){const U=Hd(y[b],S[b]);if(U!==0)return U;const G=Qa(p[y[b]],_[S[b]]);if(G!==0)return G}return Vt(y.length,S.length)})(a.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function ov(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Vt(a,t);const i=Kr(a),s=Kr(t),l=Vt(i.seconds,s.seconds);return l!==0?l:Vt(i.nanos,s.nanos)}function lv(a,t){const i=a.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Qa(i[l],s[l]);if(c)return c}return Vt(i.length,s.length)}function Ka(a){return Gd(a)}function Gd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=Kr(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Yr(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return gt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Gd(c);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Gd(i.fields[d])}`;return l+"}"})(a.mapValue):_t(61005,{value:a})}function Rc(a){switch(Xr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ah(a);return t?16+Rc(t):16;case 5:return 2*a.stringValue.length;case 6:return Yr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Rc(c)),0)})(a.arrayValue);case 10:case 11:return(function(s){let l=0;return Ps(s.fields,((c,d)=>{l+=c.length+Rc(d)})),l})(a.mapValue);default:throw _t(13486,{value:a})}}function Fd(a){return!!a&&"integerValue"in a}function Em(a){return!!a&&"arrayValue"in a}function uv(a){return!!a&&"nullValue"in a}function cv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Cc(a){return!!a&&"mapValue"in a}function UR(a){return(a?.mapValue?.fields||{})[aT]?.stringValue===oT}function pl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Ps(a.mapValue.fields,((i,s)=>t.mapValue.fields[i]=pl(s))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=pl(a.arrayValue.values[i]);return t}return{...a}}function LR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===xR}class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Cc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=pl(i)}setAll(t){let i=Fe.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=pl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Cc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return wi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Cc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){Ps(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new Mn(pl(this.value))}}function lT(a){const t=[];return Ps(a.fields,((i,s)=>{const l=new Fe([i]);if(Cc(s)){const c=lT(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Xn(t)}class Ze{constructor(t,i,s,l,c,d,p){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,Tt.min(),Tt.min(),Tt.min(),Mn.empty(),0)}static newFoundDocument(t,i,s,l){return new Ze(t,1,i,Tt.min(),s,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,Tt.min(),Tt.min(),Mn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,Tt.min(),Tt.min(),Mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qc{constructor(t,i){this.position=t,this.inclusive=i}}function hv(a,t,i){let s=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=Qa(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function fv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!wi(a.position[i],t.position[i]))return!1;return!0}class Hc{constructor(t,i="asc"){this.field=t,this.dir=i}}function kR(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class uT{}class Oe extends uT{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new zR(t,i,s):i==="array-contains"?new qR(t,s):i==="in"?new HR(t,s):i==="not-in"?new GR(t,s):i==="array-contains-any"?new FR(t,s):new Oe(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new jR(t,s):new BR(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Qa(i,this.value)):i!==null&&Xr(this.value)===Xr(i)&&this.matchesComparison(Qa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends uT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ri(t,i)}matches(t){return cT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cT(a){return a.op==="and"}function hT(a){return PR(a)&&cT(a)}function PR(a){for(const t of a.filters)if(t instanceof Ri)return!1;return!0}function Qd(a){if(a instanceof Oe)return a.field.canonicalString()+a.op.toString()+Ka(a.value);if(hT(a))return a.filters.map((t=>Qd(t))).join(",");{const t=a.filters.map((i=>Qd(i))).join(",");return`${a.op}(${t})`}}function fT(a,t){return a instanceof Oe?(function(s,l){return l instanceof Oe&&s.op===l.op&&s.field.isEqual(l.field)&&wi(s.value,l.value)})(a,t):a instanceof Ri?(function(s,l){return l instanceof Ri&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&fT(d,l.filters[p])),!0):!1})(a,t):void _t(19439)}function dT(a){return a instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ka(i.value)}`})(a):a instanceof Ri?(function(i){return i.op.toString()+" {"+i.getFilters().map(dT).join(" ,")+"}"})(a):"Filter"}class zR extends Oe{constructor(t,i,s){super(t,i,s),this.key=gt.fromName(s.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class jR extends Oe{constructor(t,i){super(t,"in",i),this.keys=mT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class BR extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=mT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function mT(a,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class qR extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Em(i)&&wl(i.arrayValue,this.value)}}class HR extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&wl(this.value.arrayValue,i)}}class GR extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!wl(this.value.arrayValue,i)}}class FR extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Em(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>wl(this.value.arrayValue,s)))}}class QR{constructor(t,i=null,s=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function dv(a,t=null,i=[],s=[],l=null,c=null,d=null){return new QR(a,t,i,s,l,c,d)}function Tm(a){const t=At(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>Qd(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),sh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>Ka(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>Ka(s))).join(",")),t.Te=i}return t.Te}function Sm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!kR(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!fT(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!fv(a.startAt,t.startAt)&&fv(a.endAt,t.endAt)}function Kd(a){return gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class oh{constructor(t,i=null,s=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function KR(a,t,i,s,l,c,d,p){return new oh(a,t,i,s,l,c,d,p)}function Am(a){return new oh(a)}function mv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function YR(a){return a.collectionGroup!==null}function yl(a){const t=At(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Fe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Hc(c,s))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new Hc(Fe.keyField(),s))}return t.Ie}function Ti(a){const t=At(a);return t.Ee||(t.Ee=XR(t,yl(a))),t.Ee}function XR(a,t){if(a.limitType==="F")return dv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Hc(l.field,c)}));const i=a.endAt?new qc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new qc(a.startAt.position,a.startAt.inclusive):null;return dv(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function Yd(a,t,i){return new oh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function lh(a,t){return Sm(Ti(a),Ti(t))&&a.limitType===t.limitType}function gT(a){return`${Tm(Ti(a))}|lt:${a.limitType}`}function Va(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>dT(l))).join(", ")}]`),sh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Ka(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Ka(l))).join(",")),`Target(${s})`})(Ti(a))}; limitType=${a.limitType})`}function uh(a,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):gt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(a,t)&&(function(s,l){for(const c of yl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,y){const _=hv(d,p,y);return d.inclusive?_<=0:_<0})(s.startAt,yl(s),l)||s.endAt&&!(function(d,p,y){const _=hv(d,p,y);return d.inclusive?_>=0:_>0})(s.endAt,yl(s),l))})(a,t)}function ZR(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function pT(a){return(t,i)=>{let s=!1;for(const l of yl(a)){const c=JR(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function JR(a,t,i){const s=a.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Qa(y,_):_t(42886)})(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:a.dir})}}class zs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ps(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return tT(this.inner)}size(){return this.innerSize}}const $R=new oe(gt.comparator);function Wi(){return $R}const yT=new oe(gt.comparator);function hl(...a){let t=yT;for(const i of a)t=t.insert(i.key,i);return t}function _T(a){let t=yT;return a.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Ns(){return _l()}function vT(){return _l()}function _l(){return new zs((a=>a.toString()),((a,t)=>a.isEqual(t)))}const WR=new oe(gt.comparator),t2=new Me(gt.comparator);function xt(...a){let t=t2;for(const i of a)t=t.add(i);return t}const e2=new Me(Vt);function n2(){return e2}function bm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zc(t)?"-0":t}}function ET(a){return{integerValue:""+a}}function i2(a,t){return DR(t)?ET(t):bm(a,t)}class ch{constructor(){this._=void 0}}function r2(a,t,i){return a instanceof Gc?(function(l,c){const d={fields:{[iT]:{stringValue:nT},[sT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&vm(c)&&(c=ah(c)),c&&(d.fields[rT]=c),{mapValue:d}})(i,t):a instanceof Rl?ST(a,t):a instanceof Cl?AT(a,t):(function(l,c){const d=TT(l,c),p=gv(d)+gv(l.Ae);return Fd(d)&&Fd(l.Ae)?ET(p):bm(l.serializer,p)})(a,t)}function s2(a,t,i){return a instanceof Rl?ST(a,t):a instanceof Cl?AT(a,t):i}function TT(a,t){return a instanceof Fc?(function(s){return Fd(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Gc extends ch{}class Rl extends ch{constructor(t){super(),this.elements=t}}function ST(a,t){const i=bT(t);for(const s of a.elements)i.some((l=>wi(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Cl extends ch{constructor(t){super(),this.elements=t}}function AT(a,t){let i=bT(t);for(const s of a.elements)i=i.filter((l=>!wi(l,s)));return{arrayValue:{values:i}}}class Fc extends ch{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function gv(a){return me(a.integerValue||a.doubleValue)}function bT(a){return Em(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function a2(a,t){return a.field.isEqual(t.field)&&(function(s,l){return s instanceof Rl&&l instanceof Rl||s instanceof Cl&&l instanceof Cl?Fa(s.elements,l.elements,wi):s instanceof Fc&&l instanceof Fc?wi(s.Ae,l.Ae):s instanceof Gc&&l instanceof Gc})(a.transform,t.transform)}class o2{constructor(t,i){this.version=t,this.transformResults=i}}class Yi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Yi}static exists(t){return new Yi(void 0,t)}static updateTime(t){return new Yi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ic(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class hh{}function wT(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new CT(a.key,Yi.none()):new Ul(a.key,a.data,Yi.none());{const i=a.data,s=Mn.empty();let l=new Me(Fe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new js(a.key,s,new Xn(l.toArray()),Yi.none())}}function l2(a,t,i){a instanceof Ul?(function(l,c,d){const p=l.value.clone(),y=yv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof js?(function(l,c,d){if(!Ic(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=yv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(RT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function vl(a,t,i,s){return a instanceof Ul?(function(c,d,p,y){if(!Ic(c.precondition,d))return p;const _=c.value.clone(),S=_v(c.fieldTransforms,y,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,t,i,s):a instanceof js?(function(c,d,p,y){if(!Ic(c.precondition,d))return p;const _=_v(c.fieldTransforms,y,d),S=d.data;return S.setAll(RT(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(a,t,i,s):(function(c,d,p){return Ic(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function u2(a,t){let i=null;for(const s of a.fieldTransforms){const l=t.data.field(s.field),c=TT(s.transform,l||null);c!=null&&(i===null&&(i=Mn.empty()),i.set(s.field,c))}return i||null}function pv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Fa(s,l,((c,d)=>a2(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Ul extends hh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class js extends hh{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function RT(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}})),t}function yv(a,t,i){const s=new Map;Ht(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,p=t.data.field(c.field);s.set(c.field,s2(d,p,i[l]))}return s}function _v(a,t,i){const s=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);s.set(l.field,r2(c,d,t))}return s}class CT extends hh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c2 extends hh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class h2{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&l2(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=vl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=vl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=vT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=wT(d,p);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),xt())}isEqual(t){return this.batchId===t.batchId&&Fa(this.mutations,t.mutations,((i,s)=>pv(i,s)))&&Fa(this.baseMutations,t.baseMutations,((i,s)=>pv(i,s)))}}class wm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return WR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new wm(t,i,s,l)}}class f2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class d2{constructor(t,i){this.count=t,this.unchangedNames=i}}var be,kt;function m2(a){switch(a){case Z.OK:return _t(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return _t(15467,{code:a})}}function IT(a){if(a===void 0)return $i("GRPC error has no .code"),Z.UNKNOWN;switch(a){case be.OK:return Z.OK;case be.CANCELLED:return Z.CANCELLED;case be.UNKNOWN:return Z.UNKNOWN;case be.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case be.INTERNAL:return Z.INTERNAL;case be.UNAVAILABLE:return Z.UNAVAILABLE;case be.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case be.NOT_FOUND:return Z.NOT_FOUND;case be.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case be.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case be.ABORTED:return Z.ABORTED;case be.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case be.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case be.DATA_LOSS:return Z.DATA_LOSS;default:return _t(39323,{code:a})}}(kt=be||(be={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function g2(){return new TextEncoder}const p2=new Gr([4294967295,4294967295],0);function vv(a){const t=g2().encode(a),i=new GE;return i.update(t),new Uint8Array(i.digest())}function Ev(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Gr([i,s],0),new Gr([l,c],0)]}class Rm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new fl(`Invalid padding: ${i}`);if(s<0)throw new fl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new fl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Gr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Gr.fromNumber(s)));return l.compare(p2)===1&&(l=new Gr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=vv(t),[s,l]=Ev(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Rm(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=vv(t),[s,l]=Ev(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Ll.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new fh(Tt.min(),l,new oe(Vt),Wi(),xt())}}class Ll{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Ll(s,i,xt(),xt(),xt())}}class Dc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class DT{constructor(t,i){this.targetId=t,this.Ce=i}}class NT{constructor(t,i,s=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Tv{constructor(){this.ve=0,this.Fe=Sv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=xt(),i=xt(),s=xt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:_t(38017,{changeType:c})}})),new Ll(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=Sv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class y2{constructor(t){this.Ge=t,this.ze=new Map,this.je=Wi(),this.Je=vc(),this.He=vc(),this.Ye=new oe(Vt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Kd(c))if(s===0){const d=new gt(c.path);this.et(i,d,Ze.newNoDocument(d,Tt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Yr(s).toUint8Array()}catch(y){if(y instanceof eT)return Ga("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Rm(d,l,c)}catch(y){return Ga(y instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Kd(p.target)){const y=new gt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ze.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=xt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new fh(t,i,this.Ye,this.je,s);return this.je=Wi(),this.Je=vc(),this.He=vc(),this.Ye=new oe(Vt),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Tv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Vt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Vt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Tv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function vc(){return new oe(gt.comparator)}function Sv(){return new oe(gt.comparator)}const _2={asc:"ASCENDING",desc:"DESCENDING"},v2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E2={and:"AND",or:"OR"};class T2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Xd(a,t){return a.useProto3Json||sh(t)?t:{value:t}}function Qc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function OT(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function S2(a,t){return Qc(a,t.toTimestamp())}function Si(a){return Ht(!!a,49232),Tt.fromTimestamp((function(i){const s=Kr(i);return new ee(s.seconds,s.nanos)})(a))}function Cm(a,t){return Zd(a,t).canonicalString()}function Zd(a,t){const i=(function(l){return new ae(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function MT(a){const t=ae.fromString(a);return Ht(kT(t),10190,{key:t.toString()}),t}function Jd(a,t){return Cm(a.databaseId,t.path)}function Nd(a,t){const i=MT(t);if(i.get(1)!==a.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new gt(xT(i))}function VT(a,t){return Cm(a.databaseId,t)}function A2(a){const t=MT(a);return t.length===4?ae.emptyPath():xT(t)}function $d(a){return new ae(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function xT(a){return Ht(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Av(a,t,i){return{name:Jd(a,t),fields:i.value.mapValue.fields}}function b2(a,t){let i;if("targetChange"in t){t.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(Ht(S===void 0||typeof S=="string",58123),Qe.fromBase64String(S||"")):(Ht(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Qe.fromUint8Array(S||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const S=_.code===void 0?Z.UNKNOWN:IT(_.code);return new ct(S,_.message||"")})(d);i=new NT(s,l,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Nd(a,s.document.name),c=Si(s.document.updateTime),d=s.document.createTime?Si(s.document.createTime):Tt.min(),p=new Mn({mapValue:{fields:s.document.fields}}),y=Ze.newFoundDocument(l,c,d,p),_=s.targetIds||[],S=s.removedTargetIds||[];i=new Dc(_,S,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Nd(a,s.document),c=s.readTime?Si(s.readTime):Tt.min(),d=Ze.newNoDocument(l,c),p=s.removedTargetIds||[];i=new Dc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Nd(a,s.document),c=s.removedTargetIds||[];i=new Dc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new d2(l,c),p=s.targetId;i=new DT(p,d)}}return i}function w2(a,t){let i;if(t instanceof Ul)i={update:Av(a,t.key,t.value)};else if(t instanceof CT)i={delete:Jd(a,t.key)};else if(t instanceof js)i={update:Av(a,t.key,t.data),updateMask:x2(t.fieldMask)};else{if(!(t instanceof c2))return _t(16599,{Vt:t.type});i={verify:Jd(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof Gc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Rl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Cl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Fc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:S2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(a,t.precondition)),i}function R2(a,t){return a&&a.length>0?(Ht(t!==void 0,14353),a.map((i=>(function(l,c){let d=l.updateTime?Si(l.updateTime):Si(c);return d.isEqual(Tt.min())&&(d=Si(c)),new o2(d,l.transformResults||[])})(i,t)))):[]}function C2(a,t){return{documents:[VT(a,t.path)]}}function I2(a,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=VT(a,l);const c=(function(_){if(_.length!==0)return LT(Ri.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(U){return{field:xa(U.field),direction:O2(U.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Xd(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function D2(a){let t=A2(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Ht(s===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(b){const U=UT(b);return U instanceof Ri&&hT(U)?U.getFilters():[U]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((U=>(function(tt){return new Hc(Ua(tt.field),(function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(U)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let U;return U=typeof b=="object"?b.value:b,sh(U)?null:U})(i.limit));let y=null;i.startAt&&(y=(function(b){const U=!!b.before,G=b.values||[];return new qc(G,U)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const U=!b.before,G=b.values||[];return new qc(G,U)})(i.endAt)),KR(t,l,d,c,p,"F",y,_)}function N2(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function UT(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ua(i.unaryFilter.field);return Oe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ua(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ua(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ua(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Oe.create(Ua(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Ri.create(i.compositeFilter.filters.map((s=>UT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(a):_t(30097,{filter:a})}function O2(a){return _2[a]}function M2(a){return v2[a]}function V2(a){return E2[a]}function xa(a){return{fieldPath:a.canonicalString()}}function Ua(a){return Fe.fromServerFormat(a.fieldPath)}function LT(a){return a instanceof Oe?(function(i){if(i.op==="=="){if(cv(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NAN"}};if(uv(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(cv(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NOT_NAN"}};if(uv(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(i.field),op:M2(i.op),value:i.value}}})(a):a instanceof Ri?(function(i){const s=i.getFilters().map((l=>LT(l)));return s.length===1?s[0]:{compositeFilter:{op:V2(i.op),filters:s}}})(a):_t(54877,{filter:a})}function x2(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function kT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class zr{constructor(t,i,s,l,c=Tt.min(),d=Tt.min(),p=Qe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new zr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class U2{constructor(t){this.yt=t}}function L2(a){const t=D2({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Yd(t,t.limit,"L"):t}class k2{constructor(){this.Cn=new P2}addToCollectionParentIndex(t,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Qr.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Qr.min())}updateCollectionGroup(t,i,s){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class P2{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Me(ae.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Me(ae.comparator)).toArray()}}const bv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PT=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(PT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Ya{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ya(0)}static cr(){return new Ya(-1)}}const wv="LruGarbageCollector",z2=1048576;function Rv([a,t],[i,s]){const l=Vt(a,i);return l===0?Vt(t,s):l}class j2{constructor(t){this.Ir=t,this.buffer=new Me(Rv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Rv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class B2{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(wv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){eo(i)?it(wv,"Ignoring IndexedDB error during garbage collection: ",i):await to(i)}await this.Vr(3e5)}))}}class q2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(rh.ce);const s=new j2(i);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(bv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,c,d,p,y,_;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(s=b,p=Date.now(),this.removeTargets(t,s,i)))).next((b=>(c=b,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((b=>(_=Date.now(),Ma()<=Mt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${b} documents in `+(_-y)+`ms
Total Duration: ${_-S}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function H2(a,t){return new q2(a,t)}class G2{constructor(){this.changes=new zs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Y.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class F2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Q2{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&vl(s.mutation,l,Xn.empty(),ee.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,xt()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=xt()){const l=Ns();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=hl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Ns();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,xt())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,s,l){let c=Wi();const d=_l(),p=(function(){return _l()})();return i.forEach(((y,_)=>{const S=s.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof js)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),vl(S.mutation,_,S.mutation.getFieldMask(),ee.now())):d.set(_.key,Xn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>p.set(_,new F2(S,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const s=_l();let l=new oe(((d,p)=>d-p)),c=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let S=s.get(y)||Xn.empty();S=p.applyToLocalView(_,S),s.set(y,S);const b=(l.get(p.batchId)||xt()).add(y);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,S=y.value,b=vT();S.forEach((U=>{if(!c.has(U)){const G=wT(i.get(U),s.get(U));G!==null&&b.set(U,G),c=c.add(U)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,b))}return Y.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):YR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):Y.resolve(Ns());let p=Sl,y=c;return d.next((_=>Y.forEach(_,((S,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(S)?Y.resolve():this.remoteDocumentCache.getEntry(t,S).next((U=>{y=y.insert(S,U)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,xt()))).next((S=>({batchId:p,changes:_T(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((s=>{let l=hl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=hl();return this.indexManager.getCollectionParents(t,c).next((p=>Y.forEach(p,(y=>{const _=(function(b,U){return new oh(U,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next((S=>{S.forEach(((b,U)=>{d=d.insert(b,U)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((y,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Ze.newInvalidDocument(S)))}));let p=hl();return d.forEach(((y,_)=>{const S=c.get(y);S!==void 0&&vl(S.mutation,_,Xn.empty(),ee.now()),uh(i,_)&&(p=p.insert(y,_))})),p}))}}class K2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Si(l.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:L2(l.bundledQuery),readTime:Si(l.readTime)}})(i)),Y.resolve()}}class Y2{constructor(){this.overlays=new oe(gt.comparator),this.qr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Ns();return Y.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.St(t,i,c)})),Y.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Y.resolve()}getOverlaysForCollection(t,i,s){const l=Ns(),c=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&l.set(y.getKey(),y)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new oe(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let S=c.get(_.largestBatchId);S===null&&(S=Ns(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const p=Ns(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,S)=>p.set(_,S))),!(p.size()>=l)););return Y.resolve(p)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new f2(i,s));let c=this.qr.get(i);c===void 0&&(c=xt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class X2{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}class Im{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Le(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new gt(new ae([])),s=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new ae([])),s=new Le(i,t),l=new Le(i,t+1);let c=xt();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||Vt(t.Yr,i.Yr)}static Kr(t,i){return Vt(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}class Z2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new h2(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?_m:this.tr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Me(Vt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{s=s.add(p.Yr)}))})),Y.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;gt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new gt(c),0);let p=new Me(Vt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),Y.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Y.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new Le(i,0),l=this.Zr.firstAfterOrEqual(s);return Y.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class J2{constructor(t){this.ri=t,this.docs=(function(){return new oe(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return Y.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let s=Wi();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),Y.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=Wi();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:S}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||wR(bR(S),s)<=0||(l.has(S.key)||uh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,i,s,l){_t(9500)}ii(t,i){return Y.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new $2(this)}getSize(t){return Y.resolve(this.size)}}class $2 extends G2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),Y.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class W2{constructor(t){this.persistence=t,this.si=new zs((i=>Tm(i)),Sm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Im,this.targetCount=0,this.ai=Ya.ur()}forEachTarget(t,i){return this.si.forEach(((s,l)=>i(l))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Y.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ya(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.Pr(i),Y.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Y.waitFor(c).next((()=>l))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return Y.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),Y.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Y.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return Y.resolve(s)}containsKey(t,i){return Y.resolve(this._i.containsKey(i))}}class zT{constructor(t,i){this.ui={},this.overlays={},this.ci=new rh(0),this.li=!1,this.li=!0,this.hi=new X2,this.referenceDelegate=t(this),this.Pi=new W2(this),this.indexManager=new k2,this.remoteDocumentCache=(function(l){return new J2(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new U2(i),this.Ii=new K2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Y2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new Z2(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){it("MemoryPersistence","Starting transaction:",t);const l=new tC(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Y.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class tC extends CR{constructor(t){super(),this.currentSequenceNumber=t}}class Dm{constructor(t){this.persistence=t,this.Ri=new Im,this.Vi=null}static mi(t){return new Dm(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Y.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(s=>{const l=gt.fromPath(s);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Kc{constructor(t,i){this.persistence=t,this.pi=new zs((s=>NR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=H2(this,i)}static mi(t,i){return new Kc(t,i)}Ei(){}di(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return Y.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?Y.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(s++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Rc(t.data.value)),i}br(t,i,s){return Y.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Y.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Nm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=xt(),l=xt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Nm(t,i.fromCache,s,l)}}class eC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class nC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return FA()?8:IR(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new eC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,s,l){return s.documentReadCount<this.fs?(Ma()<=Mt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Va(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Ma()<=Mt.DEBUG&&it("QueryEngine","Query:",Va(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Ma()<=Mt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Va(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):Y.resolve())}ys(t,i){if(mv(i))return Y.resolve(null);let s=Ti(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Yd(i,null,"F"),s=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=xt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,Yd(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,s,l){return mv(i)||l.isEqual(Tt.min())?Y.resolve(null):this.ps.getDocuments(t,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,l)?Y.resolve(null):(Ma()<=Mt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Va(i)),this.vs(t,d,i,AR(l,Sl)).next((p=>p)))}))}Ds(t,i){let s=new Me(pT(t));return i.forEach(((l,c)=>{uh(t,c)&&(s=s.add(c))})),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,s){return Ma()<=Mt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Va(i)),this.ps.getDocumentsMatchingQuery(t,i,Qr.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Om="LocalStore",iC=3e8;class rC{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new oe(Vt),this.xs=new zs((c=>Tm(c)),Sm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Q2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function sC(a,t,i,s){return new rC(a,t,i,s)}async function jT(a,t){const i=At(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let y=xt();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}for(const _ of c){p.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}return i.localDocuments.getDocuments(s,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function aC(a,t){const i=At(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,S){const b=_.batch,U=b.keys();let G=Y.resolve();return U.forEach((tt=>{G=G.next((()=>S.getEntry(y,tt))).next((J=>{const X=_.docVersions.get(tt);Ht(X!==null,48541),J.version.compareTo(X)<0&&(b.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),S.addEntry(J)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(y,b)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let y=xt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function BT(a){const t=At(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function oC(a,t){const i=At(a),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((S,b)=>{const U=l.get(b);if(!U)return;p.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,b))));let G=U.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?G=G.withResumeToken(Qe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,s)),l=l.insert(b,G),(function(J,X,ot){return J.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=iC?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(U,G,S)&&p.push(i.Pi.updateTargetData(c,G))}));let y=Wi(),_=xt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(lC(c,d,t.documentUpdates).next((S=>{y=S.ks,_=S.qs}))),!s.isEqual(Tt.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(S)}return Y.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function lC(a,t,i){let s=xt(),l=xt();return i.forEach((c=>s=s.add(c))),t.getEntries(a,s).next((c=>{let d=Wi();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Tt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):it(Om,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function uC(a,t){const i=At(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=_m),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function cC(a,t){const i=At(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,t).next((c=>c?(l=c,Y.resolve(l)):i.Pi.allocateTargetId(s).next((d=>(l=new zr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function Wd(a,t,i){const s=At(a),l=s.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!eo(d))throw d;it(Om,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function Cv(a,t,i){const s=At(a);let l=Tt.min(),c=xt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,S){const b=At(y),U=b.xs.get(S);return U!==void 0?Y.resolve(b.Ms.get(U)):b.Pi.getTargetData(_,S)})(s,d,Ti(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:xt()))).next((p=>(hC(s,ZR(t),p),{documents:p,Qs:c})))))}function hC(a,t,i){let s=a.Os.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),a.Os.set(t,s)}class Iv{constructor(){this.activeTargetIds=n2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class fC{constructor(){this.Mo=new Iv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Iv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class dC{Oo(t){}shutdown(){}}const Dv="ConnectivityMonitor";class Nv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(Dv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(Dv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ec=null;function tm(){return Ec===null?Ec=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ec++,"0x"+Ec.toString(16)}const Od="RestConnection",mC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===jc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,c){const d=tm(),p=this.zo(t,i.toUriEncodedString());it(Od,`Sending RPC '${t}' ${d}:`,p,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),S=Za(_);return this.Jo(t,p,y,s,S).then((b=>(it(Od,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Ga(Od,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",s),b}))}Ho(t,i,s,l,c,d){return this.Go(t,i,s,l,c)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wa})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const s=mC[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class pC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ye="WebChannelConnection";class yC extends gC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,c){const d=tm();return new Promise(((p,y)=>{const _=new FE;_.setWithCredentials(!0),_.listenOnce(QE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case wc.NO_ERROR:const b=_.getResponseJson();it(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case wc.TIMEOUT:it(Ye,`RPC '${t}' ${d} timed out`),y(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:const U=_.getStatus();if(it(Ye,`RPC '${t}' ${d} failed with status:`,U,"response text:",_.getResponseText()),U>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const tt=G?.error;if(tt&&tt.status&&tt.message){const J=(function(ot){const yt=ot.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(yt)>=0?yt:Z.UNKNOWN})(tt.status);y(new ct(J,tt.message))}else y(new ct(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Ye,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);it(Ye,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",S,s,15)}))}T_(t,i,s){const l=tm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=XE(),p=YE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const S=c.join("");it(Ye,`Creating RPC '${t}' stream ${l}: ${S}`,y);const b=d.createWebChannel(S,y);this.I_(b);let U=!1,G=!1;const tt=new pC({Yo:X=>{G?it(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,X):(U||(it(Ye,`Opening RPC '${t}' stream ${l} transport.`),b.open(),U=!0),it(Ye,`RPC '${t}' stream ${l} sending:`,X),b.send(X))},Zo:()=>b.close()}),J=(X,ot,yt)=>{X.listen(ot,(ft=>{try{yt(ft)}catch(at){setTimeout((()=>{throw at}),0)}}))};return J(b,cl.EventType.OPEN,(()=>{G||(it(Ye,`RPC '${t}' stream ${l} transport opened.`),tt.o_())})),J(b,cl.EventType.CLOSE,(()=>{G||(G=!0,it(Ye,`RPC '${t}' stream ${l} transport closed`),tt.a_(),this.E_(b))})),J(b,cl.EventType.ERROR,(X=>{G||(G=!0,Ga(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,X.name,"Message:",X.message),tt.a_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))})),J(b,cl.EventType.MESSAGE,(X=>{if(!G){const ot=X.data[0];Ht(!!ot,16349);const yt=ot,ft=yt?.error||yt[0]?.error;if(ft){it(Ye,`RPC '${t}' stream ${l} received error:`,ft);const at=ft.status;let ut=(function(A){const w=be[A];if(w!==void 0)return IT(w)})(at),dt=ft.message;ut===void 0&&(ut=Z.INTERNAL,dt="Unknown error status: "+at+" with message "+ft.message),G=!0,tt.a_(new ct(ut,dt)),b.close()}else it(Ye,`RPC '${t}' stream ${l} received:`,ot),tt.u_(ot)}})),J(p,KE.STAT_EVENT,(X=>{X.stat===qd.PROXY?it(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):X.stat===qd.NOPROXY&&it(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Md(){return typeof document<"u"?document:null}function dh(a){return new T2(a,!0)}class qT{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Ov="PersistentStream";class HT{constructor(t,i,s,l,c,d,p,y){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?($i(i.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new ct(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(Ov,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(Ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _C extends HT{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=b2(this.serializer,t),s=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Si(d.readTime):Tt.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=$d(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=Kd(y)?{documents:C2(c,y)}:{query:I2(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=OT(c,d.resumeToken);const _=Xd(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=Qc(c,d.snapshotVersion.toTimestamp());const _=Xd(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const s=N2(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=$d(this.serializer),i.removeTarget=t,this.q_(i)}}class vC extends HT{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=R2(t.writeResults,t.commitTime),s=Si(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=$d(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>w2(this.serializer,s)))};this.q_(i)}}class EC{}class TC extends EC{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Zd(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(Z.UNKNOWN,c.toString())}))}Ho(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Zd(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class SC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ks="RemoteStore";class AC{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Bs(this)&&(it(ks,"Restarting streams for network reachability change."),await(async function(y){const _=At(y);_.Ea.add(4),await kl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await mh(_)})(this))}))})),this.Ra=new SC(s,l)}}async function mh(a){if(Bs(a))for(const t of a.da)await t(!0)}async function kl(a){for(const t of a.da)await t(!1)}function GT(a,t){const i=At(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Um(i)?xm(i):no(i).O_()&&Vm(i,t))}function Mm(a,t){const i=At(a),s=no(i);i.Ia.delete(t),s.O_()&&FT(i,t),i.Ia.size===0&&(s.O_()?s.L_():Bs(i)&&i.Ra.set("Unknown"))}function Vm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}no(a).Y_(t)}function FT(a,t){a.Va.Ue(t),no(a).Z_(t)}function xm(a){a.Va=new y2({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),no(a).start(),a.Ra.ua()}function Um(a){return Bs(a)&&!no(a).x_()&&a.Ia.size>0}function Bs(a){return At(a).Ea.size===0}function QT(a){a.Va=void 0}async function bC(a){a.Ra.set("Online")}async function wC(a){a.Ia.forEach(((t,i)=>{Vm(a,t)}))}async function RC(a,t){QT(a),Um(a)?(a.Ra.ha(t),xm(a)):a.Ra.set("Unknown")}async function CC(a,t,i){if(a.Ra.set("Online"),t instanceof NT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(a,t)}catch(s){it(ks,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Yc(a,s)}else if(t instanceof Dc?a.Va.Ze(t):t instanceof DT?a.Va.st(t):a.Va.tt(t),!i.isEqual(Tt.min()))try{const s=await BT(a.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const S=c.Ia.get(y);if(!S)return;c.Ia.set(y,S.withResumeToken(Qe.EMPTY_BYTE_STRING,S.snapshotVersion)),FT(c,y);const b=new zr(S.target,y,_,S.sequenceNumber);Vm(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(s){it(ks,"Failed to raise snapshot:",s),await Yc(a,s)}}async function Yc(a,t,i){if(!eo(t))throw t;a.Ea.add(1),await kl(a),a.Ra.set("Offline"),i||(i=()=>BT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{it(ks,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await mh(a)}))}function KT(a,t){return t().catch((i=>Yc(a,i,t)))}async function gh(a){const t=At(a),i=Zr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:_m;for(;IC(t);)try{const l=await uC(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,DC(t,l)}catch(l){await Yc(t,l)}YT(t)&&XT(t)}function IC(a){return Bs(a)&&a.Ta.length<10}function DC(a,t){a.Ta.push(t);const i=Zr(a);i.O_()&&i.X_&&i.ea(t.mutations)}function YT(a){return Bs(a)&&!Zr(a).x_()&&a.Ta.length>0}function XT(a){Zr(a).start()}async function NC(a){Zr(a).ra()}async function OC(a){const t=Zr(a);for(const i of a.Ta)t.ea(i.mutations)}async function MC(a,t,i){const s=a.Ta.shift(),l=wm.from(s,t,i);await KT(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await gh(a)}async function VC(a,t){t&&Zr(a).X_&&await(async function(s,l){if((function(d){return m2(d)&&d!==Z.ABORTED})(l.code)){const c=s.Ta.shift();Zr(s).B_(),await KT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await gh(s)}})(a,t),YT(a)&&XT(a)}async function Mv(a,t){const i=At(a);i.asyncQueue.verifyOperationInProgress(),it(ks,"RemoteStore received new credentials");const s=Bs(i);i.Ea.add(3),await kl(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await mh(i)}async function xC(a,t){const i=At(a);t?(i.Ea.delete(2),await mh(i)):t||(i.Ea.add(2),await kl(i),i.Ra.set("Unknown"))}function no(a){return a.ma||(a.ma=(function(i,s,l){const c=At(i);return c.sa(),new _C(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:bC.bind(null,a),t_:wC.bind(null,a),r_:RC.bind(null,a),H_:CC.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Um(a)?xm(a):a.Ra.set("Unknown")):(await a.ma.stop(),QT(a))}))),a.ma}function Zr(a){return a.fa||(a.fa=(function(i,s,l){const c=At(i);return c.sa(),new vC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:NC.bind(null,a),r_:VC.bind(null,a),ta:OC.bind(null,a),na:MC.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await gh(a)):(await a.fa.stop(),a.Ta.length>0&&(it(ks,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Lm{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,p=new Lm(t,i,d,l,c);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function km(a,t){if($i("AsyncQueue",`${t}: ${a}`),eo(a))return new ct(Z.UNAVAILABLE,`${t}: ${a}`);throw a}class Ba{static emptySet(t){return new Ba(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=hl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ba)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Ba;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class Vv{constructor(){this.ga=new oe(gt.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class Xa{constructor(t,i,s,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Xa(t,i,Ba.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class UC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class LC{constructor(){this.queries=xv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=At(i),c=l.queries;l.queries=xv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(s)}))})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function xv(){return new zs((a=>gT(a)),lh)}async function kC(a,t){const i=At(a);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new UC,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=km(d,`Initialization of query '${Va(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Pm(i)}async function PC(a,t){const i=At(a),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function zC(a,t){const i=At(a);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(s=!0);d.wa=l}}s&&Pm(i)}function jC(a,t,i){const s=At(a),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(t)}function Pm(a){a.Ca.forEach((t=>{t.next()}))}var em,Uv;(Uv=em||(em={})).Ma="default",Uv.Cache="cache";class BC{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Xa(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Xa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==em.Cache}}class ZT{constructor(t){this.key=t}}class JT{constructor(t){this.key=t}}class qC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xt(),this.mutatedKeys=xt(),this.eu=pT(t),this.tu=new Ba(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new Vv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,b)=>{const U=l.get(S),G=uh(this.query,b)?b:null,tt=!!U&&this.mutatedKeys.has(U.key),J=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let X=!1;U&&G?U.data.isEqual(G.data)?tt!==J&&(s.track({type:3,doc:G}),X=!0):this.su(U,G)||(s.track({type:2,doc:G}),X=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(p=!0)):!U&&G?(s.track({type:0,doc:G}),X=!0):U&&!G&&(s.track({type:1,doc:U}),X=!0,(y||_)&&(p=!0)),X&&(G?(d=d.add(G),c=J?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),s.track({type:1,doc:S})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,b)=>(function(G,tt){const J=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:X})}};return J(G)-J(tt)})(S.type,b.type)||this.eu(S.doc,b.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Xa(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Vv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=xt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new JT(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new ZT(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=xt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Xa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zm="SyncEngine";class HC{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class GC{constructor(t){this.key=t,this.hu=!1}}class FC{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new zs((p=>gT(p)),lh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(gt.comparator),this.Au=new Map,this.Ru=new Im,this.Vu={},this.mu=new Map,this.fu=Ya.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QC(a,t,i=!0){const s=i0(a);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await $T(s,t,i,!0),l}async function KC(a,t){const i=i0(a);await $T(i,t,!0,!1)}async function $T(a,t,i,s){const l=await cC(a.localStore,Ti(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await YC(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&GT(a.remoteStore,l),p}async function YC(a,t,i,s,l){a.pu=(b,U,G)=>(async function(J,X,ot,yt){let ft=X.view.ru(ot);ft.Cs&&(ft=await Cv(J.localStore,X.query,!1).then((({documents:R})=>X.view.ru(R,ft))));const at=yt&&yt.targetChanges.get(X.targetId),ut=yt&&yt.targetMismatches.get(X.targetId)!=null,dt=X.view.applyChanges(ft,J.isPrimaryClient,at,ut);return kv(J,X.targetId,dt.au),dt.snapshot})(a,b,U,G);const c=await Cv(a.localStore,t,!0),d=new qC(t,c.Qs),p=d.ru(c.documents),y=Ll.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),_=d.applyChanges(p,a.isPrimaryClient,y);kv(a,i,_.au);const S=new HC(t,i,d);return a.Tu.set(t,S),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),_.snapshot}async function XC(a,t,i){const s=At(a),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!lh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Wd(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Mm(s.remoteStore,l.targetId),nm(s,l.targetId)})).catch(to)):(nm(s,l.targetId),await Wd(s.localStore,l.targetId,!0))}async function ZC(a,t){const i=At(a),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Mm(i.remoteStore,s.targetId))}async function JC(a,t,i){const s=rI(a);try{const l=await(function(d,p){const y=At(d),_=ee.now(),S=p.reduce(((G,tt)=>G.add(tt.key)),xt());let b,U;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let tt=Wi(),J=xt();return y.Ns.getEntries(G,S).next((X=>{tt=X,tt.forEach(((ot,yt)=>{yt.isValidDocument()||(J=J.add(ot))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,tt))).next((X=>{b=X;const ot=[];for(const yt of p){const ft=u2(yt,b.get(yt.key).overlayedDocument);ft!=null&&ot.push(new js(yt.key,ft,lT(ft.value.mapValue),Yi.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,ot,p)})).next((X=>{U=X;const ot=X.applyToLocalDocumentSet(b,J);return y.documentOverlayCache.saveOverlays(G,X.batchId,ot)}))})).then((()=>({batchId:U.batchId,changes:_T(b)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new oe(Vt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(s,l.batchId,i),await Pl(s,l.changes),await gh(s.remoteStore)}catch(l){const c=km(l,"Failed to persist write");i.reject(c)}}async function WT(a,t){const i=At(a);try{const s=await oC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Pl(i,s,t)}catch(s){await to(s)}}function Lv(a,t,i){const s=At(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=At(d);y.onlineState=p;let _=!1;y.queries.forEach(((S,b)=>{for(const U of b.Sa)U.va(p)&&(_=!0)})),_&&Pm(y)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function $C(a,t,i){const s=At(a);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new oe(gt.comparator);d=d.insert(c,Ze.newNoDocument(c,Tt.min()));const p=xt().add(c),y=new fh(Tt.min(),new Map,new oe(Vt),d,p);await WT(s,y),s.du=s.du.remove(c),s.Au.delete(t),jm(s)}else await Wd(s.localStore,t,!1).then((()=>nm(s,t,i))).catch(to)}async function WC(a,t){const i=At(a),s=t.batch.batchId;try{const l=await aC(i.localStore,t);e0(i,s,null),t0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Pl(i,l)}catch(l){await to(l)}}async function tI(a,t,i){const s=At(a);try{const l=await(function(d,p){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return y.mutationQueue.lookupMutationBatch(_,p).next((b=>(Ht(b!==null,37113),S=b.keys(),y.mutationQueue.removeMutationBatch(_,b)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,S,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>y.localDocuments.getDocuments(_,S)))}))})(s.localStore,t);e0(s,t,i),t0(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Pl(s,l)}catch(l){await to(l)}}function t0(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function e0(a,t,i){const s=At(a);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function nm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Iu.get(t))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((s=>{a.Ru.containsKey(s)||n0(a,s)}))}function n0(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(Mm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),jm(a))}function kv(a,t,i){for(const s of i)s instanceof ZT?(a.Ru.addReference(s.key,t),eI(a,s)):s instanceof JT?(it(zm,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,t),a.Ru.containsKey(s.key)||n0(a,s.key)):_t(19791,{wu:s})}function eI(a,t){const i=t.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(it(zm,"New document in limbo: "+i),a.Eu.add(s),jm(a))}function jm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new gt(ae.fromString(t)),s=a.fu.next();a.Au.set(s,new GC(i)),a.du=a.du.insert(i,s),GT(a.remoteStore,new zr(Ti(Am(i.path)),s,"TargetPurposeLimboResolution",rh.ce))}}async function Pl(a,t,i){const s=At(a),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,y)=>{d.push(s.pu(y,t,i).then((_=>{if((_||i)&&s.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(_){l.push(_);const S=Nm.As(y.targetId,_);c.push(S)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(y,_){const S=At(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Y.forEach(_,(U=>Y.forEach(U.Es,(G=>S.persistence.referenceDelegate.addReference(b,U.targetId,G))).next((()=>Y.forEach(U.ds,(G=>S.persistence.referenceDelegate.removeReference(b,U.targetId,G)))))))))}catch(b){if(!eo(b))throw b;it(Om,"Failed to update sequence numbers: "+b)}for(const b of _){const U=b.targetId;if(!b.fromCache){const G=S.Ms.get(U),tt=G.snapshotVersion,J=G.withLastLimboFreeSnapshotVersion(tt);S.Ms=S.Ms.insert(U,J)}}})(s.localStore,c))}async function nI(a,t){const i=At(a);if(!i.currentUser.isEqual(t)){it(zm,"User change. New user:",t.toKey());const s=await jT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ct(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Pl(i,s.Ls)}}function iI(a,t){const i=At(a),s=i.Au.get(t);if(s&&s.hu)return xt().add(s.key);{let l=xt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function i0(a){const t=At(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=WT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$C.bind(null,t),t.Pu.H_=zC.bind(null,t.eventManager),t.Pu.yu=jC.bind(null,t.eventManager),t}function rI(a){const t=At(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tI.bind(null,t),t}class Xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return sC(this.persistence,new nC,t.initialUser,this.serializer)}Cu(t){return new zT(Dm.mi,this.serializer)}Du(t){return new fC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xc.provider={build:()=>new Xc};class sI extends Xc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof Kc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new B2(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new zT((s=>Kc.mi(s,i)),this.serializer)}}class im{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Lv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nI.bind(null,this.syncEngine),await xC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new LC})()}createDatastore(t){const i=dh(t.databaseInfo.databaseId),s=(function(c){return new yC(c)})(t.databaseInfo);return(function(c,d,p,y){return new TC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,p){return new AC(s,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Lv(this.syncEngine,i,0)),(function(){return Nv.v()?new Nv:new dC})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,S){const b=new FC(l,c,d,p,y,_);return S&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=At(i);it(ks,"RemoteStore shutting down."),s.Ea.add(5),await kl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}im.provider={build:()=>new im};class aI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):$i("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Jr="FirestoreClient";class oI{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{it(Jr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(it(Jr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=km(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Vd(a,t){a.asyncQueue.verifyOperationInProgress(),it(Jr,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async l=>{s.isEqual(l)||(await jT(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Pv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await lI(a);it(Jr,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((s=>Mv(t.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,l)=>Mv(t.remoteStore,l))),a._onlineComponents=t}async function lI(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){it(Jr,"Using user provided OfflineComponentProvider");try{await Vd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ga("Error using user provided cache. Falling back to memory cache: "+i),await Vd(a,new Xc)}}else it(Jr,"Using default OfflineComponentProvider"),await Vd(a,new sI(void 0));return a._offlineComponents}async function r0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(it(Jr,"Using user provided OnlineComponentProvider"),await Pv(a,a._uninitializedComponentsProvider._online)):(it(Jr,"Using default OnlineComponentProvider"),await Pv(a,new im))),a._onlineComponents}function uI(a){return r0(a).then((t=>t.syncEngine))}async function zv(a){const t=await r0(a),i=t.eventManager;return i.onListen=QC.bind(null,t.syncEngine),i.onUnlisten=XC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=KC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=ZC.bind(null,t.syncEngine),i}function s0(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const jv=new Map;const a0="firestore.googleapis.com",Bv=!0;class qv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=a0,this.ssl=Bv}else this.host=t.host,this.ssl=t.ssl??Bv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=PT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<z2)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}SR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Bm{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new hR;switch(s.type){case"firstParty":return new gR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=jv.get(i);s&&(it("ComponentProvider","Removing Datastore"),jv.delete(i),s.terminate())})(this),Promise.resolve()}}function cI(a,t,i,s={}){a=ja(a,Bm);const l=Za(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;l&&(rE(`https://${p}`),sE("Firestore",!0)),c.host!==a0&&c.host!==p&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:s};if(!Vs(y,d)&&(a._setSettings(y),s.mockUserToken)){let _,S;if(typeof s.mockUserToken=="string")_=s.mockUserToken,S=Xe.MOCK_USER;else{_=LA(s.mockUserToken,a._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Xe(b)}a._authCredentials=new fR(new JE(_,S))}}class ph{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ph(this.firestore,t,this._query)}}class ke{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Il(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ke(this.firestore,t,this._key)}toJSON(){return{type:ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(xl(i,ke._jsonSchema))return new ke(t,s||null,new gt(ae.fromString(i.referencePath)))}}ke._jsonSchemaVersion="firestore/documentReference/1.0",ke._jsonSchema={type:we("string",ke._jsonSchemaVersion),referencePath:we("string")};class Il extends ph{constructor(t,i,s){super(t,i,Am(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ke(this.firestore,null,new gt(t))}withConverter(t){return new Il(this.firestore,t,this._path)}}function o0(a,t,...i){if(a=xn(a),arguments.length===1&&(t=pm.newId()),TR("doc","path",t),a instanceof Bm){const s=ae.fromString(t,...i);return ev(s),new ke(a,null,new gt(s))}{if(!(a instanceof ke||a instanceof Il))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ae.fromString(t,...i));return ev(s),new ke(a.firestore,a instanceof Il?a.converter:null,new gt(s))}}const Hv="AsyncQueue";class Gv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qT(this,"async_queue_retry"),this._c=()=>{const s=Md();s&&it(Hv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=Md();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Md();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!eo(t))throw t;it(Hv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",Fv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Lm.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:Fv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Fv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function Qv(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class Zc extends Bm{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new Gv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Gv(t),this._firestoreClient=void 0,await t}}}function hI(a,t){const i=typeof a=="object"?a:uE(),s=typeof a=="string"?a:jc,l=om(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=xA("firestore");c&&cI(l,...c)}return l}function l0(a){if(a._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||fI(a),a._firestoreClient}function fI(a){const t=a._freezeSettings(),i=(function(l,c,d,p){return new VR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,s0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new oI(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class Vn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vn(Qe.fromBase64String(t))}catch(i){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Vn(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(xl(t,Vn._jsonSchema))return Vn.fromBase64String(t.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:we("string",Vn._jsonSchemaVersion),bytes:we("string")};class qm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class u0{constructor(t){this._methodName=t}}class Ai{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ai._jsonSchemaVersion}}static fromJSON(t){if(xl(t,Ai._jsonSchema))return new Ai(t.latitude,t.longitude)}}Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:we("string",Ai._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};class bi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(xl(t,bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new bi(t.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:we("string",bi._jsonSchemaVersion),vectorValues:we("object")};const dI=/^__.*__$/;class mI{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new js(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ul(t,this.data,i,this.fieldTransforms)}}function c0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:a})}}class Hm{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Hm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Jc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(c0(this.Ac)&&dI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class gI{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||dh(t)}Cc(t,i,s,l=!1){return new Hm({Ac:t,methodName:i,Dc:s,path:Fe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pI(a){const t=a._freezeSettings(),i=dh(a._databaseId);return new gI(a._databaseId,!!t.ignoreUndefinedProperties,i)}function yI(a,t,i,s,l,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,t,i,l);m0("Data must be an object, but it was:",d,s);const p=f0(s,d);let y,_;if(c.merge)y=new Xn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const b of c.mergeFields){const U=_I(t,b,i);if(!d.contains(U))throw new ct(Z.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);EI(S,U)||S.push(U)}y=new Xn(S),_=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,_=d.fieldTransforms;return new mI(new Mn(p),y,_)}function h0(a,t){if(d0(a=xn(a)))return m0("Unsupported field value:",t,a),f0(a,t);if(a instanceof u0)return(function(s,l){if(!c0(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let y=h0(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(a,t)}return(function(s,l){if((s=xn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return i2(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ee.fromDate(s);return{timestampValue:Qc(l.serializer,c)}}if(s instanceof ee){const c=new ee(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qc(l.serializer,c)}}if(s instanceof Ai)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vn)return{bytesValue:OT(l.serializer,s._byteString)};if(s instanceof ke){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Cm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof bi)return(function(d,p){return{mapValue:{fields:{[aT]:{stringValue:oT},[Bc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return bm(p.serializer,_)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${ym(s)}`)})(a,t)}function f0(a,t){const i={};return tT(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ps(a,((s,l)=>{const c=h0(l,t.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function d0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ee||a instanceof Ai||a instanceof Vn||a instanceof ke||a instanceof u0||a instanceof bi)}function m0(a,t,i){if(!d0(i)||!$E(i)){const s=ym(i);throw s==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+s)}}function _I(a,t,i){if((t=xn(t))instanceof qm)return t._internalPath;if(typeof t=="string")return g0(a,t);throw Jc("Field path arguments must be of type string or ",a,!1,void 0,i)}const vI=new RegExp("[~\\*/\\[\\]]");function g0(a,t,i){if(t.search(vI)>=0)throw Jc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new qm(...t.split("."))._internalPath}catch{throw Jc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Jc(a,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new ct(Z.INVALID_ARGUMENT,p+a+y)}function EI(a,t){return a.some((i=>i.isEqual(t)))}class p0{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new TI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(y0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class TI extends p0{data(){return super.data()}}function y0(a,t){return typeof t=="string"?g0(a,t):t instanceof qm?t._internalPath:t._delegate._internalPath}function SI(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AI{convertValue(t,i="none"){switch(Xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Ps(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[Bc].arrayValue?.values?.map((s=>me(s.doubleValue)));return new bi(i)}convertGeoPoint(t){return new Ai(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=ah(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Al(t));default:return null}}convertTimestamp(t){const i=Kr(t);return new ee(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=ae.fromString(t);Ht(kT(s),9688,{name:t});const l=new bl(s.get(1),s.get(3)),c=new gt(s.popFirst(5));return l.isEqual(i)||$i(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function bI(a,t,i){let s;return s=a?a.toFirestore(t):t,s}class dl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ms extends p0{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(y0("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ms._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ms._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ms._jsonSchema={type:we("string",Ms._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class Nc extends Ms{data(t={}){return super.data(t)}}class qa{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new dl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Nc(this._firestore,this._userDataWriter,s.key,s,new dl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Nc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new dl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Nc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new dl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:wI(p.type),doc:y,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function wI(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:a})}}qa._jsonSchemaVersion="firestore/querySnapshot/1.0",qa._jsonSchema={type:we("string",qa._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class _0 extends AI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ke(this.firestore,null,i)}}function RI(a,t,i){a=ja(a,ke);const s=ja(a.firestore,Zc),l=bI(a.converter,t);return II(s,[yI(pI(s),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,Yi.none())])}function CI(a,...t){a=xn(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Qv(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Qv(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let c,d,p;if(a instanceof ke)d=ja(a.firestore,Zc),p=Am(a._key.path),c={next:y=>{t[s]&&t[s](DI(d,a,y))},error:t[s+1],complete:t[s+2]};else{const y=ja(a,ph);d=ja(y.firestore,Zc),p=y._query;const _=new _0(d);c={next:S=>{t[s]&&t[s](new qa(d,_,y,S))},error:t[s+1],complete:t[s+2]},SI(a._query)}return(function(_,S,b,U){const G=new aI(U),tt=new BC(S,G,b);return _.asyncQueue.enqueueAndForget((async()=>kC(await zv(_),tt))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>PC(await zv(_),tt)))}})(l0(d),p,l,c)}function II(a,t){return(function(s,l){const c=new Os;return s.asyncQueue.enqueueAndForget((async()=>JC(await uI(s),l,c))),c.promise})(l0(a),t)}function DI(a,t,i){const s=i.docs.get(t._key),l=new _0(a);return new Ms(a,l,t._key,s,new dl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){Wa=l})(Ja),Ha(new xs("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new Zc(new dR(s.getProvider("auth-internal")),new pR(d,s.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(_.options.projectId,S)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),qr(J_,$_,t),qr(J_,$_,"esm2020")})();const NI={apiKey:"AIzaSyBcezJRuEx8vsThQKhi8Az_XdL_XSM6u8g",authDomain:"st-mary-somerset.firebaseapp.com",projectId:"st-mary-somerset",storageBucket:"st-mary-somerset.firebasestorage.app",messagingSenderId:"924281338278",appId:"1:924281338278:web:83affbb1aff93ba797f767"},v0=lE(NI),Gm=uR(v0),E0=hI(v0),T0="default-app",OI=async()=>{try{await Qb(Gm)}catch(a){console.error("Firebase Auth Error",a)}},MI=a=>$b(Gm,t=>{if(t){const i=o0(E0,"artifacts",T0,"public","data","st_mary_project","main");return CI(i,s=>{s.exists()?a(s.data()):console.log("No data found, seeding...")})}}),VI=async(a,t)=>{if(!Gm.currentUser)return;const i=o0(E0,"artifacts",T0,"public","data","st_mary_project","main");try{await RI(i,{projectStartDate:t.toISOString(),tasks:a,lastUpdated:new Date().toISOString()}),console.log("Data saved to Firebase")}catch(s){console.error("Error saving data:",s)}},xI=(a,t,i)=>{if(t===i)return!0;const s=new Set,l=[i];for(;l.length>0;){const c=l.pop();if(s.has(c))continue;s.add(c);const d=a.find(p=>p.id===c);if(d){if(d.dependencies&&d.dependencies.includes(t))return!0;d.dependencies&&d.dependencies.forEach(p=>l.push(p))}}return!1},Kv=(a,t)=>{if(!a.dependencies||a.dependencies.length===0)return null;let i=null;return a.dependencies.forEach(s=>{const l=t.find(c=>c.id===s);if(l){const c=new Date(l.startDate);c.setDate(c.getDate()+l.duration),(!i||c>i)&&(i=c)}}),i},Yv=(a,t)=>{const i=[...t],s=new Map(i.map(d=>[d.id,d]));s.set(a.id,a);const l=[a],c=new Set;for(;l.length>0;){const d=l.shift();if(c.has(d.id))continue;c.add(d.id);const p=new Date(d.startDate);p.setDate(p.getDate()+d.duration),i.forEach(y=>{if(y.dependencies&&y.dependencies.includes(d.id)&&new Date(y.startDate)<p){const S=new Date(p),b={...y,startDate:S.toISOString()};s.set(y.id,b);const U=i.findIndex(G=>G.id===y.id);i[U]=b,l.push(b)}})}return i};function UI(){const[a,t]=Ne.useState([]),[i,s]=Ne.useState(null),[l,c]=Ne.useState("week"),[d,p]=Ne.useState(new Date("2024-01-01"));Ne.useEffect(()=>{OI();const at=MI(ut=>{ut&&(p(new Date(ut.projectStartDate)),t(ut.tasks))});return()=>at&&at()},[]);const y=at=>{VI(at,d)},_=Ne.useRef(null),S=Ne.useRef(null),b=Ne.useRef(!1),U=at=>ut=>{if(b.current)return;b.current=!0;const{scrollTop:dt}=ut.target;at==="sidebar"&&S.current?S.current.scrollTop=dt:at==="timeline"&&_.current&&(_.current.scrollTop=dt),setTimeout(()=>{b.current=!1},50)},G=()=>{const at={id:`t${Date.now()}`,name:"New Phase",startDate:new Date().toISOString(),duration:5,progress:0,type:"task",dependencies:[]},ut=[...a,at];t(ut),y(ut)},tt=(at,ut)=>{const dt=[...a],[R]=dt.splice(at,1);dt.splice(ut,0,R),t(dt),y(dt)},[J,X]=Ne.useState(null),ot=(at,ut)=>{const dt=at.target.getAttribute("data-resize")==="right",R=at.clientX;X({task:ut,startX:R,originalDate:new Date(ut.startDate),originalDuration:ut.duration,type:dt?"resize":"move"}),at.preventDefault()},yt=at=>{if(!J)return;const ut=at.clientX-J.startX,R=Math.round(ut/(l==="day"?60:l==="week"?40:20));if(J.type==="move"){let A=new Date(J.originalDate);A.setDate(A.getDate()+R);const w=Kv(J.task,a);w&&A<w&&(A=w),t(M=>M.map(D=>D.id===J.task.id?{...D,startDate:A.toISOString()}:D))}else if(J.type==="resize"){const A=Math.max(1,J.originalDuration+R);t(w=>w.map(M=>M.id===J.task.id?{...M,duration:A}:M))}},ft=()=>{if(J){const at=a.find(ut=>ut.id===J.task.id);if(at){const ut=Yv(at,a);t(ut),y(ut)}}X(null)};return $.jsxs("div",{className:"h-screen w-screen bg-midnight text-stone flex flex-col overflow-hidden font-ui select-none",onMouseMove:yt,onMouseUp:ft,children:[$.jsx(TA,{viewMode:l,setViewMode:c,onAddTask:G,status}),$.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[$.jsx("div",{className:"w-80 flex-shrink-0 h-full overflow-y-auto overflow-x-hidden",ref:_,onScroll:U("sidebar"),children:$.jsx(SA,{tasks:a,onDragStart:()=>{},onEditTask:s,onReorderTasks:tt})}),$.jsx("div",{className:"flex-1 h-full overflow-hidden",ref:S,children:$.jsx(bA,{tasks:a,viewMode:l,projectStartDate:d,onScroll:U("timeline"),onTaskDragStart:ot,onEditTask:s})})]}),i&&$.jsx(wA,{task:i,onClose:()=>s(null),onSave:at=>{let ut=!1;if(at.dependencies&&at.dependencies.forEach(w=>{xI([...a],at.id,w)&&(alert(`Circular dependency detected! Cannot depend on ${w}`),ut=!0)}),ut)return;const dt=Kv(at,a);dt&&new Date(at.startDate)<dt&&(alert("Start date adjusted to obey dependencies."),at.startDate=dt.toISOString());const R=a.map(w=>w.id===at.id?at:w),A=Yv(at,R);t(A),y(A),s(null)}})]})}oA.createRoot(document.getElementById("root")).render($.jsx(Ne.StrictMode,{children:$.jsx(UI,{})}));
