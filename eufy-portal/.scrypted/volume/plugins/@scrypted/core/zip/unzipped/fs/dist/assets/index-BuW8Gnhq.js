const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./editor.main-Dl_0F1jJ.js","./editor-bo9aZu7E.css"])))=>i.map(i=>d[i]);
var rr=Object.defineProperty;var nr=(e,t,r)=>t in e?rr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var De=(e,t,r)=>nr(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var buffer={},base64Js={},hasRequiredBase64Js;function requireBase64Js(){if(hasRequiredBase64Js)return base64Js;hasRequiredBase64Js=1,base64Js.byteLength=s,base64Js.toByteArray=c,base64Js.fromByteArray=g;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function a(v){var _=v.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var S=v.indexOf("=");S===-1&&(S=_);var C=S===_?0:4-S%4;return[S,C]}function s(v){var _=a(v),S=_[0],C=_[1];return(S+C)*3/4-C}function l(v,_,S){return(_+S)*3/4-S}function c(v){var _,S=a(v),C=S[0],y=S[1],b=new r(l(v,C,y)),u=0,w=y>0?C-4:C,x;for(x=0;x<w;x+=4)_=t[v.charCodeAt(x)]<<18|t[v.charCodeAt(x+1)]<<12|t[v.charCodeAt(x+2)]<<6|t[v.charCodeAt(x+3)],b[u++]=_>>16&255,b[u++]=_>>8&255,b[u++]=_&255;return y===2&&(_=t[v.charCodeAt(x)]<<2|t[v.charCodeAt(x+1)]>>4,b[u++]=_&255),y===1&&(_=t[v.charCodeAt(x)]<<10|t[v.charCodeAt(x+1)]<<4|t[v.charCodeAt(x+2)]>>2,b[u++]=_>>8&255,b[u++]=_&255),b}function d(v){return e[v>>18&63]+e[v>>12&63]+e[v>>6&63]+e[v&63]}function m(v,_,S){for(var C,y=[],b=_;b<S;b+=3)C=(v[b]<<16&16711680)+(v[b+1]<<8&65280)+(v[b+2]&255),y.push(d(C));return y.join("")}function g(v){for(var _,S=v.length,C=S%3,y=[],b=16383,u=0,w=S-C;u<w;u+=b)y.push(m(v,u,u+b>w?w:u+b));return C===1?(_=v[S-1],y.push(e[_>>2]+e[_<<4&63]+"==")):C===2&&(_=(v[S-2]<<8)+v[S-1],y.push(e[_>>10]+e[_>>4&63]+e[_<<2&63]+"=")),y.join("")}return base64Js}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredIeee754;function requireIeee754(){return hasRequiredIeee754||(hasRequiredIeee754=1,ieee754.read=function(e,t,r,n,i){var o,a,s=i*8-n-1,l=(1<<s)-1,c=l>>1,d=-7,m=r?i-1:0,g=r?-1:1,v=e[t+m];for(m+=g,o=v&(1<<-d)-1,v>>=-d,d+=s;d>0;o=o*256+e[t+m],m+=g,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=n;d>0;a=a*256+e[t+m],m+=g,d-=8);if(o===0)o=1-c;else{if(o===l)return a?NaN:(v?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-c}return(v?-1:1)*a*Math.pow(2,o-n)},ieee754.write=function(e,t,r,n,i,o){var a,s,l,c=o*8-i-1,d=(1<<c)-1,m=d>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:o-1,_=n?1:-1,S=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+m>=1?t+=g/l:t+=g*Math.pow(2,1-m),t*l>=2&&(a++,l/=2),a+m>=d?(s=0,a=d):a+m>=1?(s=(t*l-1)*Math.pow(2,i),a=a+m):(s=t*Math.pow(2,m-1)*Math.pow(2,i),a=0));i>=8;e[r+v]=s&255,v+=_,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+v]=a&255,v+=_,a/=256,c-=8);e[r+v-_]|=S*128}),ieee754}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var hasRequiredBuffer;function requireBuffer(){return hasRequiredBuffer||(hasRequiredBuffer=1,function(e){const t=requireBase64Js(),r=requireIeee754(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=o(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const z=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(z,R),z.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function a(z){if(z>i)throw new RangeError('The value "'+z+'" is invalid for option "size"');const R=new Uint8Array(z);return Object.setPrototypeOf(R,s.prototype),R}function s(z,R,$){if(typeof z=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(z)}return l(z,R,$)}s.poolSize=8192;function l(z,R,$){if(typeof z=="string")return g(z,R);if(ArrayBuffer.isView(z))return _(z);if(z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(ye(z,ArrayBuffer)||z&&ye(z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ye(z,SharedArrayBuffer)||z&&ye(z.buffer,SharedArrayBuffer)))return S(z,R,$);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const G=z.valueOf&&z.valueOf();if(G!=null&&G!==z)return s.from(G,R,$);const le=C(z);if(le)return le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return s.from(z[Symbol.toPrimitive]("string"),R,$);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}s.from=function(z,R,$){return l(z,R,$)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function c(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function d(z,R,$){return c(z),z<=0?a(z):R!==void 0?typeof $=="string"?a(z).fill(R,$):a(z).fill(R):a(z)}s.alloc=function(z,R,$){return d(z,R,$)};function m(z){return c(z),a(z<0?0:y(z)|0)}s.allocUnsafe=function(z){return m(z)},s.allocUnsafeSlow=function(z){return m(z)};function g(z,R){if((typeof R!="string"||R==="")&&(R="utf8"),!s.isEncoding(R))throw new TypeError("Unknown encoding: "+R);const $=u(z,R)|0;let G=a($);const le=G.write(z,R);return le!==$&&(G=G.slice(0,le)),G}function v(z){const R=z.length<0?0:y(z.length)|0,$=a(R);for(let G=0;G<R;G+=1)$[G]=z[G]&255;return $}function _(z){if(ye(z,Uint8Array)){const R=new Uint8Array(z);return S(R.buffer,R.byteOffset,R.byteLength)}return v(z)}function S(z,R,$){if(R<0||z.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<R+($||0))throw new RangeError('"length" is outside of buffer bounds');let G;return R===void 0&&$===void 0?G=new Uint8Array(z):$===void 0?G=new Uint8Array(z,R):G=new Uint8Array(z,R,$),Object.setPrototypeOf(G,s.prototype),G}function C(z){if(s.isBuffer(z)){const R=y(z.length)|0,$=a(R);return $.length===0||z.copy($,0,0,R),$}if(z.length!==void 0)return typeof z.length!="number"||be(z.length)?a(0):v(z);if(z.type==="Buffer"&&Array.isArray(z.data))return v(z.data)}function y(z){if(z>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return z|0}function b(z){return+z!=z&&(z=0),s.alloc(+z)}s.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==s.prototype},s.compare=function(R,$){if(ye(R,Uint8Array)&&(R=s.from(R,R.offset,R.byteLength)),ye($,Uint8Array)&&($=s.from($,$.offset,$.byteLength)),!s.isBuffer(R)||!s.isBuffer($))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===$)return 0;let G=R.length,le=$.length;for(let fe=0,ge=Math.min(G,le);fe<ge;++fe)if(R[fe]!==$[fe]){G=R[fe],le=$[fe];break}return G<le?-1:le<G?1:0},s.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(R,$){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return s.alloc(0);let G;if($===void 0)for($=0,G=0;G<R.length;++G)$+=R[G].length;const le=s.allocUnsafe($);let fe=0;for(G=0;G<R.length;++G){let ge=R[G];if(ye(ge,Uint8Array))fe+ge.length>le.length?(s.isBuffer(ge)||(ge=s.from(ge)),ge.copy(le,fe)):Uint8Array.prototype.set.call(le,ge,fe);else if(s.isBuffer(ge))ge.copy(le,fe);else throw new TypeError('"list" argument must be an Array of Buffers');fe+=ge.length}return le};function u(z,R){if(s.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||ye(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);const $=z.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&$===0)return 0;let le=!1;for(;;)switch(R){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return oe(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $*2;case"hex":return $>>>1;case"base64":return se(z).length;default:if(le)return G?-1:oe(z).length;R=(""+R).toLowerCase(),le=!0}}s.byteLength=u;function w(z,R,$){let G=!1;if((R===void 0||R<0)&&(R=0),R>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0,R>>>=0,$<=R))return"";for(z||(z="utf8");;)switch(z){case"hex":return N(this,R,$);case"utf8":case"utf-8":return H(this,R,$);case"ascii":return Q(this,R,$);case"latin1":case"binary":return X(this,R,$);case"base64":return V(this,R,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,R,$);default:if(G)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),G=!0}}s.prototype._isBuffer=!0;function x(z,R,$){const G=z[R];z[R]=z[$],z[$]=G}s.prototype.swap16=function(){const R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let $=0;$<R;$+=2)x(this,$,$+1);return this},s.prototype.swap32=function(){const R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let $=0;$<R;$+=4)x(this,$,$+3),x(this,$+1,$+2);return this},s.prototype.swap64=function(){const R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let $=0;$<R;$+=8)x(this,$,$+7),x(this,$+1,$+6),x(this,$+2,$+5),x(this,$+3,$+4);return this},s.prototype.toString=function(){const R=this.length;return R===0?"":arguments.length===0?H(this,0,R):w.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(R){if(!s.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:s.compare(this,R)===0},s.prototype.inspect=function(){let R="";const $=e.INSPECT_MAX_BYTES;return R=this.toString("hex",0,$).replace(/(.{2})/g,"$1 ").trim(),this.length>$&&(R+=" ... "),"<Buffer "+R+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(R,$,G,le,fe){if(ye(R,Uint8Array)&&(R=s.from(R,R.offset,R.byteLength)),!s.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if($===void 0&&($=0),G===void 0&&(G=R?R.length:0),le===void 0&&(le=0),fe===void 0&&(fe=this.length),$<0||G>R.length||le<0||fe>this.length)throw new RangeError("out of range index");if(le>=fe&&$>=G)return 0;if(le>=fe)return-1;if($>=G)return 1;if($>>>=0,G>>>=0,le>>>=0,fe>>>=0,this===R)return 0;let ge=fe-le,Le=G-$;const Ne=Math.min(ge,Le),Me=this.slice(le,fe),Ce=R.slice($,G);for(let te=0;te<Ne;++te)if(Me[te]!==Ce[te]){ge=Me[te],Le=Ce[te];break}return ge<Le?-1:Le<ge?1:0};function E(z,R,$,G,le){if(z.length===0)return-1;if(typeof $=="string"?(G=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,be($)&&($=le?0:z.length-1),$<0&&($=z.length+$),$>=z.length){if(le)return-1;$=z.length-1}else if($<0)if(le)$=0;else return-1;if(typeof R=="string"&&(R=s.from(R,G)),s.isBuffer(R))return R.length===0?-1:T(z,R,$,G,le);if(typeof R=="number")return R=R&255,typeof Uint8Array.prototype.indexOf=="function"?le?Uint8Array.prototype.indexOf.call(z,R,$):Uint8Array.prototype.lastIndexOf.call(z,R,$):T(z,[R],$,G,le);throw new TypeError("val must be string, number or Buffer")}function T(z,R,$,G,le){let fe=1,ge=z.length,Le=R.length;if(G!==void 0&&(G=String(G).toLowerCase(),G==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(z.length<2||R.length<2)return-1;fe=2,ge/=2,Le/=2,$/=2}function Ne(Ce,te){return fe===1?Ce[te]:Ce.readUInt16BE(te*fe)}let Me;if(le){let Ce=-1;for(Me=$;Me<ge;Me++)if(Ne(z,Me)===Ne(R,Ce===-1?0:Me-Ce)){if(Ce===-1&&(Ce=Me),Me-Ce+1===Le)return Ce*fe}else Ce!==-1&&(Me-=Me-Ce),Ce=-1}else for($+Le>ge&&($=ge-Le),Me=$;Me>=0;Me--){let Ce=!0;for(let te=0;te<Le;te++)if(Ne(z,Me+te)!==Ne(R,te)){Ce=!1;break}if(Ce)return Me}return-1}s.prototype.includes=function(R,$,G){return this.indexOf(R,$,G)!==-1},s.prototype.indexOf=function(R,$,G){return E(this,R,$,G,!0)},s.prototype.lastIndexOf=function(R,$,G){return E(this,R,$,G,!1)};function k(z,R,$,G){$=Number($)||0;const le=z.length-$;G?(G=Number(G),G>le&&(G=le)):G=le;const fe=R.length;G>fe/2&&(G=fe/2);let ge;for(ge=0;ge<G;++ge){const Le=parseInt(R.substr(ge*2,2),16);if(be(Le))return ge;z[$+ge]=Le}return ge}function D(z,R,$,G){return ce(oe(R,z.length-$),z,$,G)}function B(z,R,$,G){return ce(_e(R),z,$,G)}function A(z,R,$,G){return ce(se(R),z,$,G)}function O(z,R,$,G){return ce(pe(R,z.length-$),z,$,G)}s.prototype.write=function(R,$,G,le){if($===void 0)le="utf8",G=this.length,$=0;else if(G===void 0&&typeof $=="string")le=$,G=this.length,$=0;else if(isFinite($))$=$>>>0,isFinite(G)?(G=G>>>0,le===void 0&&(le="utf8")):(le=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const fe=this.length-$;if((G===void 0||G>fe)&&(G=fe),R.length>0&&(G<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");let ge=!1;for(;;)switch(le){case"hex":return k(this,R,$,G);case"utf8":case"utf-8":return D(this,R,$,G);case"ascii":case"latin1":case"binary":return B(this,R,$,G);case"base64":return A(this,R,$,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,R,$,G);default:if(ge)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),ge=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function V(z,R,$){return R===0&&$===z.length?t.fromByteArray(z):t.fromByteArray(z.slice(R,$))}function H(z,R,$){$=Math.min(z.length,$);const G=[];let le=R;for(;le<$;){const fe=z[le];let ge=null,Le=fe>239?4:fe>223?3:fe>191?2:1;if(le+Le<=$){let Ne,Me,Ce,te;switch(Le){case 1:fe<128&&(ge=fe);break;case 2:Ne=z[le+1],(Ne&192)===128&&(te=(fe&31)<<6|Ne&63,te>127&&(ge=te));break;case 3:Ne=z[le+1],Me=z[le+2],(Ne&192)===128&&(Me&192)===128&&(te=(fe&15)<<12|(Ne&63)<<6|Me&63,te>2047&&(te<55296||te>57343)&&(ge=te));break;case 4:Ne=z[le+1],Me=z[le+2],Ce=z[le+3],(Ne&192)===128&&(Me&192)===128&&(Ce&192)===128&&(te=(fe&15)<<18|(Ne&63)<<12|(Me&63)<<6|Ce&63,te>65535&&te<1114112&&(ge=te))}}ge===null?(ge=65533,Le=1):ge>65535&&(ge-=65536,G.push(ge>>>10&1023|55296),ge=56320|ge&1023),G.push(ge),le+=Le}return K(G)}const q=4096;function K(z){const R=z.length;if(R<=q)return String.fromCharCode.apply(String,z);let $="",G=0;for(;G<R;)$+=String.fromCharCode.apply(String,z.slice(G,G+=q));return $}function Q(z,R,$){let G="";$=Math.min(z.length,$);for(let le=R;le<$;++le)G+=String.fromCharCode(z[le]&127);return G}function X(z,R,$){let G="";$=Math.min(z.length,$);for(let le=R;le<$;++le)G+=String.fromCharCode(z[le]);return G}function N(z,R,$){const G=z.length;(!R||R<0)&&(R=0),(!$||$<0||$>G)&&($=G);let le="";for(let fe=R;fe<$;++fe)le+=xe[z[fe]];return le}function I(z,R,$){const G=z.slice(R,$);let le="";for(let fe=0;fe<G.length-1;fe+=2)le+=String.fromCharCode(G[fe]+G[fe+1]*256);return le}s.prototype.slice=function(R,$){const G=this.length;R=~~R,$=$===void 0?G:~~$,R<0?(R+=G,R<0&&(R=0)):R>G&&(R=G),$<0?($+=G,$<0&&($=0)):$>G&&($=G),$<R&&($=R);const le=this.subarray(R,$);return Object.setPrototypeOf(le,s.prototype),le};function U(z,R,$){if(z%1!==0||z<0)throw new RangeError("offset is not uint");if(z+R>$)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(R,$,G){R=R>>>0,$=$>>>0,G||U(R,$,this.length);let le=this[R],fe=1,ge=0;for(;++ge<$&&(fe*=256);)le+=this[R+ge]*fe;return le},s.prototype.readUintBE=s.prototype.readUIntBE=function(R,$,G){R=R>>>0,$=$>>>0,G||U(R,$,this.length);let le=this[R+--$],fe=1;for(;$>0&&(fe*=256);)le+=this[R+--$]*fe;return le},s.prototype.readUint8=s.prototype.readUInt8=function(R,$){return R=R>>>0,$||U(R,1,this.length),this[R]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(R,$){return R=R>>>0,$||U(R,2,this.length),this[R]|this[R+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(R,$){return R=R>>>0,$||U(R,2,this.length),this[R]<<8|this[R+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(R,$){return R=R>>>0,$||U(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(R,$){return R=R>>>0,$||U(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},s.prototype.readBigUInt64LE=ke(function(R){R=R>>>0,W(R,"offset");const $=this[R],G=this[R+7];($===void 0||G===void 0)&&J(R,this.length-8);const le=$+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24,fe=this[++R]+this[++R]*2**8+this[++R]*2**16+G*2**24;return BigInt(le)+(BigInt(fe)<<BigInt(32))}),s.prototype.readBigUInt64BE=ke(function(R){R=R>>>0,W(R,"offset");const $=this[R],G=this[R+7];($===void 0||G===void 0)&&J(R,this.length-8);const le=$*2**24+this[++R]*2**16+this[++R]*2**8+this[++R],fe=this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+G;return(BigInt(le)<<BigInt(32))+BigInt(fe)}),s.prototype.readIntLE=function(R,$,G){R=R>>>0,$=$>>>0,G||U(R,$,this.length);let le=this[R],fe=1,ge=0;for(;++ge<$&&(fe*=256);)le+=this[R+ge]*fe;return fe*=128,le>=fe&&(le-=Math.pow(2,8*$)),le},s.prototype.readIntBE=function(R,$,G){R=R>>>0,$=$>>>0,G||U(R,$,this.length);let le=$,fe=1,ge=this[R+--le];for(;le>0&&(fe*=256);)ge+=this[R+--le]*fe;return fe*=128,ge>=fe&&(ge-=Math.pow(2,8*$)),ge},s.prototype.readInt8=function(R,$){return R=R>>>0,$||U(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},s.prototype.readInt16LE=function(R,$){R=R>>>0,$||U(R,2,this.length);const G=this[R]|this[R+1]<<8;return G&32768?G|4294901760:G},s.prototype.readInt16BE=function(R,$){R=R>>>0,$||U(R,2,this.length);const G=this[R+1]|this[R]<<8;return G&32768?G|4294901760:G},s.prototype.readInt32LE=function(R,$){return R=R>>>0,$||U(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},s.prototype.readInt32BE=function(R,$){return R=R>>>0,$||U(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},s.prototype.readBigInt64LE=ke(function(R){R=R>>>0,W(R,"offset");const $=this[R],G=this[R+7];($===void 0||G===void 0)&&J(R,this.length-8);const le=this[R+4]+this[R+5]*2**8+this[R+6]*2**16+(G<<24);return(BigInt(le)<<BigInt(32))+BigInt($+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24)}),s.prototype.readBigInt64BE=ke(function(R){R=R>>>0,W(R,"offset");const $=this[R],G=this[R+7];($===void 0||G===void 0)&&J(R,this.length-8);const le=($<<24)+this[++R]*2**16+this[++R]*2**8+this[++R];return(BigInt(le)<<BigInt(32))+BigInt(this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+G)}),s.prototype.readFloatLE=function(R,$){return R=R>>>0,$||U(R,4,this.length),r.read(this,R,!0,23,4)},s.prototype.readFloatBE=function(R,$){return R=R>>>0,$||U(R,4,this.length),r.read(this,R,!1,23,4)},s.prototype.readDoubleLE=function(R,$){return R=R>>>0,$||U(R,8,this.length),r.read(this,R,!0,52,8)},s.prototype.readDoubleBE=function(R,$){return R=R>>>0,$||U(R,8,this.length),r.read(this,R,!1,52,8)};function F(z,R,$,G,le,fe){if(!s.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>le||R<fe)throw new RangeError('"value" argument is out of bounds');if($+G>z.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(R,$,G,le){if(R=+R,$=$>>>0,G=G>>>0,!le){const Le=Math.pow(2,8*G)-1;F(this,R,$,G,Le,0)}let fe=1,ge=0;for(this[$]=R&255;++ge<G&&(fe*=256);)this[$+ge]=R/fe&255;return $+G},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(R,$,G,le){if(R=+R,$=$>>>0,G=G>>>0,!le){const Le=Math.pow(2,8*G)-1;F(this,R,$,G,Le,0)}let fe=G-1,ge=1;for(this[$+fe]=R&255;--fe>=0&&(ge*=256);)this[$+fe]=R/ge&255;return $+G},s.prototype.writeUint8=s.prototype.writeUInt8=function(R,$,G){return R=+R,$=$>>>0,G||F(this,R,$,1,255,0),this[$]=R&255,$+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(R,$,G){return R=+R,$=$>>>0,G||F(this,R,$,2,65535,0),this[$]=R&255,this[$+1]=R>>>8,$+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(R,$,G){return R=+R,$=$>>>0,G||F(this,R,$,2,65535,0),this[$]=R>>>8,this[$+1]=R&255,$+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(R,$,G){return R=+R,$=$>>>0,G||F(this,R,$,4,4294967295,0),this[$+3]=R>>>24,this[$+2]=R>>>16,this[$+1]=R>>>8,this[$]=R&255,$+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(R,$,G){return R=+R,$=$>>>0,G||F(this,R,$,4,4294967295,0),this[$]=R>>>24,this[$+1]=R>>>16,this[$+2]=R>>>8,this[$+3]=R&255,$+4};function ee(z,R,$,G,le){L(R,G,le,z,$,7);let fe=Number(R&BigInt(4294967295));z[$++]=fe,fe=fe>>8,z[$++]=fe,fe=fe>>8,z[$++]=fe,fe=fe>>8,z[$++]=fe;let ge=Number(R>>BigInt(32)&BigInt(4294967295));return z[$++]=ge,ge=ge>>8,z[$++]=ge,ge=ge>>8,z[$++]=ge,ge=ge>>8,z[$++]=ge,$}function ue(z,R,$,G,le){L(R,G,le,z,$,7);let fe=Number(R&BigInt(4294967295));z[$+7]=fe,fe=fe>>8,z[$+6]=fe,fe=fe>>8,z[$+5]=fe,fe=fe>>8,z[$+4]=fe;let ge=Number(R>>BigInt(32)&BigInt(4294967295));return z[$+3]=ge,ge=ge>>8,z[$+2]=ge,ge=ge>>8,z[$+1]=ge,ge=ge>>8,z[$]=ge,$+8}s.prototype.writeBigUInt64LE=ke(function(R,$=0){return ee(this,R,$,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=ke(function(R,$=0){return ue(this,R,$,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(R,$,G,le){if(R=+R,$=$>>>0,!le){const Ne=Math.pow(2,8*G-1);F(this,R,$,G,Ne-1,-Ne)}let fe=0,ge=1,Le=0;for(this[$]=R&255;++fe<G&&(ge*=256);)R<0&&Le===0&&this[$+fe-1]!==0&&(Le=1),this[$+fe]=(R/ge>>0)-Le&255;return $+G},s.prototype.writeIntBE=function(R,$,G,le){if(R=+R,$=$>>>0,!le){const Ne=Math.pow(2,8*G-1);F(this,R,$,G,Ne-1,-Ne)}let fe=G-1,ge=1,Le=0;for(this[$+fe]=R&255;--fe>=0&&(ge*=256);)R<0&&Le===0&&this[$+fe+1]!==0&&(Le=1),this[$+fe]=(R/ge>>0)-Le&255;return $+G},s.prototype.writeInt8=function(R,$,G){return R=+R,$=$>>>0,G||F(this,R,$,1,127,-128),R<0&&(R=255+R+1),this[$]=R&255,$+1},s.prototype.writeInt16LE=function(R,$,G){return R=+R,$=$>>>0,G||F(this,R,$,2,32767,-32768),this[$]=R&255,this[$+1]=R>>>8,$+2},s.prototype.writeInt16BE=function(R,$,G){return R=+R,$=$>>>0,G||F(this,R,$,2,32767,-32768),this[$]=R>>>8,this[$+1]=R&255,$+2},s.prototype.writeInt32LE=function(R,$,G){return R=+R,$=$>>>0,G||F(this,R,$,4,2147483647,-2147483648),this[$]=R&255,this[$+1]=R>>>8,this[$+2]=R>>>16,this[$+3]=R>>>24,$+4},s.prototype.writeInt32BE=function(R,$,G){return R=+R,$=$>>>0,G||F(this,R,$,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[$]=R>>>24,this[$+1]=R>>>16,this[$+2]=R>>>8,this[$+3]=R&255,$+4},s.prototype.writeBigInt64LE=ke(function(R,$=0){return ee(this,R,$,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=ke(function(R,$=0){return ue(this,R,$,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function he(z,R,$,G,le,fe){if($+G>z.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function ve(z,R,$,G,le){return R=+R,$=$>>>0,le||he(z,R,$,4),r.write(z,R,$,G,23,4),$+4}s.prototype.writeFloatLE=function(R,$,G){return ve(this,R,$,!0,G)},s.prototype.writeFloatBE=function(R,$,G){return ve(this,R,$,!1,G)};function j(z,R,$,G,le){return R=+R,$=$>>>0,le||he(z,R,$,8),r.write(z,R,$,G,52,8),$+8}s.prototype.writeDoubleLE=function(R,$,G){return j(this,R,$,!0,G)},s.prototype.writeDoubleBE=function(R,$,G){return j(this,R,$,!1,G)},s.prototype.copy=function(R,$,G,le){if(!s.isBuffer(R))throw new TypeError("argument should be a Buffer");if(G||(G=0),!le&&le!==0&&(le=this.length),$>=R.length&&($=R.length),$||($=0),le>0&&le<G&&(le=G),le===G||R.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),R.length-$<le-G&&(le=R.length-$+G);const fe=le-G;return this===R&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin($,G,le):Uint8Array.prototype.set.call(R,this.subarray(G,le),$),fe},s.prototype.fill=function(R,$,G,le){if(typeof R=="string"){if(typeof $=="string"?(le=$,$=0,G=this.length):typeof G=="string"&&(le=G,G=this.length),le!==void 0&&typeof le!="string")throw new TypeError("encoding must be a string");if(typeof le=="string"&&!s.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if(R.length===1){const ge=R.charCodeAt(0);(le==="utf8"&&ge<128||le==="latin1")&&(R=ge)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if($<0||this.length<$||this.length<G)throw new RangeError("Out of range index");if(G<=$)return this;$=$>>>0,G=G===void 0?this.length:G>>>0,R||(R=0);let fe;if(typeof R=="number")for(fe=$;fe<G;++fe)this[fe]=R;else{const ge=s.isBuffer(R)?R:s.from(R,le),Le=ge.length;if(Le===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(fe=0;fe<G-$;++fe)this[fe+$]=ge[fe%Le]}return this};const M={};function ne(z,R,$){M[z]=class extends ${constructor(){super(),Object.defineProperty(this,"message",{value:R.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${z}]`,this.stack,delete this.name}get code(){return z}set code(le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:le,writable:!0})}toString(){return`${this.name} [${z}]: ${this.message}`}}}ne("ERR_BUFFER_OUT_OF_BOUNDS",function(z){return z?`${z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ne("ERR_INVALID_ARG_TYPE",function(z,R){return`The "${z}" argument must be of type number. Received type ${typeof R}`},TypeError),ne("ERR_OUT_OF_RANGE",function(z,R,$){let G=`The value of "${z}" is out of range.`,le=$;return Number.isInteger($)&&Math.abs($)>2**32?le=Y(String($)):typeof $=="bigint"&&(le=String($),($>BigInt(2)**BigInt(32)||$<-(BigInt(2)**BigInt(32)))&&(le=Y(le)),le+="n"),G+=` It must be ${R}. Received ${le}`,G},RangeError);function Y(z){let R="",$=z.length;const G=z[0]==="-"?1:0;for(;$>=G+4;$-=3)R=`_${z.slice($-3,$)}${R}`;return`${z.slice(0,$)}${R}`}function de(z,R,$){W(R,"offset"),(z[R]===void 0||z[R+$]===void 0)&&J(R,z.length-($+1))}function L(z,R,$,G,le,fe){if(z>$||z<R){const ge=typeof R=="bigint"?"n":"";let Le;throw R===0||R===BigInt(0)?Le=`>= 0${ge} and < 2${ge} ** ${(fe+1)*8}${ge}`:Le=`>= -(2${ge} ** ${(fe+1)*8-1}${ge}) and < 2 ** ${(fe+1)*8-1}${ge}`,new M.ERR_OUT_OF_RANGE("value",Le,z)}de(G,le,fe)}function W(z,R){if(typeof z!="number")throw new M.ERR_INVALID_ARG_TYPE(R,"number",z)}function J(z,R,$){throw Math.floor(z)!==z?(W(z,$),new M.ERR_OUT_OF_RANGE("offset","an integer",z)):R<0?new M.ERR_BUFFER_OUT_OF_BOUNDS:new M.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${R}`,z)}const ae=/[^+/0-9A-Za-z-_]/g;function me(z){if(z=z.split("=")[0],z=z.trim().replace(ae,""),z.length<2)return"";for(;z.length%4!==0;)z=z+"=";return z}function oe(z,R){R=R||1/0;let $;const G=z.length;let le=null;const fe=[];for(let ge=0;ge<G;++ge){if($=z.charCodeAt(ge),$>55295&&$<57344){if(!le){if($>56319){(R-=3)>-1&&fe.push(239,191,189);continue}else if(ge+1===G){(R-=3)>-1&&fe.push(239,191,189);continue}le=$;continue}if($<56320){(R-=3)>-1&&fe.push(239,191,189),le=$;continue}$=(le-55296<<10|$-56320)+65536}else le&&(R-=3)>-1&&fe.push(239,191,189);if(le=null,$<128){if((R-=1)<0)break;fe.push($)}else if($<2048){if((R-=2)<0)break;fe.push($>>6|192,$&63|128)}else if($<65536){if((R-=3)<0)break;fe.push($>>12|224,$>>6&63|128,$&63|128)}else if($<1114112){if((R-=4)<0)break;fe.push($>>18|240,$>>12&63|128,$>>6&63|128,$&63|128)}else throw new Error("Invalid code point")}return fe}function _e(z){const R=[];for(let $=0;$<z.length;++$)R.push(z.charCodeAt($)&255);return R}function pe(z,R){let $,G,le;const fe=[];for(let ge=0;ge<z.length&&!((R-=2)<0);++ge)$=z.charCodeAt(ge),G=$>>8,le=$%256,fe.push(le),fe.push(G);return fe}function se(z){return t.toByteArray(me(z))}function ce(z,R,$,G){let le;for(le=0;le<G&&!(le+$>=R.length||le>=z.length);++le)R[le+$]=z[le];return le}function ye(z,R){return z instanceof R||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===R.name}function be(z){return z!==z}const xe=function(){const z="0123456789abcdef",R=new Array(256);for(let $=0;$<16;++$){const G=$*16;for(let le=0;le<16;++le)R[G+le]=z[$]+z[le]}return R}();function ke(z){return typeof BigInt>"u"?Te:z}function Te(){throw new Error("BigInt not supported")}}(buffer)),buffer}var bufferExports=requireBuffer();globalThis.Buffer=bufferExports.Buffer;globalThis.process=globalThis.process||{env:{}};/**
* @vue/shared v3.5.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn$1=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},hasOwnProperty$f=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$f.call(e,t),isArray$e=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isFunction$5=e=>typeof e=="function",isString$3=e=>typeof e=="string",isSymbol$4=e=>typeof e=="symbol",isObject$d=e=>e!==null&&typeof e=="object",isPromise=e=>(isObject$d(e)||isFunction$5(e))&&isFunction$5(e.then)&&isFunction$5(e.catch),objectToString$2=Object.prototype.toString,toTypeString=e=>objectToString$2.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject$3=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString$3(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},def=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t},toNumber=e=>{const t=isString$3(e)?Number(e):NaN;return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(e){if(isArray$e(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=isString$3(n)?parseStringStyle(n):normalizeStyle(n);if(i)for(const o in i)t[o]=i[o]}return t}else if(isString$3(e)||isObject$d(e))return e}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(r=>{if(r){const n=r.split(propertyDelimiterRE);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function normalizeClass(e){let t="";if(isString$3(e))t=e;else if(isArray$e(e))for(let r=0;r<e.length;r++){const n=normalizeClass(e[r]);n&&(t+=n+" ")}else if(isObject$d(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function normalizeProps(e){if(!e)return null;let{class:t,style:r}=e;return t&&!isString$3(t)&&(e.class=normalizeClass(t)),r&&(e.style=normalizeStyle(r)),e}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}const isRef$1=e=>!!(e&&e.__v_isRef===!0),toDisplayString=e=>isString$3(e)?e:e==null?"":isArray$e(e)||isObject$d(e)&&(e.toString===objectToString$2||!isFunction$5(e.toString))?isRef$1(e)?toDisplayString(e.value):JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>isRef$1(t)?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i],o)=>(r[stringifySymbol(n,o)+" =>"]=i,r),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>stringifySymbol(r))}:isSymbol$4(t)?stringifySymbol(t):isObject$d(t)&&!isArray$e(t)&&!isPlainObject$3(t)?String(t):t,stringifySymbol=(e,t="")=>{var r;return isSymbol$4(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};function normalizeCssVarValue(e){return e==null?"initial":typeof e=="string"?e===""?" ":e:String(e)}/**
* @vue/reactivity v3.5.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=r}}}on(){++this._on===1&&(this.prevScope=activeEffectScope,activeEffectScope=this)}off(){this._on>0&&--this._on===0&&(activeEffectScope=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function effectScope(e){return new EffectScope(e)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(e,t=!1){activeEffectScope&&activeEffectScope.cleanups.push(e)}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const t=activeSub,r=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=t,shouldTrack=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)removeSub(t);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty$1(this)&&this.run()}get dirty(){return isDirty$1(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(e,t=!1){if(e.flags|=8,t){e.next=batchedComputed,batchedComputed=e;return}e.next=batchedSub,batchedSub=e}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let t=batchedComputed;for(batchedComputed=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;batchedSub;){let t=batchedSub;for(batchedSub=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function prepareDeps(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function cleanupDeps(e){let t,r=e.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),removeSub(n),removeDep(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=r}function isDirty$1(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(refreshComputed(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function refreshComputed(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===globalVersion)||(e.globalVersion=globalVersion,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!isDirty$1(e))))return;e.flags|=2;const t=e.dep,r=activeSub,n=shouldTrack;activeSub=e,shouldTrack=!0;try{prepareDeps(e);const i=e.fn(e._value);(t.version===0||hasChanged(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{activeSub=r,shouldTrack=n,cleanupDeps(e),e.flags&=-3}}function removeSub(e,t=!1){const{dep:r,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let o=r.computed.deps;o;o=o.nextDep)removeSub(o,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function removeDep(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function cleanupEffect(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=activeSub;activeSub=void 0;try{t()}finally{activeSub=r}}}let globalVersion=0;class Link{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==activeSub)r=this.activeLink=new Link(activeSub,this),activeSub.deps?(r.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=r,activeSub.depsTail=r):activeSub.deps=activeSub.depsTail=r,addSub(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=activeSub.depsTail,r.nextDep=void 0,activeSub.depsTail.nextDep=r,activeSub.depsTail=r,activeSub.deps===r&&(activeSub.deps=n)}return r}trigger(t){this.version++,globalVersion++,this.notify(t)}notify(t){startBatch();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{endBatch()}}}function addSub(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)addSub(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(e,t,r){if(shouldTrack&&activeSub){let n=targetMap.get(e);n||targetMap.set(e,n=new Map);let i=n.get(r);i||(n.set(r,i=new Dep),i.map=n,i.key=r),i.track()}}function trigger(e,t,r,n,i,o){const a=targetMap.get(e);if(!a){globalVersion++;return}const s=l=>{l&&l.trigger()};if(startBatch(),t==="clear")a.forEach(s);else{const l=isArray$e(e),c=l&&isIntegerKey(r);if(l&&r==="length"){const d=Number(n);a.forEach((m,g)=>{(g==="length"||g===ARRAY_ITERATE_KEY||!isSymbol$4(g)&&g>=d)&&s(m)})}else switch((r!==void 0||a.has(void 0))&&s(a.get(r)),c&&s(a.get(ARRAY_ITERATE_KEY)),t){case"add":l?c&&s(a.get("length")):(s(a.get(ITERATE_KEY)),isMap(e)&&s(a.get(MAP_KEY_ITERATE_KEY)));break;case"delete":l||(s(a.get(ITERATE_KEY)),isMap(e)&&s(a.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&s(a.get(ITERATE_KEY));break}}endBatch()}function getDepFromReactive(e,t){const r=targetMap.get(e);return r&&r.get(t)}function reactiveReadArray(e){const t=toRaw(e);return t===e?t:(track(t,"iterate",ARRAY_ITERATE_KEY),isShallow(e)?t:t.map(toReactive))}function shallowReadArray(e){return track(e=toRaw(e),"iterate",ARRAY_ITERATE_KEY),e}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,toReactive)},concat(...e){return reactiveReadArray(this).concat(...e.map(t=>isArray$e(t)?reactiveReadArray(t):t))},entries(){return iterator(this,"entries",e=>(e[1]=toReactive(e[1]),e))},every(e,t){return apply$3(this,"every",e,t,void 0,arguments)},filter(e,t){return apply$3(this,"filter",e,t,r=>r.map(toReactive),arguments)},find(e,t){return apply$3(this,"find",e,t,toReactive,arguments)},findIndex(e,t){return apply$3(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return apply$3(this,"findLast",e,t,toReactive,arguments)},findLastIndex(e,t){return apply$3(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return apply$3(this,"forEach",e,t,void 0,arguments)},includes(...e){return searchProxy(this,"includes",e)},indexOf(...e){return searchProxy(this,"indexOf",e)},join(e){return reactiveReadArray(this).join(e)},lastIndexOf(...e){return searchProxy(this,"lastIndexOf",e)},map(e,t){return apply$3(this,"map",e,t,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...e){return noTracking(this,"push",e)},reduce(e,...t){return reduce(this,"reduce",e,t)},reduceRight(e,...t){return reduce(this,"reduceRight",e,t)},shift(){return noTracking(this,"shift")},some(e,t){return apply$3(this,"some",e,t,void 0,arguments)},splice(...e){return noTracking(this,"splice",e)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(e){return reactiveReadArray(this).toSorted(e)},toSpliced(...e){return reactiveReadArray(this).toSpliced(...e)},unshift(...e){return noTracking(this,"unshift",e)},values(){return iterator(this,"values",toReactive)}};function iterator(e,t,r){const n=shallowReadArray(e),i=n[t]();return n!==e&&!isShallow(e)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=r(o.value)),o}),i}const arrayProto$1=Array.prototype;function apply$3(e,t,r,n,i,o){const a=shallowReadArray(e),s=a!==e&&!isShallow(e),l=a[t];if(l!==arrayProto$1[t]){const m=l.apply(e,o);return s?toReactive(m):m}let c=r;a!==e&&(s?c=function(m,g){return r.call(this,toReactive(m),g,e)}:r.length>2&&(c=function(m,g){return r.call(this,m,g,e)}));const d=l.call(a,c,n);return s&&i?i(d):d}function reduce(e,t,r,n){const i=shallowReadArray(e);let o=r;return i!==e&&(isShallow(e)?r.length>3&&(o=function(a,s,l){return r.call(this,a,s,l,e)}):o=function(a,s,l){return r.call(this,a,toReactive(s),l,e)}),i[t](o,...n)}function searchProxy(e,t,r){const n=toRaw(e);track(n,"iterate",ARRAY_ITERATE_KEY);const i=n[t](...r);return(i===-1||i===!1)&&isProxy(r[0])?(r[0]=toRaw(r[0]),n[t](...r)):i}function noTracking(e,t,r=[]){pauseTracking(),startBatch();const n=toRaw(e)[t].apply(e,r);return endBatch(),resetTracking(),n}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol$4));function hasOwnProperty$e(e){isSymbol$4(e)||(e=String(e));const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}class BaseReactiveHandler{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){if(r==="__v_skip")return t.__v_skip;const i=this._isReadonly,o=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return o;if(r==="__v_raw")return n===(i?o?shallowReadonlyMap:readonlyMap:o?shallowReactiveMap:reactiveMap).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const a=isArray$e(t);if(!i){let l;if(a&&(l=arrayInstrumentations[r]))return l;if(r==="hasOwnProperty")return hasOwnProperty$e}const s=Reflect.get(t,r,isRef(t)?t:n);return(isSymbol$4(r)?builtInSymbols.has(r):isNonTrackableKeys(r))||(i||track(t,"get",r),o)?s:isRef(s)?a&&isIntegerKey(r)?s:s.value:isObject$d(s)?i?readonly(s):reactive(s):s}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!1,t)}set(t,r,n,i){let o=t[r];if(!this._isShallow){const l=isReadonly(o);if(!isShallow(n)&&!isReadonly(n)&&(o=toRaw(o),n=toRaw(n)),!isArray$e(t)&&isRef(o)&&!isRef(n))return l||(o.value=n),!0}const a=isArray$e(t)&&isIntegerKey(r)?Number(r)<t.length:hasOwn(t,r),s=Reflect.set(t,r,n,isRef(t)?t:i);return t===toRaw(i)&&(a?hasChanged(n,o)&&trigger(t,"set",r,n):trigger(t,"add",r,n)),s}deleteProperty(t,r){const n=hasOwn(t,r);t[r];const i=Reflect.deleteProperty(t,r);return i&&n&&trigger(t,"delete",r,void 0),i}has(t,r){const n=Reflect.has(t,r);return(!isSymbol$4(r)||!builtInSymbols.has(r))&&track(t,"has",r),n}ownKeys(t){return track(t,"iterate",isArray$e(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function createIterableMethod(e,t,r){return function(...n){const i=this.__v_raw,o=toRaw(i),a=isMap(o),s=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,c=i[e](...n),d=r?toShallow:t?toReadonly:toReactive;return!t&&track(o,"iterate",l?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:m,done:g}=c.next();return g?{value:m,done:g}:{value:s?[d(m[0]),d(m[1])]:d(m),done:g}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function createInstrumentations(e,t){const r={get(i){const o=this.__v_raw,a=toRaw(o),s=toRaw(i);e||(hasChanged(i,s)&&track(a,"get",i),track(a,"get",s));const{has:l}=getProto(a),c=t?toShallow:e?toReadonly:toReactive;if(l.call(a,i))return c(o.get(i));if(l.call(a,s))return c(o.get(s));o!==a&&o.get(i)},get size(){const i=this.__v_raw;return!e&&track(toRaw(i),"iterate",ITERATE_KEY),Reflect.get(i,"size",i)},has(i){const o=this.__v_raw,a=toRaw(o),s=toRaw(i);return e||(hasChanged(i,s)&&track(a,"has",i),track(a,"has",s)),i===s?o.has(i):o.has(i)||o.has(s)},forEach(i,o){const a=this,s=a.__v_raw,l=toRaw(s),c=t?toShallow:e?toReadonly:toReactive;return!e&&track(l,"iterate",ITERATE_KEY),s.forEach((d,m)=>i.call(o,c(d),c(m),a))}};return extend(r,e?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(i){!t&&!isShallow(i)&&!isReadonly(i)&&(i=toRaw(i));const o=toRaw(this);return getProto(o).has.call(o,i)||(o.add(i),trigger(o,"add",i,i)),this},set(i,o){!t&&!isShallow(o)&&!isReadonly(o)&&(o=toRaw(o));const a=toRaw(this),{has:s,get:l}=getProto(a);let c=s.call(a,i);c||(i=toRaw(i),c=s.call(a,i));const d=l.call(a,i);return a.set(i,o),c?hasChanged(o,d)&&trigger(a,"set",i,o):trigger(a,"add",i,o),this},delete(i){const o=toRaw(this),{has:a,get:s}=getProto(o);let l=a.call(o,i);l||(i=toRaw(i),l=a.call(o,i)),s&&s.call(o,i);const c=o.delete(i);return l&&trigger(o,"delete",i,void 0),c},clear(){const i=toRaw(this),o=i.size!==0,a=i.clear();return o&&trigger(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=createIterableMethod(i,e,t)}),r}function createInstrumentationGetter(e,t){const r=createInstrumentations(e,t);return(n,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(hasOwn(r,i)&&i in n?r:n,i,o)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(e){return createReactiveObject(e,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(e,t,r,n,i){if(!isObject$d(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=getTargetType(e);if(o===0)return e;const a=i.get(e);if(a)return a;const s=new Proxy(e,o===2?n:r);return i.set(e,s),s}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return e?!!e.__v_raw:!1}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return!hasOwn(e,"__v_skip")&&Object.isExtensible(e)&&def(e,"__v_skip",!0),e}const toReactive=e=>isObject$d(e)?reactive(e):e,toReadonly=e=>isObject$d(e)?readonly(e):e;function isRef(e){return e?e.__v_isRef===!0:!1}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,r){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:toRaw(t),this._value=r?t:toReactive(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,n=this.__v_isShallow||isShallow(t)||isReadonly(t);t=n?t:toRaw(t),hasChanged(t,r)&&(this._rawValue=t,this._value=n?t:toReactive(t),this.dep.trigger())}}function unref(e){return isRef(e)?e.value:e}function toValue(e){return isFunction$5(e)?e():unref(e)}const shallowUnwrapHandlers={get:(e,t,r)=>t==="__v_raw"?e:unref(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return isRef(i)&&!isRef(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}class CustomRefImpl{constructor(t){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new Dep,{get:n,set:i}=t(r.track.bind(r),r.trigger.bind(r));this._get=n,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function customRef(e){return new CustomRefImpl(e)}function toRefs(e){const t=isArray$e(e)?new Array(e.length):{};for(const r in e)t[r]=propertyToRef(e,r);return t}class ObjectRefImpl{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function toRef(e,t,r){return isRef(e)?e:isFunction$5(e)?new GetterRefImpl(e):isObject$d(e)&&arguments.length>1?propertyToRef(e,t,r):ref(e)}function propertyToRef(e,t,r){const n=e[t];return isRef(n)?n:new ObjectRefImpl(e,t,r)}class ComputedRefImpl{constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const t=this.dep.track();return refreshComputed(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function computed$1(e,t,r=!1){let n,i;return isFunction$5(e)?n=e:(n=e.get,i=e.set),new ComputedRefImpl(n,i,r)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(e,t=!1,r=activeWatcher){if(r){let n=cleanupMap.get(r);n||cleanupMap.set(r,n=[]),n.push(e)}}function watch$1(e,t,r=EMPTY_OBJ){const{immediate:n,deep:i,once:o,scheduler:a,augmentJob:s,call:l}=r,c=w=>i?w:isShallow(w)||i===!1||i===0?traverse(w,1):traverse(w);let d,m,g,v,_=!1,S=!1;if(isRef(e)?(m=()=>e.value,_=isShallow(e)):isReactive(e)?(m=()=>c(e),_=!0):isArray$e(e)?(S=!0,_=e.some(w=>isReactive(w)||isShallow(w)),m=()=>e.map(w=>{if(isRef(w))return w.value;if(isReactive(w))return c(w);if(isFunction$5(w))return l?l(w,2):w()})):isFunction$5(e)?t?m=l?()=>l(e,2):e:m=()=>{if(g){pauseTracking();try{g()}finally{resetTracking()}}const w=activeWatcher;activeWatcher=d;try{return l?l(e,3,[v]):e(v)}finally{activeWatcher=w}}:m=NOOP,t&&i){const w=m,x=i===!0?1/0:i;m=()=>traverse(w(),x)}const C=getCurrentScope(),y=()=>{d.stop(),C&&C.active&&remove(C.effects,d)};if(o&&t){const w=t;t=(...x)=>{w(...x),y()}}let b=S?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const u=w=>{if(!(!(d.flags&1)||!d.dirty&&!w))if(t){const x=d.run();if(i||_||(S?x.some((E,T)=>hasChanged(E,b[T])):hasChanged(x,b))){g&&g();const E=activeWatcher;activeWatcher=d;try{const T=[x,b===INITIAL_WATCHER_VALUE?void 0:S&&b[0]===INITIAL_WATCHER_VALUE?[]:b,v];b=x,l?l(t,3,T):t(...T)}finally{activeWatcher=E}}}else d.run()};return s&&s(u),d=new ReactiveEffect(m),d.scheduler=a?()=>a(u,!1):u,v=w=>onWatcherCleanup(w,!1,d),g=d.onStop=()=>{const w=cleanupMap.get(d);if(w){if(l)l(w,4);else for(const x of w)x();cleanupMap.delete(d)}},t?n?u(!0):b=d.run():a?a(u.bind(null,!0),!0):d.run(),y.pause=d.pause.bind(d),y.resume=d.resume.bind(d),y.stop=y,y}function traverse(e,t=1/0,r){if(t<=0||!isObject$d(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,isRef(e))traverse(e.value,t,r);else if(isArray$e(e))for(let n=0;n<e.length;n++)traverse(e[n],t,r);else if(isSet(e)||isMap(e))e.forEach(n=>{traverse(n,t,r)});else if(isPlainObject$3(e)){for(const n in e)traverse(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&traverse(e[n],t,r)}return e}/**
* @vue/runtime-core v3.5.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(e,...t){if(isWarning)return;isWarning=!0,pauseTracking();const r=stack.length?stack[stack.length-1].component:null,n=r&&r.appContext.config.warnHandler,i=getComponentTrace();if(n)callWithErrorHandling(n,r,11,[e+t.map(o=>{var a,s;return(s=(a=o.toString)==null?void 0:a.call(o))!=null?s:JSON.stringify(o)}).join(""),r&&r.proxy,i.map(({vnode:o})=>`at <${formatComponentName(r,o.type)}>`).join(`
`),i]);else{const o=[`[Vue warn]: ${e}`,...t];i.length&&o.push(`
`,...formatTrace(i)),console.warn(...o)}resetTracking(),isWarning=!1}function getComponentTrace(){let e=stack[stack.length-1];if(!e)return[];const t=[];for(;e;){const r=t[0];r&&r.vnode===e?r.recurseCount++:t.push({vnode:e,recurseCount:0});const n=e.component&&e.component.parent;e=n&&n.vnode}return t}function formatTrace(e){const t=[];return e.forEach((r,n)=>{t.push(...n===0?[]:[`
`],...formatTraceEntry(r))}),t}function formatTraceEntry({vnode:e,recurseCount:t}){const r=t>0?`... (${t} recursive calls)`:"",n=e.component?e.component.parent==null:!1,i=` at <${formatComponentName(e.component,e.type,n)}`,o=">"+r;return e.props?[i,...formatProps(e.props),o]:[i+o]}function formatProps(e){const t=[],r=Object.keys(e);return r.slice(0,3).forEach(n=>{t.push(...formatProp(n,e[n]))}),r.length>3&&t.push(" ..."),t}function formatProp(e,t,r){return isString$3(t)?(t=JSON.stringify(t),r?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?r?t:[`${e}=${t}`]:isRef(t)?(t=formatProp(e,toRaw(t.value),!0),r?t:[`${e}=Ref<`,t,">"]):isFunction$5(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=toRaw(t),r?t:[`${e}=`,t])}function callWithErrorHandling(e,t,r,n){try{return n?e(...n):e()}catch(i){handleError(i,t,r)}}function callWithAsyncErrorHandling(e,t,r,n){if(isFunction$5(e)){const i=callWithErrorHandling(e,t,r,n);return i&&isPromise(i)&&i.catch(o=>{handleError(o,t,r)}),i}if(isArray$e(e)){const i=[];for(let o=0;o<e.length;o++)i.push(callWithAsyncErrorHandling(e[o],t,r,n));return i}}function handleError(e,t,r,n=!0){const i=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||EMPTY_OBJ;if(t){let s=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const d=s.ec;if(d){for(let m=0;m<d.length;m++)if(d[m](e,l,c)===!1)return}s=s.parent}if(o){pauseTracking(),callWithErrorHandling(o,null,10,[e,l,c]),resetTracking();return}}logError(e,r,i,n,a)}function logError(e,t,r,n=!0,i=!1){if(i)throw e;console.error(e)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick$1(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex$1(e){let t=flushIndex+1,r=queue.length;for(;t<r;){const n=t+r>>>1,i=queue[n],o=getId(i);o<e||o===e&&i.flags&2?t=n+1:r=n}return t}function queueJob(e){if(!(e.flags&1)){const t=getId(e),r=queue[queue.length-1];!r||!(e.flags&2)&&t>=getId(r)?queue.push(e):queue.splice(findInsertionIndex$1(t),0,e),e.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(e){isArray$e(e)?pendingPostFlushCbs.push(...e):activePostFlushCbs&&e.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,e):e.flags&1||(pendingPostFlushCbs.push(e),e.flags|=1),queueFlush()}function flushPreFlushCbs(e,t,r=flushIndex+1){for(;r<queue.length;r++){const n=queue[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;queue.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)].sort((r,n)=>getId(r)-getId(n));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const r=activePostFlushCbs[postFlushIndex];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?e.flags&2?-1:1/0:e.id;function flushJobs(e){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),callWithErrorHandling(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&(t.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function withCtx(e,t=currentRenderingInstance,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&setBlockTracking(-1);const o=setCurrentRenderingInstance(t);let a;try{a=e(...i)}finally{setCurrentRenderingInstance(o),n._d&&setBlockTracking(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function withDirectives(e,t){if(currentRenderingInstance===null)return e;const r=getComponentPublicInstance(currentRenderingInstance),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,s,l=EMPTY_OBJ]=t[i];o&&(isFunction$5(o)&&(o={mounted:o,updated:o}),o.deep&&traverse(a),n.push({dir:o,instance:r,value:a,oldValue:void 0,arg:s,modifiers:l}))}return e}function invokeDirectiveHook(e,t,r,n){const i=e.dirs,o=t&&t.dirs;for(let a=0;a<i.length;a++){const s=i[a];o&&(s.oldValue=o[a].value);let l=s.dir[n];l&&(pauseTracking(),callWithAsyncErrorHandling(l,r,8,[e.el,s,e,t]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=e=>e.__isTeleport,isTeleportDisabled=e=>e&&(e.disabled||e.disabled===""),isTeleportDeferred=e=>e&&(e.defer||e.defer===""),isTargetSVG=e=>typeof SVGElement<"u"&&e instanceof SVGElement,isTargetMathML=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,resolveTarget=(e,t)=>{const r=e&&e.to;return isString$3(r)?t?t(r):null:r},TeleportImpl={name:"Teleport",__isTeleport:!0,process(e,t,r,n,i,o,a,s,l,c){const{mc:d,pc:m,pbc:g,o:{insert:v,querySelector:_,createText:S,createComment:C}}=c,y=isTeleportDisabled(t.props);let{shapeFlag:b,children:u,dynamicChildren:w}=t;if(e==null){const x=t.el=S(""),E=t.anchor=S("");v(x,r,n),v(E,r,n);const T=(D,B)=>{b&16&&(i&&i.isCE&&(i.ce._teleportTarget=D),d(u,D,B,i,o,a,s,l))},k=()=>{const D=t.target=resolveTarget(t.props,_),B=prepareAnchor(D,t,S,v);D&&(a!=="svg"&&isTargetSVG(D)?a="svg":a!=="mathml"&&isTargetMathML(D)&&(a="mathml"),y||(T(D,B),updateCssVars(t,!1)))};y&&(T(r,E),updateCssVars(t,!0)),isTeleportDeferred(t.props)?(t.el.__isMounted=!1,queuePostRenderEffect(()=>{k(),delete t.el.__isMounted},o)):k()}else{if(isTeleportDeferred(t.props)&&e.el.__isMounted===!1){queuePostRenderEffect(()=>{TeleportImpl.process(e,t,r,n,i,o,a,s,l,c)},o);return}t.el=e.el,t.targetStart=e.targetStart;const x=t.anchor=e.anchor,E=t.target=e.target,T=t.targetAnchor=e.targetAnchor,k=isTeleportDisabled(e.props),D=k?r:E,B=k?x:T;if(a==="svg"||isTargetSVG(E)?a="svg":(a==="mathml"||isTargetMathML(E))&&(a="mathml"),w?(g(e.dynamicChildren,w,D,i,o,a,s),traverseStaticChildren(e,t,!0)):l||m(e,t,D,B,i,o,a,s,!1),y)k?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):moveTeleport(t,r,x,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const A=t.target=resolveTarget(t.props,_);A&&moveTeleport(t,A,null,c,0)}else k&&moveTeleport(t,E,T,c,1);updateCssVars(t,y)}},remove(e,t,r,{um:n,o:{remove:i}},o){const{shapeFlag:a,children:s,anchor:l,targetStart:c,targetAnchor:d,target:m,props:g}=e;if(m&&(i(c),i(d)),o&&i(l),a&16){const v=o||!isTeleportDisabled(g);for(let _=0;_<s.length;_++){const S=s[_];n(S,t,r,v,!!S.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(e,t,r,{o:{insert:n},m:i},o=2){o===0&&n(e.targetAnchor,t,r);const{el:a,anchor:s,shapeFlag:l,children:c,props:d}=e,m=o===2;if(m&&n(a,t,r),(!m||isTeleportDisabled(d))&&l&16)for(let g=0;g<c.length;g++)i(c[g],t,r,2);m&&n(s,t,r)}function hydrateTeleport(e,t,r,n,i,o,{o:{nextSibling:a,parentNode:s,querySelector:l,insert:c,createText:d}},m){const g=t.target=resolveTarget(t.props,l);if(g){const v=isTeleportDisabled(t.props),_=g._lpa||g.firstChild;if(t.shapeFlag&16)if(v)t.anchor=m(a(e),t,s(e),r,n,i,o),t.targetStart=_,t.targetAnchor=_&&a(_);else{t.anchor=a(e);let S=_;for(;S;){if(S&&S.nodeType===8){if(S.data==="teleport start anchor")t.targetStart=S;else if(S.data==="teleport anchor"){t.targetAnchor=S,g._lpa=t.targetAnchor&&a(t.targetAnchor);break}}S=a(S)}t.targetAnchor||prepareAnchor(g,t,d,c),m(_&&a(_),t,g,r,n,i,o)}updateCssVars(t,v)}return t.anchor&&a(t.anchor)}const Teleport=TeleportImpl;function updateCssVars(e,t){const r=e.ctx;if(r&&r.ut){let n,i;for(t?(n=e.el,i=e.anchor):(n=e.targetStart,i=e.targetAnchor);n&&n!==i;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function prepareAnchor(e,t,r,n){const i=t.targetStart=r(""),o=t.targetAnchor=r("");return i[TeleportEndKey]=o,e&&(n(i,e),n(o,e)),o}const leaveCbKey=Symbol("_leaveCb"),enterCbKey$1=Symbol("_enterCb");function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},recursiveGetSubtree=e=>{const t=e.subTree;return t.component?recursiveGetSubtree(t.component):t},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(e,{slots:t}){const r=getCurrentInstance$1(),n=useTransitionState();return()=>{const i=t.default&&getTransitionRawChildren(t.default(),!0);if(!i||!i.length)return;const o=findNonCommentChild(i),a=toRaw(e),{mode:s}=a;if(n.isLeaving)return emptyPlaceholder(o);const l=getInnerChild$1(o);if(!l)return emptyPlaceholder(o);let c=resolveTransitionHooks(l,a,n,r,m=>c=m);l.type!==Comment&&setTransitionHooks(l,c);let d=r.subTree&&getInnerChild$1(r.subTree);if(d&&d.type!==Comment&&!isSameVNodeType(l,d)&&recursiveGetSubtree(r).type!==Comment){let m=resolveTransitionHooks(d,a,n,r);if(setTransitionHooks(d,m),s==="out-in"&&l.type!==Comment)return n.isLeaving=!0,m.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete m.afterLeave,d=void 0},emptyPlaceholder(o);s==="in-out"&&l.type!==Comment?m.delayLeave=(g,v,_)=>{const S=getLeavingNodesForType(n,d);S[String(d.key)]=d,g[leaveCbKey]=()=>{v(),g[leaveCbKey]=void 0,delete c.delayedLeave,d=void 0},c.delayedLeave=()=>{_(),delete c.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return o}}};function findNonCommentChild(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==Comment){t=r;break}}return t}const BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function resolveTransitionHooks(e,t,r,n,i){const{appear:o,mode:a,persisted:s=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:d,onEnterCancelled:m,onBeforeLeave:g,onLeave:v,onAfterLeave:_,onLeaveCancelled:S,onBeforeAppear:C,onAppear:y,onAfterAppear:b,onAppearCancelled:u}=t,w=String(e.key),x=getLeavingNodesForType(r,e),E=(D,B)=>{D&&callWithAsyncErrorHandling(D,n,9,B)},T=(D,B)=>{const A=B[1];E(D,B),isArray$e(D)?D.every(O=>O.length<=1)&&A():D.length<=1&&A()},k={mode:a,persisted:s,beforeEnter(D){let B=l;if(!r.isMounted)if(o)B=C||l;else return;D[leaveCbKey]&&D[leaveCbKey](!0);const A=x[w];A&&isSameVNodeType(e,A)&&A.el[leaveCbKey]&&A.el[leaveCbKey](),E(B,[D])},enter(D){let B=c,A=d,O=m;if(!r.isMounted)if(o)B=y||c,A=b||d,O=u||m;else return;let V=!1;const H=D[enterCbKey$1]=q=>{V||(V=!0,q?E(O,[D]):E(A,[D]),k.delayedLeave&&k.delayedLeave(),D[enterCbKey$1]=void 0)};B?T(B,[D,H]):H()},leave(D,B){const A=String(e.key);if(D[enterCbKey$1]&&D[enterCbKey$1](!0),r.isUnmounting)return B();E(g,[D]);let O=!1;const V=D[leaveCbKey]=H=>{O||(O=!0,B(),H?E(S,[D]):E(_,[D]),D[leaveCbKey]=void 0,x[A]===e&&delete x[A])};x[A]=e,v?T(v,[D,V]):V()},clone(D){const B=resolveTransitionHooks(D,t,r,n,i);return i&&i(B),B}};return k}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getInnerChild$1(e){if(!isKeepAlive(e))return isTeleport(e.type)&&e.children?findNonCommentChild(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&isFunction$5(r.default))return r.default()}}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?(e.transition=t,setTransitionHooks(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1,r){let n=[],i=0;for(let o=0;o<e.length;o++){let a=e[o];const s=r==null?a.key:String(r)+String(a.key!=null?a.key:o);a.type===Fragment?(a.patchFlag&128&&i++,n=n.concat(getTransitionRawChildren(a.children,t,s))):(t||a.type!==Comment)&&n.push(s!=null?cloneVNode(a,{key:s}):a)}if(i>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function defineComponent$1(e,t){return isFunction$5(e)?extend({name:e.name},t,{setup:e}):e}function useId(){const e=getCurrentInstance$1();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function markAsyncBoundary(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function setRef(e,t,r,n,i=!1){if(isArray$e(e)){e.forEach((_,S)=>setRef(_,t&&(isArray$e(t)?t[S]:t),r,n,i));return}if(isAsyncWrapper(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&setRef(e,t,r,n.component.subTree);return}const o=n.shapeFlag&4?getComponentPublicInstance(n.component):n.el,a=i?null:o,{i:s,r:l}=e,c=t&&t.r,d=s.refs===EMPTY_OBJ?s.refs={}:s.refs,m=s.setupState,g=toRaw(m),v=m===EMPTY_OBJ?NO:_=>hasOwn(g,_);if(c!=null&&c!==l){if(isString$3(c))d[c]=null,v(c)&&(m[c]=null);else if(isRef(c)){c.value=null;const _=t;_.k&&(d[_.k]=null)}}if(isFunction$5(l))callWithErrorHandling(l,s,12,[a,d]);else{const _=isString$3(l),S=isRef(l);if(_||S){const C=()=>{if(e.f){const y=_?v(l)?m[l]:d[l]:l.value;if(i)isArray$e(y)&&remove(y,o);else if(isArray$e(y))y.includes(o)||y.push(o);else if(_)d[l]=[o],v(l)&&(m[l]=d[l]);else{const b=[o];l.value=b,e.k&&(d[e.k]=b)}}else _?(d[l]=a,v(l)&&(m[l]=a)):S&&(l.value=a,e.k&&(d[e.k]=a))};a?(C.id=-1,queuePostRenderEffect(C,r)):C()}}}getGlobalThis().requestIdleCallback;getGlobalThis().cancelIdleCallback;const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,r=currentInstance){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(injectHook(t,n,r),r){let i=r.parent;for(;i&&i.parent;)isKeepAlive(i.parent.vnode)&&injectToKeepAliveRoot(n,t,r,i),i=i.parent}}function injectToKeepAliveRoot(e,t,r,n){const i=injectHook(t,e,n,!0);onUnmounted(()=>{remove(n[t],i)},r)}function injectHook(e,t,r=currentInstance,n=!1){if(r){const i=r[e]||(r[e]=[]),o=t.__weh||(t.__weh=(...a)=>{pauseTracking();const s=setCurrentInstance(r),l=callWithAsyncErrorHandling(t,r,e,a);return s(),resetTracking(),l});return n?i.unshift(o):i.push(o),o}}const createHook=e=>(t,r=currentInstance)=>{(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...n)=>t(...n),r)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(e,t){return resolveAsset(COMPONENTS,e,!0,t)||e}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(e){return isString$3(e)?resolveAsset(COMPONENTS,e,!1)||e:e||NULL_DYNAMIC_COMPONENT}function resolveDirective(e){return resolveAsset(DIRECTIVES,e)}function resolveAsset(e,t,r=!0,n=!1){const i=currentRenderingInstance||currentInstance;if(i){const o=i.type;if(e===COMPONENTS){const s=getComponentName(o,!1);if(s&&(s===t||s===camelize(t)||s===capitalize(camelize(t))))return o}const a=resolve(i[e]||o[e],t)||resolve(i.appContext[e],t);return!a&&n?o:a}}function resolve(e,t){return e&&(e[t]||e[camelize(t)]||e[capitalize(camelize(t))])}function renderList(e,t,r,n){let i;const o=r,a=isArray$e(e);if(a||isString$3(e)){const s=a&&isReactive(e);let l=!1,c=!1;s&&(l=!isShallow(e),c=isReadonly(e),e=shallowReadArray(e)),i=new Array(e.length);for(let d=0,m=e.length;d<m;d++)i[d]=t(l?c?toReadonly(toReactive(e[d])):toReactive(e[d]):e[d],d,void 0,o)}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,o)}else if(isObject$d(e))if(e[Symbol.iterator])i=Array.from(e,(s,l)=>t(s,l,void 0,o));else{const s=Object.keys(e);i=new Array(s.length);for(let l=0,c=s.length;l<c;l++){const d=s[l];i[l]=t(e[d],d,l,o)}}else i=[];return i}function createSlots(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(isArray$e(n))for(let i=0;i<n.length;i++)e[n[i].name]=n[i].fn;else n&&(e[n.name]=n.key?(...i)=>{const o=n.fn(...i);return o&&(o.key=n.key),o}:n.fn)}return e}function renderSlot(e,t,r={},n,i){if(currentRenderingInstance.ce||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.ce)return t!=="default"&&(r.name=t),openBlock(),createBlock(Fragment,null,[createVNode("slot",r,n&&n())],64);let o=e[t];o&&o._c&&(o._d=!1),openBlock();const a=o&&ensureValidVNode$1(o(r)),s=r.key||a&&a.key,l=createBlock(Fragment,{key:(s&&!isSymbol$4(s)?s:`_${t}`)+(!a&&n?"_fb":"")},a||(n?n():[]),a&&e._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function ensureValidVNode$1(e){return e.some(t=>isVNode(t)?!(t.type===Comment||t.type===Fragment&&!ensureValidVNode$1(t.children)):!0)?e:null}function toHandlers(e,t){const r={};for(const n in e)r[/[A-Z]/.test(n)?`on:${n}`:toHandlerKey(n)]=e[n];return r}const getPublicInstance=e=>e?isStatefulComponent(e)?getComponentPublicInstance(e):getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>{queueJob(e.update)}),$nextTick:e=>e.n||(e.n=nextTick$1.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:o,accessCache:a,type:s,appContext:l}=e;let c;if(t[0]!=="$"){const v=a[t];if(v!==void 0)switch(v){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return o[t]}else{if(hasSetupBinding(n,t))return a[t]=1,n[t];if(i!==EMPTY_OBJ&&hasOwn(i,t))return a[t]=2,i[t];if((c=e.propsOptions[0])&&hasOwn(c,t))return a[t]=3,o[t];if(r!==EMPTY_OBJ&&hasOwn(r,t))return a[t]=4,r[t];shouldCacheAccess&&(a[t]=0)}}const d=publicPropertiesMap[t];let m,g;if(d)return t==="$attrs"&&track(e.attrs,"get",""),d(e);if((m=s.__cssModules)&&(m=m[t]))return m;if(r!==EMPTY_OBJ&&hasOwn(r,t))return a[t]=4,r[t];if(g=l.config.globalProperties,hasOwn(g,t))return g[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:o}=e;return hasSetupBinding(i,t)?(i[t]=r,!0):n!==EMPTY_OBJ&&hasOwn(n,t)?(n[t]=r,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:o,type:a}},s){let l,c;return!!(r[s]||e!==EMPTY_OBJ&&s[0]!=="$"&&hasOwn(e,s)||hasSetupBinding(t,s)||(l=o[0])&&hasOwn(l,s)||hasOwn(n,s)||hasOwn(publicPropertiesMap,s)||hasOwn(i.config.globalProperties,s)||(c=a.__cssModules)&&c[s])},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:hasOwn(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function useSlots(){return getContext().slots}function getContext(e){const t=getCurrentInstance$1();return t.setupContext||(t.setupContext=createSetupContext(t))}function normalizePropsOrEmits(e){return isArray$e(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}function mergeModels(e,t){return!e||!t?e||t:isArray$e(e)&&isArray$e(t)?e.concat(t):extend({},normalizePropsOrEmits(e),normalizePropsOrEmits(t))}function withAsyncContext(e){const t=getCurrentInstance$1();let r=e();return unsetCurrentInstance(),isPromise(r)&&(r=r.catch(n=>{throw setCurrentInstance(t),n})),[r,()=>setCurrentInstance(t)]}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),r=e.proxy,n=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook$1(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:a,watch:s,provide:l,inject:c,created:d,beforeMount:m,mounted:g,beforeUpdate:v,updated:_,activated:S,deactivated:C,beforeDestroy:y,beforeUnmount:b,destroyed:u,unmounted:w,render:x,renderTracked:E,renderTriggered:T,errorCaptured:k,serverPrefetch:D,expose:B,inheritAttrs:A,components:O,directives:V,filters:H}=t;if(c&&resolveInjections(c,n,null),a)for(const Q in a){const X=a[Q];isFunction$5(X)&&(n[Q]=X.bind(r))}if(i){const Q=i.call(r,r);isObject$d(Q)&&(e.data=reactive(Q))}if(shouldCacheAccess=!0,o)for(const Q in o){const X=o[Q],N=isFunction$5(X)?X.bind(r,r):isFunction$5(X.get)?X.get.bind(r,r):NOOP,I=!isFunction$5(X)&&isFunction$5(X.set)?X.set.bind(r):NOOP,U=computed({get:N,set:I});Object.defineProperty(n,Q,{enumerable:!0,configurable:!0,get:()=>U.value,set:F=>U.value=F})}if(s)for(const Q in s)createWatcher(s[Q],n,r,Q);if(l){const Q=isFunction$5(l)?l.call(r):l;Reflect.ownKeys(Q).forEach(X=>{provide(X,Q[X])})}d&&callHook$1(d,e,"c");function K(Q,X){isArray$e(X)?X.forEach(N=>Q(N.bind(r))):X&&Q(X.bind(r))}if(K(onBeforeMount,m),K(onMounted,g),K(onBeforeUpdate,v),K(onUpdated,_),K(onActivated,S),K(onDeactivated,C),K(onErrorCaptured,k),K(onRenderTracked,E),K(onRenderTriggered,T),K(onBeforeUnmount,b),K(onUnmounted,w),K(onServerPrefetch,D),isArray$e(B))if(B.length){const Q=e.exposed||(e.exposed={});B.forEach(X=>{Object.defineProperty(Q,X,{get:()=>r[X],set:N=>r[X]=N,enumerable:!0})})}else e.exposed||(e.exposed={});x&&e.render===NOOP&&(e.render=x),A!=null&&(e.inheritAttrs=A),O&&(e.components=O),V&&(e.directives=V),D&&markAsyncBoundary(e)}function resolveInjections(e,t,r=NOOP){isArray$e(e)&&(e=normalizeInject(e));for(const n in e){const i=e[n];let o;isObject$d(i)?"default"in i?o=inject$1(i.from||n,i.default,!0):o=inject$1(i.from||n):o=inject$1(i),isRef(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[n]=o}}function callHook$1(e,t,r){callWithAsyncErrorHandling(isArray$e(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function createWatcher(e,t,r,n){let i=n.includes(".")?createPathGetter(r,n):()=>r[n];if(isString$3(e)){const o=t[e];isFunction$5(o)&&watch(i,o)}else if(isFunction$5(e))watch(i,e.bind(r));else if(isObject$d(e))if(isArray$e(e))e.forEach(o=>createWatcher(o,t,r,n));else{const o=isFunction$5(e.handler)?e.handler.bind(r):t[e.handler];isFunction$5(o)&&watch(i,o,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,s=o.get(t);let l;return s?l=s:!i.length&&!r&&!n?l=t:(l={},i.length&&i.forEach(c=>mergeOptions$1(l,c,a,!0)),mergeOptions$1(l,t,a)),isObject$d(t)&&o.set(t,l),l}function mergeOptions$1(e,t,r,n=!1){const{mixins:i,extends:o}=t;o&&mergeOptions$1(e,o,r,!0),i&&i.forEach(a=>mergeOptions$1(e,a,r,!0));for(const a in t)if(!(n&&a==="expose")){const s=internalOptionMergeStrats[a]||r&&r[a];e[a]=s?s(e[a],t[a]):t[a]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend(isFunction$5(e)?e.call(this,this):e,isFunction$5(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray$e(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend(Object.create(null),e,t):t}function mergeEmitsOrPropsOptions(e,t){return e?isArray$e(e)&&isArray$e(t)?[...new Set([...e,...t])]:extend(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(t??{})):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const r=extend(Object.create(null),e);for(const n in t)r[n]=mergeAsArray(e[n],t[n]);return r}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(n,i=null){isFunction$5(n)||(n=extend({},n)),i!=null&&!isObject$d(i)&&(i=null);const o=createAppContext(),a=new WeakSet,s=[];let l=!1;const c=o.app={_uid:uid$1++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:version$3,get config(){return o.config},set config(d){},use(d,...m){return a.has(d)||(d&&isFunction$5(d.install)?(a.add(d),d.install(c,...m)):isFunction$5(d)&&(a.add(d),d(c,...m))),c},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),c},component(d,m){return m?(o.components[d]=m,c):o.components[d]},directive(d,m){return m?(o.directives[d]=m,c):o.directives[d]},mount(d,m,g){if(!l){const v=c._ceVNode||createVNode(n,i);return v.appContext=o,g===!0?g="svg":g===!1&&(g=void 0),e(v,d,g),l=!0,c._container=d,d.__vue_app__=c,getComponentPublicInstance(v.component)}},onUnmount(d){s.push(d)},unmount(){l&&(callWithAsyncErrorHandling(s,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(d,m){return o.provides[d]=m,c},runWithContext(d){const m=currentApp;currentApp=c;try{return d()}finally{currentApp=m}}};return c}}let currentApp=null;function provide(e,t){if(currentInstance){let r=currentInstance.provides;const n=currentInstance.parent&&currentInstance.parent.provides;n===r&&(r=currentInstance.provides=Object.create(n)),r[e]=t}}function inject$1(e,t,r=!1){const n=getCurrentInstance$1();if(n||currentApp){let i=currentApp?currentApp._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return r&&isFunction$5(t)?t.call(n&&n.proxy):t}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=e=>Object.getPrototypeOf(e)===internalObjectProto;function initProps(e,t,r,n=!1){const i={},o=createInternalObject();e.propsDefaults=Object.create(null),setFullProps(e,t,i,o);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);r?e.props=n?i:shallowReactive(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function updateProps(e,t,r,n){const{props:i,attrs:o,vnode:{patchFlag:a}}=e,s=toRaw(i),[l]=e.propsOptions;let c=!1;if((n||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let m=0;m<d.length;m++){let g=d[m];if(isEmitListener(e.emitsOptions,g))continue;const v=t[g];if(l)if(hasOwn(o,g))v!==o[g]&&(o[g]=v,c=!0);else{const _=camelize(g);i[_]=resolvePropValue(l,s,_,v,e,!1)}else v!==o[g]&&(o[g]=v,c=!0)}}}else{setFullProps(e,t,i,o)&&(c=!0);let d;for(const m in s)(!t||!hasOwn(t,m)&&((d=hyphenate(m))===m||!hasOwn(t,d)))&&(l?r&&(r[m]!==void 0||r[d]!==void 0)&&(i[m]=resolvePropValue(l,s,m,void 0,e,!0)):delete i[m]);if(o!==s)for(const m in o)(!t||!hasOwn(t,m))&&(delete o[m],c=!0)}c&&trigger(e.attrs,"set","")}function setFullProps(e,t,r,n){const[i,o]=e.propsOptions;let a=!1,s;if(t)for(let l in t){if(isReservedProp(l))continue;const c=t[l];let d;i&&hasOwn(i,d=camelize(l))?!o||!o.includes(d)?r[d]=c:(s||(s={}))[d]=c:isEmitListener(e.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,a=!0)}if(o){const l=toRaw(r),c=s||EMPTY_OBJ;for(let d=0;d<o.length;d++){const m=o[d];r[m]=resolvePropValue(i,l,m,c[m],e,!hasOwn(c,m))}}return a}function resolvePropValue(e,t,r,n,i,o){const a=e[r];if(a!=null){const s=hasOwn(a,"default");if(s&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&isFunction$5(l)){const{propsDefaults:c}=i;if(r in c)n=c[r];else{const d=setCurrentInstance(i);n=c[r]=l.call(null,t),d()}}else n=l;i.ce&&i.ce._setProp(r,n)}a[0]&&(o&&!s?n=!1:a[1]&&(n===""||n===hyphenate(r))&&(n=!0))}return n}const mixinPropsCache=new WeakMap;function normalizePropsOptions(e,t,r=!1){const n=r?mixinPropsCache:t.propsCache,i=n.get(e);if(i)return i;const o=e.props,a={},s=[];let l=!1;if(!isFunction$5(e)){const d=m=>{l=!0;const[g,v]=normalizePropsOptions(m,t,!0);extend(a,g),v&&s.push(...v)};!r&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!o&&!l)return isObject$d(e)&&n.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$e(o))for(let d=0;d<o.length;d++){const m=camelize(o[d]);validatePropName(m)&&(a[m]=EMPTY_OBJ)}else if(o)for(const d in o){const m=camelize(d);if(validatePropName(m)){const g=o[d],v=a[m]=isArray$e(g)||isFunction$5(g)?{type:g}:extend({},g),_=v.type;let S=!1,C=!0;if(isArray$e(_))for(let y=0;y<_.length;++y){const b=_[y],u=isFunction$5(b)&&b.name;if(u==="Boolean"){S=!0;break}else u==="String"&&(C=!1)}else S=isFunction$5(_)&&_.name==="Boolean";v[0]=S,v[1]=C,(S||hasOwn(v,"default"))&&s.push(m)}}const c=[a,s];return isObject$d(e)&&n.set(e,c),c}function validatePropName(e){return e[0]!=="$"&&!isReservedProp(e)}const isInternalKey=e=>e==="_"||e==="_ctx"||e==="$stable",normalizeSlotValue=e=>isArray$e(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot$1=(e,t,r)=>{if(t._n)return t;const n=withCtx((...i)=>normalizeSlotValue(t(...i)),r);return n._c=!1,n},normalizeObjectSlots=(e,t,r)=>{const n=e._ctx;for(const i in e){if(isInternalKey(i))continue;const o=e[i];if(isFunction$5(o))t[i]=normalizeSlot$1(i,o,n);else if(o!=null){const a=normalizeSlotValue(o);t[i]=()=>a}}},normalizeVNodeSlots=(e,t)=>{const r=normalizeSlotValue(t);e.slots.default=()=>r},assignSlots=(e,t,r)=>{for(const n in t)(r||!isInternalKey(n))&&(e[n]=t[n])},initSlots=(e,t,r)=>{const n=e.slots=createInternalObject();if(e.vnode.shapeFlag&32){const i=t._;i?(assignSlots(n,t,r),r&&def(n,"_",i,!0)):normalizeObjectSlots(t,n)}else t&&normalizeVNodeSlots(e,t)},updateSlots=(e,t,r)=>{const{vnode:n,slots:i}=e;let o=!0,a=EMPTY_OBJ;if(n.shapeFlag&32){const s=t._;s?r&&s===1?o=!1:assignSlots(i,t,r):(o=!t.$stable,normalizeObjectSlots(t,i)),a=t}else t&&(normalizeVNodeSlots(e,t),a={default:1});if(o)for(const s in i)!isInternalKey(s)&&a[s]==null&&delete i[s]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const r=getGlobalThis();r.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:a,createText:s,createComment:l,setText:c,setElementText:d,parentNode:m,nextSibling:g,setScopeId:v=NOOP,insertStaticContent:_}=e,S=(L,W,J,ae=null,me=null,oe=null,_e=void 0,pe=null,se=!!W.dynamicChildren)=>{if(L===W)return;L&&!isSameVNodeType(L,W)&&(ae=j(L),F(L,me,oe,!0),L=null),W.patchFlag===-2&&(se=!1,W.dynamicChildren=null);const{type:ce,ref:ye,shapeFlag:be}=W;switch(ce){case Text$1:C(L,W,J,ae);break;case Comment:y(L,W,J,ae);break;case Static:L==null&&b(W,J,ae,_e);break;case Fragment:O(L,W,J,ae,me,oe,_e,pe,se);break;default:be&1?x(L,W,J,ae,me,oe,_e,pe,se):be&6?V(L,W,J,ae,me,oe,_e,pe,se):(be&64||be&128)&&ce.process(L,W,J,ae,me,oe,_e,pe,se,Y)}ye!=null&&me?setRef(ye,L&&L.ref,oe,W||L,!W):ye==null&&L&&L.ref!=null&&setRef(L.ref,null,oe,L,!0)},C=(L,W,J,ae)=>{if(L==null)n(W.el=s(W.children),J,ae);else{const me=W.el=L.el;W.children!==L.children&&c(me,W.children)}},y=(L,W,J,ae)=>{L==null?n(W.el=l(W.children||""),J,ae):W.el=L.el},b=(L,W,J,ae)=>{[L.el,L.anchor]=_(L.children,W,J,ae,L.el,L.anchor)},u=({el:L,anchor:W},J,ae)=>{let me;for(;L&&L!==W;)me=g(L),n(L,J,ae),L=me;n(W,J,ae)},w=({el:L,anchor:W})=>{let J;for(;L&&L!==W;)J=g(L),i(L),L=J;i(W)},x=(L,W,J,ae,me,oe,_e,pe,se)=>{W.type==="svg"?_e="svg":W.type==="math"&&(_e="mathml"),L==null?E(W,J,ae,me,oe,_e,pe,se):D(L,W,me,oe,_e,pe,se)},E=(L,W,J,ae,me,oe,_e,pe)=>{let se,ce;const{props:ye,shapeFlag:be,transition:xe,dirs:ke}=L;if(se=L.el=a(L.type,oe,ye&&ye.is,ye),be&8?d(se,L.children):be&16&&k(L.children,se,null,ae,me,resolveChildrenNamespace(L,oe),_e,pe),ke&&invokeDirectiveHook(L,null,ae,"created"),T(se,L,L.scopeId,_e,ae),ye){for(const z in ye)z!=="value"&&!isReservedProp(z)&&o(se,z,null,ye[z],oe,ae);"value"in ye&&o(se,"value",null,ye.value,oe),(ce=ye.onVnodeBeforeMount)&&invokeVNodeHook(ce,ae,L)}ke&&invokeDirectiveHook(L,null,ae,"beforeMount");const Te=needTransition(me,xe);Te&&xe.beforeEnter(se),n(se,W,J),((ce=ye&&ye.onVnodeMounted)||Te||ke)&&queuePostRenderEffect(()=>{ce&&invokeVNodeHook(ce,ae,L),Te&&xe.enter(se),ke&&invokeDirectiveHook(L,null,ae,"mounted")},me)},T=(L,W,J,ae,me)=>{if(J&&v(L,J),ae)for(let oe=0;oe<ae.length;oe++)v(L,ae[oe]);if(me){let oe=me.subTree;if(W===oe||isSuspense(oe.type)&&(oe.ssContent===W||oe.ssFallback===W)){const _e=me.vnode;T(L,_e,_e.scopeId,_e.slotScopeIds,me.parent)}}},k=(L,W,J,ae,me,oe,_e,pe,se=0)=>{for(let ce=se;ce<L.length;ce++){const ye=L[ce]=pe?cloneIfMounted(L[ce]):normalizeVNode(L[ce]);S(null,ye,W,J,ae,me,oe,_e,pe)}},D=(L,W,J,ae,me,oe,_e)=>{const pe=W.el=L.el;let{patchFlag:se,dynamicChildren:ce,dirs:ye}=W;se|=L.patchFlag&16;const be=L.props||EMPTY_OBJ,xe=W.props||EMPTY_OBJ;let ke;if(J&&toggleRecurse(J,!1),(ke=xe.onVnodeBeforeUpdate)&&invokeVNodeHook(ke,J,W,L),ye&&invokeDirectiveHook(W,L,J,"beforeUpdate"),J&&toggleRecurse(J,!0),(be.innerHTML&&xe.innerHTML==null||be.textContent&&xe.textContent==null)&&d(pe,""),ce?B(L.dynamicChildren,ce,pe,J,ae,resolveChildrenNamespace(W,me),oe):_e||X(L,W,pe,null,J,ae,resolveChildrenNamespace(W,me),oe,!1),se>0){if(se&16)A(pe,be,xe,J,me);else if(se&2&&be.class!==xe.class&&o(pe,"class",null,xe.class,me),se&4&&o(pe,"style",be.style,xe.style,me),se&8){const Te=W.dynamicProps;for(let z=0;z<Te.length;z++){const R=Te[z],$=be[R],G=xe[R];(G!==$||R==="value")&&o(pe,R,$,G,me,J)}}se&1&&L.children!==W.children&&d(pe,W.children)}else!_e&&ce==null&&A(pe,be,xe,J,me);((ke=xe.onVnodeUpdated)||ye)&&queuePostRenderEffect(()=>{ke&&invokeVNodeHook(ke,J,W,L),ye&&invokeDirectiveHook(W,L,J,"updated")},ae)},B=(L,W,J,ae,me,oe,_e)=>{for(let pe=0;pe<W.length;pe++){const se=L[pe],ce=W[pe],ye=se.el&&(se.type===Fragment||!isSameVNodeType(se,ce)||se.shapeFlag&198)?m(se.el):J;S(se,ce,ye,null,ae,me,oe,_e,!0)}},A=(L,W,J,ae,me)=>{if(W!==J){if(W!==EMPTY_OBJ)for(const oe in W)!isReservedProp(oe)&&!(oe in J)&&o(L,oe,W[oe],null,me,ae);for(const oe in J){if(isReservedProp(oe))continue;const _e=J[oe],pe=W[oe];_e!==pe&&oe!=="value"&&o(L,oe,pe,_e,me,ae)}"value"in J&&o(L,"value",W.value,J.value,me)}},O=(L,W,J,ae,me,oe,_e,pe,se)=>{const ce=W.el=L?L.el:s(""),ye=W.anchor=L?L.anchor:s("");let{patchFlag:be,dynamicChildren:xe,slotScopeIds:ke}=W;ke&&(pe=pe?pe.concat(ke):ke),L==null?(n(ce,J,ae),n(ye,J,ae),k(W.children||[],J,ye,me,oe,_e,pe,se)):be>0&&be&64&&xe&&L.dynamicChildren?(B(L.dynamicChildren,xe,J,me,oe,_e,pe),(W.key!=null||me&&W===me.subTree)&&traverseStaticChildren(L,W,!0)):X(L,W,J,ye,me,oe,_e,pe,se)},V=(L,W,J,ae,me,oe,_e,pe,se)=>{W.slotScopeIds=pe,L==null?W.shapeFlag&512?me.ctx.activate(W,J,ae,_e,se):H(W,J,ae,me,oe,_e,se):q(L,W,se)},H=(L,W,J,ae,me,oe,_e)=>{const pe=L.component=createComponentInstance(L,ae,me);if(isKeepAlive(L)&&(pe.ctx.renderer=Y),setupComponent(pe,!1,_e),pe.asyncDep){if(me&&me.registerDep(pe,K,_e),!L.el){const se=pe.subTree=createVNode(Comment);y(null,se,W,J),L.placeholder=se.el}}else K(pe,L,W,J,me,oe,_e)},q=(L,W,J)=>{const ae=W.component=L.component;if(shouldUpdateComponent(L,W,J))if(ae.asyncDep&&!ae.asyncResolved){Q(ae,W,J);return}else ae.next=W,ae.update();else W.el=L.el,ae.vnode=W},K=(L,W,J,ae,me,oe,_e)=>{const pe=()=>{if(L.isMounted){let{next:be,bu:xe,u:ke,parent:Te,vnode:z}=L;{const fe=locateNonHydratedAsyncRoot(L);if(fe){be&&(be.el=z.el,Q(L,be,_e)),fe.asyncDep.then(()=>{L.isUnmounted||pe()});return}}let R=be,$;toggleRecurse(L,!1),be?(be.el=z.el,Q(L,be,_e)):be=z,xe&&invokeArrayFns(xe),($=be.props&&be.props.onVnodeBeforeUpdate)&&invokeVNodeHook($,Te,be,z),toggleRecurse(L,!0);const G=renderComponentRoot(L),le=L.subTree;L.subTree=G,S(le,G,m(le.el),j(le),L,me,oe),be.el=G.el,R===null&&updateHOCHostEl(L,G.el),ke&&queuePostRenderEffect(ke,me),($=be.props&&be.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook($,Te,be,z),me)}else{let be;const{el:xe,props:ke}=W,{bm:Te,m:z,parent:R,root:$,type:G}=L,le=isAsyncWrapper(W);toggleRecurse(L,!1),Te&&invokeArrayFns(Te),!le&&(be=ke&&ke.onVnodeBeforeMount)&&invokeVNodeHook(be,R,W),toggleRecurse(L,!0);{$.ce&&$.ce._def.shadowRoot!==!1&&$.ce._injectChildStyle(G);const fe=L.subTree=renderComponentRoot(L);S(null,fe,J,ae,L,me,oe),W.el=fe.el}if(z&&queuePostRenderEffect(z,me),!le&&(be=ke&&ke.onVnodeMounted)){const fe=W;queuePostRenderEffect(()=>invokeVNodeHook(be,R,fe),me)}(W.shapeFlag&256||R&&isAsyncWrapper(R.vnode)&&R.vnode.shapeFlag&256)&&L.a&&queuePostRenderEffect(L.a,me),L.isMounted=!0,W=J=ae=null}};L.scope.on();const se=L.effect=new ReactiveEffect(pe);L.scope.off();const ce=L.update=se.run.bind(se),ye=L.job=se.runIfDirty.bind(se);ye.i=L,ye.id=L.uid,se.scheduler=()=>queueJob(ye),toggleRecurse(L,!0),ce()},Q=(L,W,J)=>{W.component=L;const ae=L.vnode.props;L.vnode=W,L.next=null,updateProps(L,W.props,ae,J),updateSlots(L,W.children,J),pauseTracking(),flushPreFlushCbs(L),resetTracking()},X=(L,W,J,ae,me,oe,_e,pe,se=!1)=>{const ce=L&&L.children,ye=L?L.shapeFlag:0,be=W.children,{patchFlag:xe,shapeFlag:ke}=W;if(xe>0){if(xe&128){I(ce,be,J,ae,me,oe,_e,pe,se);return}else if(xe&256){N(ce,be,J,ae,me,oe,_e,pe,se);return}}ke&8?(ye&16&&ve(ce,me,oe),be!==ce&&d(J,be)):ye&16?ke&16?I(ce,be,J,ae,me,oe,_e,pe,se):ve(ce,me,oe,!0):(ye&8&&d(J,""),ke&16&&k(be,J,ae,me,oe,_e,pe,se))},N=(L,W,J,ae,me,oe,_e,pe,se)=>{L=L||EMPTY_ARR,W=W||EMPTY_ARR;const ce=L.length,ye=W.length,be=Math.min(ce,ye);let xe;for(xe=0;xe<be;xe++){const ke=W[xe]=se?cloneIfMounted(W[xe]):normalizeVNode(W[xe]);S(L[xe],ke,J,null,me,oe,_e,pe,se)}ce>ye?ve(L,me,oe,!0,!1,be):k(W,J,ae,me,oe,_e,pe,se,be)},I=(L,W,J,ae,me,oe,_e,pe,se)=>{let ce=0;const ye=W.length;let be=L.length-1,xe=ye-1;for(;ce<=be&&ce<=xe;){const ke=L[ce],Te=W[ce]=se?cloneIfMounted(W[ce]):normalizeVNode(W[ce]);if(isSameVNodeType(ke,Te))S(ke,Te,J,null,me,oe,_e,pe,se);else break;ce++}for(;ce<=be&&ce<=xe;){const ke=L[be],Te=W[xe]=se?cloneIfMounted(W[xe]):normalizeVNode(W[xe]);if(isSameVNodeType(ke,Te))S(ke,Te,J,null,me,oe,_e,pe,se);else break;be--,xe--}if(ce>be){if(ce<=xe){const ke=xe+1,Te=ke<ye?W[ke].el:ae;for(;ce<=xe;)S(null,W[ce]=se?cloneIfMounted(W[ce]):normalizeVNode(W[ce]),J,Te,me,oe,_e,pe,se),ce++}}else if(ce>xe)for(;ce<=be;)F(L[ce],me,oe,!0),ce++;else{const ke=ce,Te=ce,z=new Map;for(ce=Te;ce<=xe;ce++){const Ne=W[ce]=se?cloneIfMounted(W[ce]):normalizeVNode(W[ce]);Ne.key!=null&&z.set(Ne.key,ce)}let R,$=0;const G=xe-Te+1;let le=!1,fe=0;const ge=new Array(G);for(ce=0;ce<G;ce++)ge[ce]=0;for(ce=ke;ce<=be;ce++){const Ne=L[ce];if($>=G){F(Ne,me,oe,!0);continue}let Me;if(Ne.key!=null)Me=z.get(Ne.key);else for(R=Te;R<=xe;R++)if(ge[R-Te]===0&&isSameVNodeType(Ne,W[R])){Me=R;break}Me===void 0?F(Ne,me,oe,!0):(ge[Me-Te]=ce+1,Me>=fe?fe=Me:le=!0,S(Ne,W[Me],J,null,me,oe,_e,pe,se),$++)}const Le=le?getSequence(ge):EMPTY_ARR;for(R=Le.length-1,ce=G-1;ce>=0;ce--){const Ne=Te+ce,Me=W[Ne],Ce=W[Ne+1],te=Ne+1<ye?Ce.el||Ce.placeholder:ae;ge[ce]===0?S(null,Me,J,te,me,oe,_e,pe,se):le&&(R<0||ce!==Le[R]?U(Me,J,te,2):R--)}}},U=(L,W,J,ae,me=null)=>{const{el:oe,type:_e,transition:pe,children:se,shapeFlag:ce}=L;if(ce&6){U(L.component.subTree,W,J,ae);return}if(ce&128){L.suspense.move(W,J,ae);return}if(ce&64){_e.move(L,W,J,Y);return}if(_e===Fragment){n(oe,W,J);for(let be=0;be<se.length;be++)U(se[be],W,J,ae);n(L.anchor,W,J);return}if(_e===Static){u(L,W,J);return}if(ae!==2&&ce&1&&pe)if(ae===0)pe.beforeEnter(oe),n(oe,W,J),queuePostRenderEffect(()=>pe.enter(oe),me);else{const{leave:be,delayLeave:xe,afterLeave:ke}=pe,Te=()=>{L.ctx.isUnmounted?i(oe):n(oe,W,J)},z=()=>{oe._isLeaving&&oe[leaveCbKey](!0),be(oe,()=>{Te(),ke&&ke()})};xe?xe(oe,Te,z):z()}else n(oe,W,J)},F=(L,W,J,ae=!1,me=!1)=>{const{type:oe,props:_e,ref:pe,children:se,dynamicChildren:ce,shapeFlag:ye,patchFlag:be,dirs:xe,cacheIndex:ke}=L;if(be===-2&&(me=!1),pe!=null&&(pauseTracking(),setRef(pe,null,J,L,!0),resetTracking()),ke!=null&&(W.renderCache[ke]=void 0),ye&256){W.ctx.deactivate(L);return}const Te=ye&1&&xe,z=!isAsyncWrapper(L);let R;if(z&&(R=_e&&_e.onVnodeBeforeUnmount)&&invokeVNodeHook(R,W,L),ye&6)he(L.component,J,ae);else{if(ye&128){L.suspense.unmount(J,ae);return}Te&&invokeDirectiveHook(L,null,W,"beforeUnmount"),ye&64?L.type.remove(L,W,J,Y,ae):ce&&!ce.hasOnce&&(oe!==Fragment||be>0&&be&64)?ve(ce,W,J,!1,!0):(oe===Fragment&&be&384||!me&&ye&16)&&ve(se,W,J),ae&&ee(L)}(z&&(R=_e&&_e.onVnodeUnmounted)||Te)&&queuePostRenderEffect(()=>{R&&invokeVNodeHook(R,W,L),Te&&invokeDirectiveHook(L,null,W,"unmounted")},J)},ee=L=>{const{type:W,el:J,anchor:ae,transition:me}=L;if(W===Fragment){ue(J,ae);return}if(W===Static){w(L);return}const oe=()=>{i(J),me&&!me.persisted&&me.afterLeave&&me.afterLeave()};if(L.shapeFlag&1&&me&&!me.persisted){const{leave:_e,delayLeave:pe}=me,se=()=>_e(J,oe);pe?pe(L.el,oe,se):se()}else oe()},ue=(L,W)=>{let J;for(;L!==W;)J=g(L),i(L),L=J;i(W)},he=(L,W,J)=>{const{bum:ae,scope:me,job:oe,subTree:_e,um:pe,m:se,a:ce}=L;invalidateMount(se),invalidateMount(ce),ae&&invokeArrayFns(ae),me.stop(),oe&&(oe.flags|=8,F(_e,L,W,J)),pe&&queuePostRenderEffect(pe,W),queuePostRenderEffect(()=>{L.isUnmounted=!0},W)},ve=(L,W,J,ae=!1,me=!1,oe=0)=>{for(let _e=oe;_e<L.length;_e++)F(L[_e],W,J,ae,me)},j=L=>{if(L.shapeFlag&6)return j(L.component.subTree);if(L.shapeFlag&128)return L.suspense.next();const W=g(L.anchor||L.el),J=W&&W[TeleportEndKey];return J?g(J):W};let M=!1;const ne=(L,W,J)=>{L==null?W._vnode&&F(W._vnode,null,null,!0):S(W._vnode||null,L,W,null,null,null,J),W._vnode=L,M||(M=!0,flushPreFlushCbs(),flushPostFlushCbs(),M=!1)},Y={p:S,um:F,m:U,r:ee,mt:H,mc:k,pc:X,pbc:B,n:j,o:e};return{render:ne,hydrate:void 0,createApp:createAppAPI(ne)}}function resolveChildrenNamespace({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function toggleRecurse({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function needTransition(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function traverseStaticChildren(e,t,r=!1){const n=e.children,i=t.children;if(isArray$e(n)&&isArray$e(i))for(let o=0;o<n.length;o++){const a=n[o];let s=i[o];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[o]=cloneIfMounted(i[o]),s.el=a.el),!r&&s.patchFlag!==-2&&traverseStaticChildren(a,s)),s.type===Text$1&&s.patchFlag!==-1&&(s.el=a.el),s.type===Comment&&!s.el&&(s.el=a.el)}}function getSequence(e){const t=e.slice(),r=[0];let n,i,o,a,s;const l=e.length;for(n=0;n<l;n++){const c=e[n];if(c!==0){if(i=r[r.length-1],e[i]<c){t[n]=i,r.push(n);continue}for(o=0,a=r.length-1;o<a;)s=o+a>>1,e[r[s]]<c?o=s+1:a=s;c<e[r[o]]&&(o>0&&(t[n]=r[o-1]),r[o]=n)}}for(o=r.length,a=r[o-1];o-- >0;)r[o]=a,a=t[a];return r}function locateNonHydratedAsyncRoot(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:locateNonHydratedAsyncRoot(t)}function invalidateMount(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject$1(ssrContextKey);function watchEffect(e,t){return doWatch(e,null,t)}function watchSyncEffect(e,t){return doWatch(e,null,{flush:"sync"})}function watch(e,t,r){return doWatch(e,t,r)}function doWatch(e,t,r=EMPTY_OBJ){const{immediate:n,deep:i,flush:o,once:a}=r,s=extend({},r),l=t&&n||!t&&o!=="post";let c;if(isInSSRComponentSetup){if(o==="sync"){const v=useSSRContext();c=v.__watcherHandles||(v.__watcherHandles=[])}else if(!l){const v=()=>{};return v.stop=NOOP,v.resume=NOOP,v.pause=NOOP,v}}const d=currentInstance;s.call=(v,_,S)=>callWithAsyncErrorHandling(v,d,_,S);let m=!1;o==="post"?s.scheduler=v=>{queuePostRenderEffect(v,d&&d.suspense)}:o!=="sync"&&(m=!0,s.scheduler=(v,_)=>{_?v():queueJob(v)}),s.augmentJob=v=>{t&&(v.flags|=4),m&&(v.flags|=2,d&&(v.id=d.uid,v.i=d))};const g=watch$1(e,t,s);return isInSSRComponentSetup&&(c?c.push(g):l&&g()),g}function instanceWatch(e,t,r){const n=this.proxy,i=isString$3(e)?e.includes(".")?createPathGetter(n,e):()=>n[e]:e.bind(n,n);let o;isFunction$5(t)?o=t:(o=t.handler,r=t);const a=setCurrentInstance(this),s=doWatch(i,o.bind(n),r);return a(),s}function createPathGetter(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function useModel(e,t,r=EMPTY_OBJ){const n=getCurrentInstance$1(),i=camelize(t),o=hyphenate(t),a=getModelModifiers(e,i),s=customRef((l,c)=>{let d,m=EMPTY_OBJ,g;return watchSyncEffect(()=>{const v=e[i];hasChanged(d,v)&&(d=v,c())}),{get(){return l(),r.get?r.get(d):d},set(v){const _=r.set?r.set(v):v;if(!hasChanged(_,d)&&!(m!==EMPTY_OBJ&&hasChanged(v,m)))return;const S=n.vnode.props;S&&(t in S||i in S||o in S)&&(`onUpdate:${t}`in S||`onUpdate:${i}`in S||`onUpdate:${o}`in S)||(d=v,c()),n.emit(`update:${t}`,_),hasChanged(v,_)&&hasChanged(v,m)&&!hasChanged(_,g)&&c(),m=v,g=_}}});return s[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?a||EMPTY_OBJ:s,done:!1}:{done:!0}}}},s}const getModelModifiers=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${camelize(t)}Modifiers`]||e[`${hyphenate(t)}Modifiers`];function emit(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||EMPTY_OBJ;let i=r;const o=t.startsWith("update:"),a=o&&getModelModifiers(n,t.slice(7));a&&(a.trim&&(i=r.map(d=>isString$3(d)?d.trim():d)),a.number&&(i=r.map(looseToNumber)));let s,l=n[s=toHandlerKey(t)]||n[s=toHandlerKey(camelize(t))];!l&&o&&(l=n[s=toHandlerKey(hyphenate(t))]),l&&callWithAsyncErrorHandling(l,e,6,i);const c=n[s+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,callWithAsyncErrorHandling(c,e,6,i)}}function normalizeEmitsOptions(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const o=e.emits;let a={},s=!1;if(!isFunction$5(e)){const l=c=>{const d=normalizeEmitsOptions(c,t,!0);d&&(s=!0,extend(a,d))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!s?(isObject$d(e)&&n.set(e,null),null):(isArray$e(o)?o.forEach(l=>a[l]=null):extend(a,o),isObject$d(e)&&n.set(e,a),a)}function isEmitListener(e,t){return!e||!isOn$1(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:r,proxy:n,withProxy:i,propsOptions:[o],slots:a,attrs:s,emit:l,render:c,renderCache:d,props:m,data:g,setupState:v,ctx:_,inheritAttrs:S}=e,C=setCurrentRenderingInstance(e);let y,b;try{if(r.shapeFlag&4){const w=i||n,x=w;y=normalizeVNode(c.call(x,w,d,m,v,g,_)),b=s}else{const w=t;y=normalizeVNode(w.length>1?w(m,{attrs:s,slots:a,emit:l}):w(m,null)),b=t.props?s:getFunctionalFallthrough(s)}}catch(w){blockStack.length=0,handleError(w,e,1),y=createVNode(Comment)}let u=y;if(b&&S!==!1){const w=Object.keys(b),{shapeFlag:x}=u;w.length&&x&7&&(o&&w.some(isModelListener)&&(b=filterModelListeners(b,o)),u=cloneVNode(u,b,!1,!0))}return r.dirs&&(u=cloneVNode(u,null,!1,!0),u.dirs=u.dirs?u.dirs.concat(r.dirs):r.dirs),r.transition&&setTransitionHooks(u,r.transition),y=u,setCurrentRenderingInstance(C),y}function filterSingleRoot(e,t=!0){let r;for(let n=0;n<e.length;n++){const i=e[n];if(isVNode(i)){if(i.type!==Comment||i.children==="v-if"){if(r)return;r=i}}else return}return r}const getFunctionalFallthrough=e=>{let t;for(const r in e)(r==="class"||r==="style"||isOn$1(r))&&((t||(t={}))[r]=e[r]);return t},filterModelListeners=(e,t)=>{const r={};for(const n in e)(!isModelListener(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function shouldUpdateComponent(e,t,r){const{props:n,children:i,component:o}=e,{props:a,children:s,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?hasPropsChanged(n,a,c):!!a;if(l&8){const d=t.dynamicProps;for(let m=0;m<d.length;m++){const g=d[m];if(a[g]!==n[g]&&!isEmitListener(c,g))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===a?!1:n?a?hasPropsChanged(n,a,c):!0:!!a;return!1}function hasPropsChanged(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!isEmitListener(r,o))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const isSuspense=e=>e.__isSuspense;let suspenseId=0;const SuspenseImpl={name:"Suspense",__isSuspense:!0,process(e,t,r,n,i,o,a,s,l,c){if(e==null)mountSuspense(t,r,n,i,o,a,s,l,c);else{if(o&&o.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}patchSuspense(e,t,r,n,i,a,s,l,c)}},hydrate:hydrateSuspense,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(e,t){const r=e.props&&e.props[t];isFunction$5(r)&&r()}function mountSuspense(e,t,r,n,i,o,a,s,l){const{p:c,o:{createElement:d}}=l,m=d("div"),g=e.suspense=createSuspenseBoundary(e,i,n,t,m,r,o,a,s,l);c(null,g.pendingBranch=e.ssContent,m,null,n,g,o,a),g.deps>0?(triggerEvent(e,"onPending"),triggerEvent(e,"onFallback"),c(null,e.ssFallback,t,r,n,null,o,a),setActiveBranch(g,e.ssFallback)):g.resolve(!1,!0)}function patchSuspense(e,t,r,n,i,o,a,s,{p:l,um:c,o:{createElement:d}}){const m=t.suspense=e.suspense;m.vnode=t,t.el=e.el;const g=t.ssContent,v=t.ssFallback,{activeBranch:_,pendingBranch:S,isInFallback:C,isHydrating:y}=m;if(S)m.pendingBranch=g,isSameVNodeType(g,S)?(l(S,g,m.hiddenContainer,null,i,m,o,a,s),m.deps<=0?m.resolve():C&&(y||(l(_,v,r,n,i,null,o,a,s),setActiveBranch(m,v)))):(m.pendingId=suspenseId++,y?(m.isHydrating=!1,m.activeBranch=S):c(S,i,m),m.deps=0,m.effects.length=0,m.hiddenContainer=d("div"),C?(l(null,g,m.hiddenContainer,null,i,m,o,a,s),m.deps<=0?m.resolve():(l(_,v,r,n,i,null,o,a,s),setActiveBranch(m,v))):_&&isSameVNodeType(g,_)?(l(_,g,r,n,i,m,o,a,s),m.resolve(!0)):(l(null,g,m.hiddenContainer,null,i,m,o,a,s),m.deps<=0&&m.resolve()));else if(_&&isSameVNodeType(g,_))l(_,g,r,n,i,m,o,a,s),setActiveBranch(m,g);else if(triggerEvent(t,"onPending"),m.pendingBranch=g,g.shapeFlag&512?m.pendingId=g.component.suspenseId:m.pendingId=suspenseId++,l(null,g,m.hiddenContainer,null,i,m,o,a,s),m.deps<=0)m.resolve();else{const{timeout:b,pendingId:u}=m;b>0?setTimeout(()=>{m.pendingId===u&&m.fallback(v)},b):b===0&&m.fallback(v)}}function createSuspenseBoundary(e,t,r,n,i,o,a,s,l,c,d=!1){const{p:m,m:g,um:v,n:_,o:{parentNode:S,remove:C}}=c;let y;const b=isVNodeSuspensible(e);b&&t&&t.pendingBranch&&(y=t.pendingId,t.deps++);const u=e.props?toNumber(e.props.timeout):void 0,w=o,x={vnode:e,parent:t,parentComponent:r,namespace:a,container:n,hiddenContainer:i,deps:0,pendingId:suspenseId++,timeout:typeof u=="number"?u:-1,activeBranch:null,pendingBranch:null,isInFallback:!d,isHydrating:d,isUnmounted:!1,effects:[],resolve(E=!1,T=!1){const{vnode:k,activeBranch:D,pendingBranch:B,pendingId:A,effects:O,parentComponent:V,container:H}=x;let q=!1;x.isHydrating?x.isHydrating=!1:E||(q=D&&B.transition&&B.transition.mode==="out-in",q&&(D.transition.afterLeave=()=>{A===x.pendingId&&(g(B,H,o===w?_(D):o,0),queuePostFlushCb(O))}),D&&(S(D.el)===H&&(o=_(D)),v(D,V,x,!0)),q||g(B,H,o,0)),setActiveBranch(x,B),x.pendingBranch=null,x.isInFallback=!1;let K=x.parent,Q=!1;for(;K;){if(K.pendingBranch){K.effects.push(...O),Q=!0;break}K=K.parent}!Q&&!q&&queuePostFlushCb(O),x.effects=[],b&&t&&t.pendingBranch&&y===t.pendingId&&(t.deps--,t.deps===0&&!T&&t.resolve()),triggerEvent(k,"onResolve")},fallback(E){if(!x.pendingBranch)return;const{vnode:T,activeBranch:k,parentComponent:D,container:B,namespace:A}=x;triggerEvent(T,"onFallback");const O=_(k),V=()=>{x.isInFallback&&(m(null,E,B,O,D,null,A,s,l),setActiveBranch(x,E))},H=E.transition&&E.transition.mode==="out-in";H&&(k.transition.afterLeave=V),x.isInFallback=!0,v(k,D,null,!0),H||V()},move(E,T,k){x.activeBranch&&g(x.activeBranch,E,T,k),x.container=E},next(){return x.activeBranch&&_(x.activeBranch)},registerDep(E,T,k){const D=!!x.pendingBranch;D&&x.deps++;const B=E.vnode.el;E.asyncDep.catch(A=>{handleError(A,E,0)}).then(A=>{if(E.isUnmounted||x.isUnmounted||x.pendingId!==E.suspenseId)return;E.asyncResolved=!0;const{vnode:O}=E;handleSetupResult(E,A,!1),B&&(O.el=B);const V=!B&&E.subTree.el;T(E,O,S(B||E.subTree.el),B?null:_(E.subTree),x,a,k),V&&C(V),updateHOCHostEl(E,O.el),D&&--x.deps===0&&x.resolve()})},unmount(E,T){x.isUnmounted=!0,x.activeBranch&&v(x.activeBranch,r,E,T),x.pendingBranch&&v(x.pendingBranch,r,E,T)}};return x}function hydrateSuspense(e,t,r,n,i,o,a,s,l){const c=t.suspense=createSuspenseBoundary(t,n,r,e.parentNode,document.createElement("div"),null,i,o,a,s,!0),d=l(e,c.pendingBranch=t.ssContent,r,c,o,a);return c.deps===0&&c.resolve(!1,!0),d}function normalizeSuspenseChildren(e){const{shapeFlag:t,children:r}=e,n=t&32;e.ssContent=normalizeSuspenseSlot(n?r.default:r),e.ssFallback=n?normalizeSuspenseSlot(r.fallback):createVNode(Comment)}function normalizeSuspenseSlot(e){let t;if(isFunction$5(e)){const r=isBlockTreeEnabled&&e._c;r&&(e._d=!1,openBlock()),e=e(),r&&(e._d=!0,t=currentBlock,closeBlock())}return isArray$e(e)&&(e=filterSingleRoot(e)),e=normalizeVNode(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(r=>r!==e)),e}function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray$e(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}function setActiveBranch(e,t){e.activeBranch=t;const{vnode:r,parentComponent:n}=e;let i=t.el;for(;!i&&t.component;)t=t.component.subTree,i=t.el;r.el=i,n&&n.subTree===r&&(n.vnode.el=i,updateHOCHostEl(n,i))}function isVNodeSuspensible(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const Fragment=Symbol.for("v-fgt"),Text$1=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e,t=!1){isBlockTreeEnabled+=e,e<0&&currentBlock&&t&&(currentBlock.hasOnce=!0)}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,r,n,i,o){return setupBlock(createBaseVNode(e,t,r,n,i,o,!0))}function createBlock(e,t,r,n,i){return setupBlock(createVNode(e,t,r,n,i,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?isString$3(e)||isRef(e)||isFunction$5(e)?{i:currentRenderingInstance,r:e,k:t,f:!!r}:e:null);function createBaseVNode(e,t=null,r=null,n=0,i=null,o=e===Fragment?0:1,a=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return s?(normalizeChildren(l,r),o&128&&e.normalize(l)):r&&(l.shapeFlag|=isString$3(r)?8:16),isBlockTreeEnabled>0&&!a&&currentBlock&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&currentBlock.push(l),l}const createVNode=_createVNode;function _createVNode(e,t=null,r=null,n=0,i=null,o=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const s=cloneVNode(e,t,!0);return r&&normalizeChildren(s,r),isBlockTreeEnabled>0&&!o&&currentBlock&&(s.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=s:currentBlock.push(s)),s.patchFlag=-2,s}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:s,style:l}=t;s&&!isString$3(s)&&(t.class=normalizeClass(s)),isObject$d(l)&&(isProxy(l)&&!isArray$e(l)&&(l=extend({},l)),t.style=normalizeStyle(l))}const a=isString$3(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$d(e)?4:isFunction$5(e)?2:0;return createBaseVNode(e,t,r,n,i,a,o,!0)}function guardReactiveProps(e){return e?isProxy(e)||isInternalObject(e)?extend({},e):e:null}function cloneVNode(e,t,r=!1,n=!1){const{props:i,ref:o,patchFlag:a,children:s,transition:l}=e,c=t?mergeProps(i||{},t):i,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&normalizeKey(c),ref:t&&t.ref?r&&o?isArray$e(o)?o.concat(normalizeRef(t)):[o,normalizeRef(t)]:normalizeRef(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&setTransitionHooks(d,l.clone(d)),d}function createTextVNode(e=" ",t=0){return createVNode(Text$1,null,e,t)}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$e(e)?createVNode(Fragment,null,e.slice()):isVNode(e)?cloneIfMounted(e):createVNode(Text$1,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(isArray$e(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),normalizeChildren(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!isInternalObject(t)?t._ctx=currentRenderingInstance:i===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction$5(t)?(t={default:t,_ctx:currentRenderingInstance},r=32):(t=String(t),n&64?(r=16,t=[createTextVNode(t)]):r=8);e.children=t,e.shapeFlag|=r}function mergeProps(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=normalizeClass([t.class,n.class]));else if(i==="style")t.style=normalizeStyle([t.style,n.style]);else if(isOn$1(i)){const o=t[i],a=n[i];a&&o!==a&&!(isArray$e(o)&&o.includes(a))&&(t[i]=o?[].concat(o,a):a)}else i!==""&&(t[i]=n[i])}return t}function invokeVNodeHook(e,t,r,n=null){callWithAsyncErrorHandling(e,t,7,[r,n])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||emptyAppContext,o={uid:uid++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(n,i),emitsOptions:normalizeEmitsOptions(n,i),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:n.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=emit.bind(null,o),e.ce&&e.ce(o),o}let currentInstance=null;const getCurrentInstance$1=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const e=getGlobalThis(),t=(r,n)=>{let i;return(i=e[r])||(i=e[r]=[]),i.push(n),o=>{i.length>1?i.forEach(a=>a(o)):i[0](o)}};internalSetCurrentInstance=t("__VUE_INSTANCE_SETTERS__",r=>currentInstance=r),setInSSRSetupState=t("__VUE_SSR_SETTERS__",r=>isInSSRComponentSetup=r)}const setCurrentInstance=e=>{const t=currentInstance;return internalSetCurrentInstance(e),e.scope.on(),()=>{e.scope.off(),internalSetCurrentInstance(t)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1,r=!1){t&&setInSSRSetupState(t);const{props:n,children:i}=e.vnode,o=isStatefulComponent(e);initProps(e,n,o,t),initSlots(e,i,r||t);const a=o?setupStatefulComponent(e,t):void 0;return t&&setInSSRSetupState(!1),a}function setupStatefulComponent(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,PublicInstanceProxyHandlers);const{setup:n}=r;if(n){pauseTracking();const i=e.setupContext=n.length>1?createSetupContext(e):null,o=setCurrentInstance(e),a=callWithErrorHandling(n,e,0,[e.props,i]),s=isPromise(a);if(resetTracking(),o(),(s||e.sp)&&!isAsyncWrapper(e)&&markAsyncBoundary(e),s){if(a.then(unsetCurrentInstance,unsetCurrentInstance),t)return a.then(l=>{handleSetupResult(e,l,t)}).catch(l=>{handleError(l,e,0)});e.asyncDep=a}else handleSetupResult(e,a,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,r){isFunction$5(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject$d(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,r)}let compile$1;function finishComponentSetup(e,t,r){const n=e.type;if(!e.render){if(!t&&compile$1&&!n.render){const i=n.template||resolveMergedOptions(e).template;if(i){const{isCustomElement:o,compilerOptions:a}=e.appContext.config,{delimiters:s,compilerOptions:l}=n,c=extend(extend({isCustomElement:o,delimiters:s},a),l);n.render=compile$1(i,c)}}e.render=n.render||NOOP}{const i=setCurrentInstance(e);pauseTracking();try{applyOptions(e)}finally{resetTracking(),i()}}}const attrsProxyHandlers={get(e,t){return track(e,"get",""),e[t]}};function createSetupContext(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,attrsProxyHandlers),slots:e.slots,emit:e.emit,expose:t}}function getComponentPublicInstance(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](e)},has(t,r){return r in t||r in publicPropertiesMap}})):e.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=e=>e.replace(classifyRE,t=>t.toUpperCase()).replace(/[-_]/g,"");function getComponentName(e,t=!0){return isFunction$5(e)?e.displayName||e.name:e.name||t&&e.__name}function formatComponentName(e,t,r=!1){let n=getComponentName(t);if(!n&&t.__file){const i=t.__file.match(/([^/\\]+)\.\w+$/);i&&(n=i[1])}if(!n&&e&&e.parent){const i=o=>{for(const a in o)if(o[a]===t)return a};n=i(e.components||e.parent.type.components)||i(e.appContext.components)}return n?classify(n):r?"App":"Anonymous"}function isClassComponent(e){return isFunction$5(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function h(e,t,r){const n=arguments.length;return n===2?isObject$d(t)&&!isArray$e(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&isVNode(r)&&(r=[r]),createVNode(e,t,r))}const version$3="3.5.19";/**
* @vue/runtime-dom v3.5.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:e=>e})}catch{}const unsafeToTrustedHTML=policy?e=>policy.createHTML(e):e=>e,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t==="svg"?doc.createElementNS(svgNS,e):t==="mathml"?doc.createElementNS(mathmlNS,e):r?doc.createElement(e,{is:r}):doc.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,o){const a=r?r.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===o||!(i=i.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const s=templateContainer.content;if(n==="svg"||n==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),decorate$1=e=>(e.displayName="Transition",e.props=TransitionPropsValidators,e),Transition=decorate$1((e,{slots:t})=>h(BaseTransition,resolveTransitionProps(e),t)),callHook=(e,t=[])=>{isArray$e(e)?e.forEach(r=>r(...t)):e&&e(...t)},hasExplicitCallback=e=>e?isArray$e(e)?e.some(t=>t.length>1):e.length>1:!1;function resolveTransitionProps(e){const t={};for(const O in e)O in DOMTransitionPropsValidators||(t[O]=e[O]);if(e.css===!1)return t;const{name:r="v",type:n,duration:i,enterFromClass:o=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:s=`${r}-enter-to`,appearFromClass:l=o,appearActiveClass:c=a,appearToClass:d=s,leaveFromClass:m=`${r}-leave-from`,leaveActiveClass:g=`${r}-leave-active`,leaveToClass:v=`${r}-leave-to`}=e,_=normalizeDuration(i),S=_&&_[0],C=_&&_[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:u,onLeave:w,onLeaveCancelled:x,onBeforeAppear:E=y,onAppear:T=b,onAppearCancelled:k=u}=t,D=(O,V,H,q)=>{O._enterCancelled=q,removeTransitionClass(O,V?d:s),removeTransitionClass(O,V?c:a),H&&H()},B=(O,V)=>{O._isLeaving=!1,removeTransitionClass(O,m),removeTransitionClass(O,v),removeTransitionClass(O,g),V&&V()},A=O=>(V,H)=>{const q=O?T:b,K=()=>D(V,O,H);callHook(q,[V,K]),nextFrame(()=>{removeTransitionClass(V,O?l:o),addTransitionClass(V,O?d:s),hasExplicitCallback(q)||whenTransitionEnds(V,n,S,K)})};return extend(t,{onBeforeEnter(O){callHook(y,[O]),addTransitionClass(O,o),addTransitionClass(O,a)},onBeforeAppear(O){callHook(E,[O]),addTransitionClass(O,l),addTransitionClass(O,c)},onEnter:A(!1),onAppear:A(!0),onLeave(O,V){O._isLeaving=!0;const H=()=>B(O,V);addTransitionClass(O,m),O._enterCancelled?(addTransitionClass(O,g),forceReflow()):(forceReflow(),addTransitionClass(O,g)),nextFrame(()=>{O._isLeaving&&(removeTransitionClass(O,m),addTransitionClass(O,v),hasExplicitCallback(w)||whenTransitionEnds(O,n,C,H))}),callHook(w,[O,H])},onEnterCancelled(O){D(O,!1,void 0,!0),callHook(u,[O])},onAppearCancelled(O){D(O,!0,void 0,!0),callHook(k,[O])},onLeaveCancelled(O){B(O),callHook(x,[O])}})}function normalizeDuration(e){if(e==null)return null;if(isObject$d(e))return[NumberOf(e.enter),NumberOf(e.leave)];{const t=NumberOf(e);return[t,t]}}function NumberOf(e){return toNumber(e)}function addTransitionClass(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[vtcKey]||(e[vtcKey]=new Set)).add(t)}function removeTransitionClass(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const r=e[vtcKey];r&&(r.delete(t),r.size||(e[vtcKey]=void 0))}function nextFrame(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let endId=0;function whenTransitionEnds(e,t,r,n){const i=e._endId=++endId,o=()=>{i===e._endId&&n()};if(r!=null)return setTimeout(o,r);const{type:a,timeout:s,propCount:l}=getTransitionInfo(e,t);if(!a)return n();const c=a+"end";let d=0;const m=()=>{e.removeEventListener(c,g),o()},g=v=>{v.target===e&&++d>=l&&m()};setTimeout(()=>{d<l&&m()},s+1),e.addEventListener(c,g)}function getTransitionInfo(e,t){const r=window.getComputedStyle(e),n=_=>(r[_]||"").split(", "),i=n(`${TRANSITION}Delay`),o=n(`${TRANSITION}Duration`),a=getTimeout(i,o),s=n(`${ANIMATION}Delay`),l=n(`${ANIMATION}Duration`),c=getTimeout(s,l);let d=null,m=0,g=0;t===TRANSITION?a>0&&(d=TRANSITION,m=a,g=o.length):t===ANIMATION?c>0&&(d=ANIMATION,m=c,g=l.length):(m=Math.max(a,c),d=m>0?a>c?TRANSITION:ANIMATION:null,g=d?d===TRANSITION?o.length:l.length:0);const v=d===TRANSITION&&/\b(transform|all)(,|$)/.test(n(`${TRANSITION}Property`).toString());return{type:d,timeout:m,propCount:g,hasTransform:v}}function getTimeout(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>toMs(r)+toMs(e[n])))}function toMs(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(e,t,r){const n=e[vtcKey];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={beforeMount(e,{value:t},{transition:r}){e[vShowOriginalDisplay]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):setDisplay(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),setDisplay(e,!0),n.enter(e)):n.leave(e,()=>{setDisplay(e,!1)}):setDisplay(e,t))},beforeUnmount(e,{value:t}){setDisplay(e,t)}};function setDisplay(e,t){e.style.display=t?e[vShowOriginalDisplay]:"none",e[vShowHidden]=!t}const CSS_VAR_TEXT=Symbol("");function useCssVars(e){const t=getCurrentInstance$1();if(!t)return;const r=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(o=>setVarsOnNode(o,i))},n=()=>{const i=e(t.proxy);t.ce?setVarsOnNode(t.ce,i):setVarsOnVNode(t.subTree,i),r(i)};onBeforeUpdate(()=>{queuePostFlushCb(n)}),onMounted(()=>{watch(n,NOOP,{flush:"post"});const i=new MutationObserver(n);i.observe(t.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>i.disconnect())})}function setVarsOnVNode(e,t){if(e.shapeFlag&128){const r=e.suspense;e=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{setVarsOnVNode(r.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)setVarsOnNode(e.el,t);else if(e.type===Fragment)e.children.forEach(r=>setVarsOnVNode(r,t));else if(e.type===Static){let{el:r,anchor:n}=e;for(;r&&(setVarsOnNode(r,t),r!==n);)r=r.nextSibling}}function setVarsOnNode(e,t){if(e.nodeType===1){const r=e.style;let n="";for(const i in t){const o=normalizeCssVarValue(t[i]);r.setProperty(`--${i}`,o),n+=`--${i}: ${o};`}r[CSS_VAR_TEXT]=n}}const displayRE=/(^|;)\s*display\s*:/;function patchStyle(e,t,r){const n=e.style,i=isString$3(r);let o=!1;if(r&&!i){if(t)if(isString$3(t))for(const a of t.split(";")){const s=a.slice(0,a.indexOf(":")).trim();r[s]==null&&setStyle(n,s,"")}else for(const a in t)r[a]==null&&setStyle(n,a,"");for(const a in r)a==="display"&&(o=!0),setStyle(n,a,r[a])}else if(i){if(t!==r){const a=n[CSS_VAR_TEXT];a&&(r+=";"+a),n.cssText=r,o=displayRE.test(r)}}else t&&e.removeAttribute("style");vShowOriginalDisplay in e&&(e[vShowOriginalDisplay]=o?n.display:"",e[vShowHidden]&&(n.display="none"))}const importantRE=/\s*!important$/;function setStyle(e,t,r){if(isArray$e(r))r.forEach(n=>setStyle(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=autoPrefix(e,t);importantRE.test(r)?e.setProperty(hyphenate(n),r.replace(importantRE,""),"important"):e[n]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const r=prefixCache[t];if(r)return r;let n=camelize(t);if(n!=="filter"&&n in e)return prefixCache[t]=n;n=capitalize(n);for(let i=0;i<prefixes.length;i++){const o=prefixes[i]+n;if(o in e)return prefixCache[t]=o}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,r,n,i,o=isSpecialBooleanAttr(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,r):r==null||o&&!includeBooleanAttr(r)?e.removeAttribute(t):e.setAttribute(t,o?"":isSymbol$4(r)?String(r):r)}function patchDOMProp(e,t,r,n,i){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?unsafeToTrustedHTML(r):r);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const s=o==="OPTION"?e.getAttribute("value")||"":e.value,l=r==null?e.type==="checkbox"?"on":"":String(r);(s!==l||!("_value"in e))&&(e.value=l),r==null&&e.removeAttribute(t),e._value=r;return}let a=!1;if(r===""||r==null){const s=typeof e[t];s==="boolean"?r=includeBooleanAttr(r):r==null&&s==="string"?(r="",a=!0):s==="number"&&(r=0,a=!0)}try{e[t]=r}catch{}a&&e.removeAttribute(i||t)}function addEventListener$1(e,t,r,n){e.addEventListener(t,r,n)}function removeEventListener$1(e,t,r,n){e.removeEventListener(t,r,n)}const veiKey=Symbol("_vei");function patchEvent(e,t,r,n,i=null){const o=e[veiKey]||(e[veiKey]={}),a=o[t];if(n&&a)a.value=n;else{const[s,l]=parseName(t);if(n){const c=o[t]=createInvoker(n,i);addEventListener$1(e,s,c,l)}else a&&(removeEventListener$1(e,s,a,l),o[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let n;for(;n=e.match(optionsModifierRE);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(n,r.value),t,5,[n])};return r.value=e,r.attached=getNow(),r}function patchStopImmediatePropagation(e,t){if(isArray$e(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const isNativeOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,patchProp=(e,t,r,n,i,o)=>{const a=i==="svg";t==="class"?patchClass(e,n,a):t==="style"?patchStyle(e,r,n):isOn$1(t)?isModelListener(t)||patchEvent(e,t,r,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,n,a))?(patchDOMProp(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&patchAttr(e,t,n,a,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!isString$3(n))?patchDOMProp(e,camelize(t),n,o,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),patchAttr(e,t,n,a))};function shouldSetAsProp(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&isNativeOn(t)&&isFunction$5(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return isNativeOn(t)&&isString$3(r)?!1:t in e}const positionMap=new WeakMap,newPositionMap=new WeakMap,moveCbKey=Symbol("_moveCb"),enterCbKey=Symbol("_enterCb"),decorate=e=>(delete e.props.mode,e),TransitionGroupImpl=decorate({name:"TransitionGroup",props:extend({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=getCurrentInstance$1(),n=useTransitionState();let i,o;return onUpdated(()=>{if(!i.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!hasCSSTransform(i[0].el,r.vnode.el,a)){i=[];return}i.forEach(callPendingCbs),i.forEach(recordPosition);const s=i.filter(applyTranslation);forceReflow(),s.forEach(l=>{const c=l.el,d=c.style;addTransitionClass(c,a),d.transform=d.webkitTransform=d.transitionDuration="";const m=c[moveCbKey]=g=>{g&&g.target!==c||(!g||/transform$/.test(g.propertyName))&&(c.removeEventListener("transitionend",m),c[moveCbKey]=null,removeTransitionClass(c,a))};c.addEventListener("transitionend",m)}),i=[]}),()=>{const a=toRaw(e),s=resolveTransitionProps(a);let l=a.tag||Fragment;if(i=[],o)for(let c=0;c<o.length;c++){const d=o[c];d.el&&d.el instanceof Element&&(i.push(d),setTransitionHooks(d,resolveTransitionHooks(d,s,n,r)),positionMap.set(d,d.el.getBoundingClientRect()))}o=t.default?getTransitionRawChildren(t.default()):[];for(let c=0;c<o.length;c++){const d=o[c];d.key!=null&&setTransitionHooks(d,resolveTransitionHooks(d,s,n,r))}return createVNode(l,null,o)}}}),TransitionGroup=TransitionGroupImpl;function callPendingCbs(e){const t=e.el;t[moveCbKey]&&t[moveCbKey](),t[enterCbKey]&&t[enterCbKey]()}function recordPosition(e){newPositionMap.set(e,e.el.getBoundingClientRect())}function applyTranslation(e){const t=positionMap.get(e),r=newPositionMap.get(e),n=t.left-r.left,i=t.top-r.top;if(n||i){const o=e.el.style;return o.transform=o.webkitTransform=`translate(${n}px,${i}px)`,o.transitionDuration="0s",e}}function hasCSSTransform(e,t,r){const n=e.cloneNode(),i=e[vtcKey];i&&i.forEach(s=>{s.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),r.split(/\s+/).forEach(s=>s&&n.classList.add(s)),n.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(n);const{hasTransform:a}=getTransitionInfo(n);return o.removeChild(n),a}const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray$e(t)?r=>invokeArrayFns(t,r):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(e,{modifiers:{lazy:t,trim:r,number:n}},i){e[assignKey]=getModelAssigner(i);const o=n||i.props&&i.props.type==="number";addEventListener$1(e,t?"change":"input",a=>{if(a.target.composing)return;let s=e.value;r&&(s=s.trim()),o&&(s=looseToNumber(s)),e[assignKey](s)}),r&&addEventListener$1(e,"change",()=>{e.value=e.value.trim()}),t||(addEventListener$1(e,"compositionstart",onCompositionStart),addEventListener$1(e,"compositionend",onCompositionEnd),addEventListener$1(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:n,trim:i,number:o}},a){if(e[assignKey]=getModelAssigner(a),e.composing)return;const s=(o||e.type==="number")&&!/^0\d/.test(e.value)?looseToNumber(e.value):e.value,l=t??"";s!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===r||i&&e.value.trim()===l)||(e.value=l))}},systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>systemModifiers.some(r=>e[`${r}Key`]&&!t.includes(r))},withModifiers=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=(i,...o)=>{for(let a=0;a<t.length;a++){const s=modifierGuards[t[a]];if(s&&s(i,t))return}return e(i,...o)})},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=i=>{if(!("key"in i))return;const o=hyphenate(i.key);if(t.some(a=>a===o||keyNames[a]===o))return e(i)})},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const render=(...e)=>{ensureRenderer().render(...e)},createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=normalizeContainer(n);if(!i)return;const o=t._component;!isFunction$5(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=r(i,!1,resolveRootNamespace(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function resolveRootNamespace(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function normalizeContainer(e){return isString$3(e)?document.querySelector(e):e}const aliases$1={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload",color:"mdi-palette",command:"mdi-apple-keyboard-command",ctrl:"mdi-apple-keyboard-control",space:"mdi-keyboard-space",shift:"mdi-apple-keyboard-shift",alt:"mdi-apple-keyboard-option",enter:"mdi-keyboard-return",arrowup:"mdi-arrow-up",arrowdown:"mdi-arrow-down",arrowleft:"mdi-arrow-left",arrowright:"mdi-arrow-right",backspace:"mdi-backspace",play:"mdi-play",pause:"mdi-pause",fullscreen:"mdi-fullscreen",fullscreenExit:"mdi-fullscreen-exit",volumeHigh:"mdi-volume-high",volumeMedium:"mdi-volume-medium",volumeLow:"mdi-volume-low",volumeOff:"mdi-volume-variant-off"},mdi={component:e=>h(VClassIcon,{...e,class:"mdi"})},IN_BROWSER=typeof window<"u",SUPPORTS_INTERSECTION=IN_BROWSER&&"IntersectionObserver"in window,SUPPORTS_TOUCH=IN_BROWSER&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),SUPPORTS_MATCH_MEDIA=IN_BROWSER&&"matchMedia"in window&&typeof window.matchMedia=="function";function _classPrivateFieldInitSpec(e,t,r){_checkPrivateRedeclaration(e,t),t.set(e,r)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(e,t,r){return e.set(_assertClassBrand(e,t),r),r}function _classPrivateFieldGet(e,t){return e.get(_assertClassBrand(e,t))}function _assertClassBrand(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}function getNestedValue(e,t,r){const n=t.length-1;if(n<0)return e===void 0?r:e;for(let i=0;i<n;i++){if(e==null)return r;e=e[t[i]]}return e==null||e[t[n]]===void 0?r:e[t[n]]}function deepEqual(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const r=Object.keys(e);return r.length!==Object.keys(t).length?!1:r.every(n=>deepEqual(e[n],t[n]))}function getObjectValueByPath(e,t,r){return e==null||!t||typeof t!="string"?r:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),getNestedValue(e,t.split("."),r))}function getPropertyFromItem(e,t,r){if(t===!0)return e===void 0?r:e;if(t==null||typeof t=="boolean")return r;if(e!==Object(e)){if(typeof t!="function")return r;const i=t(e,r);return typeof i>"u"?r:i}if(typeof t=="string")return getObjectValueByPath(e,t,r);if(Array.isArray(t))return getNestedValue(e,t,r);if(typeof t!="function")return r;const n=t(e,r);return typeof n>"u"?r:n}function createRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(r,n)=>t+n)}function convertToUnit(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(e==null||e==="")return;const r=Number(e);return isNaN(r)?String(e):isFinite(r)?`${r}${t}`:void 0}function isObject$c(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function isPlainObject$2(e){let t;return e!==null&&typeof e=="object"&&((t=Object.getPrototypeOf(e))===Object.prototype||t===null)}function refElement(e){if(e&&"$el"in e){const t=e.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return e}const keyValues=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function keys$4(e){return Object.keys(e)}function has$3(e,t){return t.every(r=>e.hasOwnProperty(r))}function pick$2(e,t){const r={};for(const n of t)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function pickWithRest(e,t,r){const n=Object.create(null),i=Object.create(null);for(const o in e)t.some(a=>a instanceof RegExp?a.test(o):a===o)?n[o]=e[o]:i[o]=e[o];return[n,i]}function omit$1(e,t){const r={...e};return t.forEach(n=>delete r[n]),r}const onRE=/^on[^a-z]/,isOn=e=>onRE.test(e),bubblingEvents=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],compositionIgnoreKeys=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function isComposingIgnoreKey(e){return e.isComposing&&compositionIgnoreKeys.includes(e.key)}function filterInputAttrs(e){const[t,r]=pickWithRest(e,[onRE]),n=omit$1(t,bubblingEvents),[i,o]=pickWithRest(r,["class","style","id",/^data-/]);return Object.assign(i,t),Object.assign(o,n),[i,o]}function wrapInArray(e){return e==null?[]:Array.isArray(e)?e:[e]}function debounce$2(e,t){let r=0;const n=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];clearTimeout(r),r=setTimeout(()=>e(...o),unref(t))};return n.clear=()=>{clearTimeout(r)},n.immediate=e,n}function clamp$1(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(r,e))}function padEnd(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+r.repeat(Math.max(0,t-e.length))}function padStart(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function chunk(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const r=[];let n=0;for(;n<e.length;)r.push(e.substr(n,t)),n+=t;return r}function mergeDeep(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const n={};for(const i in e)n[i]=e[i];for(const i in t){const o=e[i],a=t[i];if(isPlainObject$2(o)&&isPlainObject$2(a)){n[i]=mergeDeep(o,a,r);continue}if(r&&Array.isArray(o)&&Array.isArray(a)){n[i]=r(o,a);continue}n[i]=a}return n}function flattenFragments(e){return e.map(t=>t.type===Fragment?flattenFragments(t.children):t).flat()}function toKebabCase(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(toKebabCase.cache.has(e))return toKebabCase.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return toKebabCase.cache.set(e,t),t}toKebabCase.cache=new Map;function findChildrenWithProvide(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(r=>findChildrenWithProvide(e,r)).flat(1);if(t.suspense)return findChildrenWithProvide(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(r=>findChildrenWithProvide(e,r)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return findChildrenWithProvide(e,t.component.subTree).flat(1)}return[]}var _arr=new WeakMap,_pointer=new WeakMap;class CircularBuffer{constructor(t){_classPrivateFieldInitSpec(this,_arr,[]),_classPrivateFieldInitSpec(this,_pointer,0),this.size=t}get isFull(){return _classPrivateFieldGet(_arr,this).length===this.size}push(t){_classPrivateFieldGet(_arr,this)[_classPrivateFieldGet(_pointer,this)]=t,_classPrivateFieldSet(_pointer,this,(_classPrivateFieldGet(_pointer,this)+1)%this.size)}values(){return _classPrivateFieldGet(_arr,this).slice(_classPrivateFieldGet(_pointer,this)).concat(_classPrivateFieldGet(_arr,this).slice(0,_classPrivateFieldGet(_pointer,this)))}clear(){_classPrivateFieldGet(_arr,this).length=0,_classPrivateFieldSet(_pointer,this,0)}}function destructComputed(e){const t=reactive({});watchEffect(()=>{const n=e();for(const i in n)t[i]=n[i]},{flush:"sync"});const r={};for(const n in t)r[n]=toRef(()=>t[n]);return r}function includes(e,t){return e.includes(t)}function eventName(e){return e[2].toLowerCase()+e.slice(3)}const EventProp=()=>[Function,Array];function hasEvent(e,t){return t="on"+capitalize(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function callEvent(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(Array.isArray(e))for(const i of e)i(...r);else typeof e=="function"&&e(...r)}function focusableChildren(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(n=>`${n}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(r)]}function getNextElement(e,t,r){let n,i=e.indexOf(document.activeElement);const o=t==="next"?1:-1;do i+=o,n=e[i];while((!n||n.offsetParent==null||!((r==null?void 0:r(n))??!0))&&i<e.length&&i>=0);return n}function focusChild(e,t){var n,i,o,a;const r=focusableChildren(e);if(t==null)(e===document.activeElement||!e.contains(document.activeElement))&&((n=r[0])==null||n.focus());else if(t==="first")(i=r[0])==null||i.focus();else if(t==="last")(o=r.at(-1))==null||o.focus();else if(typeof t=="number")(a=r[t])==null||a.focus();else{const s=getNextElement(r,t);s?s.focus():focusChild(e,t==="next"?"first":"last")}}function noop$2(){}function matchesSelector(e,t){if(!(IN_BROWSER&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function ensureValidVNode(e){return e.some(t=>isVNode(t)?t.type===Comment?!1:t.type!==Fragment||ensureValidVNode(t.children):!0)?e:null}function defer(e,t){if(!IN_BROWSER||e===0)return t(),()=>{};const r=window.setTimeout(t,e);return()=>window.clearTimeout(r)}function isClickInsideElement(e,t){const r=e.clientX,n=e.clientY,i=t.getBoundingClientRect(),o=i.left,a=i.top,s=i.right,l=i.bottom;return r>=o&&r<=s&&n>=a&&n<=l}function templateRef(){const e=shallowRef(),t=r=>{e.value=r};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:r=>e.value=r}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>refElement(e.value)}),t}function checkPrintable(e){const t=e.key.length===1,r=!e.ctrlKey&&!e.metaKey&&!e.altKey;return t&&r}function isPrimitive(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="bigint"}function escapeForRegex(e){return"\\^$*+?.()|{}[]".includes(e)?`\\${e}`:e}function camelizeProps(e){const t={};for(const r in e)t[camelize(r)]=e[r];return t}function onlyDefinedProps(e){const t=["checked","disabled"];return Object.fromEntries(Object.entries(e).filter(r=>{let[n,i]=r;return t.includes(n)?!!i:i!==void 0}))}const block$1=["top","bottom"],inline$1=["start","end","left","right"];function parseAnchor(e,t){let[r,n]=e.split(" ");return n||(n=includes(block$1,r)?"start":includes(inline$1,r)?"top":"center"),{side:toPhysical(r,t),align:toPhysical(n,t)}}function toPhysical(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function flipSide(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function flipAlign(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function flipCorner(e){return{side:e.align,align:e.side}}function getAxis(e){return includes(block$1,e.side)?"y":"x"}class Box{constructor(t){let{x:r,y:n,width:i,height:o}=t;this.x=r,this.y=n,this.width=i,this.height=o}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function getOverflow(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function getTargetBox(e){return Array.isArray(e)?new Box({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function getElementBox(e){if(e===document.documentElement)return visualViewport?new Box({x:visualViewport.scale>1?0:visualViewport.offsetLeft,y:visualViewport.scale>1?0:visualViewport.offsetTop,width:visualViewport.width*visualViewport.scale,height:visualViewport.height*visualViewport.scale}):new Box({x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});{const t=e.getBoundingClientRect();return new Box({x:t.x,y:t.y,width:e.clientWidth,height:e.clientHeight})}}function nullifyTransforms(e){const t=e.getBoundingClientRect(),r=getComputedStyle(e),n=r.transform;if(n){let i,o,a,s,l;if(n.startsWith("matrix3d("))i=n.slice(9,-1).split(/, /),o=Number(i[0]),a=Number(i[5]),s=Number(i[12]),l=Number(i[13]);else if(n.startsWith("matrix("))i=n.slice(7,-1).split(/, /),o=Number(i[0]),a=Number(i[3]),s=Number(i[4]),l=Number(i[5]);else return new Box(t);const c=r.transformOrigin,d=t.x-s-(1-o)*parseFloat(c),m=t.y-l-(1-a)*parseFloat(c.slice(c.indexOf(" ")+1)),g=o?t.width/o:e.offsetWidth+1,v=a?t.height/a:e.offsetHeight+1;return new Box({x:d,y:m,width:g,height:v})}else return new Box(t)}function animate(e,t,r){if(typeof e.animate>"u")return{finished:Promise.resolve()};let n;try{n=e.animate(t,r)}catch{return{finished:Promise.resolve()}}return typeof n.finished>"u"&&(n.finished=new Promise(i=>{n.onfinish=()=>{i(n)}})),n}const handlers=new WeakMap;function bindProps(e,t){Object.keys(t).forEach(r=>{if(isOn(r)){const n=eventName(r),i=handlers.get(e);if(t[r]==null)i==null||i.forEach(o=>{const[a,s]=o;a===n&&(e.removeEventListener(n,s),i.delete(o))});else if(!i||![...i].some(o=>o[0]===n&&o[1]===t[r])){e.addEventListener(n,t[r]);const o=i||new Set;o.add([n,t[r]]),handlers.has(e)||handlers.set(e,o)}}else t[r]==null?e.removeAttribute(r):e.setAttribute(r,t[r])})}function unbindProps(e,t){Object.keys(t).forEach(r=>{if(isOn(r)){const n=eventName(r),i=handlers.get(e);i==null||i.forEach(o=>{const[a,s]=o;a===n&&(e.removeEventListener(n,s),i.delete(o))})}else e.removeAttribute(r)})}const mainTRC=2.4,Rco=.2126729,Gco=.7151522,Bco=.072175,normBG=.55,normTXT=.58,revTXT=.57,revBG=.62,blkThrs=.03,blkClmp=1.45,deltaYmin=5e-4,scaleBoW=1.25,scaleWoB=1.25,loConThresh=.078,loConFactor=12.82051282051282,loConOffset=.06,loClip=.001;function APCAcontrast(e,t){const r=(e.r/255)**mainTRC,n=(e.g/255)**mainTRC,i=(e.b/255)**mainTRC,o=(t.r/255)**mainTRC,a=(t.g/255)**mainTRC,s=(t.b/255)**mainTRC;let l=r*Rco+n*Gco+i*Bco,c=o*Rco+a*Gco+s*Bco;if(l<=blkThrs&&(l+=(blkThrs-l)**blkClmp),c<=blkThrs&&(c+=(blkThrs-c)**blkClmp),Math.abs(c-l)<deltaYmin)return 0;let d;if(c>l){const m=(c**normBG-l**normTXT)*scaleBoW;d=m<loClip?0:m<loConThresh?m-m*loConFactor*loConOffset:m-loConOffset}else{const m=(c**revBG-l**revTXT)*scaleWoB;d=m>-.001?0:m>-.078?m-m*loConFactor*loConOffset:m+loConOffset}return d*100}function consoleWarn(e){}function deprecate(e,t){t=Array.isArray(t)?t.slice(0,-1).map(r=>`'${r}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const delta=.20689655172413793,cielabForwardTransform=e=>e>delta**3?Math.cbrt(e):e/(3*delta**2)+4/29,cielabReverseTransform=e=>e>delta?e**3:3*delta**2*(e-4/29);function fromXYZ$1(e){const t=cielabForwardTransform,r=t(e[1]);return[116*r-16,500*(t(e[0]/.95047)-r),200*(r-t(e[2]/1.08883))]}function toXYZ$1(e){const t=cielabReverseTransform,r=(e[0]+16)/116;return[t(r+e[1]/500)*.95047,t(r),t(r-e[2]/200)*1.08883]}const srgbForwardMatrix=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],srgbForwardTransform=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,srgbReverseMatrix=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],srgbReverseTransform=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function fromXYZ(e){const t=Array(3),r=srgbForwardTransform,n=srgbForwardMatrix;for(let i=0;i<3;++i)t[i]=Math.round(clamp$1(r(n[i][0]*e[0]+n[i][1]*e[1]+n[i][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function toXYZ(e){let{r:t,g:r,b:n}=e;const i=[0,0,0],o=srgbReverseTransform,a=srgbReverseMatrix;t=o(t/255),r=o(r/255),n=o(n/255);for(let s=0;s<3;++s)i[s]=a[s][0]*t+a[s][1]*r+a[s][2]*n;return i}function isCssColor(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function isParsableColor(e){return isCssColor(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const cssColorRe=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,mappers={rgb:(e,t,r,n)=>({r:e,g:t,b:r,a:n}),rgba:(e,t,r,n)=>({r:e,g:t,b:r,a:n}),hsl:(e,t,r,n)=>HSLtoRGB({h:e,s:t,l:r,a:n}),hsla:(e,t,r,n)=>HSLtoRGB({h:e,s:t,l:r,a:n}),hsv:(e,t,r,n)=>HSVtoRGB({h:e,s:t,v:r,a:n}),hsva:(e,t,r,n)=>HSVtoRGB({h:e,s:t,v:r,a:n})};function parseColor(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&cssColorRe.test(e)){const{groups:t}=e.match(cssColorRe),{fn:r,values:n}=t,i=n.split(/,\s*|\s*\/\s*|\s+/).map((o,a)=>o.endsWith("%")||a>0&&a<3&&["hsl","hsla","hsv","hsva"].includes(r)?parseFloat(o)/100:parseFloat(o));return mappers[r](...i)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(r=>r+r).join(""):[6,8].includes(t.length),HexToRGB(t)}else if(typeof e=="object"){if(has$3(e,["r","g","b"]))return e;if(has$3(e,["h","s","l"]))return HSVtoRGB(HSLtoHSV(e));if(has$3(e,["h","s","v"]))return HSVtoRGB(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function HSVtoRGB(e){const{h:t,s:r,v:n,a:i}=e,o=s=>{const l=(s+t/60)%6;return n-n*r*Math.max(Math.min(l,4-l,1),0)},a=[o(5),o(3),o(1)].map(s=>Math.round(s*255));return{r:a[0],g:a[1],b:a[2],a:i}}function HSLtoRGB(e){return HSVtoRGB(HSLtoHSV(e))}function HSLtoHSV(e){const{h:t,s:r,l:n,a:i}=e,o=n+r*Math.min(n,1-n),a=o===0?0:2-2*n/o;return{h:t,s:a,v:o,a:i}}function toHex(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function RGBtoHex(e){let{r:t,g:r,b:n,a:i}=e;return`#${[toHex(t),toHex(r),toHex(n),i!==void 0?toHex(Math.round(i*255)):""].join("")}`}function HexToRGB(e){e=parseHex(e);let[t,r,n,i]=chunk(e,2).map(o=>parseInt(o,16));return i=i===void 0?i:i/255,{r:t,g:r,b:n,a:i}}function parseHex(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=padEnd(padEnd(e,6),8,"F")),e}function lighten(e,t){const r=fromXYZ$1(toXYZ(e));return r[0]=r[0]+t*10,fromXYZ(toXYZ$1(r))}function darken(e,t){const r=fromXYZ$1(toXYZ(e));return r[0]=r[0]-t*10,fromXYZ(toXYZ$1(r))}function getLuma(e){const t=parseColor(e);return toXYZ(t)[1]}function getForeground(e){const t=Math.abs(APCAcontrast(parseColor(0),parseColor(e)));return Math.abs(APCAcontrast(parseColor(16777215),parseColor(e)))>Math.min(t,50)?"#fff":"#000"}function propsFactory(e,t){return r=>Object.keys(e).reduce((n,i)=>{const a=typeof e[i]=="object"&&e[i]!=null&&!Array.isArray(e[i])?e[i]:{type:e[i]};return r&&i in r?n[i]={...a,default:r[i]}:n[i]=a,t&&!n[i].source&&(n[i].source=t),n},{})}const makeComponentProps=propsFactory({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function getCurrentInstance(e,t){const r=getCurrentInstance$1();if(!r)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return r}function getCurrentInstanceName(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=getCurrentInstance(e).type;return toKebabCase((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}function injectSelf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstance("injectSelf");const{provides:r}=t;if(r&&e in r)return r[e]}const DefaultsSymbol=Symbol.for("vuetify:defaults");function createDefaults(e){return ref(e)}function injectDefaults(){const e=inject$1(DefaultsSymbol);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function provideDefaults(e,t){const r=injectDefaults(),n=ref(e),i=computed(()=>{if(unref(t==null?void 0:t.disabled))return r.value;const a=unref(t==null?void 0:t.scoped),s=unref(t==null?void 0:t.reset),l=unref(t==null?void 0:t.root);if(n.value==null&&!(a||s||l))return r.value;let c=mergeDeep(n.value,{prev:r.value});if(a)return c;if(s||l){const d=Number(s||1/0);for(let m=0;m<=d&&!(!c||!("prev"in c));m++)c=c.prev;return c&&typeof l=="string"&&l in c&&(c=mergeDeep(mergeDeep(c,{prev:c}),c[l])),c}return c.prev?mergeDeep(c.prev,c):c});return provide(DefaultsSymbol,i),i}function propIsDefined(e,t){return e.props&&(typeof e.props[t]<"u"||typeof e.props[toKebabCase(t)]<"u")}function internalUseDefaults(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:injectDefaults();const n=getCurrentInstance("useDefaults");if(t=t??n.type.name??n.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const i=computed(()=>{var l;return(l=r.value)==null?void 0:l[e._as??t]}),o=new Proxy(e,{get(l,c){var v,_,S,C;const d=Reflect.get(l,c);if(c==="class"||c==="style")return[(v=i.value)==null?void 0:v[c],d].filter(y=>y!=null);if(propIsDefined(n.vnode,c))return d;const m=(_=i.value)==null?void 0:_[c];if(m!==void 0)return m;const g=(C=(S=r.value)==null?void 0:S.global)==null?void 0:C[c];return g!==void 0?g:d}}),a=shallowRef();watchEffect(()=>{if(i.value){const l=Object.entries(i.value).filter(c=>{let[d]=c;return d.startsWith(d[0].toUpperCase())});a.value=l.length?Object.fromEntries(l):void 0}else a.value=void 0});function s(){const l=injectSelf(DefaultsSymbol,n);provide(DefaultsSymbol,computed(()=>a.value?mergeDeep((l==null?void 0:l.value)??{},a.value):l==null?void 0:l.value))}return{props:o,provideSubDefaults:s}}function defineComponent(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=propsFactory(e.props??{},e.name)();const t=Object.keys(e.props).filter(r=>r!=="class"&&r!=="style");e.filterProps=function(n){return pick$2(n,t)},e.props._as=String,e.setup=function(n,i){const o=injectDefaults();if(!o.value)return e._setup(n,i);const{props:a,provideSubDefaults:s}=internalUseDefaults(n,n._as??e.name,o),l=e._setup(a,i);return s(),l}}return e}function genericComponent(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?defineComponent:defineComponent$1)(t)}function createSimpleFunctional(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",r=arguments.length>2?arguments[2]:void 0;return genericComponent()({name:r??capitalize(camelize(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...makeComponentProps()},setup(n,i){let{slots:o}=i;return()=>{var a;return h(n.tag,{class:[e,n.class],style:n.style},(a=o.default)==null?void 0:a.call(o))}}})}function attachedRoot(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const standardEasing="cubic-bezier(0.4, 0, 0.2, 1)",deceleratedEasing="cubic-bezier(0.0, 0, 0.2, 1)",acceleratedEasing="cubic-bezier(0.4, 0, 1, 1)",easingPatterns={linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5};function getScrollParent$1(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?isPotentiallyScrollable(e):hasScrollbar(e))return e;e=e.parentElement}return document.scrollingElement}function getScrollParents(e,t){const r=[];if(t&&e&&!t.contains(e))return r;for(;e&&(hasScrollbar(e)&&r.push(e),e!==t);)e=e.parentElement;return r}function hasScrollbar(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e),r=t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight,n=t.overflowX==="scroll"||t.overflowX==="auto"&&e.scrollWidth>e.clientWidth;return r||n}function isPotentiallyScrollable(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function isFixedPosition(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function useRender(e){const t=getCurrentInstance("useRender");t.render=e}const IconValue=[String,Function,Object,Array],IconSymbol=Symbol.for("vuetify:icons"),makeIconProps=propsFactory({icon:{type:IconValue},tag:{type:[String,Object,Function],required:!0}},"icon"),VComponentIcon=genericComponent()({name:"VComponentIcon",props:makeIconProps(),setup(e,t){let{slots:r}=t;return()=>{const n=e.icon;return createVNode(e.tag,null,{default:()=>{var i;return[e.icon?createVNode(n,null,null):(i=r.default)==null?void 0:i.call(r)]}})}}}),VSvgIcon=defineComponent({name:"VSvgIcon",inheritAttrs:!1,props:makeIconProps(),setup(e,t){let{attrs:r}=t;return()=>createVNode(e.tag,mergeProps(r,{style:null}),{default:()=>[createBaseVNode("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(n=>Array.isArray(n)?createBaseVNode("path",{d:n[0],"fill-opacity":n[1]},null):createBaseVNode("path",{d:n},null)):createBaseVNode("path",{d:e.icon},null)])]})}});defineComponent({name:"VLigatureIcon",props:makeIconProps(),setup(e){return()=>createVNode(e.tag,null,{default:()=>[e.icon]})}});const VClassIcon=defineComponent({name:"VClassIcon",props:makeIconProps(),setup(e){return()=>createVNode(e.tag,{class:normalizeClass(e.icon)},null)}});function genDefaults$3(){return{svg:{component:VSvgIcon},class:{component:VClassIcon}}}function createIcons(e){const t=genDefaults$3(),r=(e==null?void 0:e.defaultSet)??"mdi";return r==="mdi"&&!t.mdi&&(t.mdi=mdi),mergeDeep({defaultSet:r,sets:t,aliases:{...aliases$1,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const useIcon=e=>{const t=inject$1(IconSymbol);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:computed(()=>{var l;const n=toValue(e);if(!n)return{component:VComponentIcon};let i=n;if(typeof i=="string"&&(i=i.trim(),i.startsWith("$")&&(i=(l=t.aliases)==null?void 0:l[i.slice(1)])),Array.isArray(i))return{component:VSvgIcon,icon:i};if(typeof i!="string")return{component:VComponentIcon,icon:i};const o=Object.keys(t.sets).find(c=>typeof i=="string"&&i.startsWith(`${c}:`)),a=o?i.slice(o.length+1):i;return{component:t.sets[o??t.defaultSet].component,icon:a}})}},aliases={collapse:"fas fa-chevron-up",complete:"fas fa-check",cancel:"fas fa-times-circle",close:"fas fa-times",delete:"fas fa-times-circle",clear:"fas fa-times-circle",success:"fas fa-check-circle",info:"fas fa-info-circle",warning:"fas fa-exclamation",error:"fas fa-exclamation-triangle",prev:"fas fa-chevron-left",next:"fas fa-chevron-right",checkboxOn:"fas fa-check-square",checkboxOff:"far fa-square",checkboxIndeterminate:"fas fa-minus-square",delimiter:"fas fa-circle",sortAsc:"fas fa-arrow-up",sortDesc:"fas fa-arrow-down",expand:"fas fa-chevron-down",menu:"fas fa-bars",subgroup:"fas fa-caret-down",dropdown:"fas fa-caret-down",radioOn:"far fa-dot-circle",radioOff:"far fa-circle",edit:"fas fa-edit",ratingEmpty:"far fa-star",ratingFull:"fas fa-star",ratingHalf:"fas fa-star-half",loading:"fas fa-sync",first:"fas fa-step-backward",last:"fas fa-step-forward",unfold:"fas fa-arrows-alt-v",file:"fas fa-paperclip",plus:"fas fa-plus",minus:"fas fa-minus",calendar:"fas fa-calendar",treeviewCollapse:"fas fa-caret-down",treeviewExpand:"fas fa-caret-right",eyeDropper:"fas fa-eye-dropper",upload:"fas fa-cloud-upload-alt",color:"fas fa-palette",command:"fas fa-keyboard",ctrl:"fas fa-keyboard",shift:"fas fa-arrow-up",alt:"fas fa-keyboard",space:"fas fa-square",enter:"fas fa-reply",arrowup:"fas fa-arrow-up",arrowdown:"fas fa-arrow-down",arrowleft:"fas fa-arrow-left",arrowright:"fas fa-arrow-right",backspace:"fas fa-backspace",play:"fas fa-play",pause:"fas fa-pause",fullscreen:"fas fa-fullscreen",fullscreenExit:"fas fa-compress",volumeHigh:"fas fa-volume-high",volumeMedium:"fas fa-volume-low",volumeLow:"fas fa-volume-off",volumeOff:"fas fa-volume-off"},fa={component:VClassIcon};let faPrefix="fa-unset";function getFaPrefix(e){if(faPrefix==="fa-solid"&&e)switch(e){case"fa-puzzle":e="fa-puzzle-piece";break;case"fa-rectangle-terminal":e="fa-terminal";break;case"fa-sun-bright":e="fa-sun";break;case"fa-moon-over-sun":e="fa-circle";break;case"fa-broom-wide":e="fa-trash";break;case"fa-chevrons-down":e="fa-chevron-down";break;case"fa-chevrons-up":e="fa-chevron-up";break}return faPrefix+(e?` ${e}`:"")}function maybeGetFaPrefix(e){if(e)return getFaPrefix(e)}function setFaPrefix(e){faPrefix=e}setFaPrefix("fa-light");function useToggleScope(e,t){let r;function n(){r=effectScope(),r.run(()=>t.length?t(()=>{r==null||r.stop(),n()}):t())}watch(e,i=>{i&&!r?n():i||(r==null||r.stop(),r=void 0)},{immediate:!0}),onScopeDispose(()=>{r==null||r.stop()})}function useProxiedModel(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:m=>m,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:m=>m;const o=getCurrentInstance("useProxiedModel"),a=ref(e[t]!==void 0?e[t]:r),s=toKebabCase(t),c=computed(s!==t?()=>{var m,g,v,_;return e[t],!!(((m=o.vnode.props)!=null&&m.hasOwnProperty(t)||(g=o.vnode.props)!=null&&g.hasOwnProperty(s))&&((v=o.vnode.props)!=null&&v.hasOwnProperty(`onUpdate:${t}`)||(_=o.vnode.props)!=null&&_.hasOwnProperty(`onUpdate:${s}`)))}:()=>{var m,g;return e[t],!!((m=o.vnode.props)!=null&&m.hasOwnProperty(t)&&((g=o.vnode.props)!=null&&g.hasOwnProperty(`onUpdate:${t}`)))});useToggleScope(()=>!c.value,()=>{watch(()=>e[t],m=>{a.value=m})});const d=computed({get(){const m=e[t];return n(c.value?m:a.value)},set(m){const g=i(m),v=toRaw(c.value?e[t]:a.value);v===g||n(v)===m||(a.value=g,o==null||o.emit(`update:${t}`,g))}});return Object.defineProperty(d,"externalValue",{get:()=>c.value?e[t]:a.value}),d}const en={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"},ariaLabel:{previousMonth:"Previous month",nextMonth:"Next month",selectYear:"Select year",selectDate:"{0}",currentDate:"Today, {0}"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"},rules:{required:"This field is required",email:"Please enter a valid email",number:"This field can only contain numbers",integer:"This field can only contain integer values",capital:"This field can only contain uppercase letters",maxLength:"You must enter a maximum of {0} characters",minLength:"You must enter a minimum of {0} characters",strictLength:"The length of the entered field is invalid",exclude:"The {0} character is not allowed",notEmpty:"Please choose at least one value",pattern:"Invalid format"},hotkey:{then:"then",ctrl:"Ctrl",command:"Command",space:"Space",shift:"Shift",alt:"Alt",enter:"Enter",escape:"Escape",upArrow:"Up Arrow",downArrow:"Down Arrow",leftArrow:"Left Arrow",rightArrow:"Right Arrow",backspace:"Backspace",option:"Option",plus:"plus",shortcut:"Keyboard shortcut: {0}"},video:{play:"Play",pause:"Pause",seek:"Seek",volume:"Volume",showVolume:"Show volume control",mute:"Mute",unmute:"Unmute",enterFullscreen:"Full screen",exitFullscreen:"Exit full screen"},colorPicker:{ariaLabel:{eyedropper:"Select color with eyedropper",hueSlider:"Hue",alphaSlider:"Alpha",redInput:"Red value",greenInput:"Green value",blueInput:"Blue value",alphaInput:"Alpha value",hueInput:"Hue value",saturationInput:"Saturation value",lightnessInput:"Lightness value",hexInput:"HEX value",hexaInput:"HEX with alpha value",changeFormat:"Change color format"}}},LANG_PREFIX="$vuetify.",replace$1=(e,t)=>e.replace(/\{(\d+)\}/g,(r,n)=>String(t[Number(n)])),createTranslateFunction=(e,t,r)=>function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(!n.startsWith(LANG_PREFIX))return replace$1(n,o);const s=n.replace(LANG_PREFIX,""),l=e.value&&r.value[e.value],c=t.value&&r.value[t.value];let d=getObjectValueByPath(l,s,null);return d||(`${n}${e.value}`,d=getObjectValueByPath(c,s,null)),d||(d=n),typeof d!="string"&&(d=n),replace$1(d,o)};function createNumberFunction(e,t){return(r,n)=>new Intl.NumberFormat([e.value,t.value],n).format(r)}function inferDecimalSeparator(e,t){return createNumberFunction(e,t)(.1).includes(",")?",":"."}function useProvided(e,t,r){const n=useProxiedModel(e,t,e[t]??r.value);return n.value=e[t]??r.value,watch(r,i=>{e[t]==null&&(n.value=r.value)}),n}function createProvideFunction(e){return t=>{const r=useProvided(t,"locale",e.current),n=useProvided(t,"fallback",e.fallback),i=useProvided(t,"messages",e.messages);return{name:"vuetify",current:r,fallback:n,messages:i,decimalSeparator:toRef(()=>inferDecimalSeparator(r,n)),t:createTranslateFunction(r,n,i),n:createNumberFunction(r,n),provide:createProvideFunction({current:r,fallback:n,messages:i})}}}function createVuetifyAdapter(e){const t=shallowRef((e==null?void 0:e.locale)??"en"),r=shallowRef((e==null?void 0:e.fallback)??"en"),n=ref({en,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:r,messages:n,decimalSeparator:toRef(()=>(e==null?void 0:e.decimalSeparator)??inferDecimalSeparator(t,r)),t:createTranslateFunction(t,r,n),n:createNumberFunction(t,r),provide:createProvideFunction({current:t,fallback:r,messages:n})}}const LocaleSymbol=Symbol.for("vuetify:locale");function isLocaleInstance(e){return e.name!=null}function createLocale(e){const t=e!=null&&e.adapter&&isLocaleInstance(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:createVuetifyAdapter(e),r=createRtl(t,e);return{...t,...r}}function useLocale(){const e=inject$1(LocaleSymbol);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function genDefaults$2(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function createRtl(e,t){const r=ref((t==null?void 0:t.rtl)??genDefaults$2()),n=computed(()=>r.value[e.current.value]??!1);return{isRtl:n,rtl:r,rtlClasses:toRef(()=>`v-locale--is-${n.value?"rtl":"ltr"}`)}}function useRtl(){const e=inject$1(LocaleSymbol);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}function weekInfo(e){const t=e.slice(-2).toUpperCase();switch(!0){case e==="GB-alt-variant":return{firstDay:0,firstWeekSize:4};case e==="001":return{firstDay:1,firstWeekSize:1};case`AG AS BD BR BS BT BW BZ CA CO DM DO ET GT GU HK HN ID IL IN JM JP KE
    KH KR LA MH MM MO MT MX MZ NI NP PA PE PH PK PR PY SA SG SV TH TT TW UM US
    VE VI WS YE ZA ZW`.includes(t):return{firstDay:0,firstWeekSize:1};case`AI AL AM AR AU AZ BA BM BN BY CL CM CN CR CY EC GE HR KG KZ LB LK LV
    MD ME MK MN MY NZ RO RS SI TJ TM TR UA UY UZ VN XK`.includes(t):return{firstDay:1,firstWeekSize:1};case`AD AN AT AX BE BG CH CZ DE DK EE ES FI FJ FO FR GB GF GP GR HU IE IS
    IT LI LT LU MC MQ NL NO PL RE RU SE SK SM VA`.includes(t):return{firstDay:1,firstWeekSize:4};case"AE AF BH DJ DZ EG IQ IR JO KW LY OM QA SD SY".includes(t):return{firstDay:6,firstWeekSize:1};case t==="MV":return{firstDay:5,firstWeekSize:1};case t==="PT":return{firstDay:0,firstWeekSize:4};default:return null}}function getWeekArray(e,t,r){var d;const n=[];let i=[];const o=startOfMonth$1(e),a=endOfMonth(e),s=r??((d=weekInfo(t))==null?void 0:d.firstDay)??0,l=(o.getDay()-s+7)%7,c=(a.getDay()-s+7)%7;for(let m=0;m<l;m++){const g=new Date(o);g.setDate(g.getDate()-(l-m)),i.push(g)}for(let m=1;m<=a.getDate();m++){const g=new Date(e.getFullYear(),e.getMonth(),m);i.push(g),i.length===7&&(n.push(i),i=[])}for(let m=1;m<7-c;m++){const g=new Date(a);g.setDate(g.getDate()+m),i.push(g)}return i.length>0&&n.push(i),n}function startOfWeek$2(e,t,r){var o;let n=(r??((o=weekInfo(t))==null?void 0:o.firstDay)??0)%7;[0,1,2,3,4,5,6].includes(n)||(n=0);const i=new Date(e);for(;i.getDay()!==n;)i.setDate(i.getDate()-1);return i}function endOfWeek(e,t){var i;const r=new Date(e),n=((((i=weekInfo(t))==null?void 0:i.firstDay)??0)+6)%7;for(;r.getDay()!==n;)r.setDate(r.getDate()+1);return r}function startOfMonth$1(e){return new Date(e.getFullYear(),e.getMonth(),1)}function endOfMonth(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function parseLocalDate(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const _YYYMMDD=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function date(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(_YYYMMDD.test(e))return parseLocalDate(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const sundayJanuarySecond2000=new Date(2e3,0,2);function getWeekdays$1(e,t,r){var i;const n=t??((i=weekInfo(e))==null?void 0:i.firstDay)??0;return createRange(7).map(o=>{const a=new Date(sundayJanuarySecond2000);return a.setDate(sundayJanuarySecond2000.getDate()+n+o),new Intl.DateTimeFormat(e,{weekday:r??"narrow"}).format(a)})}function format$1(e,t,r,n){const i=date(e)??new Date,o=n==null?void 0:n[t];if(typeof o=="function")return o(i,t,r);let a={};switch(t){case"fullDate":a={year:"numeric",month:"short",day:"numeric"};break;case"fullDateWithWeekday":a={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const s=i.getDate(),l=new Intl.DateTimeFormat(r,{month:"long"}).format(i);return`${s} ${l}`;case"normalDateWithWeekday":a={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":a={month:"short",day:"numeric"};break;case"year":a={year:"numeric"};break;case"month":a={month:"long"};break;case"monthShort":a={month:"short"};break;case"monthAndYear":a={month:"long",year:"numeric"};break;case"monthAndDate":a={month:"long",day:"numeric"};break;case"weekday":a={weekday:"long"};break;case"weekdayShort":a={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(r).format(i.getDate());case"hours12h":a={hour:"numeric",hour12:!0};break;case"hours24h":a={hour:"numeric",hour12:!1};break;case"minutes":a={minute:"numeric"};break;case"seconds":a={second:"numeric"};break;case"fullTime":a={hour:"numeric",minute:"numeric"};break;case"fullTime12h":a={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":a={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":a={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":a={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":a={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":a={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(r,a).format(i).replace(/, /g," ");case"keyboardDateTime12h":return a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(r,a).format(i).replace(/, /g," ");case"keyboardDateTime24h":return a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(r,a).format(i).replace(/, /g," ");default:a=o??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(r,a).format(i)}function toISO(e,t){const r=e.toJsDate(t),n=r.getFullYear(),i=padStart(String(r.getMonth()+1),2,"0"),o=padStart(String(r.getDate()),2,"0");return`${n}-${i}-${o}`}function parseISO(e){const[t,r,n]=e.split("-").map(Number);return new Date(t,r-1,n)}function addMinutes(e,t){const r=new Date(e);return r.setMinutes(r.getMinutes()+t),r}function addHours(e,t){const r=new Date(e);return r.setHours(r.getHours()+t),r}function addDays$1(e,t){const r=new Date(e);return r.setDate(r.getDate()+t),r}function addWeeks(e,t){const r=new Date(e);return r.setDate(r.getDate()+t*7),r}function addMonths$1(e,t){const r=new Date(e);return r.setDate(1),r.setMonth(r.getMonth()+t),r}function getYear(e){return e.getFullYear()}function getMonth(e){return e.getMonth()}function getWeek$1(e,t,r,n){const i=weekInfo(t),o=r??(i==null?void 0:i.firstDay)??0,a=n??(i==null?void 0:i.firstWeekSize)??1;function s(v){const _=new Date(v,0,1);return 7-getDiff(_,startOfWeek$2(_,t,o),"days")}let l=getYear(e);const c=addDays$1(startOfWeek$2(e,t,o),6);l<getYear(c)&&s(l+1)>=a&&l++;const d=new Date(l,0,1),m=s(l),g=m>=a?addDays$1(d,m-7):addDays$1(d,m);return 1+getDiff(endOfDay(e),startOfDay(g),"weeks")}function getDate(e){return e.getDate()}function getNextMonth(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function getPreviousMonth(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function getHours(e){return e.getHours()}function getMinutes(e){return e.getMinutes()}function startOfYear(e){return new Date(e.getFullYear(),0,1)}function endOfYear(e){return new Date(e.getFullYear(),11,31)}function isWithinRange(e,t){return isAfter(e,t[0])&&isBefore(e,t[1])}function isValid(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function isAfter(e,t){return e.getTime()>t.getTime()}function isAfterDay(e,t){return isAfter(startOfDay(e),startOfDay(t))}function isBefore(e,t){return e.getTime()<t.getTime()}function isEqual(e,t){return e.getTime()===t.getTime()}function isSameDay(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function isSameMonth(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function isSameYear(e,t){return e.getFullYear()===t.getFullYear()}function getDiff(e,t,r){const n=new Date(e),i=new Date(t);switch(r){case"years":return n.getFullYear()-i.getFullYear();case"quarters":return Math.floor((n.getMonth()-i.getMonth()+(n.getFullYear()-i.getFullYear())*12)/4);case"months":return n.getMonth()-i.getMonth()+(n.getFullYear()-i.getFullYear())*12;case"weeks":return Math.floor((n.getTime()-i.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((n.getTime()-i.getTime())/(1e3*60*60*24));case"hours":return Math.floor((n.getTime()-i.getTime())/(1e3*60*60));case"minutes":return Math.floor((n.getTime()-i.getTime())/(1e3*60));case"seconds":return Math.floor((n.getTime()-i.getTime())/1e3);default:return n.getTime()-i.getTime()}}function setHours(e,t){const r=new Date(e);return r.setHours(t),r}function setMinutes(e,t){const r=new Date(e);return r.setMinutes(t),r}function setMonth(e,t){const r=new Date(e);return r.setMonth(t),r}function setDate(e,t){const r=new Date(e);return r.setDate(t),r}function setYear(e,t){const r=new Date(e);return r.setFullYear(t),r}function startOfDay(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function endOfDay(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class VuetifyDateAdapter{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return date(t)}toJsDate(t){return t}toISO(t){return toISO(this,t)}parseISO(t){return parseISO(t)}addMinutes(t,r){return addMinutes(t,r)}addHours(t,r){return addHours(t,r)}addDays(t,r){return addDays$1(t,r)}addWeeks(t,r){return addWeeks(t,r)}addMonths(t,r){return addMonths$1(t,r)}getWeekArray(t,r){const n=r!==void 0?Number(r):void 0;return getWeekArray(t,this.locale,n)}startOfWeek(t,r){const n=r!==void 0?Number(r):void 0;return startOfWeek$2(t,this.locale,n)}endOfWeek(t){return endOfWeek(t,this.locale)}startOfMonth(t){return startOfMonth$1(t)}endOfMonth(t){return endOfMonth(t)}format(t,r){return format$1(t,r,this.locale,this.formats)}isEqual(t,r){return isEqual(t,r)}isValid(t){return isValid(t)}isWithinRange(t,r){return isWithinRange(t,r)}isAfter(t,r){return isAfter(t,r)}isAfterDay(t,r){return isAfterDay(t,r)}isBefore(t,r){return!isAfter(t,r)&&!isEqual(t,r)}isSameDay(t,r){return isSameDay(t,r)}isSameMonth(t,r){return isSameMonth(t,r)}isSameYear(t,r){return isSameYear(t,r)}setMinutes(t,r){return setMinutes(t,r)}setHours(t,r){return setHours(t,r)}setMonth(t,r){return setMonth(t,r)}setDate(t,r){return setDate(t,r)}setYear(t,r){return setYear(t,r)}getDiff(t,r,n){return getDiff(t,r,n)}getWeekdays(t,r){const n=t!==void 0?Number(t):void 0;return getWeekdays$1(this.locale,n,r)}getYear(t){return getYear(t)}getMonth(t){return getMonth(t)}getWeek(t,r,n){const i=r!==void 0?Number(r):void 0;return getWeek$1(t,this.locale,i,n)}getDate(t){return getDate(t)}getNextMonth(t){return getNextMonth(t)}getPreviousMonth(t){return getPreviousMonth(t)}getHours(t){return getHours(t)}getMinutes(t){return getMinutes(t)}startOfDay(t){return startOfDay(t)}endOfDay(t){return endOfDay(t)}startOfYear(t){return startOfYear(t)}endOfYear(t){return endOfYear(t)}}const DateOptionsSymbol=Symbol.for("vuetify:date-options"),DateAdapterSymbol=Symbol.for("vuetify:date-adapter");function createDate(e,t){const r=mergeDeep({adapter:VuetifyDateAdapter,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:r,instance:createInstance(r,t)}}function createInstance(e,t){const r=reactive(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return watch(t.current,n=>{r.locale=e.locale[n]??n??r.locale}),r}const breakpoints=["sm","md","lg","xl","xxl"],DisplaySymbol=Symbol.for("vuetify:display"),defaultDisplayOptions={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},parseDisplayOptions=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:defaultDisplayOptions;return mergeDeep(defaultDisplayOptions,e)};function getClientWidth(e){return IN_BROWSER&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function getClientHeight(e){return IN_BROWSER&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function getPlatform(e){const t=IN_BROWSER&&!e?window.navigator.userAgent:"ssr";function r(_){return!!t.match(_)}const n=r(/android/i),i=r(/iphone|ipad|ipod/i),o=r(/cordova/i),a=r(/electron/i),s=r(/chrome/i),l=r(/edge/i),c=r(/firefox/i),d=r(/opera/i),m=r(/win/i),g=r(/mac/i),v=r(/linux/i);return{android:n,ios:i,cordova:o,electron:a,chrome:s,edge:l,firefox:c,opera:d,win:m,mac:g,linux:v,touch:SUPPORTS_TOUCH,ssr:t==="ssr"}}function createDisplay(e,t){const{thresholds:r,mobileBreakpoint:n}=parseDisplayOptions(e),i=shallowRef(getClientHeight(t)),o=shallowRef(getPlatform(t)),a=reactive({}),s=shallowRef(getClientWidth(t));function l(){i.value=getClientHeight(),s.value=getClientWidth()}function c(){l(),o.value=getPlatform()}return watchEffect(()=>{const d=s.value<r.sm,m=s.value<r.md&&!d,g=s.value<r.lg&&!(m||d),v=s.value<r.xl&&!(g||m||d),_=s.value<r.xxl&&!(v||g||m||d),S=s.value>=r.xxl,C=d?"xs":m?"sm":g?"md":v?"lg":_?"xl":"xxl",y=typeof n=="number"?n:r[n],b=s.value<y;a.xs=d,a.sm=m,a.md=g,a.lg=v,a.xl=_,a.xxl=S,a.smAndUp=!d,a.mdAndUp=!(d||m),a.lgAndUp=!(d||m||g),a.xlAndUp=!(d||m||g||v),a.smAndDown=!(g||v||_||S),a.mdAndDown=!(v||_||S),a.lgAndDown=!(_||S),a.xlAndDown=!S,a.name=C,a.height=i.value,a.width=s.value,a.mobile=b,a.mobileBreakpoint=n,a.platform=o.value,a.thresholds=r}),IN_BROWSER&&(window.addEventListener("resize",l,{passive:!0}),onScopeDispose(()=>{window.removeEventListener("resize",l)},!0)),{...toRefs(a),update:c,ssr:!!t}}const makeDisplayProps=propsFactory({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function useDisplay(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();const r=inject$1(DisplaySymbol);if(!r)throw new Error("Could not find Vuetify display injection");const n=computed(()=>e.mobile?!0:typeof e.mobileBreakpoint=="number"?r.width.value<e.mobileBreakpoint:e.mobileBreakpoint?r.width.value<r.thresholds.value[e.mobileBreakpoint]:e.mobile===null?r.mobile.value:!1),i=toRef(()=>t?{[`${t}--mobile`]:n.value}:{});return{...r,displayClasses:i,mobile:n}}const GoToSymbol=Symbol.for("vuetify:goto");function genDefaults$1(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:easingPatterns}}function getContainer(e){return getTarget$1(e)??(document.scrollingElement||document.body)}function getTarget$1(e){return typeof e=="string"?document.querySelector(e):refElement(e)}function getOffset$1(e,t,r){if(typeof e=="number")return t&&r?-e:e;let n=getTarget$1(e),i=0;for(;n;)i+=t?n.offsetLeft:n.offsetTop,n=n.offsetParent;return i}function createGoTo(e,t){return{rtl:t.isRtl,options:mergeDeep(genDefaults$1(),e)}}async function scrollTo(e,t,r,n){const i=r?"scrollLeft":"scrollTop",o=mergeDeep((n==null?void 0:n.options)??genDefaults$1(),t),a=n==null?void 0:n.rtl.value,s=(typeof e=="number"?e:getTarget$1(e))??0,l=o.container==="parent"&&s instanceof HTMLElement?s.parentElement:getContainer(o.container),c=typeof o.easing=="function"?o.easing:o.patterns[o.easing];if(!c)throw new TypeError(`Easing function "${o.easing}" not found.`);let d;if(typeof s=="number")d=getOffset$1(s,r,a);else if(d=getOffset$1(s,r,a)-getOffset$1(l,r,a),o.layout){const _=window.getComputedStyle(s).getPropertyValue("--v-layout-top");_&&(d-=parseInt(_,10))}d+=o.offset,d=clampTarget(l,d,!!a,!!r);const m=l[i]??0;if(d===m)return Promise.resolve(d);const g=performance.now();return new Promise(v=>requestAnimationFrame(function _(S){const y=(S-g)/o.duration,b=Math.floor(m+(d-m)*c(clamp$1(y,0,1)));if(l[i]=b,y>=1&&Math.abs(b-l[i])<10)return v(d);if(y>2)return v(l[i]);requestAnimationFrame(_)}))}function useGoTo(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=inject$1(GoToSymbol),{isRtl:r}=useRtl();if(!t)throw new Error("[Vuetify] Could not find injected goto instance");const n={...t,rtl:toRef(()=>t.rtl.value||r.value)};async function i(o,a){return scrollTo(o,mergeDeep(e,a),!1,n)}return i.horizontal=async(o,a)=>scrollTo(o,mergeDeep(e,a),!0,n),i}function clampTarget(e,t,r,n){const{scrollWidth:i,scrollHeight:o}=e,[a,s]=e===document.scrollingElement?[window.innerWidth,window.innerHeight]:[e.offsetWidth,e.offsetHeight];let l,c;return n?r?(l=-(i-a),c=0):(l=0,c=i-a):(l=0,c=o+-s),clamp$1(t,l,c)}const ThemeSymbol=Symbol.for("vuetify:theme"),makeThemeProps=propsFactory({theme:String},"theme");function genDefaults(){return{defaultTheme:"light",prefix:"v-",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#EEEEEE","theme-on-kbd":"#000000","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#c8c8c8","on-surface-variant":"#000000",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#424242","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}},stylesheetId:"vuetify-theme-stylesheet",scoped:!1,unimportant:!1,utilities:!0}}function parseThemeOptions(){var n,i;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:genDefaults();const t=genDefaults();if(!e)return{...t,isDisabled:!0};const r={};for(const[o,a]of Object.entries(e.themes??{})){const s=a.dark||o==="dark"?(n=t.themes)==null?void 0:n.dark:(i=t.themes)==null?void 0:i.light;r[o]=mergeDeep(s,a)}return mergeDeep(t,{...e,themes:r})}function createCssClass(e,t,r,n){e.push(`${getScopedSelector(t,n)} {
`,...r.map(i=>`  ${i};
`),`}
`)}function genCssVariables(e,t){const r=e.dark?2:1,n=e.dark?1:2,i=[];for(const[o,a]of Object.entries(e.colors)){const s=parseColor(a);i.push(`--${t}theme-${o}: ${s.r},${s.g},${s.b}`),o.startsWith("on-")||i.push(`--${t}theme-${o}-overlay-multiplier: ${getLuma(a)>.18?r:n}`)}for(const[o,a]of Object.entries(e.variables)){const s=typeof a=="string"&&a.startsWith("#")?parseColor(a):void 0,l=s?`${s.r}, ${s.g}, ${s.b}`:void 0;i.push(`--${t}${o}: ${l??a}`)}return i}function genVariation(e,t,r){const n={};if(r)for(const i of["lighten","darken"]){const o=i==="lighten"?lighten:darken;for(const a of createRange(r[i],1))n[`${e}-${i}-${a}`]=RGBtoHex(o(parseColor(t),a))}return n}function genVariations(e,t){if(!t)return{};let r={};for(const n of t.colors){const i=e[n];i&&(r={...r,...genVariation(n,i,t)})}return r}function genOnColors(e){const t={};for(const r of Object.keys(e)){if(r.startsWith("on-")||e[`on-${r}`])continue;const n=`on-${r}`,i=parseColor(e[r]);t[n]=getForeground(i)}return t}function getScopedSelector(e,t){if(!t)return e;const r=`:where(${t})`;return e===":root"?r:`${r} ${e}`}function upsertStyles(e,t,r){const n=getOrCreateStyleElement(e,t);n&&(n.innerHTML=r)}function getOrCreateStyleElement(e,t){if(!IN_BROWSER)return null;let r=document.getElementById(e);return r||(r=document.createElement("style"),r.id=e,r.type="text/css",t&&r.setAttribute("nonce",t),document.head.appendChild(r)),r}function createTheme(e){const t=parseThemeOptions(e),r=shallowRef(t.defaultTheme),n=ref(t.themes),i=shallowRef("light"),o=computed({get(){return r.value==="system"?i.value:r.value},set(y){r.value=y}}),a=computed(()=>{const y={};for(const[b,u]of Object.entries(n.value)){const w={...u.colors,...genVariations(u.colors,t.variations)};y[b]={...u,colors:{...w,...genOnColors(w)}}}return y}),s=toRef(()=>a.value[o.value]),l=toRef(()=>r.value==="system"),c=computed(()=>{var w;const y=[],b=t.unimportant?"":" !important",u=t.scoped?t.prefix:"";(w=s.value)!=null&&w.dark&&createCssClass(y,":root",["color-scheme: dark"],t.scope),createCssClass(y,":root",genCssVariables(s.value,t.prefix),t.scope);for(const[x,E]of Object.entries(a.value))createCssClass(y,`.${t.prefix}theme--${x}`,[`color-scheme: ${E.dark?"dark":"normal"}`,...genCssVariables(E,t.prefix)],t.scope);if(t.utilities){const x=[],E=[],T=new Set(Object.values(a.value).flatMap(k=>Object.keys(k.colors)));for(const k of T)k.startsWith("on-")?createCssClass(E,`.${k}`,[`color: rgb(var(--${t.prefix}theme-${k}))${b}`],t.scope):(createCssClass(x,`.${u}bg-${k}`,[`--${t.prefix}theme-overlay-multiplier: var(--${t.prefix}theme-${k}-overlay-multiplier)`,`background-color: rgb(var(--${t.prefix}theme-${k}))${b}`,`color: rgb(var(--${t.prefix}theme-on-${k}))${b}`],t.scope),createCssClass(E,`.${u}text-${k}`,[`color: rgb(var(--${t.prefix}theme-${k}))${b}`],t.scope),createCssClass(E,`.${u}border-${k}`,[`--${t.prefix}border-color: var(--${t.prefix}theme-${k})`],t.scope));y.push(...x,...E)}return y.map((x,E)=>E===0?x:`    ${x}`).join("")}),d=toRef(()=>t.isDisabled?void 0:`${t.prefix}theme--${o.value}`),m=toRef(()=>Object.keys(a.value));if(SUPPORTS_MATCH_MEDIA){let b=function(){i.value=y.matches?"dark":"light"};const y=window.matchMedia("(prefers-color-scheme: dark)");b(),y.addEventListener("change",b,{passive:!0}),getCurrentScope()&&onScopeDispose(()=>{y.removeEventListener("change",b)})}function g(y){if(t.isDisabled)return;const b=y._context.provides.usehead;if(b){let u=function(){return{style:[{textContent:c.value,id:t.stylesheetId,nonce:t.cspNonce||!1}]}};if(b.push){const w=b.push(u);IN_BROWSER&&watch(c,()=>{w.patch(u)})}else IN_BROWSER?(b.addHeadObjs(toRef(u)),watchEffect(()=>b.updateDOM())):b.addHeadObjs(u())}else{let u=function(){upsertStyles(t.stylesheetId,t.cspNonce,c.value)};IN_BROWSER?watch(c,u,{immediate:!0}):u()}}function v(y){y!=="system"&&!m.value.includes(y)||(o.value=y)}function _(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.value;const b=y.indexOf(o.value),u=b===-1?0:(b+1)%y.length;v(y[u])}function S(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["light","dark"];_(y)}const C=new Proxy(o,{get(y,b){return Reflect.get(y,b)},set(y,b,u){return b==="value"&&deprecate(`theme.global.name.value = ${u}`,`theme.change('${u}')`),Reflect.set(y,b,u)}});return{install:g,change:v,cycle:_,toggle:S,isDisabled:t.isDisabled,isSystem:l,name:o,themes:n,current:s,computedThemes:a,prefix:t.prefix,themeClasses:d,styles:c,global:{name:C,current:s}}}function provideTheme(e){getCurrentInstance("provideTheme");const t=inject$1(ThemeSymbol,null);if(!t)throw new Error("Could not find Vuetify theme injection");const r=toRef(()=>e.theme??t.name.value),n=toRef(()=>t.themes.value[r.value]),i=toRef(()=>t.isDisabled?void 0:`${t.prefix}theme--${r.value}`),o={...t,name:r,current:n,themeClasses:i};return provide(ThemeSymbol,o),o}function useTheme(){getCurrentInstance("useTheme");const e=inject$1(ThemeSymbol,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function useResizeObserver(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const r=templateRef(),n=ref();if(IN_BROWSER){const i=new ResizeObserver(o=>{e==null||e(o,i),o.length&&(t==="content"?n.value=o[0].contentRect:n.value=o[0].target.getBoundingClientRect())});onBeforeUnmount(()=>{i.disconnect()}),watch(()=>r.el,(o,a)=>{a&&(i.unobserve(a),n.value=void 0),o&&i.observe(o)},{flush:"post"})}return{resizeRef:r,contentRect:readonly(n)}}const VuetifyLayoutKey=Symbol.for("vuetify:layout"),VuetifyLayoutItemKey=Symbol.for("vuetify:layout-item"),ROOT_ZINDEX=1e3,makeLayoutProps=propsFactory({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),makeLayoutItemProps=propsFactory({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function useLayout(){const e=inject$1(VuetifyLayoutKey);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function useLayoutItem(e){const t=inject$1(VuetifyLayoutKey);if(!t)throw new Error("[Vuetify] Could not find injected layout");const r=e.id??`layout-item-${useId()}`,n=getCurrentInstance("useLayoutItem");provide(VuetifyLayoutItemKey,{id:r});const i=shallowRef(!1);onDeactivated(()=>i.value=!0),onActivated(()=>i.value=!1);const{layoutItemStyles:o,layoutItemScrimStyles:a}=t.register(n,{...e,active:computed(()=>i.value?!1:e.active.value),id:r});return onBeforeUnmount(()=>t.unregister(r)),{layoutItemStyles:o,layoutRect:t.layoutRect,layoutItemScrimStyles:a}}const generateLayers=(e,t,r,n)=>{let i={top:0,left:0,right:0,bottom:0};const o=[{id:"",layer:{...i}}];for(const a of e){const s=t.get(a),l=r.get(a),c=n.get(a);if(!s||!l||!c)continue;const d={...i,[s.value]:parseInt(i[s.value],10)+(c.value?parseInt(l.value,10):0)};o.push({id:a,layer:d}),i=d}return o};function createLayout(e){const t=inject$1(VuetifyLayoutKey,null),r=computed(()=>t?t.rootZIndex.value-100:ROOT_ZINDEX),n=ref([]),i=reactive(new Map),o=reactive(new Map),a=reactive(new Map),s=reactive(new Map),l=reactive(new Map),{resizeRef:c,contentRect:d}=useResizeObserver(),m=computed(()=>{const E=new Map,T=e.overlaps??[];for(const k of T.filter(D=>D.includes(":"))){const[D,B]=k.split(":");if(!n.value.includes(D)||!n.value.includes(B))continue;const A=i.get(D),O=i.get(B),V=o.get(D),H=o.get(B);!A||!O||!V||!H||(E.set(B,{position:A.value,amount:parseInt(V.value,10)}),E.set(D,{position:O.value,amount:-parseInt(H.value,10)}))}return E}),g=computed(()=>{const E=[...new Set([...a.values()].map(k=>k.value))].sort((k,D)=>k-D),T=[];for(const k of E){const D=n.value.filter(B=>{var A;return((A=a.get(B))==null?void 0:A.value)===k});T.push(...D)}return generateLayers(T,i,o,s)}),v=computed(()=>!Array.from(l.values()).some(E=>E.value)),_=computed(()=>g.value[g.value.length-1].layer),S=toRef(()=>({"--v-layout-left":convertToUnit(_.value.left),"--v-layout-right":convertToUnit(_.value.right),"--v-layout-top":convertToUnit(_.value.top),"--v-layout-bottom":convertToUnit(_.value.bottom),...v.value?void 0:{transition:"none"}})),C=computed(()=>g.value.slice(1).map((E,T)=>{let{id:k}=E;const{layer:D}=g.value[T],B=o.get(k),A=i.get(k);return{id:k,...D,size:Number(B.value),position:A.value}})),y=E=>C.value.find(T=>T.id===E),b=getCurrentInstance("createLayout"),u=shallowRef(!1);onMounted(()=>{u.value=!0}),provide(VuetifyLayoutKey,{register:(E,T)=>{let{id:k,order:D,position:B,layoutSize:A,elementSize:O,active:V,disableTransitions:H,absolute:q}=T;a.set(k,D),i.set(k,B),o.set(k,A),s.set(k,V),H&&l.set(k,H);const Q=findChildrenWithProvide(VuetifyLayoutItemKey,b==null?void 0:b.vnode).indexOf(E);Q>-1?n.value.splice(Q,0,k):n.value.push(k);const X=computed(()=>C.value.findIndex(F=>F.id===k)),N=computed(()=>r.value+g.value.length*2-X.value*2),I=computed(()=>{const F=B.value==="left"||B.value==="right",ee=B.value==="right",ue=B.value==="bottom",he=O.value??A.value,ve=he===0?"%":"px",j={[B.value]:0,zIndex:N.value,transform:`translate${F?"X":"Y"}(${(V.value?0:-(he===0?100:he))*(ee||ue?-1:1)}${ve})`,position:q.value||r.value!==ROOT_ZINDEX?"absolute":"fixed",...v.value?void 0:{transition:"none"}};if(!u.value)return j;const M=C.value[X.value],ne=m.value.get(k);return ne&&(M[ne.position]+=ne.amount),{...j,height:F?`calc(100% - ${M.top}px - ${M.bottom}px)`:O.value?`${O.value}px`:void 0,left:ee?void 0:`${M.left}px`,right:ee?`${M.right}px`:void 0,top:B.value!=="bottom"?`${M.top}px`:void 0,bottom:B.value!=="top"?`${M.bottom}px`:void 0,width:F?O.value?`${O.value}px`:void 0:`calc(100% - ${M.left}px - ${M.right}px)`}}),U=computed(()=>({zIndex:N.value-1}));return{layoutItemStyles:I,layoutItemScrimStyles:U,zIndex:N}},unregister:E=>{a.delete(E),i.delete(E),o.delete(E),s.delete(E),l.delete(E),n.value=n.value.filter(T=>T!==E)},mainRect:_,mainStyles:S,getLayoutItem:y,items:C,layoutRect:d,rootZIndex:r});const w=toRef(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),x=toRef(()=>({zIndex:t?r.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:w,layoutStyles:x,getLayoutItem:y,items:C,layoutRect:d,layoutRef:c}}function createVuetify(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...r}=e,n=mergeDeep(t,r),{aliases:i={},components:o={},directives:a={}}=n,s=effectScope();return s.run(()=>{const l=createDefaults(n.defaults),c=createDisplay(n.display,n.ssr),d=createTheme(n.theme),m=createIcons(n.icons),g=createLocale(n.locale),v=createDate(n.date,g),_=createGoTo(n.goTo,g);function S(y){for(const u in a)y.directive(u,a[u]);for(const u in o)y.component(u,o[u]);for(const u in i)y.component(u,defineComponent({...i[u],name:u,aliasName:i[u].name}));const b=effectScope();if(b.run(()=>{d.install(y)}),y.onUnmount(()=>b.stop()),y.provide(DefaultsSymbol,l),y.provide(DisplaySymbol,c),y.provide(ThemeSymbol,d),y.provide(IconSymbol,m),y.provide(LocaleSymbol,g),y.provide(DateOptionsSymbol,v.options),y.provide(DateAdapterSymbol,v.instance),y.provide(GoToSymbol,_),IN_BROWSER&&n.ssr)if(y.$nuxt)y.$nuxt.hook("app:suspense:resolve",()=>{c.update()});else{const{mount:u}=y;y.mount=function(){const w=u(...arguments);return nextTick$1(()=>c.update()),y.mount=u,w}}y.mixin({computed:{$vuetify(){return reactive({defaults:inject.call(this,DefaultsSymbol),display:inject.call(this,DisplaySymbol),theme:inject.call(this,ThemeSymbol),icons:inject.call(this,IconSymbol),locale:inject.call(this,LocaleSymbol),date:inject.call(this,DateAdapterSymbol)})}}})}function C(){s.stop()}return{install:S,unmount:C,defaults:l,display:c,theme:d,icons:m,locale:g,date:v,goTo:_}})}const version$2="3.9.7";createVuetify.version=version$2;function inject(e){var n,i;const t=this.$,r=((n=t.parent)==null?void 0:n.provides)??((i=t.vnode.appContext)==null?void 0:i.provides);if(r&&e in r)return r[e]}const customLightTheme={colors:{background:"#dedede"}},vuetify=createVuetify({theme:{themes:{light:customLightTheme}},icons:{defaultSet:"fa",aliases,sets:{fa}}});function asyncComputed(e){return asyncComputedRaw(e).computed}function asyncComputedRaw(e){const t=()=>{var c;return typeof e.default=="function"?e.default((c=r.value)==null?void 0:c.value):e.default},r=ref(),n=ref(),i=computed({get(){var c;return(c=e.console)==null||c.warn("computed",r.value),r.value&&!r.value.updating?r.value.value:(n.value||(n.value=l(t(),void 0,void 0)),t())},set(c){if(!(e!=null&&e.set))throw new Error("async computed is read only");r.value={updating:!1,value:c},e==null||e.set(c)}});let o;const a=ref(!1),s=(c,d)=>{var m,g;if(o===c){if(((m=r.value)==null?void 0:m.value)===d){r.value&&(r.value.updating=!1);return}(g=e.console)==null||g.log("changing value"),r.value={updating:!1,value:d},a.value=!1}},l=async(c,d,m,g)=>{const v=o=Math.random().toString();a.value=!0;try{const _=await e.get({isCancelled:()=>v!==o,clearOldValue:()=>r.value=void 0},c,d,m,g);s(v,_)}catch{s(v,t())}};for(const c of Object.keys(e.watch||{})){const d=e.watch[c];watch(d,(m,g)=>{var v;n.value=l((v=r.value)==null?void 0:v.value,m,g,c),r.value&&(r.value.updating=!0)})}return{computed:i,loading:a,currentPromise:n.value}}var dist$2={},hasRequiredDist$2;function requireDist$2(){if(hasRequiredDist$2)return dist$2;hasRequiredDist$2=1,Object.defineProperty(dist$2,"__esModule",{value:!0}),dist$2.ScryptedMimeTypes=dist$2.ScryptedInterface=dist$2.MediaPlayerState=dist$2.SecuritySystemObstruction=dist$2.SecuritySystemMode=dist$2.AirQuality=dist$2.AirPurifierMode=dist$2.AirPurifierStatus=dist$2.ChargeState=dist$2.LockState=dist$2.PanTiltZoomMovement=dist$2.ThermostatMode=dist$2.TemperatureUnit=dist$2.FanMode=dist$2.HumidityMode=dist$2.ScryptedDeviceType=dist$2.ScryptedInterfaceDescriptors=dist$2.ScryptedInterfaceMethod=dist$2.ScryptedInterfaceProperty=dist$2.DeviceBase=dist$2.TYPES_VERSION=void 0,dist$2.TYPES_VERSION="0.5.52";class e{}dist$2.DeviceBase=e;var t;(function(u){u.id="id",u.info="info",u.interfaces="interfaces",u.mixins="mixins",u.name="name",u.nativeId="nativeId",u.pluginId="pluginId",u.providedInterfaces="providedInterfaces",u.providedName="providedName",u.providedRoom="providedRoom",u.providedType="providedType",u.providerId="providerId",u.room="room",u.type="type",u.scryptedRuntimeArguments="scryptedRuntimeArguments",u.on="on",u.brightness="brightness",u.colorTemperature="colorTemperature",u.rgb="rgb",u.hsv="hsv",u.buttons="buttons",u.sensors="sensors",u.running="running",u.paused="paused",u.docked="docked",u.temperatureSetting="temperatureSetting",u.temperature="temperature",u.temperatureUnit="temperatureUnit",u.humidity="humidity",u.resolution="resolution",u.audioVolumes="audioVolumes",u.recordingActive="recordingActive",u.ptzCapabilities="ptzCapabilities",u.lockState="lockState",u.entryOpen="entryOpen",u.batteryLevel="batteryLevel",u.chargeState="chargeState",u.online="online",u.fromMimeType="fromMimeType",u.toMimeType="toMimeType",u.converters="converters",u.binaryState="binaryState",u.tampered="tampered",u.sleeping="sleeping",u.powerDetected="powerDetected",u.audioDetected="audioDetected",u.motionDetected="motionDetected",u.ambientLight="ambientLight",u.occupied="occupied",u.flooded="flooded",u.ultraviolet="ultraviolet",u.luminance="luminance",u.position="position",u.securitySystemState="securitySystemState",u.pm10Density="pm10Density",u.pm25Density="pm25Density",u.vocDensity="vocDensity",u.noxDensity="noxDensity",u.co2ppm="co2ppm",u.airQuality="airQuality",u.airPurifierState="airPurifierState",u.filterChangeIndication="filterChangeIndication",u.filterLifeLevel="filterLifeLevel",u.humiditySetting="humiditySetting",u.fan="fan",u.applicationInfo="applicationInfo",u.chatCompletionCapabilities="chatCompletionCapabilities",u.systemDevice="systemDevice"})(t||(dist$2.ScryptedInterfaceProperty=t={}));var r;(function(u){u.listen="listen",u.probe="probe",u.setMixins="setMixins",u.setName="setName",u.setRoom="setRoom",u.setType="setType",u.getPluginJson="getPluginJson",u.turnOff="turnOff",u.turnOn="turnOn",u.setBrightness="setBrightness",u.getTemperatureMaxK="getTemperatureMaxK",u.getTemperatureMinK="getTemperatureMinK",u.setColorTemperature="setColorTemperature",u.setRgb="setRgb",u.setHsv="setHsv",u.pressButton="pressButton",u.sendNotification="sendNotification",u.start="start",u.stop="stop",u.pause="pause",u.resume="resume",u.dock="dock",u.setTemperature="setTemperature",u.setTemperatureUnit="setTemperatureUnit",u.getPictureOptions="getPictureOptions",u.takePicture="takePicture",u.getAudioStream="getAudioStream",u.setAudioVolumes="setAudioVolumes",u.startDisplay="startDisplay",u.stopDisplay="stopDisplay",u.getVideoStream="getVideoStream",u.getVideoStreamOptions="getVideoStreamOptions",u.getPrivacyMasks="getPrivacyMasks",u.setPrivacyMasks="setPrivacyMasks",u.getVideoTextOverlays="getVideoTextOverlays",u.setVideoTextOverlay="setVideoTextOverlay",u.getRecordingStream="getRecordingStream",u.getRecordingStreamCurrentTime="getRecordingStreamCurrentTime",u.getRecordingStreamOptions="getRecordingStreamOptions",u.getRecordingStreamThumbnail="getRecordingStreamThumbnail",u.deleteRecordingStream="deleteRecordingStream",u.setRecordingActive="setRecordingActive",u.ptzCommand="ptzCommand",u.getRecordedEvents="getRecordedEvents",u.getVideoClip="getVideoClip",u.getVideoClips="getVideoClips",u.getVideoClipThumbnail="getVideoClipThumbnail",u.removeVideoClips="removeVideoClips",u.setVideoStreamOptions="setVideoStreamOptions",u.startIntercom="startIntercom",u.stopIntercom="stopIntercom",u.lock="lock",u.unlock="unlock",u.addPassword="addPassword",u.getPasswords="getPasswords",u.removePassword="removePassword",u.activate="activate",u.deactivate="deactivate",u.isReversible="isReversible",u.closeEntry="closeEntry",u.openEntry="openEntry",u.getDevice="getDevice",u.releaseDevice="releaseDevice",u.adoptDevice="adoptDevice",u.discoverDevices="discoverDevices",u.createDevice="createDevice",u.getCreateDeviceSettings="getCreateDeviceSettings",u.reboot="reboot",u.getRefreshFrequency="getRefreshFrequency",u.refresh="refresh",u.getMediaStatus="getMediaStatus",u.load="load",u.seek="seek",u.skipNext="skipNext",u.skipPrevious="skipPrevious",u.convert="convert",u.convertMedia="convertMedia",u.getSettings="getSettings",u.putSetting="putSetting",u.armSecuritySystem="armSecuritySystem",u.disarmSecuritySystem="disarmSecuritySystem",u.setAirPurifierState="setAirPurifierState",u.getReadmeMarkdown="getReadmeMarkdown",u.getOauthUrl="getOauthUrl",u.onOauthCallback="onOauthCallback",u.canMixin="canMixin",u.getMixin="getMixin",u.releaseMixin="releaseMixin",u.onRequest="onRequest",u.onConnection="onConnection",u.onPush="onPush",u.run="run",u.eval="eval",u.loadScripts="loadScripts",u.saveScript="saveScript",u.forkInterface="forkInterface",u.getDetectionInput="getDetectionInput",u.getObjectTypes="getObjectTypes",u.detectObjects="detectObjects",u.generateObjectDetections="generateObjectDetections",u.getDetectionModel="getDetectionModel",u.setHumidity="setHumidity",u.setFan="setFan",u.startRTCSignalingSession="startRTCSignalingSession",u.createRTCSignalingSession="createRTCSignalingSession",u.getScryptedUserAccessControl="getScryptedUserAccessControl",u.generateVideoFrames="generateVideoFrames",u.connectStream="connectStream",u.getTTYSettings="getTTYSettings",u.getChatCompletion="getChatCompletion",u.streamChatCompletion="streamChatCompletion",u.getTextEmbedding="getTextEmbedding",u.getImageEmbedding="getImageEmbedding",u.callLLMTool="callLLMTool",u.getLLMTools="getLLMTools"})(r||(dist$2.ScryptedInterfaceMethod=r={})),dist$2.ScryptedInterfaceDescriptors={ScryptedDevice:{name:"ScryptedDevice",methods:["listen","probe","setMixins","setName","setRoom","setType"],properties:["id","info","interfaces","mixins","name","nativeId","pluginId","providedInterfaces","providedName","providedRoom","providedType","providerId","room","type"]},ScryptedPlugin:{name:"ScryptedPlugin",methods:["getPluginJson"],properties:[]},ScryptedPluginRuntime:{name:"ScryptedPluginRuntime",methods:[],properties:["scryptedRuntimeArguments"]},OnOff:{name:"OnOff",methods:["turnOff","turnOn"],properties:["on"]},Brightness:{name:"Brightness",methods:["setBrightness"],properties:["brightness"]},ColorSettingTemperature:{name:"ColorSettingTemperature",methods:["getTemperatureMaxK","getTemperatureMinK","setColorTemperature"],properties:["colorTemperature"]},ColorSettingRgb:{name:"ColorSettingRgb",methods:["setRgb"],properties:["rgb"]},ColorSettingHsv:{name:"ColorSettingHsv",methods:["setHsv"],properties:["hsv"]},Buttons:{name:"Buttons",methods:[],properties:["buttons"]},PressButtons:{name:"PressButtons",methods:["pressButton"],properties:[]},Sensors:{name:"Sensors",methods:[],properties:["sensors"]},Notifier:{name:"Notifier",methods:["sendNotification"],properties:[]},StartStop:{name:"StartStop",methods:["start","stop"],properties:["running"]},Pause:{name:"Pause",methods:["pause","resume"],properties:["paused"]},Dock:{name:"Dock",methods:["dock"],properties:["docked"]},TemperatureSetting:{name:"TemperatureSetting",methods:["setTemperature"],properties:["temperatureSetting"]},Thermometer:{name:"Thermometer",methods:["setTemperatureUnit"],properties:["temperature","temperatureUnit"]},HumiditySensor:{name:"HumiditySensor",methods:[],properties:["humidity"]},Camera:{name:"Camera",methods:["getPictureOptions","takePicture"],properties:[]},Resolution:{name:"Resolution",methods:[],properties:["resolution"]},Microphone:{name:"Microphone",methods:["getAudioStream"],properties:[]},AudioVolumeControl:{name:"AudioVolumeControl",methods:["setAudioVolumes"],properties:["audioVolumes"]},Display:{name:"Display",methods:["startDisplay","stopDisplay"],properties:[]},VideoCamera:{name:"VideoCamera",methods:["getVideoStream","getVideoStreamOptions"],properties:[]},VideoCameraMask:{name:"VideoCameraMask",methods:["getPrivacyMasks","setPrivacyMasks"],properties:[]},VideoTextOverlays:{name:"VideoTextOverlays",methods:["getVideoTextOverlays","setVideoTextOverlay"],properties:[]},VideoRecorder:{name:"VideoRecorder",methods:["getRecordingStream","getRecordingStreamCurrentTime","getRecordingStreamOptions","getRecordingStreamThumbnail"],properties:["recordingActive"]},VideoRecorderManagement:{name:"VideoRecorderManagement",methods:["deleteRecordingStream","setRecordingActive"],properties:[]},PanTiltZoom:{name:"PanTiltZoom",methods:["ptzCommand"],properties:["ptzCapabilities"]},EventRecorder:{name:"EventRecorder",methods:["getRecordedEvents"],properties:[]},VideoClips:{name:"VideoClips",methods:["getVideoClip","getVideoClips","getVideoClipThumbnail","removeVideoClips"],properties:[]},VideoCameraConfiguration:{name:"VideoCameraConfiguration",methods:["setVideoStreamOptions"],properties:[]},Intercom:{name:"Intercom",methods:["startIntercom","stopIntercom"],properties:[]},Lock:{name:"Lock",methods:["lock","unlock"],properties:["lockState"]},PasswordStore:{name:"PasswordStore",methods:["addPassword","getPasswords","removePassword"],properties:[]},Scene:{name:"Scene",methods:["activate","deactivate","isReversible"],properties:[]},Entry:{name:"Entry",methods:["closeEntry","openEntry"],properties:[]},EntrySensor:{name:"EntrySensor",methods:[],properties:["entryOpen"]},DeviceProvider:{name:"DeviceProvider",methods:["getDevice","releaseDevice"],properties:[]},DeviceDiscovery:{name:"DeviceDiscovery",methods:["adoptDevice","discoverDevices"],properties:[]},DeviceCreator:{name:"DeviceCreator",methods:["createDevice","getCreateDeviceSettings"],properties:[]},Battery:{name:"Battery",methods:[],properties:["batteryLevel"]},Charger:{name:"Charger",methods:[],properties:["chargeState"]},Reboot:{name:"Reboot",methods:["reboot"],properties:[]},Refresh:{name:"Refresh",methods:["getRefreshFrequency","refresh"],properties:[]},MediaPlayer:{name:"MediaPlayer",methods:["getMediaStatus","load","seek","skipNext","skipPrevious"],properties:[]},Online:{name:"Online",methods:[],properties:["online"]},BufferConverter:{name:"BufferConverter",methods:["convert"],properties:["fromMimeType","toMimeType"]},MediaConverter:{name:"MediaConverter",methods:["convertMedia"],properties:["converters"]},Settings:{name:"Settings",methods:["getSettings","putSetting"],properties:[]},BinarySensor:{name:"BinarySensor",methods:[],properties:["binaryState"]},TamperSensor:{name:"TamperSensor",methods:[],properties:["tampered"]},Sleep:{name:"Sleep",methods:[],properties:["sleeping"]},PowerSensor:{name:"PowerSensor",methods:[],properties:["powerDetected"]},AudioSensor:{name:"AudioSensor",methods:[],properties:["audioDetected"]},MotionSensor:{name:"MotionSensor",methods:[],properties:["motionDetected"]},AmbientLightSensor:{name:"AmbientLightSensor",methods:[],properties:["ambientLight"]},OccupancySensor:{name:"OccupancySensor",methods:[],properties:["occupied"]},FloodSensor:{name:"FloodSensor",methods:[],properties:["flooded"]},UltravioletSensor:{name:"UltravioletSensor",methods:[],properties:["ultraviolet"]},LuminanceSensor:{name:"LuminanceSensor",methods:[],properties:["luminance"]},PositionSensor:{name:"PositionSensor",methods:[],properties:["position"]},SecuritySystem:{name:"SecuritySystem",methods:["armSecuritySystem","disarmSecuritySystem"],properties:["securitySystemState"]},PM10Sensor:{name:"PM10Sensor",methods:[],properties:["pm10Density"]},PM25Sensor:{name:"PM25Sensor",methods:[],properties:["pm25Density"]},VOCSensor:{name:"VOCSensor",methods:[],properties:["vocDensity"]},NOXSensor:{name:"NOXSensor",methods:[],properties:["noxDensity"]},CO2Sensor:{name:"CO2Sensor",methods:[],properties:["co2ppm"]},AirQualitySensor:{name:"AirQualitySensor",methods:[],properties:["airQuality"]},AirPurifier:{name:"AirPurifier",methods:["setAirPurifierState"],properties:["airPurifierState"]},FilterMaintenance:{name:"FilterMaintenance",methods:[],properties:["filterChangeIndication","filterLifeLevel"]},Readme:{name:"Readme",methods:["getReadmeMarkdown"],properties:[]},OauthClient:{name:"OauthClient",methods:["getOauthUrl","onOauthCallback"],properties:[]},MixinProvider:{name:"MixinProvider",methods:["canMixin","getMixin","releaseMixin"],properties:[]},HttpRequestHandler:{name:"HttpRequestHandler",methods:["onRequest"],properties:[]},EngineIOHandler:{name:"EngineIOHandler",methods:["onConnection"],properties:[]},PushHandler:{name:"PushHandler",methods:["onPush"],properties:[]},Program:{name:"Program",methods:["run"],properties:[]},Scriptable:{name:"Scriptable",methods:["eval","loadScripts","saveScript"],properties:[]},ClusterForkInterface:{name:"ClusterForkInterface",methods:["forkInterface"],properties:[]},ObjectDetector:{name:"ObjectDetector",methods:["getDetectionInput","getObjectTypes"],properties:[]},ObjectDetection:{name:"ObjectDetection",methods:["detectObjects","generateObjectDetections","getDetectionModel"],properties:[]},ObjectDetectionPreview:{name:"ObjectDetectionPreview",methods:[],properties:[]},ObjectDetectionGenerator:{name:"ObjectDetectionGenerator",methods:[],properties:[]},HumiditySetting:{name:"HumiditySetting",methods:["setHumidity"],properties:["humiditySetting"]},Fan:{name:"Fan",methods:["setFan"],properties:["fan"]},RTCSignalingChannel:{name:"RTCSignalingChannel",methods:["startRTCSignalingSession"],properties:[]},RTCSignalingClient:{name:"RTCSignalingClient",methods:["createRTCSignalingSession"],properties:[]},LauncherApplication:{name:"LauncherApplication",methods:[],properties:["applicationInfo"]},ScryptedUser:{name:"ScryptedUser",methods:["getScryptedUserAccessControl"],properties:[]},VideoFrameGenerator:{name:"VideoFrameGenerator",methods:["generateVideoFrames"],properties:[]},StreamService:{name:"StreamService",methods:["connectStream"],properties:[]},TTY:{name:"TTY",methods:[],properties:[]},TTYSettings:{name:"TTYSettings",methods:["getTTYSettings"],properties:[]},ChatCompletion:{name:"ChatCompletion",methods:["getChatCompletion","streamChatCompletion"],properties:["chatCompletionCapabilities"]},TextEmbedding:{name:"TextEmbedding",methods:["getTextEmbedding"],properties:[]},ImageEmbedding:{name:"ImageEmbedding",methods:["getImageEmbedding"],properties:[]},LLMTools:{name:"LLMTools",methods:["callLLMTool","getLLMTools"],properties:[]},ScryptedSystemDevice:{name:"ScryptedSystemDevice",methods:[],properties:["systemDevice"]},ScryptedDeviceCreator:{name:"ScryptedDeviceCreator",methods:[],properties:[]},ScryptedSettings:{name:"ScryptedSettings",methods:[],properties:[]}};var n;(function(u){u.Builtin="Builtin",u.Internal="Internal",u.Camera="Camera",u.Fan="Fan",u.Light="Light",u.Switch="Switch",u.Outlet="Outlet",u.Sensor="Sensor",u.Scene="Scene",u.Program="Program",u.Automation="Automation",u.Vacuum="Vacuum",u.Notifier="Notifier",u.Thermostat="Thermostat",u.Lock="Lock",u.PasswordControl="PasswordControl",u.Display="Display",u.SmartDisplay="SmartDisplay",u.Speaker="Speaker",u.SmartSpeaker="SmartSpeaker",u.RemoteDesktop="RemoteDesktop",u.Event="Event",u.Entry="Entry",u.Garage="Garage",u.DeviceProvider="DeviceProvider",u.DataSource="DataSource",u.API="API",u.Buttons="Buttons",u.Doorbell="Doorbell",u.Irrigation="Irrigation",u.Valve="Valve",u.Person="Person",u.SecuritySystem="SecuritySystem",u.WindowCovering="WindowCovering",u.Siren="Siren",u.AirPurifier="AirPurifier",u.Internet="Internet",u.Network="Network",u.Bridge="Bridge",u.LLM="LLM",u.Unknown="Unknown"})(n||(dist$2.ScryptedDeviceType=n={}));var i;(function(u){u.Humidify="Humidify",u.Dehumidify="Dehumidify",u.Auto="Auto",u.Off="Off"})(i||(dist$2.HumidityMode=i={}));var o;(function(u){u.Auto="Auto",u.Manual="Manual"})(o||(dist$2.FanMode=o={}));var a;(function(u){u.C="C",u.F="F"})(a||(dist$2.TemperatureUnit=a={}));var s;(function(u){u.Off="Off",u.Cool="Cool",u.Heat="Heat",u.HeatCool="HeatCool",u.Auto="Auto",u.FanOnly="FanOnly",u.Purifier="Purifier",u.Eco="Eco",u.Dry="Dry",u.On="On"})(s||(dist$2.ThermostatMode=s={}));var l;(function(u){u.Absolute="Absolute",u.Relative="Relative",u.Continuous="Continuous",u.Preset="Preset",u.Home="Home"})(l||(dist$2.PanTiltZoomMovement=l={}));var c;(function(u){u.Locked="Locked",u.Unlocked="Unlocked",u.Jammed="Jammed"})(c||(dist$2.LockState=c={}));var d;(function(u){u.Trickle="trickle",u.Charging="charging",u.NotCharging="not-charging"})(d||(dist$2.ChargeState=d={}));var m;(function(u){u.Inactive="Inactive",u.Idle="Idle",u.Active="Active",u.ActiveNightMode="ActiveNightMode"})(m||(dist$2.AirPurifierStatus=m={}));var g;(function(u){u.Manual="Manual",u.Automatic="Automatic"})(g||(dist$2.AirPurifierMode=g={}));var v;(function(u){u.Unknown="Unknown",u.Excellent="Excellent",u.Good="Good",u.Fair="Fair",u.Inferior="Inferior",u.Poor="Poor"})(v||(dist$2.AirQuality=v={}));var _;(function(u){u.Disarmed="Disarmed",u.HomeArmed="HomeArmed",u.AwayArmed="AwayArmed",u.NightArmed="NightArmed"})(_||(dist$2.SecuritySystemMode=_={}));var S;(function(u){u.Sensor="Sensor",u.Occupied="Occupied",u.Time="Time",u.Error="Error"})(S||(dist$2.SecuritySystemObstruction=S={}));var C;(function(u){u.Idle="Idle",u.Playing="Playing",u.Paused="Paused",u.Buffering="Buffering"})(C||(dist$2.MediaPlayerState=C={}));var y;(function(u){u.ScryptedDevice="ScryptedDevice",u.ScryptedPlugin="ScryptedPlugin",u.ScryptedPluginRuntime="ScryptedPluginRuntime",u.OnOff="OnOff",u.Brightness="Brightness",u.ColorSettingTemperature="ColorSettingTemperature",u.ColorSettingRgb="ColorSettingRgb",u.ColorSettingHsv="ColorSettingHsv",u.Buttons="Buttons",u.PressButtons="PressButtons",u.Sensors="Sensors",u.Notifier="Notifier",u.StartStop="StartStop",u.Pause="Pause",u.Dock="Dock",u.TemperatureSetting="TemperatureSetting",u.Thermometer="Thermometer",u.HumiditySensor="HumiditySensor",u.Camera="Camera",u.Resolution="Resolution",u.Microphone="Microphone",u.AudioVolumeControl="AudioVolumeControl",u.Display="Display",u.VideoCamera="VideoCamera",u.VideoCameraMask="VideoCameraMask",u.VideoTextOverlays="VideoTextOverlays",u.VideoRecorder="VideoRecorder",u.VideoRecorderManagement="VideoRecorderManagement",u.PanTiltZoom="PanTiltZoom",u.EventRecorder="EventRecorder",u.VideoClips="VideoClips",u.VideoCameraConfiguration="VideoCameraConfiguration",u.Intercom="Intercom",u.Lock="Lock",u.PasswordStore="PasswordStore",u.Scene="Scene",u.Entry="Entry",u.EntrySensor="EntrySensor",u.DeviceProvider="DeviceProvider",u.DeviceDiscovery="DeviceDiscovery",u.DeviceCreator="DeviceCreator",u.Battery="Battery",u.Charger="Charger",u.Reboot="Reboot",u.Refresh="Refresh",u.MediaPlayer="MediaPlayer",u.Online="Online",u.BufferConverter="BufferConverter",u.MediaConverter="MediaConverter",u.Settings="Settings",u.BinarySensor="BinarySensor",u.TamperSensor="TamperSensor",u.Sleep="Sleep",u.PowerSensor="PowerSensor",u.AudioSensor="AudioSensor",u.MotionSensor="MotionSensor",u.AmbientLightSensor="AmbientLightSensor",u.OccupancySensor="OccupancySensor",u.FloodSensor="FloodSensor",u.UltravioletSensor="UltravioletSensor",u.LuminanceSensor="LuminanceSensor",u.PositionSensor="PositionSensor",u.SecuritySystem="SecuritySystem",u.PM10Sensor="PM10Sensor",u.PM25Sensor="PM25Sensor",u.VOCSensor="VOCSensor",u.NOXSensor="NOXSensor",u.CO2Sensor="CO2Sensor",u.AirQualitySensor="AirQualitySensor",u.AirPurifier="AirPurifier",u.FilterMaintenance="FilterMaintenance",u.Readme="Readme",u.OauthClient="OauthClient",u.MixinProvider="MixinProvider",u.HttpRequestHandler="HttpRequestHandler",u.EngineIOHandler="EngineIOHandler",u.PushHandler="PushHandler",u.Program="Program",u.Scriptable="Scriptable",u.ClusterForkInterface="ClusterForkInterface",u.ObjectDetector="ObjectDetector",u.ObjectDetection="ObjectDetection",u.ObjectDetectionPreview="ObjectDetectionPreview",u.ObjectDetectionGenerator="ObjectDetectionGenerator",u.HumiditySetting="HumiditySetting",u.Fan="Fan",u.RTCSignalingChannel="RTCSignalingChannel",u.RTCSignalingClient="RTCSignalingClient",u.LauncherApplication="LauncherApplication",u.ScryptedUser="ScryptedUser",u.VideoFrameGenerator="VideoFrameGenerator",u.StreamService="StreamService",u.TTY="TTY",u.TTYSettings="TTYSettings",u.ChatCompletion="ChatCompletion",u.TextEmbedding="TextEmbedding",u.ImageEmbedding="ImageEmbedding",u.LLMTools="LLMTools",u.ScryptedSystemDevice="ScryptedSystemDevice",u.ScryptedDeviceCreator="ScryptedDeviceCreator",u.ScryptedSettings="ScryptedSettings"})(y||(dist$2.ScryptedInterface=y={}));var b;return function(u){u.Url="text/x-uri",u.InsecureLocalUrl="text/x-insecure-local-uri",u.LocalUrl="text/x-local-uri",u.ServerId="text/x-server-id",u.PushEndpoint="text/x-push-endpoint",u.SchemePrefix="x-scrypted/x-scrypted-scheme-",u.MediaStreamUrl="text/x-media-url",u.MediaObject="x-scrypted/x-scrypted-media-object",u.RequestMediaObject="x-scrypted/x-scrypted-request-media-object",u.RequestMediaStream="x-scrypted/x-scrypted-request-stream",u.MediaStreamFeedback="x-scrypted/x-media-stream-feedback",u.FFmpegInput="x-scrypted/x-ffmpeg-input",u.FFmpegTranscodeStream="x-scrypted/x-ffmpeg-transcode-stream",u.RTCSignalingChannel="x-scrypted/x-scrypted-rtc-signaling-channel",u.RTCSignalingSession="x-scrypted/x-scrypted-rtc-signaling-session",u.RTCConnectionManagement="x-scrypted/x-scrypted-rtc-connection-management",u.Image="x-scrypted/x-scrypted-image"}(b||(dist$2.ScryptedMimeTypes=b={})),dist$2}var distExports$2=requireDist$2();const PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0";PACKET_TYPES.close="1";PACKET_TYPES.ping="2";PACKET_TYPES.pong="3";PACKET_TYPES.message="4";PACKET_TYPES.upgrade="5";PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(e=>{PACKET_TYPES_REVERSE[PACKET_TYPES[e]]=e});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",withNativeArrayBuffer$1=typeof ArrayBuffer=="function",isView=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,encodePacket=({type:e,data:t},r,n)=>withNativeBlob&&t instanceof Blob?r?n(t):encodeBlobAsBase64(t,n):withNativeArrayBuffer$1&&(t instanceof ArrayBuffer||isView(t))?r?n(t):encodeBlobAsBase64(new Blob([t]),n):n(PACKET_TYPES[e]+(t||"")),encodeBlobAsBase64=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function toArray(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let TEXT_ENCODER;function encodePacketToBinary(e,t){if(withNativeBlob&&e.data instanceof Blob)return e.data.arrayBuffer().then(toArray).then(t);if(withNativeArrayBuffer$1&&(e.data instanceof ArrayBuffer||isView(e.data)))return t(toArray(e.data));encodePacket(e,!1,r=>{TEXT_ENCODER||(TEXT_ENCODER=new TextEncoder),t(TEXT_ENCODER.encode(r))})}const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<chars.length;e++)lookup[chars.charCodeAt(e)]=e;const decode$4=e=>{let t=e.length*.75,r=e.length,n,i=0,o,a,s,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),d=new Uint8Array(c);for(n=0;n<r;n+=4)o=lookup[e.charCodeAt(n)],a=lookup[e.charCodeAt(n+1)],s=lookup[e.charCodeAt(n+2)],l=lookup[e.charCodeAt(n+3)],d[i++]=o<<2|a>>4,d[i++]=(a&15)<<4|s>>2,d[i++]=(s&3)<<6|l&63;return c},withNativeArrayBuffer=typeof ArrayBuffer=="function",decodePacket=(e,t)=>{if(typeof e!="string")return{type:"message",data:mapBinary(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:decodeBase64Packet(e.substring(1),t)}:PACKET_TYPES_REVERSE[r]?e.length>1?{type:PACKET_TYPES_REVERSE[r],data:e.substring(1)}:{type:PACKET_TYPES_REVERSE[r]}:ERROR_PACKET},decodeBase64Packet=(e,t)=>{if(withNativeArrayBuffer){const r=decode$4(e);return mapBinary(r,t)}else return{base64:!0,data:e}},mapBinary=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},SEPARATOR="",encodePayload=(e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach((o,a)=>{encodePacket(o,!1,s=>{n[a]=s,++i===r&&t(n.join(SEPARATOR))})})},decodePayload=(e,t)=>{const r=e.split(SEPARATOR),n=[];for(let i=0;i<r.length;i++){const o=decodePacket(r[i],t);if(n.push(o),o.type==="error")break}return n};function createPacketEncoderStream(){return new TransformStream({transform(e,t){encodePacketToBinary(e,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}let TEXT_DECODER;function totalLength(e){return e.reduce((t,r)=>t+r.length,0)}function concatChunks(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function createPacketDecoderStream(e,t){TEXT_DECODER||(TEXT_DECODER=new TextDecoder);const r=[];let n=0,i=-1,o=!1;return new TransformStream({transform(a,s){for(r.push(a);;){if(n===0){if(totalLength(r)<1)break;const l=concatChunks(r,1);o=(l[0]&128)===128,i=l[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(totalLength(r)<2)break;const l=concatChunks(r,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),n=3}else if(n===2){if(totalLength(r)<8)break;const l=concatChunks(r,8),c=new DataView(l.buffer,l.byteOffset,l.length),d=c.getUint32(0);if(d>Math.pow(2,21)-1){s.enqueue(ERROR_PACKET);break}i=d*Math.pow(2,32)+c.getUint32(4),n=3}else{if(totalLength(r)<i)break;const l=concatChunks(r,i);s.enqueue(decodePacket(o?l:TEXT_DECODER.decode(l),t)),n=0}if(i===0||i>e){s.enqueue(ERROR_PACKET);break}}}})}const protocol=4;function Emitter(e){if(e)return mixin(e)}function mixin(e){for(var t in Emitter.prototype)e[t]=Emitter.prototype[t];return e}Emitter.prototype.on=Emitter.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Emitter.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Emitter.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this};Emitter.prototype.emitReserved=Emitter.prototype.emit;Emitter.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Emitter.prototype.hasListeners=function(e){return!!this.listeners(e).length};const nextTick=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),globalThisShim=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),defaultBinaryType="arraybuffer";function createCookieJar(){}function pick$1(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const NATIVE_SET_TIMEOUT=globalThisShim.setTimeout,NATIVE_CLEAR_TIMEOUT=globalThisShim.clearTimeout;function installTimerFunctions(e,t){t.useNativeTimers?(e.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),e.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(e.setTimeoutFn=globalThisShim.setTimeout.bind(globalThisShim),e.clearTimeoutFn=globalThisShim.clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength(e){return typeof e=="string"?utf8Length(e):Math.ceil((e.byteLength||e.size)*BASE64_OVERHEAD)}function utf8Length(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function randomString(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function encode$2(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function decode$3(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let o=r[n].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class TransportError extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class Transport extends Emitter{constructor(t){super(),this.writable=!1,installTimerFunctions(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new TransportError(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=decodePacket(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=encode$2(t);return r.length?"?"+r:""}}class Polling extends Transport{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};decodePayload(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,encodePayload(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=randomString()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let value=!1;try{value=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const hasCORS=value;function empty(){}class BaseXHR extends Polling{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class Request extends Emitter{constructor(t,r,n){super(),this.createRequest=t,installTimerFunctions(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=pick$1(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Request.requestsCount++,Request.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=empty,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Request.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Request.requestsCount=0;Request.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){const e="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(e,unloadHandler,!1)}}function unloadHandler(){for(let e in Request.requests)Request.requests.hasOwnProperty(e)&&Request.requests[e].abort()}const hasXHR2=function(){const e=newRequest({xdomain:!1});return e&&e.responseType!==null}();class XHR extends BaseXHR{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=hasXHR2&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Request(newRequest,this.uri(),t)}}function newRequest(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||hasCORS))return new XMLHttpRequest}catch{}if(!t)try{return new globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class BaseWS extends Transport{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=isReactNative?{}:pick$1(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;encodePacket(n,this.supportsBinary,o=>{try{this.doWrite(n,o)}catch{}i&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=randomString()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const WebSocketCtor=globalThisShim.WebSocket||globalThisShim.MozWebSocket;class WS extends BaseWS{createSocket(t,r,n){return isReactNative?new WebSocketCtor(t,r,n):r?new WebSocketCtor(t,r):new WebSocketCtor(t)}doWrite(t,r){this.ws.send(r)}}class WT extends Transport{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=createPacketDecoderStream(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),i=createPacketEncoderStream();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const o=()=>{n.read().then(({done:s,value:l})=>{s||(this.onPacket(l),o())}).catch(s=>{})};o();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;this._writer.write(n).then(()=>{i&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const transports={websocket:WS,webtransport:WT,polling:XHR},re$1=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=re$1.exec(e||""),o={},a=14;for(;a--;)o[parts[a]]=i[a]||"";return r!=-1&&n!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=pathNames(o,o.path),o.queryKey=queryKey(o,o.query),o}function pathNames(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function queryKey(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(r[i]=o)}),r}const withEventListeners=typeof addEventListener=="function"&&typeof removeEventListener=="function",OFFLINE_EVENT_LISTENERS=[];withEventListeners&&addEventListener("offline",()=>{OFFLINE_EVENT_LISTENERS.forEach(e=>e())},!1);class SocketWithoutUpgrade extends Emitter{constructor(t,r){if(super(),this.binaryType=defaultBinaryType,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=parse(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=parse(r.host).host);installTimerFunctions(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=decode$3(this.opts.query)),withEventListeners&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},OFFLINE_EVENT_LISTENERS.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=protocol,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&SocketWithoutUpgrade.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",SocketWithoutUpgrade.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=byteLength(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,nextTick(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:t,data:r,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(SocketWithoutUpgrade.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),withEventListeners&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);n!==-1&&OFFLINE_EVENT_LISTENERS.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}SocketWithoutUpgrade.protocol=protocol;class SocketWithUpgrade extends SocketWithoutUpgrade{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;SocketWithoutUpgrade.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",m=>{if(!n)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;SocketWithoutUpgrade.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=r.name,this.emitReserved("upgradeError",g)}}))};function o(){n||(n=!0,d(),r.close(),r=null)}const a=m=>{const g=new Error("probe error: "+m);g.transport=r.name,o(),this.emitReserved("upgradeError",g)};function s(){a("transport closed")}function l(){a("socket closed")}function c(m){r&&m.name!==r.name&&o()}const d=()=>{r.removeListener("open",i),r.removeListener("error",a),r.removeListener("close",s),this.off("close",l),this.off("upgrading",c)};r.once("open",i),r.once("error",a),r.once("close",s),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}class Socket extends SocketWithUpgrade{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>transports[i]).filter(i=>!!i)),super(t,n)}}class TimeoutError extends Error{constructor(t){super("Operation Timed Out"),this.promise=t}}function timeoutPromise(e,t){return new Promise((r,n)=>{const i=setTimeout(()=>n(new TimeoutError(t)),e);t.then(o=>{clearTimeout(i),r(o)}).catch(o=>{clearTimeout(i),n(o)})})}function timeoutFunction(e,t){return new Promise((r,n)=>{let i=!1;const o=t(()=>i),a=setTimeout(()=>{i=!0,n(new TimeoutError(o))},e);o.then(s=>{clearTimeout(a),r(s)}).catch(s=>{clearTimeout(a),n(s)})})}function fetchStatusCodeOk(e){return e>=200&&e<=299}function checkStatus(e){if(!fetchStatusCodeOk(e))throw new Error(`http response statusCode ${e}`);return!0}function getFetchMethod(e){return e.method||(e.body?"POST":"GET")}function getHttpFetchAccept(e){switch(e){case"json":return"application/json";case"text":return"text/plain"}}function hasHeader(e,t){return t=t.toLowerCase(),e.find(([r])=>r.toLowerCase()===t)}function removeHeader(e,t){t=t.toLowerCase();const r=e.filter(([n,i])=>n.toLowerCase()!==t);e.length=0,r.forEach(n=>e.push(n))}function setHeader(e,t,r){removeHeader(e,t),e.push([t,r])}function setDefaultHttpFetchAccept(e,t){if(hasHeader(e,"Accept"))return;const r=getHttpFetchAccept(t);r&&setHeader(e,"Accept",r)}function createHeadersArray(e){const t=[];if(!e)return t;if(e instanceof Headers){for(const[r,n]of e.entries())t.push([r,n]);return t}if(e instanceof Array){for(const[r,n]of e)t.push([r,n]);return t}for(const r of Object.keys(e)){const n=e[r];t.push([r,n])}return t}function createStringOrBufferBody(e,t){let r;return typeof t=="object"?(t=JSON.stringify(t),r="application/json"):typeof t=="string"&&(r="text/plain"),r&&!hasHeader(e,"Content-Type")&&setHeader(e,"Content-Type",r),hasHeader(e,"Content-Length")||(t=Buffer.from(t),setHeader(e,"Content-Length",t.length.toString())),t}async function domFetchParseIncomingMessage(e,t){switch(t){case"json":return e.json();case"text":return e.text();case"readable":return e}return new Uint8Array(await e.arrayBuffer())}async function domFetch(e){var o;const t=createHeadersArray(e.headers);setDefaultHttpFetchAccept(t,e.responseType);let{body:r}=e;r&&!(r instanceof ReadableStream)&&(r=createStringOrBufferBody(t,r));let n,i;e.timeout&&(n=new AbortController,i=setTimeout(()=>n.abort(),e.timeout),(o=e.signal)==null||o.addEventListener("abort",()=>{var a;return n.abort((a=e.signal)==null?void 0:a.reason)}));try{const{url:a}=e,s=await fetch(a,{method:getFetchMethod(e),credentials:e.withCredentials?"include":void 0,headers:t,signal:(n==null?void 0:n.signal)||e.signal,body:r});if((e==null?void 0:e.checkStatusCode)===void 0||e!=null&&e.checkStatusCode)try{if(!(typeof(e==null?void 0:e.checkStatusCode)=="function"?e.checkStatusCode:checkStatus)(s.status))throw new Error(`http response statusCode ${s.status}`)}catch(l){throw s.arrayBuffer().catch(()=>{}),l}return{statusCode:s.status,headers:s.headers,body:await domFetchParseIncomingMessage(s,e.responseType)}}finally{clearTimeout(i)}}async function readMessageBuffer(e){const t=[];e.on("data",n=>t.push(n));const{once:r}=require("events");return await r(e,"end"),Buffer.concat(t)}const TextParser={async parse(e){return(await readMessageBuffer(e)).toString()}},JSONParser={async parse(e){return JSON.parse((await readMessageBuffer(e)).toString())}},BufferParser={async parse(e){return readMessageBuffer(e)}},StreamParser={async parse(e){return e}};function getHttpFetchParser(e){switch(e){case"json":return JSONParser;case"text":return TextParser;case"readable":return StreamParser}return BufferParser}function httpFetchParseIncomingMessage(e,t){return getHttpFetchParser(t).parse(e)}async function httpFetch(e){var C;const t=createHeadersArray(e.headers);setDefaultHttpFetchAccept(t,e.responseType);const{once:r}=require("events"),{PassThrough:n,Readable:i}=require("stream"),{http:o,https:a}=require("follow-redirects"),{url:s}=e,c=s.toString().startsWith("https:")?a:o;let{body:d}=e;if(d&&!(d instanceof i)){const y=new n;y.write(Buffer.from(createStringOrBufferBody(t,d))),y.end(),d=y}let m,g;e.timeout&&(m=new AbortController,g=setTimeout(()=>m.abort(),e.timeout),(C=e.signal)==null||C.addEventListener("abort",()=>{var y;return m.abort((y=e.signal)==null?void 0:y.reason)}));const v=(m==null?void 0:m.signal)||e.signal;v==null||v.addEventListener("abort",()=>{var y;return S.destroy(new Error(((y=e.signal)==null?void 0:y.reason)||"abort"))});const _={};for(const[y,b]of t)_[y]?_[y].push(b):_[y]=[b];const S=c.request(s,{method:getFetchMethod(e),rejectUnauthorized:e.rejectUnauthorized,family:e.family,headers:_,signal:v,timeout:e.timeout});d?d.pipe(S):S.end();try{const[y]=await r(S,"response");if((e==null?void 0:e.checkStatusCode)===void 0||e!=null&&e.checkStatusCode)try{const u=typeof(e==null?void 0:e.checkStatusCode)=="function"?e.checkStatusCode:checkStatus;if(!y.statusCode||!u(y.statusCode))throw new Error(`http response statusCode ${y.statusCode}`)}catch(u){throw readMessageBuffer(y).catch(()=>{}),u}const b=new Headers;for(const[u,w]of Object.entries(y.headers))for(const x of typeof w=="string"?[w]:w)b.append(u,x);return{statusCode:y.statusCode,headers:b,body:await httpFetchParseIncomingMessage(y,e.responseType)}}finally{clearTimeout(g)}}const bt=class bt{constructor(t,r,n,i,o){this.peer=t,this.entry=r,this.constructorName=n,this.proxyProps=i,this.proxyOneWayMethods=o}toPrimitive(){const t=this.peer;return`RpcProxy-${t.selfName}:${t.peerName}: ${this.constructorName}`}get(t,r,n){var o,a,s,l,c;if(r===Symbol.asyncIterator)return(o=this.proxyProps)!=null&&o[Symbol.asyncIterator.toString()]?()=>new Proxy(()=>{},this):void 0;if(bt.iteratorMethods.has(r==null?void 0:r.toString())){const d=(s=(a=this.proxyProps)==null?void 0:a[Symbol.asyncIterator.toString()])==null?void 0:s[r];if(d)return new Proxy(()=>d,this)}if(r===RpcPeer.PROPERTY_PROXY_ID)return this.entry.id;if(r==="__proxy_constructor")return this.constructorName;if(r===RpcPeer.PROPERTY_PROXY_PEER)return this.peer;if(r===RpcPeer.PROPERTY_PROXY_PROPERTIES)return this.proxyProps;if(r===RpcPeer.PROPERTY_PROXY_ONEWAY_METHODS)return this.proxyOneWayMethods;if(r===RpcPeer.PROPERTY_JSON_DISABLE_SERIALIZATION||r===RpcPeer.PROPERTY_JSON_COPY_SERIALIZE_CHILDREN||r==="then"||r==="constructor")return;if(((l=this.proxyProps)==null?void 0:l[r])!==void 0)return(c=this.proxyProps)==null?void 0:c[r];const i=RpcPeer.handleFunctionInvocations(this,t,r,n);return i||new Proxy(()=>r,this)}set(t,r,n,i){return r===RpcPeer.finalizerIdSymbol?this.entry.finalizerId=n:(this.proxyProps||(this.proxyProps={}),this.proxyProps[r]=n),!0}apply(t,r,n){var m,g,v;const i=t()||null,o=(g=(m=this.proxyOneWayMethods)==null?void 0:m.includes)==null?void 0:g.call(m,i);if(Object.isFrozen(this.peer.pendingResults))return o?Promise.resolve():Promise.reject(new RPCResultError(this.peer,"RpcPeer has been killed (apply) "+t()));const a=[],s={};for(const _ of n||[])a.push(this.peer.serialize(_,s));const l={type:"apply",id:void 0,proxyId:this.entry.id,args:a,method:i};if(o)return l.oneway=!0,i===null&&delete l.method,this.peer.send(l,void 0,s),Promise.resolve();const c=this.peer.createPendingResult(i,(_,S)=>{l.id=_,this.peer.send(l,S,s)}),d=(v=this.proxyProps)==null?void 0:v[Symbol.asyncIterator.toString()];return!d||i!==d.next&&i!==d.return?c:c.then(_=>i===d.return?{done:!0,value:void 0}:{value:_,done:!1}).catch(_=>{if(_.name==="StopAsyncIteration")return{done:!0,value:void 0};throw _})}};De(bt,"iteratorMethods",new Set(["next","throw","return"]));let RpcProxy=bt;class RPCResultError extends Error{constructor(t,r,n,i){super(`${r}
${t.selfName}:${t.peerName}`),this.cause=n,i!=null&&i.name&&(this.name=i==null?void 0:i.name),i!=null&&i.stack&&(this.stack=`${(n==null?void 0:n.stack)||i.stack}
${t.peerName}:${t.selfName}`)}}try{const e=FinalizationRegistry}catch{window.WeakRef=class{constructor(r){De(this,"target");this.target=r}deref(){return this.target}},window.FinalizationRegistry=class{register(){}}}const He=class He{constructor(t,r,n){De(this,"params",{});De(this,"pendingResults",{});De(this,"localProxied",new Map);De(this,"localProxyMap",new Map);De(this,"remoteWeakProxies",{});De(this,"finalizers",new FinalizationRegistry(t=>this.finalize(t)));De(this,"nameDeserializerMap",new Map);De(this,"onProxyTypeSerialization",new Map);De(this,"onProxySerialization");De(this,"constructorSerializerMap",new Map);De(this,"transportSafeArgumentTypes",He.getDefaultTransportSafeArgumentTypes());De(this,"killed");De(this,"killedSafe");De(this,"killedDeferred");De(this,"tags",{});De(this,"yieldedAsyncIterators",new Set);this.selfName=t,this.peerName=r,this.send=n,this.killed=new Promise((i,o)=>{this.killedDeferred={resolve:i,reject:o,method:void 0}}).catch(i=>i.message||"Unknown Error"),this.killedSafe=this.killed.then(()=>{}).catch(()=>{})}static isRpcProxy(t){return!!(t!=null&&t[He.PROPERTY_PROXY_ID])}static getDefaultTransportSafeArgumentTypes(){const t=new Set;return t.add(Number.name),t.add(String.name),t.add(Object.name),t.add(Boolean.name),t.add(Array.name),t}static handleFunctionInvocations(t,r,n,i){if(n==="apply")return(o,a)=>t.apply(r,t,a);if(n==="call")return(o,...a)=>t.apply(r,t,a);if(n==="toString"||n===Symbol.toPrimitive)return(o,...a)=>t.toPrimitive()}static getIteratorNext(t){var n;if(!t[Symbol.asyncIterator])return;const r=(n=t[this.PROPERTY_PROXY_PROPERTIES])==null?void 0:n[Symbol.asyncIterator.toString()];return(r==null?void 0:r.next)||"next"}static prepareProxyProperties(t){let r=t==null?void 0:t[He.PROPERTY_PROXY_PROPERTIES];return t[Symbol.asyncIterator]&&(r||(r={}),r[Symbol.asyncIterator.toString()]||(r[Symbol.asyncIterator.toString()]={next:"next",throw:"throw",return:"return"})),r}static isTransportSafe(t){var r;return t?!t[Symbol.asyncIterator]&&!t[He.PROPERTY_JSON_DISABLE_SERIALIZATION]&&this.getDefaultTransportSafeArgumentTypes().has((r=t.constructor)==null?void 0:r.name):!0}isTransportSafe(t){var r;return t?!t[Symbol.asyncIterator]&&!t[He.PROPERTY_JSON_DISABLE_SERIALIZATION]&&this.transportSafeArgumentTypes.has((r=t.constructor)==null?void 0:r.name):!0}static generateId(){return[...new Array(8)].map(()=>He.RANDOM_DIGITS.charAt(Math.floor(Math.random()*He.RANDOM_DIGITS.length))).join("")}createPendingResult(t,r){if(Object.isFrozen(this.pendingResults))return Promise.reject(new RPCResultError(this,"RpcPeer has been killed (createPendingResult)"));const n=new Promise((i,o)=>{const a=He.generateId();this.pendingResults[a]={resolve:i,reject:o,method:t},r(a,s=>o(new RPCResultError(this,s.message,s)))});return n.catch(()=>{}),n}kill(t){if(Object.isFrozen(this.pendingResults))return;const r=new RPCResultError(this,t||"peer was killed");this.killedDeferred.reject(r);for(const n of Object.values(this.pendingResults))n.reject(r);for(const n of this.yieldedAsyncIterators)n.throw(r).catch(()=>{});this.yieldedAsyncIterators.clear(),this.pendingResults=Object.freeze({}),this.params=Object.freeze({}),this.remoteWeakProxies=Object.freeze({}),this.localProxyMap.clear(),this.localProxied.clear()}addSerializer(t,r,n){this.nameDeserializerMap.set(r,n),this.constructorSerializerMap.set(t,r)}finalize(t){He.remotesCollected++,delete this.remoteWeakProxies[t.id];const r={__local_proxy_id:t.id,__local_proxy_finalizer_id:t.finalizerId,type:"finalize"};this.send(r)}async getParam(t){return this.createPendingResult("getParam",(r,n)=>{const i={id:r,type:"param",param:t};this.send(i,n)})}createErrorResult(t,r){return t.result=this.serializeError(r),t.throw=!0,t}deserialize(t,r){var g;if(!t)return t;const n=t[He.PROPERTY_JSON_COPY_SERIALIZE_CHILDREN];if(n){if(Array.isArray(n)){const _=[];for(const S of n)_.push(this.deserialize(S,r));return _}const v={};for(const[_,S]of Object.entries(t))v[_]=this.deserialize(S,r);return v}const{__remote_proxy_id:i,__remote_proxy_finalizer_id:o,__local_proxy_id:a,__remote_constructor_name:s,__serialized_value:l,__remote_proxy_props:c,__remote_proxy_oneway_methods:d}=t;if(s===He.RPC_RESULT_ERROR_NAME)return this.deserializeError(l);if(i){let v=(g=this.remoteWeakProxies[i])==null?void 0:g.deref();v||(v=this.newProxy(i,s,c,d)),v[He.finalizerIdSymbol]=o;const _=this.nameDeserializerMap.get(s);return _?_.deserialize(v,r):v}if(a){const v=this.localProxyMap.get(a);if(!v)throw new RPCResultError(this,`invalid local proxy id ${a}`);return v}const m=this.nameDeserializerMap.get(s);return m?m.deserialize(l,r):t}deserializeError(t){const{name:r,stack:n,message:i}=t;return new RPCResultError(this,i,void 0,{name:r,stack:n})}serializeError(t){const r={stack:t.stack||"[no stack]",name:t.name||"[no name]",message:t.message||"[no message]"};return{__remote_constructor_name:He.RPC_RESULT_ERROR_NAME,__remote_proxy_id:void 0,__remote_proxy_finalizer_id:void 0,__remote_proxy_oneway_methods:void 0,__remote_proxy_props:void 0,__serialized_value:r}}serialize(t,r){var m,g,v,_,S;if((t==null?void 0:t[He.PROPERTY_JSON_COPY_SERIALIZE_CHILDREN])===!0){if(Array.isArray(t)){const y=[];for(const b of t)y.push(this.serialize(b,r));return{[He.PROPERTY_JSON_COPY_SERIALIZE_CHILDREN]:y}}const C={};for(const[y,b]of Object.entries(t))C[y]=this.serialize(b,r);return C}if(this.isTransportSafe(t))return t;let n=t.__proxy_constructor||((g=(m=t.constructor)==null?void 0:m.name)==null?void 0:g.toString());if(t instanceof Error)return this.serializeError(t);const i=this.constructorSerializerMap.get(t.constructor);if(i){n=i;const C=this.nameDeserializerMap.get(i);if(!C)throw new Error("serializer not found for "+i);const y=C.serialize(t,r);return{__remote_proxy_id:void 0,__remote_proxy_finalizer_id:void 0,__remote_constructor_name:n,__remote_proxy_props:He.prepareProxyProperties(t),__remote_proxy_oneway_methods:t==null?void 0:t[He.PROPERTY_PROXY_ONEWAY_METHODS],__serialized_value:y}}let o=this.localProxied.get(t);if(o){const{proxyId:C,properties:y}=((v=this.onProxySerialization)==null?void 0:v.call(this,t))||{proxyId:o.id,properties:He.prepareProxyProperties(t)};if(C!==o.id)throw new Error("onProxySerialization proxy id mismatch");const b=He.generateId();return o.finalizerId=b,{__remote_proxy_id:C,__remote_proxy_finalizer_id:b,__remote_constructor_name:n,__remote_proxy_props:y,__remote_proxy_oneway_methods:t==null?void 0:t[He.PROPERTY_PROXY_ONEWAY_METHODS]}}const{__proxy_id:a,__proxy_peer:s}=t;if(a&&s===this)return{__local_proxy_id:a};(_=this.onProxyTypeSerialization.get(n))==null||_(t);const{proxyId:l,properties:c}=((S=this.onProxySerialization)==null?void 0:S.call(this,t))||{proxyId:He.generateId(),properties:He.prepareProxyProperties(t)};return o={id:l,finalizerId:l},this.localProxied.set(t,o),this.localProxyMap.set(l,t),{__remote_proxy_id:l,__remote_proxy_finalizer_id:l,__remote_constructor_name:n,__remote_proxy_props:c,__remote_proxy_oneway_methods:t==null?void 0:t[He.PROPERTY_PROXY_ONEWAY_METHODS]}}newProxy(t,r,n,i){He.remotesCreated++;const o={id:t,finalizerId:void 0},a=new RpcProxy(this,o,r,n,i),s=r==="Function"||r==="AsyncFunction"?function(){}:a,l=new Proxy(s,a),c=new WeakRef(l);return this.remoteWeakProxies[t]=c,this.finalizers.register(a,o),l}handleMessage(t,r){try{He.activeRpcPeer=this,this.handleMessageInternal(t,r)}finally{He.activeRpcPeer=void 0}}sendResult(t,r){this.send(t,n=>{this.send(this.createErrorResult(t,n),void 0,r)},r)}async handleMessageInternal(t,r){var n;if(!Object.isFrozen(this.pendingResults))try{switch(t.type){case"param":{const i=t,o={};let a;try{a={type:"result",id:i.id,result:this.serialize(this.params[i.param],o)}}catch(s){this.createErrorResult(a,s)}this.sendResult(a,o);break}case"apply":{const i=t,o={type:"result",id:i.id||""},a={};try{const s=this.localProxyMap.get(i.proxyId);if(!s)throw new Error(`proxy id ${i.proxyId} not found`);const l=[];for(const d of i.args||[])l.push(this.deserialize(d,r));let c;if(i.method){if(!s[i.method])throw new Error(`target ${(n=s==null?void 0:s.constructor)==null?void 0:n.name} does not have method ${i.method}`);const m=He.getIteratorNext(s)===i.method;if(m&&this.yieldedAsyncIterators.delete(s),c=await s[i.method](...l),m){if(c.done)throw{name:"StopAsyncIteration",message:void 0};Object.isFrozen(this.pendingResults)?s.throw(new RPCResultError(this,"RpcPeer has been killed (yield)")).catch(()=>{}):this.yieldedAsyncIterators.add(s),c=c.value}}else c=await s(...l);o.result=this.serialize(c,a)}catch(s){this.createErrorResult(o,s)}i.oneway||this.sendResult(o,a);break}case"result":{const i=t,o=this.pendingResults[i.id];if(delete this.pendingResults[i.id],!o)throw new Error(`unknown result ${i.id}`);const a=this.deserialize(i.result,r);i.throw?o.reject(a):o.resolve(a);break}case"finalize":{const i=t,o=this.localProxyMap.get(i.__local_proxy_id);if(o){const a=this.localProxied.get(o);if(i.__local_proxy_finalizer_id&&i.__local_proxy_finalizer_id!==(a==null?void 0:a.finalizerId))break;this.localProxyMap.delete(i.__local_proxy_id),this.localProxied.delete(o)}break}default:throw new Error(`unknown rpc message type ${t.type}`)}}catch(i){console.error("unhandled rpc error",this.peerName,i);return}}};De(He,"finalizerIdSymbol",Symbol("rpcFinalizerId")),De(He,"remotesCollected",0),De(He,"remotesCreated",0),De(He,"activeRpcPeer"),De(He,"RANDOM_DIGITS","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"),De(He,"RPC_RESULT_ERROR_NAME","RPCResultError"),De(He,"PROPERTY_PROXY_ID","__proxy_id"),De(He,"PROPERTY_PROXY_PEER","__proxy_peer"),De(He,"PROPERTY_PROXY_ONEWAY_METHODS","__proxy_oneway_methods"),De(He,"PROPERTY_JSON_DISABLE_SERIALIZATION","__json_disable_serialization"),De(He,"PROPERTY_PROXY_PROPERTIES","__proxy_props"),De(He,"PROPERTY_JSON_COPY_SERIALIZE_CHILDREN","__json_copy_serialize_children"),De(He,"PROBED_PROPERTIES",new Set(["then","constructor","__proxy_id","__proxy_constructor",He.PROPERTY_PROXY_PEER,He.PROPERTY_PROXY_ONEWAY_METHODS,He.PROPERTY_JSON_DISABLE_SERIALIZATION,He.PROPERTY_PROXY_PROPERTIES,He.PROPERTY_JSON_COPY_SERIALIZE_CHILDREN]));let RpcPeer=He;class MediaObject{constructor(t,r,n){De(this,"__proxy_props");this.mimeType=t,this.data=r,this.__proxy_props={},n||(n={}),n.mimeType=t,n.convert||(n.convert=null),n.toMimeTypes||(n.toMimeTypes=null);for(const[i,o]of Object.entries(n))RpcPeer.isTransportSafe(o)&&(this.__proxy_props[i]=o),this[i]=o}async getData(){return Promise.resolve(this.data)}}class EventListenerRegisterProxy{constructor(t,r){De(this,"__proxy_oneway_methods",["removeListener"]);this.listener=t,this.listeners=r,this.listeners.add(this)}removeListener(){this.listeners.delete(this),this.listener.removeListener()}}class PluginAPIManagedListeners{constructor(){De(this,"listeners",new Set)}manageListener(t){return new EventListenerRegisterProxy(t,this.listeners)}removeListeners(){for(const t of[...this.listeners])t.removeListener();this.listeners.clear()}}class PluginAPIProxy extends PluginAPIManagedListeners{constructor(r,n){super();De(this,"acl");this.api=r,this.mediaManager=n}setScryptedInterfaceDescriptors(r,n){var i;return(i=this.acl)==null||i.deny(),this.api.setScryptedInterfaceDescriptors(r,n)}setState(r,n,i){var o;return(o=this.acl)==null||o.deny(),this.api.setState(r,n,i)}onDevicesChanged(r){var n;return(n=this.acl)==null||n.deny(),this.api.onDevicesChanged(r)}onDeviceDiscovered(r){var n;return(n=this.acl)==null||n.deny(),this.api.onDeviceDiscovered(r)}onDeviceEvent(r,n,i){var o;return(o=this.acl)==null||o.deny(),this.api.onDeviceEvent(r,n,i)}onMixinEvent(r,n,i,o){var a;return(a=this.acl)==null||a.deny(),this.api.onMixinEvent(r,n,i,o)}onDeviceRemoved(r){var n;return(n=this.acl)==null||n.deny(),this.api.onDeviceRemoved(r)}setStorage(r,n){var i;return(i=this.acl)==null||i.deny(),this.api.setStorage(r,n)}getDeviceById(r){var n;if(!((n=this.acl)!=null&&n.shouldRejectDevice(r)))return this.api.getDeviceById(r)}setDeviceProperty(r,n,i){var o;return(o=this.acl)==null||o.deny(),this.api.setDeviceProperty(r,n,i)}removeDevice(r){var n;return(n=this.acl)==null||n.deny(),this.api.removeDevice(r)}async listen(r){return this.acl?this.manageListener(await this.api.listen((n,i,o)=>{this.acl.shouldRejectEvent(n,i)||r(n,i,o)})):this.manageListener(await this.api.listen(r))}async listenDevice(r,n,i){return this.acl?this.manageListener(await this.api.listenDevice(r,n,(o,a)=>{this.acl.shouldRejectEvent(r,o)||i(o,a)})):this.manageListener(await this.api.listenDevice(r,n,i))}getLogger(r){var n;return(n=this.acl)==null||n.deny(),this.api.getLogger(r)}getComponent(r){var n;return(n=this.acl)==null||n.deny(),this.api.getComponent(r)}async getMediaManager(){return this.mediaManager}async requestRestart(){var r;return(r=this.acl)==null||r.deny(),this.api.requestRestart()}}var dist$1={},hasRequiredDist$1;function requireDist$1(){if(hasRequiredDist$1)return dist$1;hasRequiredDist$1=1,Object.defineProperty(dist$1,"__esModule",{value:!0}),dist$1.ScryptedMimeTypes=dist$1.ScryptedInterface=dist$1.MediaPlayerState=dist$1.SecuritySystemObstruction=dist$1.SecuritySystemMode=dist$1.AirQuality=dist$1.AirPurifierMode=dist$1.AirPurifierStatus=dist$1.ChargeState=dist$1.LockState=dist$1.PanTiltZoomMovement=dist$1.ThermostatMode=dist$1.TemperatureUnit=dist$1.FanMode=dist$1.HumidityMode=dist$1.ScryptedDeviceType=dist$1.ScryptedInterfaceDescriptors=dist$1.ScryptedInterfaceMethod=dist$1.ScryptedInterfaceProperty=dist$1.DeviceBase=dist$1.TYPES_VERSION=void 0,dist$1.TYPES_VERSION="0.5.52";class e{}dist$1.DeviceBase=e;var t;(function(u){u.id="id",u.info="info",u.interfaces="interfaces",u.mixins="mixins",u.name="name",u.nativeId="nativeId",u.pluginId="pluginId",u.providedInterfaces="providedInterfaces",u.providedName="providedName",u.providedRoom="providedRoom",u.providedType="providedType",u.providerId="providerId",u.room="room",u.type="type",u.scryptedRuntimeArguments="scryptedRuntimeArguments",u.on="on",u.brightness="brightness",u.colorTemperature="colorTemperature",u.rgb="rgb",u.hsv="hsv",u.buttons="buttons",u.sensors="sensors",u.running="running",u.paused="paused",u.docked="docked",u.temperatureSetting="temperatureSetting",u.temperature="temperature",u.temperatureUnit="temperatureUnit",u.humidity="humidity",u.resolution="resolution",u.audioVolumes="audioVolumes",u.recordingActive="recordingActive",u.ptzCapabilities="ptzCapabilities",u.lockState="lockState",u.entryOpen="entryOpen",u.batteryLevel="batteryLevel",u.chargeState="chargeState",u.online="online",u.fromMimeType="fromMimeType",u.toMimeType="toMimeType",u.converters="converters",u.binaryState="binaryState",u.tampered="tampered",u.sleeping="sleeping",u.powerDetected="powerDetected",u.audioDetected="audioDetected",u.motionDetected="motionDetected",u.ambientLight="ambientLight",u.occupied="occupied",u.flooded="flooded",u.ultraviolet="ultraviolet",u.luminance="luminance",u.position="position",u.securitySystemState="securitySystemState",u.pm10Density="pm10Density",u.pm25Density="pm25Density",u.vocDensity="vocDensity",u.noxDensity="noxDensity",u.co2ppm="co2ppm",u.airQuality="airQuality",u.airPurifierState="airPurifierState",u.filterChangeIndication="filterChangeIndication",u.filterLifeLevel="filterLifeLevel",u.humiditySetting="humiditySetting",u.fan="fan",u.applicationInfo="applicationInfo",u.chatCompletionCapabilities="chatCompletionCapabilities",u.systemDevice="systemDevice"})(t||(dist$1.ScryptedInterfaceProperty=t={}));var r;(function(u){u.listen="listen",u.probe="probe",u.setMixins="setMixins",u.setName="setName",u.setRoom="setRoom",u.setType="setType",u.getPluginJson="getPluginJson",u.turnOff="turnOff",u.turnOn="turnOn",u.setBrightness="setBrightness",u.getTemperatureMaxK="getTemperatureMaxK",u.getTemperatureMinK="getTemperatureMinK",u.setColorTemperature="setColorTemperature",u.setRgb="setRgb",u.setHsv="setHsv",u.pressButton="pressButton",u.sendNotification="sendNotification",u.start="start",u.stop="stop",u.pause="pause",u.resume="resume",u.dock="dock",u.setTemperature="setTemperature",u.setTemperatureUnit="setTemperatureUnit",u.getPictureOptions="getPictureOptions",u.takePicture="takePicture",u.getAudioStream="getAudioStream",u.setAudioVolumes="setAudioVolumes",u.startDisplay="startDisplay",u.stopDisplay="stopDisplay",u.getVideoStream="getVideoStream",u.getVideoStreamOptions="getVideoStreamOptions",u.getPrivacyMasks="getPrivacyMasks",u.setPrivacyMasks="setPrivacyMasks",u.getVideoTextOverlays="getVideoTextOverlays",u.setVideoTextOverlay="setVideoTextOverlay",u.getRecordingStream="getRecordingStream",u.getRecordingStreamCurrentTime="getRecordingStreamCurrentTime",u.getRecordingStreamOptions="getRecordingStreamOptions",u.getRecordingStreamThumbnail="getRecordingStreamThumbnail",u.deleteRecordingStream="deleteRecordingStream",u.setRecordingActive="setRecordingActive",u.ptzCommand="ptzCommand",u.getRecordedEvents="getRecordedEvents",u.getVideoClip="getVideoClip",u.getVideoClips="getVideoClips",u.getVideoClipThumbnail="getVideoClipThumbnail",u.removeVideoClips="removeVideoClips",u.setVideoStreamOptions="setVideoStreamOptions",u.startIntercom="startIntercom",u.stopIntercom="stopIntercom",u.lock="lock",u.unlock="unlock",u.addPassword="addPassword",u.getPasswords="getPasswords",u.removePassword="removePassword",u.activate="activate",u.deactivate="deactivate",u.isReversible="isReversible",u.closeEntry="closeEntry",u.openEntry="openEntry",u.getDevice="getDevice",u.releaseDevice="releaseDevice",u.adoptDevice="adoptDevice",u.discoverDevices="discoverDevices",u.createDevice="createDevice",u.getCreateDeviceSettings="getCreateDeviceSettings",u.reboot="reboot",u.getRefreshFrequency="getRefreshFrequency",u.refresh="refresh",u.getMediaStatus="getMediaStatus",u.load="load",u.seek="seek",u.skipNext="skipNext",u.skipPrevious="skipPrevious",u.convert="convert",u.convertMedia="convertMedia",u.getSettings="getSettings",u.putSetting="putSetting",u.armSecuritySystem="armSecuritySystem",u.disarmSecuritySystem="disarmSecuritySystem",u.setAirPurifierState="setAirPurifierState",u.getReadmeMarkdown="getReadmeMarkdown",u.getOauthUrl="getOauthUrl",u.onOauthCallback="onOauthCallback",u.canMixin="canMixin",u.getMixin="getMixin",u.releaseMixin="releaseMixin",u.onRequest="onRequest",u.onConnection="onConnection",u.onPush="onPush",u.run="run",u.eval="eval",u.loadScripts="loadScripts",u.saveScript="saveScript",u.forkInterface="forkInterface",u.getDetectionInput="getDetectionInput",u.getObjectTypes="getObjectTypes",u.detectObjects="detectObjects",u.generateObjectDetections="generateObjectDetections",u.getDetectionModel="getDetectionModel",u.setHumidity="setHumidity",u.setFan="setFan",u.startRTCSignalingSession="startRTCSignalingSession",u.createRTCSignalingSession="createRTCSignalingSession",u.getScryptedUserAccessControl="getScryptedUserAccessControl",u.generateVideoFrames="generateVideoFrames",u.connectStream="connectStream",u.getTTYSettings="getTTYSettings",u.getChatCompletion="getChatCompletion",u.streamChatCompletion="streamChatCompletion",u.getTextEmbedding="getTextEmbedding",u.getImageEmbedding="getImageEmbedding",u.callLLMTool="callLLMTool",u.getLLMTools="getLLMTools"})(r||(dist$1.ScryptedInterfaceMethod=r={})),dist$1.ScryptedInterfaceDescriptors={ScryptedDevice:{name:"ScryptedDevice",methods:["listen","probe","setMixins","setName","setRoom","setType"],properties:["id","info","interfaces","mixins","name","nativeId","pluginId","providedInterfaces","providedName","providedRoom","providedType","providerId","room","type"]},ScryptedPlugin:{name:"ScryptedPlugin",methods:["getPluginJson"],properties:[]},ScryptedPluginRuntime:{name:"ScryptedPluginRuntime",methods:[],properties:["scryptedRuntimeArguments"]},OnOff:{name:"OnOff",methods:["turnOff","turnOn"],properties:["on"]},Brightness:{name:"Brightness",methods:["setBrightness"],properties:["brightness"]},ColorSettingTemperature:{name:"ColorSettingTemperature",methods:["getTemperatureMaxK","getTemperatureMinK","setColorTemperature"],properties:["colorTemperature"]},ColorSettingRgb:{name:"ColorSettingRgb",methods:["setRgb"],properties:["rgb"]},ColorSettingHsv:{name:"ColorSettingHsv",methods:["setHsv"],properties:["hsv"]},Buttons:{name:"Buttons",methods:[],properties:["buttons"]},PressButtons:{name:"PressButtons",methods:["pressButton"],properties:[]},Sensors:{name:"Sensors",methods:[],properties:["sensors"]},Notifier:{name:"Notifier",methods:["sendNotification"],properties:[]},StartStop:{name:"StartStop",methods:["start","stop"],properties:["running"]},Pause:{name:"Pause",methods:["pause","resume"],properties:["paused"]},Dock:{name:"Dock",methods:["dock"],properties:["docked"]},TemperatureSetting:{name:"TemperatureSetting",methods:["setTemperature"],properties:["temperatureSetting"]},Thermometer:{name:"Thermometer",methods:["setTemperatureUnit"],properties:["temperature","temperatureUnit"]},HumiditySensor:{name:"HumiditySensor",methods:[],properties:["humidity"]},Camera:{name:"Camera",methods:["getPictureOptions","takePicture"],properties:[]},Resolution:{name:"Resolution",methods:[],properties:["resolution"]},Microphone:{name:"Microphone",methods:["getAudioStream"],properties:[]},AudioVolumeControl:{name:"AudioVolumeControl",methods:["setAudioVolumes"],properties:["audioVolumes"]},Display:{name:"Display",methods:["startDisplay","stopDisplay"],properties:[]},VideoCamera:{name:"VideoCamera",methods:["getVideoStream","getVideoStreamOptions"],properties:[]},VideoCameraMask:{name:"VideoCameraMask",methods:["getPrivacyMasks","setPrivacyMasks"],properties:[]},VideoTextOverlays:{name:"VideoTextOverlays",methods:["getVideoTextOverlays","setVideoTextOverlay"],properties:[]},VideoRecorder:{name:"VideoRecorder",methods:["getRecordingStream","getRecordingStreamCurrentTime","getRecordingStreamOptions","getRecordingStreamThumbnail"],properties:["recordingActive"]},VideoRecorderManagement:{name:"VideoRecorderManagement",methods:["deleteRecordingStream","setRecordingActive"],properties:[]},PanTiltZoom:{name:"PanTiltZoom",methods:["ptzCommand"],properties:["ptzCapabilities"]},EventRecorder:{name:"EventRecorder",methods:["getRecordedEvents"],properties:[]},VideoClips:{name:"VideoClips",methods:["getVideoClip","getVideoClips","getVideoClipThumbnail","removeVideoClips"],properties:[]},VideoCameraConfiguration:{name:"VideoCameraConfiguration",methods:["setVideoStreamOptions"],properties:[]},Intercom:{name:"Intercom",methods:["startIntercom","stopIntercom"],properties:[]},Lock:{name:"Lock",methods:["lock","unlock"],properties:["lockState"]},PasswordStore:{name:"PasswordStore",methods:["addPassword","getPasswords","removePassword"],properties:[]},Scene:{name:"Scene",methods:["activate","deactivate","isReversible"],properties:[]},Entry:{name:"Entry",methods:["closeEntry","openEntry"],properties:[]},EntrySensor:{name:"EntrySensor",methods:[],properties:["entryOpen"]},DeviceProvider:{name:"DeviceProvider",methods:["getDevice","releaseDevice"],properties:[]},DeviceDiscovery:{name:"DeviceDiscovery",methods:["adoptDevice","discoverDevices"],properties:[]},DeviceCreator:{name:"DeviceCreator",methods:["createDevice","getCreateDeviceSettings"],properties:[]},Battery:{name:"Battery",methods:[],properties:["batteryLevel"]},Charger:{name:"Charger",methods:[],properties:["chargeState"]},Reboot:{name:"Reboot",methods:["reboot"],properties:[]},Refresh:{name:"Refresh",methods:["getRefreshFrequency","refresh"],properties:[]},MediaPlayer:{name:"MediaPlayer",methods:["getMediaStatus","load","seek","skipNext","skipPrevious"],properties:[]},Online:{name:"Online",methods:[],properties:["online"]},BufferConverter:{name:"BufferConverter",methods:["convert"],properties:["fromMimeType","toMimeType"]},MediaConverter:{name:"MediaConverter",methods:["convertMedia"],properties:["converters"]},Settings:{name:"Settings",methods:["getSettings","putSetting"],properties:[]},BinarySensor:{name:"BinarySensor",methods:[],properties:["binaryState"]},TamperSensor:{name:"TamperSensor",methods:[],properties:["tampered"]},Sleep:{name:"Sleep",methods:[],properties:["sleeping"]},PowerSensor:{name:"PowerSensor",methods:[],properties:["powerDetected"]},AudioSensor:{name:"AudioSensor",methods:[],properties:["audioDetected"]},MotionSensor:{name:"MotionSensor",methods:[],properties:["motionDetected"]},AmbientLightSensor:{name:"AmbientLightSensor",methods:[],properties:["ambientLight"]},OccupancySensor:{name:"OccupancySensor",methods:[],properties:["occupied"]},FloodSensor:{name:"FloodSensor",methods:[],properties:["flooded"]},UltravioletSensor:{name:"UltravioletSensor",methods:[],properties:["ultraviolet"]},LuminanceSensor:{name:"LuminanceSensor",methods:[],properties:["luminance"]},PositionSensor:{name:"PositionSensor",methods:[],properties:["position"]},SecuritySystem:{name:"SecuritySystem",methods:["armSecuritySystem","disarmSecuritySystem"],properties:["securitySystemState"]},PM10Sensor:{name:"PM10Sensor",methods:[],properties:["pm10Density"]},PM25Sensor:{name:"PM25Sensor",methods:[],properties:["pm25Density"]},VOCSensor:{name:"VOCSensor",methods:[],properties:["vocDensity"]},NOXSensor:{name:"NOXSensor",methods:[],properties:["noxDensity"]},CO2Sensor:{name:"CO2Sensor",methods:[],properties:["co2ppm"]},AirQualitySensor:{name:"AirQualitySensor",methods:[],properties:["airQuality"]},AirPurifier:{name:"AirPurifier",methods:["setAirPurifierState"],properties:["airPurifierState"]},FilterMaintenance:{name:"FilterMaintenance",methods:[],properties:["filterChangeIndication","filterLifeLevel"]},Readme:{name:"Readme",methods:["getReadmeMarkdown"],properties:[]},OauthClient:{name:"OauthClient",methods:["getOauthUrl","onOauthCallback"],properties:[]},MixinProvider:{name:"MixinProvider",methods:["canMixin","getMixin","releaseMixin"],properties:[]},HttpRequestHandler:{name:"HttpRequestHandler",methods:["onRequest"],properties:[]},EngineIOHandler:{name:"EngineIOHandler",methods:["onConnection"],properties:[]},PushHandler:{name:"PushHandler",methods:["onPush"],properties:[]},Program:{name:"Program",methods:["run"],properties:[]},Scriptable:{name:"Scriptable",methods:["eval","loadScripts","saveScript"],properties:[]},ClusterForkInterface:{name:"ClusterForkInterface",methods:["forkInterface"],properties:[]},ObjectDetector:{name:"ObjectDetector",methods:["getDetectionInput","getObjectTypes"],properties:[]},ObjectDetection:{name:"ObjectDetection",methods:["detectObjects","generateObjectDetections","getDetectionModel"],properties:[]},ObjectDetectionPreview:{name:"ObjectDetectionPreview",methods:[],properties:[]},ObjectDetectionGenerator:{name:"ObjectDetectionGenerator",methods:[],properties:[]},HumiditySetting:{name:"HumiditySetting",methods:["setHumidity"],properties:["humiditySetting"]},Fan:{name:"Fan",methods:["setFan"],properties:["fan"]},RTCSignalingChannel:{name:"RTCSignalingChannel",methods:["startRTCSignalingSession"],properties:[]},RTCSignalingClient:{name:"RTCSignalingClient",methods:["createRTCSignalingSession"],properties:[]},LauncherApplication:{name:"LauncherApplication",methods:[],properties:["applicationInfo"]},ScryptedUser:{name:"ScryptedUser",methods:["getScryptedUserAccessControl"],properties:[]},VideoFrameGenerator:{name:"VideoFrameGenerator",methods:["generateVideoFrames"],properties:[]},StreamService:{name:"StreamService",methods:["connectStream"],properties:[]},TTY:{name:"TTY",methods:[],properties:[]},TTYSettings:{name:"TTYSettings",methods:["getTTYSettings"],properties:[]},ChatCompletion:{name:"ChatCompletion",methods:["getChatCompletion","streamChatCompletion"],properties:["chatCompletionCapabilities"]},TextEmbedding:{name:"TextEmbedding",methods:["getTextEmbedding"],properties:[]},ImageEmbedding:{name:"ImageEmbedding",methods:["getImageEmbedding"],properties:[]},LLMTools:{name:"LLMTools",methods:["callLLMTool","getLLMTools"],properties:[]},ScryptedSystemDevice:{name:"ScryptedSystemDevice",methods:[],properties:["systemDevice"]},ScryptedDeviceCreator:{name:"ScryptedDeviceCreator",methods:[],properties:[]},ScryptedSettings:{name:"ScryptedSettings",methods:[],properties:[]}};var n;(function(u){u.Builtin="Builtin",u.Internal="Internal",u.Camera="Camera",u.Fan="Fan",u.Light="Light",u.Switch="Switch",u.Outlet="Outlet",u.Sensor="Sensor",u.Scene="Scene",u.Program="Program",u.Automation="Automation",u.Vacuum="Vacuum",u.Notifier="Notifier",u.Thermostat="Thermostat",u.Lock="Lock",u.PasswordControl="PasswordControl",u.Display="Display",u.SmartDisplay="SmartDisplay",u.Speaker="Speaker",u.SmartSpeaker="SmartSpeaker",u.RemoteDesktop="RemoteDesktop",u.Event="Event",u.Entry="Entry",u.Garage="Garage",u.DeviceProvider="DeviceProvider",u.DataSource="DataSource",u.API="API",u.Buttons="Buttons",u.Doorbell="Doorbell",u.Irrigation="Irrigation",u.Valve="Valve",u.Person="Person",u.SecuritySystem="SecuritySystem",u.WindowCovering="WindowCovering",u.Siren="Siren",u.AirPurifier="AirPurifier",u.Internet="Internet",u.Network="Network",u.Bridge="Bridge",u.LLM="LLM",u.Unknown="Unknown"})(n||(dist$1.ScryptedDeviceType=n={}));var i;(function(u){u.Humidify="Humidify",u.Dehumidify="Dehumidify",u.Auto="Auto",u.Off="Off"})(i||(dist$1.HumidityMode=i={}));var o;(function(u){u.Auto="Auto",u.Manual="Manual"})(o||(dist$1.FanMode=o={}));var a;(function(u){u.C="C",u.F="F"})(a||(dist$1.TemperatureUnit=a={}));var s;(function(u){u.Off="Off",u.Cool="Cool",u.Heat="Heat",u.HeatCool="HeatCool",u.Auto="Auto",u.FanOnly="FanOnly",u.Purifier="Purifier",u.Eco="Eco",u.Dry="Dry",u.On="On"})(s||(dist$1.ThermostatMode=s={}));var l;(function(u){u.Absolute="Absolute",u.Relative="Relative",u.Continuous="Continuous",u.Preset="Preset",u.Home="Home"})(l||(dist$1.PanTiltZoomMovement=l={}));var c;(function(u){u.Locked="Locked",u.Unlocked="Unlocked",u.Jammed="Jammed"})(c||(dist$1.LockState=c={}));var d;(function(u){u.Trickle="trickle",u.Charging="charging",u.NotCharging="not-charging"})(d||(dist$1.ChargeState=d={}));var m;(function(u){u.Inactive="Inactive",u.Idle="Idle",u.Active="Active",u.ActiveNightMode="ActiveNightMode"})(m||(dist$1.AirPurifierStatus=m={}));var g;(function(u){u.Manual="Manual",u.Automatic="Automatic"})(g||(dist$1.AirPurifierMode=g={}));var v;(function(u){u.Unknown="Unknown",u.Excellent="Excellent",u.Good="Good",u.Fair="Fair",u.Inferior="Inferior",u.Poor="Poor"})(v||(dist$1.AirQuality=v={}));var _;(function(u){u.Disarmed="Disarmed",u.HomeArmed="HomeArmed",u.AwayArmed="AwayArmed",u.NightArmed="NightArmed"})(_||(dist$1.SecuritySystemMode=_={}));var S;(function(u){u.Sensor="Sensor",u.Occupied="Occupied",u.Time="Time",u.Error="Error"})(S||(dist$1.SecuritySystemObstruction=S={}));var C;(function(u){u.Idle="Idle",u.Playing="Playing",u.Paused="Paused",u.Buffering="Buffering"})(C||(dist$1.MediaPlayerState=C={}));var y;(function(u){u.ScryptedDevice="ScryptedDevice",u.ScryptedPlugin="ScryptedPlugin",u.ScryptedPluginRuntime="ScryptedPluginRuntime",u.OnOff="OnOff",u.Brightness="Brightness",u.ColorSettingTemperature="ColorSettingTemperature",u.ColorSettingRgb="ColorSettingRgb",u.ColorSettingHsv="ColorSettingHsv",u.Buttons="Buttons",u.PressButtons="PressButtons",u.Sensors="Sensors",u.Notifier="Notifier",u.StartStop="StartStop",u.Pause="Pause",u.Dock="Dock",u.TemperatureSetting="TemperatureSetting",u.Thermometer="Thermometer",u.HumiditySensor="HumiditySensor",u.Camera="Camera",u.Resolution="Resolution",u.Microphone="Microphone",u.AudioVolumeControl="AudioVolumeControl",u.Display="Display",u.VideoCamera="VideoCamera",u.VideoCameraMask="VideoCameraMask",u.VideoTextOverlays="VideoTextOverlays",u.VideoRecorder="VideoRecorder",u.VideoRecorderManagement="VideoRecorderManagement",u.PanTiltZoom="PanTiltZoom",u.EventRecorder="EventRecorder",u.VideoClips="VideoClips",u.VideoCameraConfiguration="VideoCameraConfiguration",u.Intercom="Intercom",u.Lock="Lock",u.PasswordStore="PasswordStore",u.Scene="Scene",u.Entry="Entry",u.EntrySensor="EntrySensor",u.DeviceProvider="DeviceProvider",u.DeviceDiscovery="DeviceDiscovery",u.DeviceCreator="DeviceCreator",u.Battery="Battery",u.Charger="Charger",u.Reboot="Reboot",u.Refresh="Refresh",u.MediaPlayer="MediaPlayer",u.Online="Online",u.BufferConverter="BufferConverter",u.MediaConverter="MediaConverter",u.Settings="Settings",u.BinarySensor="BinarySensor",u.TamperSensor="TamperSensor",u.Sleep="Sleep",u.PowerSensor="PowerSensor",u.AudioSensor="AudioSensor",u.MotionSensor="MotionSensor",u.AmbientLightSensor="AmbientLightSensor",u.OccupancySensor="OccupancySensor",u.FloodSensor="FloodSensor",u.UltravioletSensor="UltravioletSensor",u.LuminanceSensor="LuminanceSensor",u.PositionSensor="PositionSensor",u.SecuritySystem="SecuritySystem",u.PM10Sensor="PM10Sensor",u.PM25Sensor="PM25Sensor",u.VOCSensor="VOCSensor",u.NOXSensor="NOXSensor",u.CO2Sensor="CO2Sensor",u.AirQualitySensor="AirQualitySensor",u.AirPurifier="AirPurifier",u.FilterMaintenance="FilterMaintenance",u.Readme="Readme",u.OauthClient="OauthClient",u.MixinProvider="MixinProvider",u.HttpRequestHandler="HttpRequestHandler",u.EngineIOHandler="EngineIOHandler",u.PushHandler="PushHandler",u.Program="Program",u.Scriptable="Scriptable",u.ClusterForkInterface="ClusterForkInterface",u.ObjectDetector="ObjectDetector",u.ObjectDetection="ObjectDetection",u.ObjectDetectionPreview="ObjectDetectionPreview",u.ObjectDetectionGenerator="ObjectDetectionGenerator",u.HumiditySetting="HumiditySetting",u.Fan="Fan",u.RTCSignalingChannel="RTCSignalingChannel",u.RTCSignalingClient="RTCSignalingClient",u.LauncherApplication="LauncherApplication",u.ScryptedUser="ScryptedUser",u.VideoFrameGenerator="VideoFrameGenerator",u.StreamService="StreamService",u.TTY="TTY",u.TTYSettings="TTYSettings",u.ChatCompletion="ChatCompletion",u.TextEmbedding="TextEmbedding",u.ImageEmbedding="ImageEmbedding",u.LLMTools="LLMTools",u.ScryptedSystemDevice="ScryptedSystemDevice",u.ScryptedDeviceCreator="ScryptedDeviceCreator",u.ScryptedSettings="ScryptedSettings"})(y||(dist$1.ScryptedInterface=y={}));var b;return function(u){u.Url="text/x-uri",u.InsecureLocalUrl="text/x-insecure-local-uri",u.LocalUrl="text/x-local-uri",u.ServerId="text/x-server-id",u.PushEndpoint="text/x-push-endpoint",u.SchemePrefix="x-scrypted/x-scrypted-scheme-",u.MediaStreamUrl="text/x-media-url",u.MediaObject="x-scrypted/x-scrypted-media-object",u.RequestMediaObject="x-scrypted/x-scrypted-request-media-object",u.RequestMediaStream="x-scrypted/x-scrypted-request-stream",u.MediaStreamFeedback="x-scrypted/x-media-stream-feedback",u.FFmpegInput="x-scrypted/x-ffmpeg-input",u.FFmpegTranscodeStream="x-scrypted/x-ffmpeg-transcode-stream",u.RTCSignalingChannel="x-scrypted/x-scrypted-rtc-signaling-channel",u.RTCSignalingSession="x-scrypted/x-scrypted-rtc-signaling-session",u.RTCConnectionManagement="x-scrypted/x-scrypted-rtc-connection-management",u.Image="x-scrypted/x-scrypted-image"}(b||(dist$1.ScryptedMimeTypes=b={})),dist$1}var distExports$1=requireDist$1();class BufferSerializer{serialize(t){return console.warn("Using slow buffer serialization. Ensure the peer supports SidebandBufferSerializer."),t.toString("base64")}deserialize(t){return console.warn("Using slow buffer deserialization. Ensure the peer supports SidebandBufferSerializer."),Buffer.from(t,"base64")}}class SidebandBufferSerializer{constructor(){De(this,"bufferSerializer",new BufferSerializer)}serialize(t,r){if(!r)return this.bufferSerializer.serialize(t);const n=r.buffers=r.buffers||[];return n.push(t),n.length-1}deserialize(t,r){return r!=null&&r.buffers?r.buffers[t]:this.bufferSerializer.deserialize(t)}}[].concat(...Object.values(distExports$1.ScryptedInterfaceDescriptors).map(e=>e.properties));function getPropertyInterfaces(e){const t={};for(const r of Object.values(e))for(const n of r.properties)t[n]=r.name;return t}const propertyInterfaces=getPropertyInterfaces(distExports$1.ScryptedInterfaceDescriptors);function getInterfaceMethods(e,t){return Object.values(e).filter(r=>t.has(r.name)).map(r=>r.methods).flat()}function getInterfaceProperties(e,t){return Object.values(e).filter(r=>t.has(r.name)).map(r=>r.properties).flat()}function isValidInterfaceMethod(e,t,r){return getInterfaceMethods(e,t).includes(r)||e[distExports$1.ScryptedInterface.ScryptedDevice].methods.includes(r)}function checkProperty(e,t){if(e===distExports$1.ScryptedInterfaceProperty.id)throw new Error("id is read only");if(e===distExports$1.ScryptedInterfaceProperty.nativeId)throw new Error("nativeId is read only");if(e===distExports$1.ScryptedInterfaceProperty.mixins)throw new Error("mixins is read only");if(e===distExports$1.ScryptedInterfaceProperty.interfaces)throw new Error("interfaces is a read only post-mixin computed property, use providedInterfaces");if(RpcPeer.isRpcProxy(t))throw new Error("value must be a primitive type");if(propertyInterfaces[e.toString()]===distExports$1.ScryptedInterface.ScryptedDevice&&e!==distExports$1.ScryptedInterfaceProperty.info)throw new Error(`${e.toString()} can not be set. Use DeviceManager.onDevicesChanges or DeviceManager.onDeviceDiscovered to update the device description.`)}class DeviceLogger{constructor(t,r,n){De(this,"nativeId");De(this,"api");De(this,"logger");this.console=n,this.api=t,this.nativeId=r}async ensureLogger(){return this.logger||(this.logger=this.api.getLogger(this.nativeId)),await this.logger}async log(t,r){(await this.ensureLogger()).log(t,r)}a(t){this.log("a",t)}async clear(){(await this.ensureLogger()).clear()}async clearAlert(t){(await this.ensureLogger()).clearAlert(t)}async clearAlerts(){(await this.ensureLogger()).clearAlerts()}d(t){this.log("d",t)}e(t){this.log("e",t)}i(t){this.log("i",t)}v(t){this.log("v",t)}w(t){this.log("w",t)}}class DeviceStateProxyHandler{constructor(t,r,n){this.deviceManager=t,this.id=r,this.setState=n}get(t,r,n){var i;return r==="id"?this.id:r===RpcPeer.PROPERTY_PROXY_PROPERTIES?{id:this.id}:r==="setState"?this.setState:(i=this.deviceManager.systemManager.state[this.id][r])==null?void 0:i.value}set(t,r,n,i){return checkProperty(r.toString(),n),this.deviceManager.systemManager.state[this.id][r]={value:n},this.setState(r.toString(),n),!0}}class DeviceManagerImpl{constructor(t,r,n){De(this,"api");De(this,"nativeIds",new Map);De(this,"deviceStorage",new Map);De(this,"mixinStorage",new Map);this.systemManager=t,this.getDeviceConsole=r,this.getMixinConsole=n}async requestRestart(){return this.api.requestRestart()}getDeviceLogger(t){var r;return new DeviceLogger(this.api,t,((r=this.getDeviceConsole)==null?void 0:r.call(this,t))||console)}getDeviceState(t){const r=new DeviceStateProxyHandler(this,this.nativeIds.get(t).id,(n,i)=>this.api.setState(t,n,i));return new Proxy(r,r)}createDeviceState(t,r){const n=new DeviceStateProxyHandler(this,t,r);return new Proxy(n,n)}getDeviceStorage(t){let r=this.deviceStorage.get(t);return r||(r=new StorageImpl(this,t),this.deviceStorage.set(t,r)),r}getMixinStorage(t,r){let n=this.mixinStorage.get(r);n||(n=new Map,this.mixinStorage.set(r,n));let i=n.get(t);return i||(i=new StorageImpl(this,r,`mixin:${t}:`),n.set(t,i)),i}pruneMixinStorage(){for(const t of this.nativeIds.keys()){const r=this.nativeIds.get(t).storage;for(const n of Object.keys(r)){if(!n.startsWith("mixin:"))continue;const[,i]=n.split(":");i&&!this.systemManager.state[i]&&delete r[n]}}}async onMixinEvent(t,r,n,i){return this.api.onMixinEvent(t,r,n,i)}getNativeIds(){return Array.from(this.nativeIds.keys())}async onDeviceDiscovered(t){return this.api.onDeviceDiscovered(t)}async onDeviceRemoved(t){return this.api.onDeviceRemoved(t)}async onDeviceEvent(t,r,n){return this.api.onDeviceEvent(t,r,n)}async onDevicesChanged(t){return this.api.onDevicesChanged(t)}}function toStorageString(e){return e===null?"null":e===void 0?"undefined":e.toString()}const ht=class ht{constructor(t,r,n){De(this,"api");return this.deviceManager=t,this.nativeId=r,this.prefix=n,this.deviceManager=t,this.api=t.api,this.nativeId=r,this.prefix||(this.prefix=""),new Proxy(this,ht.indexedHandler)}get storage(){return this.deviceManager.nativeIds.get(this.nativeId).storage}get length(){return Object.keys(this.storage).filter(t=>t.startsWith(this.prefix)).length}clear(){if(!this.prefix)this.deviceManager.nativeIds.get(this.nativeId).storage={};else{const t=this.storage;Object.keys(this.storage).filter(r=>r.startsWith(this.prefix)).forEach(r=>delete t[r])}this.api.setStorage(this.nativeId,this.storage)}getItem(t){return this.storage[this.prefix+t]}key(t){return this.prefix?Object.keys(this.storage).filter(r=>r.startsWith(this.prefix))[t].substring(this.prefix.length):Object.keys(this.storage)[t]}removeItem(t){delete this.storage[this.prefix+t],this.api.setStorage(this.nativeId,this.storage)}setItem(t,r){t=toStorageString(t),r=toStorageString(r),this.storage[this.prefix+t]!==r&&(this.storage[this.prefix+t]=r,this.api.setStorage(this.nativeId,this.storage))}};De(ht,"allowedMethods",["length","clear","getItem","setItem","key","removeItem"]),De(ht,"indexedHandler",{get(t,r){const n=r.toString();if(ht.allowedMethods.includes(n)){const i=t[n];return n==="length"?i:i.bind(t)}return t.getItem(toStorageString(r))},set(t,r,n){return t.setItem(toStorageString(r),n),!0}});let StorageImpl=ht;class EndpointManagerImpl{constructor(){De(this,"deviceManager");De(this,"api");De(this,"pluginId");De(this,"mediaManager")}getEndpoint(t){var n;if(!t)return this.pluginId;const r=(n=this.deviceManager.nativeIds.get(t))==null?void 0:n.id;if(!r)throw new Error("invalid nativeId "+t);return t?r:this.pluginId}async getUrlSafeIp(){const t=await this.api.getComponent("SCRYPTED_IP_ADDRESS");return t!=null&&t.includes(":")?`[${t}]`:t}async getAuthenticatedPath(t){return this.getPath(t)}async getInsecurePublicLocalEndpoint(t){return this.getLocalEndpoint(t,{insecure:!0,public:!0})}async getPublicCloudEndpoint(t){return this.getCloudEndpoint(t,{public:!0})}async getPublicLocalEndpoint(t){return this.getLocalEndpoint(t,{public:!0})}async getPublicPushEndpoint(t){const r=await this.mediaManager.createMediaObject(Buffer.from(this.getEndpoint(t)),distExports$1.ScryptedMimeTypes.PushEndpoint);return this.mediaManager.convertMediaObjectToUrl(r,distExports$1.ScryptedMimeTypes.PushEndpoint)}async getPath(t,r){return`/endpoint/${this.getEndpoint(t)}/${r!=null&&r.public?"public/":""}`}async getLocalEndpoint(t,r){const n=r!=null&&r.insecure?"http":"https",i=await this.api.getComponent(r!=null&&r.insecure?"SCRYPTED_INSECURE_PORT":"SCRYPTED_SECURE_PORT"),o=await this.getPath(t,r);return`${n}://${await this.getUrlSafeIp()}:${i}${o}`}async getCloudEndpoint(t,r){const n=await this.getLocalEndpoint(t,r),i=await this.mediaManager.createMediaObject(Buffer.from(n),distExports$1.ScryptedMimeTypes.LocalUrl);return this.mediaManager.convertMediaObjectToUrl(i,distExports$1.ScryptedMimeTypes.LocalUrl)}async getCloudPushEndpoint(t){const r=await this.mediaManager.createMediaObject(Buffer.from(this.getEndpoint(t)),distExports$1.ScryptedMimeTypes.PushEndpoint);return this.mediaManager.convertMediaObjectToUrl(r,distExports$1.ScryptedMimeTypes.PushEndpoint)}async setLocalAddresses(t){return(await this.api.getComponent("addresses")).setLocalAddresses(t)}async getLocalAddresses(){return await(await this.api.getComponent("addresses")).getLocalAddresses()}async setAccessControlAllowOrigin(t){return(await this.deviceManager.systemManager.getComponent("setAccessControlAllowOrigin"))(t)}}class WebSocketEventTarget{constructor(){De(this,"events",{})}dispatchEvent(t){const r=this.events[t.type];if(r)for(const n of r)n(t)}addEventListener(t,r){let n=this.events[t];n||(n=this.events[t]=[]),n.push(r)}removeEventListener(t,r){const n=this.events[t];if(!n)return;const i=n.indexOf(r);i>-1&&n.splice(i,1)}}function defineEventAttribute(e,t){Object.defineProperty(e,"on"+t,{get:function(){throw new Error(`${t} is write only`)},set:function(r){this.events[t]=[r]}})}function createWebSocketClass(e){class t extends WebSocketEventTarget{constructor(i,o){super();De(this,"_url");De(this,"_protocols");De(this,"readyState");this.connection=i,this._url=i.url,this._protocols=o,this.readyState=0,e(i,{connect:(a,s)=>{if(a!=null){this.dispatchEvent({type:"error",message:a.toString()});return}this.readyState=1,this.dispatchEvent({type:"open"})},end:()=>{this.readyState=3,this.dispatchEvent({type:"close",reason:"closed"})},error:a=>{this.readyState=3,this.dispatchEvent({type:"error",message:a.toString()})},data:a=>{this.dispatchEvent({type:"message",data:a,source:this})}})}send(i){this.connection.send(i)}get url(){return this._url}get extensions(){return""}close(i){this.connection.close(i)}}return defineEventAttribute(t.prototype,"close"),defineEventAttribute(t.prototype,"error"),defineEventAttribute(t.prototype,"message"),defineEventAttribute(t.prototype,"open"),t}var Ot,It;It=RpcPeer.PROPERTY_PROXY_PROPERTIES,Ot=RpcPeer.PROPERTY_PROXY_ONEWAY_METHODS;class WebSocketConnection{constructor(t,r){De(this,It);De(this,Ot,["send","close"]);this.url=t,this.websocketMethods=r,this[RpcPeer.PROPERTY_PROXY_PROPERTIES]={url:t}}send(t){return this.websocketMethods.send(t)}close(t){return this.websocketMethods.close(t)}}class WebSocketSerializer{constructor(){De(this,"WebSocket")}serialize(t,r){throw new Error("WebSocketSerializer should only be used for deserialization.")}deserialize(t,r){if(this.WebSocket)return new this.WebSocket(t)}}let EventListenerRegisterImpl$1=class{constructor(t){De(this,"removeListener");this.removeListener=t}};function getMixinEventName(e){let{event:t,mixinId:r}=e||{};return!t&&typeof e=="string"&&(t=e),t||(t=void 0),r?`${t}-mixin-${r}`:t}const allowedEventInterfaces=new Set([distExports$1.ScryptedInterface.ScryptedDevice,"Logger"]);class EventRegistry{constructor(){De(this,"systemListeners",new Set);De(this,"listeners",{})}listen(t){const r=this.systemListeners;return r.add(t),new EventListenerRegisterImpl$1(()=>{r.delete(t),t=void 0})}listenDevice(t,r,n){let i=getMixinEventName(r);const o=`${t}#${i}`;let a=this.listeners[o];return a||(a=new Set,this.listeners[o]=a),a.add(n),new EventListenerRegisterImpl$1(()=>{a.delete(n),n=void 0})}notify(t,r,n,i,o,a){const{changed:s,mixinId:l}=a||{};if(i&&!s)return!1;const c={eventId:void 0,eventInterface:n,eventTime:r,property:i,mixinId:l};return this.notifyEventDetails(t,c,o)}notifyEventDetails(t,r,n,i){if(r.eventId||(r.eventId=Math.random().toString(36).substring(2)),i||(i=r.eventInterface),r.property&&!r.mixinId||allowedEventInterfaces.has(i))for(const s of this.systemListeners)s(t,r,n);const o=this.listeners[`${t}#${i}`];if(o)for(const s of o)s(r,n);const a=this.listeners[`${t}#undefined`];if(a)for(const s of a)s(r,n);return!0}}function newDeviceProxy(e,t){const r=new DeviceProxyHandler(e,t);return new Proxy(r,r)}class DeviceProxyHandler{constructor(t,r){De(this,"customProperties");De(this,"device");this.id=t,this.systemManager=r}toPrimitive(){return`ScryptedDevice-${this.id}`}ownKeys(t){const r=new Set(this.systemManager.state[this.id].interfaces.value),n=getInterfaceMethods(this.systemManager.descriptors||distExports$1.ScryptedInterfaceDescriptors,r),i=getInterfaceProperties(this.systemManager.descriptors||distExports$1.ScryptedInterfaceDescriptors,r);return[...n,...i]}getOwnPropertyDescriptor(t,r){var s;const n=new Set(this.systemManager.state[this.id].interfaces.value),i=getInterfaceMethods(this.systemManager.descriptors||distExports$1.ScryptedInterfaceDescriptors,n),o=r.toString();if(i.includes(o))return{configurable:!0};if(getInterfaceProperties(this.systemManager.descriptors||distExports$1.ScryptedInterfaceDescriptors,n).includes(o))return{configurable:!0,value:(s=this.systemManager.state[this.id][o])==null?void 0:s.value}}deleteProperty(t,r){const n=r.toString();return Object.keys(distExports$1.ScryptedInterfaceProperty).includes(n)?!1:(this.customProperties||(this.customProperties=new Map),this.customProperties.set(r,void 0),!0)}set(t,r,n,i){const o=r.toString();return Object.keys(distExports$1.ScryptedInterfaceProperty).includes(o)?!1:(this.customProperties||(this.customProperties=new Map),this.customProperties.set(r,n),!0)}get(t,r,n){var l,c,d,m,g;if(r==="id")return this.id;if((l=this.customProperties)!=null&&l.has(r))return this.customProperties.get(r);const i=RpcPeer.handleFunctionInvocations(this,t,r,n);if(i)return i;const o=new Set(((c=this.systemManager.state[this.id].interfaces)==null?void 0:c.value)||[]),a=r.toString();if(((d=this.systemManager.propertyInterfaces)==null?void 0:d[a])||propertyInterfaces[a])return(g=(m=this.systemManager.state[this.id])==null?void 0:m[r])==null?void 0:g.value;if(isValidInterfaceMethod(this.systemManager.descriptors||distExports$1.ScryptedInterfaceDescriptors,o,a))return distExports$1.ScryptedInterfaceDescriptors[distExports$1.ScryptedInterface.ScryptedDevice].methods.includes(a)?this[r].bind(this):new Proxy(()=>r,this)}ensureDevice(){return this.device||(this.device=this.systemManager.api.getDeviceById(this.id)),this.device}async apply(t,r,n){const i=t();return(await this.ensureDevice())[i](...n)}listen(t,r){return this.systemManager.listenDevice(this.id,t,r)}async setName(t){return this.systemManager.api.setDeviceProperty(this.id,distExports$1.ScryptedInterfaceProperty.name,t)}async setRoom(t){return this.systemManager.api.setDeviceProperty(this.id,distExports$1.ScryptedInterfaceProperty.room,t)}async setType(t){return this.systemManager.api.setDeviceProperty(this.id,distExports$1.ScryptedInterfaceProperty.type,t)}async setMixins(t){await(await this.systemManager.getComponent("plugins")).setMixins(this.id,t)}async probe(){return this.apply(()=>"probe",void 0,[])}}class EventListenerRegisterImpl{constructor(t){De(this,"promise");this.promise=t}async removeListener(){try{const t=await this.promise;this.promise=void 0,t==null||t.removeListener()}catch(t){console.error("removeListener",t)}}}function makeOneWayCallback(e){const t=e,r=t[RpcPeer.PROPERTY_PROXY_ONEWAY_METHODS]||[];return r.includes(null)||r.push(null),t[RpcPeer.PROPERTY_PROXY_ONEWAY_METHODS]=r,e}class SystemManagerImpl{constructor(){De(this,"api");De(this,"state");De(this,"deviceProxies",{});De(this,"log");De(this,"events",new EventRegistry);De(this,"typesVersion");De(this,"descriptors");De(this,"propertyInterfaces")}getDeviceState(t){return this.state[t]}getSystemState(){return this.state}getDeviceById(t,r){var o,a;let n;if(this.state[t]){if(r!=null)return;n=t}else for(const s of Object.keys(this.state)){const l=this.state[s];if(l&&((o=l[distExports$1.ScryptedInterfaceProperty.pluginId])==null?void 0:o.value)===t&&((a=l[distExports$1.ScryptedInterfaceProperty.nativeId])==null?void 0:a.value)==r){n=s;break}}if(!n)return;let i=this.deviceProxies[n];return i||(i=this.deviceProxies[n]=newDeviceProxy(n,this)),i}getDeviceByName(t){var r,n,i;for(const o of Object.keys(this.state)){const a=this.state[o];if((n=(r=a.interfaces)==null?void 0:r.value)!=null&&n.includes(distExports$1.ScryptedInterface.ScryptedPlugin)&&((i=a.pluginId)==null?void 0:i.value)===t)return this.getDeviceById(o);if(a.name.value===t)return this.getDeviceById(o)}}listen(t){return this.events.listen(makeOneWayCallback((r,n,i)=>t(this.getDeviceById(r),n,i)))}listenDevice(t,r,n){let{watch:i}=r||{};return i?this.events.listenDevice(t,r,(o,a)=>n(this.getDeviceById(t),o,a)):new EventListenerRegisterImpl(this.api.listenDevice(t,r,makeOneWayCallback((o,a)=>n(this.getDeviceById(t),o,a))))}async removeDevice(t){return this.api.removeDevice(t)}getComponent(t){return this.api.getComponent(t)}setScryptedInterfaceDescriptors(t,r){return this.typesVersion=t,this.descriptors=r,this.propertyInterfaces=getPropertyInterfaces(r),this.api.setScryptedInterfaceDescriptors(t,r)}}var define_process_env_default$1={};class ClusterManagerImpl{constructor(t,r,n){De(this,"clusterServicePromise");this.clusterMode=t,this.api=r,this.clusterWorkerId=n}getClusterWorkerId(){return this.clusterWorkerId}getClusterAddress(){return define_process_env_default$1.SCRYPTED_CLUSTER_ADDRESS}getClusterMode(){return this.clusterMode}async getClusterWorkers(){return(await this.getClusterService()).getClusterWorkers()}getClusterService(){return this.clusterServicePromise||(this.clusterServicePromise=this.api.getComponent("cluster-fork")),this.clusterServicePromise}}function attachPluginRemote(e,t){const{createMediaManager:r,getServicePort:n,getDeviceConsole:i,getMixinConsole:o}={};e.constructorSerializerMap.get(Buffer)||e.addSerializer(Buffer,"Buffer",new BufferSerializer);const a={},s=new WebSocketSerializer;e.addSerializer(WebSocketConnection,"WebSocketConnection",s);let l;const c=new Promise(d=>l=d);return e.params.getRemote=async(d,m,g)=>{var T;s.WebSocket=createWebSocketClass((k,D)=>{const{url:B}=k;if(B.startsWith("io://")||B.startsWith("ws://")){const A=B.substring(5);a[A]=D,D.connect(void 0,{close:O=>k.close(O),send:O=>k.send(O)})}else throw new Error("unsupported websocket")}),d=await((T=t==null?void 0:t.onGetRemote)==null?void 0:T.call(t,d,m))||d;const v=new SystemManagerImpl,_=new DeviceManagerImpl(v,i,o),S=new EndpointManagerImpl,C=new ClusterManagerImpl(void 0,d,void 0),y=await d.getMediaManager();y||(e.params.createMediaManager=async()=>r(v,_));const b=y||await r(v,_);e.params.mediaManager=b,v.api=d,_.api=d;const u=_.getDeviceLogger(void 0);v.log=u;const w={systemManager:v,deviceManager:_,endpointManager:S,mediaManager:b,clusterManager:C,log:u,pluginHostAPI:d,pluginRemoteAPI:void 0,serverVersion:g==null?void 0:g.serverVersion,connect:void 0,fork:void 0,connectRPCObject:void 0};delete e.params.getRemote,S.api=d,S.deviceManager=_,S.mediaManager=b,S.pluginId=m;const x=new StorageImpl(_,void 0),E={[RpcPeer.PROPERTY_JSON_DISABLE_SERIALIZATION]:!0,[RpcPeer.PROPERTY_PROXY_ONEWAY_METHODS]:["notify","updateDeviceState","setSystemState","ioEvent","setNativeId"],getServicePort:n,async createDeviceState(k,D){return _.createDeviceState(k,D)},async ioEvent(k,D,B){const A=a[k];if(A)switch(D){case"message":A.data(B);break;case"close":A.end(),delete a[k];break}},async setNativeId(k,D,B){k===null&&(k=void 0),D?_.nativeIds.set(k==null?void 0:k.toString(),{id:D,storage:B}):_.nativeIds.delete(k)},async updateDeviceState(k,D){D?(v.state[k]=D,v.events.notify(k,void 0,distExports$1.ScryptedInterface.ScryptedDevice,void 0,D,{changed:!0})):(delete v.state[k],v.events.notify(void 0,void 0,distExports$1.ScryptedInterface.ScryptedDevice,distExports$1.ScryptedInterfaceProperty.id,k,{changed:!0}))},async notify(k,D,B,A,O,V){var H,q;if(typeof D=="number"){const K=D,Q=B;if(A){const X=(H=v.state)==null?void 0:H[k];if(!X){u.w(`state not found for ${k}`);return}X[A]=O,v.events.notify(k,K,Q,A,O.value,{changed:V})}else v.events.notify(k,K,Q,A,O,{changed:V})}else{const K=D,Q=B;if(K.property&&!K.mixinId){const X=(q=v.state)==null?void 0:q[k];if(!X){u.w(`state not found for ${k}`);return}X[K.property]=Q,v.events.notifyEventDetails(k,K,Q.value)}else v.events.notifyEventDetails(k,K,Q)}},async setSystemState(k){v.state=k,_.pruneMixinStorage(),l(w)},async loadZip(k,D,B){const A={__filename:void 0,deviceManager:_,systemManager:v,mediaManager:b,endpointManager:S,localStorage:x,pluginHostAPI:d,WebSocket:function(O){if(typeof O=="string")throw new Error("unsupported websocket");return O},pluginRuntimeAPI:w};A.pluginRuntimeAPI=w;try{return await t.onLoadZip(w,A,k,D,B)}catch(O){throw console.error("plugin start/fork failed",O),O}}};return w.pluginRemoteAPI=E,E},c}function createRpcSerializer(e){let t;const{sendMessageBuffer:r,sendMessageFinish:n}=e;let i=!0;const o=()=>{i=!1,t.kill("connection closed.")},a=(g,v,_)=>{if(!i){v==null||v(new Error("peer disconnected"));return}const S=_==null?void 0:_.buffers;if(S)for(const C of S)r(C);n(g)};let s;return{kill:g=>{t.kill(g)},sendMessage:a,setupRpcPeer:g=>{t=g,t.addSerializer(Buffer,"Buffer",new SidebandBufferSerializer),t.constructorSerializerMap.set(Uint8Array,"Buffer")},onMessageBuffer:g=>{s=s||{},s.buffers||(s.buffers=[]),s.buffers.push(g)},onMessageFinish:g=>{const v=s;s=void 0,t.handleMessage(g,v)},onDisconnected:o}}function createRpcDuplexSerializer(e){const t=(m,g)=>{const v=Buffer.alloc(5);v.writeUInt32BE(g.length+1,0),v.writeUInt8(m,4),e.write(Buffer.concat([v,g]))},r=m=>g=>t(m,g),n=r(1),i=r(0),o=createRpcSerializer({sendMessageBuffer:n,sendMessageFinish:m=>i(Buffer.from(JSON.stringify(m)))});let a,s,l,c;return{onData:m=>{for(;m.length;){if(!s){if(a?a=Buffer.concat([a,m]):a=m,a.length<5)return;m=a.slice(5);const _=a.readUInt32BE(0)-1;c=a.readUInt8(4),m.length>=_&&c===0?(s=m.length===_?m:m.slice(0,_),l=_,m=m.slice(_)):(s=Buffer.alloc(_),l=0),a=void 0}const g=s.length-l;if(g){const _=m.slice(0,g);m=m.slice(g),s.set(_,l),l+=_.length}if(l!==s.length)return;const v=s;if(s=void 0,c===0)try{const _=JSON.parse(v.toString());o.onMessageFinish(_)}catch(_){o.kill("message parse failure "+_.message)}else o.onMessageBuffer(v)}},setupRpcPeer:o.setupRpcPeer,sendMessage:o.sendMessage,onDisconnected:o.onDisconnected}}const version$1="1.3.26",packageJson={version:version$1},ipv4Regex=/^(\d{1,3}\.){3,3}\d{1,3}$/,ipv6Regex=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;function isIPV4Address(e){return ipv4Regex.test(e)}function isIPV6Address(e){return ipv6Regex.test(e)}function isIPAddress(e){return isIPV4Address(e)||isIPV6Address(e)}var define_process_env_default={};let fetcher;try{if(process.arch==="browser")throw new Error;require("net"),require("events"),fetcher=httpFetch}catch{fetcher=domFetch}const sourcePeerId=RpcPeer.generateId();function once(e,t){return new Promise((r,n)=>{const i=s=>{a(),n(s)},o=(...s)=>{a(),r(s)},a=()=>{e.removeListener("error",i),e.removeListener(t,o)};e.once("error",i),e.once(t,o)})}function isInstalledApp$1(){var e;return(e=globalThis.navigator)==null?void 0:e.userAgent.includes("InstalledApp")}function isRunningStandalone(){var e;return((e=globalThis.matchMedia)==null?void 0:e.call(globalThis,"(display-mode: standalone)").matches)||isInstalledApp$1()}async function logoutScryptedClient(e){const t=combineBaseUrl(e,"logout");return(await fetcher({url:t,withCredentials:!0,responseType:"json",rejectUnauthorized:!1})).body}function getBaseUrl$1(e){try{const t=new URL(e);t.search="",t.hash="";const n=t.pathname.split("/"),i=n.findIndex(o=>o==="endpoint");return i===-1?void 0:{url:t,parts:n,index:i}}catch{}}function importMetaUrlWithoutAssetsPath(){const e=new URL(import.meta.url),t=e.pathname.split("/");return t.pop(),t.pop(),t.push("public"),t.push(""),e.pathname=t.join("/"),e.toString()}function getCurrentBaseUrlRaw(){const e=getBaseUrl$1(window.location.href)||getBaseUrl$1(document.baseURI)||getBaseUrl$1(importMetaUrlWithoutAssetsPath());if(!e)try{return getBaseUrl$1(define_process_env_default.SCRYPTED_ENDPOINT_PATH)}catch{}return e}function getCurrentBaseUrl(){const e=getCurrentBaseUrlRaw();if(!e)return;const{url:t,parts:r,index:n}=e,i=r.slice(0,n);return i.push(""),t.pathname=i.join("/"),t.toString()}async function loginScryptedClient(e){let{baseUrl:t,username:r,password:n,change_password:i,maxAge:o}=e;!o&&isRunningStandalone()&&(o=365*24*60*60*1e3);const a=combineBaseUrl(t,"login"),s=await fetcher({url:a,body:{username:r,password:n,change_password:i,maxAge:o},rejectUnauthorized:!1,withCredentials:!0,responseType:"json"});if(s.statusCode!==200)throw new Error("status "+s.statusCode);const{body:l}=s;return{error:l.error,authorization:l.authorization,queryToken:l.queryToken,token:l.token,addresses:l.addresses,externalAddresses:l.externalAddresses,hostname:l.hostname,scryptedCloud:s.headers.get("x-scrypted-cloud")==="true",directAddress:s.headers.get("x-scrypted-direct-address"),cloudAddress:s.headers.get("x-scrypted-cloud-address"),serverId:s.headers.get("x-scrypted-server-id")}}async function checkScryptedClientLogin(e){var a;let{baseUrl:t}=e||{},r=combineBaseUrl(t,"login");const n=new Headers;if((a=e==null?void 0:e.previousLoginResult)!=null&&a.queryToken){const s=(e==null?void 0:e.previousLoginResult.username)+":"+e.previousLoginResult.token,l=Buffer.from(s).toString("base64");n.set("Authorization",`Basic ${l}`)}const i=await fetcher({url:r,withCredentials:!0,headers:n,rejectUnauthorized:!1,responseType:"json"}),{body:o}=i;return{baseUrl:t,hostname:o.hostname,redirect:o.redirect,username:o.username,expiration:o.expiration,hasLogin:!!o.hasLogin,error:o.error,authorization:o.authorization,queryToken:o.queryToken,token:o.token,addresses:o.addresses,externalAddresses:o.externalAddresses,scryptedCloud:i.headers.get("x-scrypted-cloud")==="true",directAddress:i.headers.get("x-scrypted-direct-address"),cloudAddress:i.headers.get("x-scrypted-cloud-address"),serverId:i.headers.get("x-scrypted-server-id")}}class ScryptedClientLoginError extends Error{constructor(t){super(t.error),this.result=t}}function redirectScryptedLogin(e){let{baseUrl:t,redirect:r}=e||{};if(r=r||"/endpoint/@scrypted/core/public/",t){const i=new URL(r,t);i.searchParams.set("redirect_uri",window.location.href),r=i.toString()}else r=`${r}?redirect_uri=${encodeURIComponent(window.location.href)}`;const n=r;console.log("redirect_uri",n),globalThis.location.href=n}function combineBaseUrl(e,t){return e?new URL(t,e).toString():"/"+t}async function connectScryptedClient(e){var ee,ue,he,ve,j,M,ne;const t=Date.now();let{baseUrl:r,pluginId:n,clientName:i,username:o,password:a}=e,s,l,c,d,m,g,v,_,S,C;console.log("@scrypted/client",packageJson.version);const y={},u=!((ee=globalThis.navigator)==null?void 0:ee.userAgent.includes("Chrome"))||isInstalledApp$1();let w=!1;if(o&&a){const Y=await loginScryptedClient(e);Y.authorization&&(y.Authorization=Y.authorization),c=Y.addresses,d=Y.externalAddresses,m=Y.scryptedCloud,g=Y.directAddress,v=Y.cloudAddress,s=Y.authorization,l=Y.queryToken,S=Y.token,_=Y.hostname,C=Y.serverId,console.log("login result",Date.now()-t,Y)}else{let Y=function(ae){if(ae.error||ae.redirect)throw new ScryptedClientLoginError(ae);if(!ae.authorization||!ae.username||!ae.queryToken)throw console.error(ae),new Error("malformed login result");return ae};const de=new Set;if((ue=e==null?void 0:e.previousLoginResult)!=null&&ue.token){for(const ae of[...((he=e==null?void 0:e.previousLoginResult)==null?void 0:he.localAddresses)||[],(ve=e==null?void 0:e.previousLoginResult)==null?void 0:ve.directAddress])ae&&(u||e.direct)&&de.add(ae);for(const ae of[...((j=e==null?void 0:e.previousLoginResult)==null?void 0:j.externalAddresses)||[],(M=e==null?void 0:e.previousLoginResult)==null?void 0:M.cloudAddress])ae&&de.add(ae)}const L=[...de].map(ae=>checkScryptedClientLogin({baseUrl:ae,previousLoginResult:e==null?void 0:e.previousLoginResult}).then(Y)),W=checkScryptedClientLogin({baseUrl:r,previousLoginResult:e==null?void 0:e.previousLoginResult}).then(Y);L.push(W);let J;try{J=await Promise.any(L),w||(w=J.baseUrl!==r)}catch{J=await W}if(w&&console.log("Found direct login. Allowing alternate addresses."),J.error||J.redirect)throw new ScryptedClientLoginError(J);c=J.addresses,d=J.externalAddresses,m=J.scryptedCloud,g=J.directAddress,v=J.cloudAddress,o=J.username,s=J.authorization,l=J.queryToken,S=J.token,_=J.hostname,C=J.serverId,console.log("login checked",Date.now()-t,J)}let x;const E=`endpoint/${n}/engine.io/api`,k={path:r?new URL(E,r).pathname:"/"+E,query:{cacheBust:Math.random().toString(36).substring(3,10)},withCredentials:!0,extraHeaders:y,rejectUnauthorized:!1,transports:e==null?void 0:e.transports},D=r||`${globalThis.location.protocol}//${globalThis.location.host}`,B=[],A=u;w||(w=m),(w&&e.local===void 0&&A||e.local)&&c&&B.push(...c);const O=g&&(u||!isIPAddress(g));if((w&&e.direct===void 0&&O||e.direct)&&g&&B.push(g),w&&e.direct===void 0||e.direct){v&&B.push(v);for(const Y of d||[])B.push(Y)}const V=!!B.length;console.log({tryLocalAddressess:V});const H={...k,extraHeaders:{...k.extraHeaders}};(ne=H.extraHeaders).Authorization||(ne.Authorization=s);let q=[];const K=[];if(V)for(const Y of new Set(B)){console.log("trying",Y);const de=new Socket(Y,H);q.push(de),K.push((async()=>(await once(de,"open"),{connectionType:"http-direct",ready:de,address:Y}))())}const Q=[...K];K.push((async()=>{const Y=V?1e3:0;if(console.log("waiting",Y),Y)try{const L=Promise.any(Q);await timeoutPromise(Y,L),console.log("found direct connection, aborting scrypted cloud connection");return}catch{}const de=new Socket(D,k);return q.push(de),await once(de,"open"),{ready:de,address:D,connectionType:m?"http-cloud":"http"}})());const X=Promise.any(K);let{ready:N,connectionType:I,address:U,rpcPeer:F}=await X;console.log("connected",I,U),x=N,q=q.filter(Y=>Y!==N),q.forEach(Y=>{try{Y.close()}catch{}});try{if(!F){const ke=createRpcSerializer({sendMessageBuffer:Te=>x.send(Te),sendMessageFinish:Te=>x.send(JSON.stringify(Te))});F=new RpcPeer(i||"engine.io-client","api",(Te,z,R)=>{try{ke.sendMessage(Te,z,R)}catch($){z==null||z($)}}),x.on("message",Te=>{Te.constructor===Buffer||Te.constructor===ArrayBuffer?ke.onMessageBuffer(Buffer.from(Te)):ke.onMessageFinish(JSON.parse(Te))}),ke.setupRpcPeer(F)}const Y=await attachPluginRemote(F,void 0),{serverVersion:de,systemManager:L,deviceManager:W,endpointManager:J,mediaManager:ae,clusterManager:me,pluginHostAPI:oe,pluginRemoteAPI:_e}=Y;console.log("api attached",Date.now()-t),ae.createMediaObject=async(ke,Te,z)=>new MediaObject(Te,ke,z);const[pe]=await Promise.all([(async()=>{try{return!!await L.getComponent("info")}catch{}return!1})()]);console.log("api initialized",Date.now()-t);const se=Object.keys(L.getSystemState()).map(ke=>L.getDeviceById(ke)).find(ke=>ke.pluginId==="@scrypted/core"&&ke.nativeId===`user:${o}`),ce=clusterSetup(U,I,l,y,e==null?void 0:e.transports,sourcePeerId,i),ye={username:o,token:S,directAddress:g,localAddresses:c,externalAddresses:d,scryptedCloud:m,queryToken:l,authorization:s,cloudAddress:v,hostname:_,serverId:C},be=ke=>{const{worker:Te}=ke,z=createRpcSerializer({sendMessageBuffer:fe=>Te.postMessage(fe),sendMessageFinish:fe=>Te.postMessage(JSON.stringify(fe))}),R=new RpcPeer("main-client","thread",(fe,ge,Le)=>{try{z.sendMessage(fe,ge,Le)}catch(Ne){ge==null||ge(Ne)}});F.killed.finally(()=>R.kill("main rpc peer killed")),Te.addEventListener("message",async fe=>{fe.data instanceof Uint8Array?z.onMessageBuffer(Buffer.from(fe.data)):z.onMessageFinish(JSON.parse(fe.data))}),z.setupRpcPeer(R);const $=new PluginAPIProxy(oe,ae);R.killed.finally(()=>{$.removeListeners(),Te.terminate()});const G={loginResult:ye,username:o,address:U,connectionType:I,extraHeaders:y,transports:e==null?void 0:e.transports,clientName:i,admin:pe};R.params.client=G;const le=(async()=>{const ge=await(await R.getParam("getRemote"))($,n,{serverVersion:de});return await ge.setSystemState(L.getSystemState()),$.listen((Ne,Me,Ce)=>{var te;if(Me.eventInterface===distExports$2.ScryptedInterface.ScryptedDevice){Me.property===distExports$2.ScryptedInterfaceProperty.id?ge.updateDeviceState(Ce,void 0):ge.updateDeviceState(Ne,L.getSystemState()[Ne]);return}Me.property&&!Me.mixinId?ge.notify(Ne,Me,(te=L.getSystemState()[Ne])==null?void 0:te[Me.property]).catch(()=>{}):ge.notify(Ne,Me,Ce).catch(()=>{})}),await R.getParam("fork")})();return le.catch(()=>{R.kill("fork setup failed"),Te.terminate()}),{[Symbol.dispose](){Te.terminate(),R.kill("disposed")},result:le,worker:{terminate(){Te.terminate()},nativeWorker:Te}}},xe={userId:se==null?void 0:se.id,serverVersion:de,username:o,pluginRemoteAPI:_e,address:U,connectionType:I,admin:pe,systemManager:L,clusterManager:me,deviceManager:W,endpointManager:J,mediaManager:ae,disconnect(){F.kill("disconnect requested")},pluginHostAPI:oe,rpcPeer:F,loginResult:ye,connectRPCObject:ce,fork:be,connect:void 0};return x.on("close",()=>{F.kill("socket closed")}),F.killed.finally(()=>{var ke;x.close(),(ke=xe.onClose)==null||ke.call(xe)}),xe}catch(Y){throw x.close(),Y}}function clusterSetup(e,t,r,n,i,o,a){const s=new Map,l=new FinalizationRegistry(g=>{g.kill("object finalized")}),c=(g,v)=>{if(!(v!=null&&v.dedicatedTransport)){let S=s.get(g.port);if(S)return S}const _=(async()=>{var A,O;const S="engine.io/connectRPCObject",C=new URL(S,e).pathname,y=t==="http"?void 0:r,b={path:C,query:{cacheBust:Math.random().toString(36).substring(3,10),clusterObject:JSON.stringify(g),...y},withCredentials:!0,extraHeaders:n,rejectUnauthorized:!1,transports:i},u=new Socket(e,b);let w=!1,x,E,T;const k=()=>{x&&(clearTimeout(x),x=void 0),E&&(clearTimeout(E),E=void 0)},D=(A=v==null?void 0:v.dedicatedTransport)!=null&&A.receiveTimeout?()=>{x&&clearTimeout(x),x=setTimeout(()=>{T&&T.kill("receive timeout")},v.dedicatedTransport.receiveTimeout)}:void 0,B=(O=v==null?void 0:v.dedicatedTransport)!=null&&O.sendTimeout?()=>{E&&clearTimeout(E),E=setTimeout(()=>{T&&T.kill("send timeout")},v.dedicatedTransport.sendTimeout)}:void 0;u.on("close",()=>{if(T==null||T.kill("socket closed"),v!=null&&v.dedicatedTransport||s.delete(g.port),!w)throw new Error("peer disconnected before setup completed")});try{await once(u,"open");const V=createRpcDuplexSerializer({write:H=>{B==null||B(),u.send(H)}});return u.on("message",H=>{D==null||D(),V.onData(Buffer.from(H))}),T=new RpcPeer(a||"engine.io-client","cluster-proxy",(H,q,K)=>{try{B==null||B(),V.sendMessage(H,q,K)}catch(Q){q==null||q(Q)}}),T.killedSafe.finally(()=>{k(),u.close()}),V.setupRpcPeer(T),T.tags.localPort=o,w=!0,D==null||D(),B==null||B(),T}catch(V){throw k(),console.error("failure ipc connect",V),u.close(),V}})();return v!=null&&v.dedicatedTransport||s.set(g.port,_),_},d=async(g,v)=>{var S;const _=await s.get(v);return _!=null&&_.remoteWeakProxies?(S=Object.values(_.remoteWeakProxies).find(C=>{var y,b;return((b=(y=C.deref())==null?void 0:y.__cluster)==null?void 0:b.proxyId)==g}))==null?void 0:S.deref():null};return async(g,v)=>{const _=g==null?void 0:g.__cluster;if(!_)return g;const{port:S,proxyId:C}=_,y=await d(C,S);if(y)return y;try{const u=await c(_,v),w=await u.getParam("connectRPCObject");try{const x=await w(_);if(!x)throw new Error("ipc object not found?");return v!=null&&v.dedicatedTransport&&l.register(x,u),x}catch(x){throw v!=null&&v.dedicatedTransport&&u.kill("connectRPCObject failed"),x}}catch(b){return console.error("failure ipc",b),g}}}async function sleep(e){await new Promise(t=>setTimeout(t,e))}const serverRegistrations=ref(),_serverId=ref(),serverId=computed(()=>_serverId.value||localStorage.getItem("previousServerId"));function getBareServerId(e){return e==null?void 0:e.split("#").pop()}const bareServerId=computed(()=>getBareServerId(serverId.value));computed(()=>{var e,t;return(t=(e=serverRegistrations.value)==null?void 0:e[serverId.value])==null?void 0:t.name});async function refreshServerRegistrations(){if(!isAppDomain()||isSelfHosted()){console.log("not refreshing server registrations");return}console.log("refreshing server registrations");try{_serverId.value=void 0;const t=await(await fetch(`https://${SCRYPTED_SERVER}/_punch/userinfo`,{credentials:"include"})).json();console.log("server registrations",t),serverRegistrations.value=t.registrations,serverId.value&&!serverRegistrations.value[serverId.value]&&clearPreviousLoginResults(),t.serverUserId&&t.serverUserId!==t.id?_serverId.value=`${t.serverUserId}#${t.serverId}`:_serverId.value=t.serverId,setPreviousServerId(_serverId.value)}catch(e){console.warn("Server registration refresh failed.",e)}}function setPreviousServerId(e){localStorage.setItem("previousServerId",e)}computed(()=>{if(!isAppDomain()||isSelfHosted())return!1;const e=serverRegistrations.value||{};return Object.keys(e).length>1||Object.keys(e).length&&!e[serverId.value]});async function saveLoginResult(e){if(!isAppDomain()||isSelfHosted()||!appDomainBypassCloudLogin)return;await refreshServerRegistrations();const t=getPreviousLoginResults();e.serverId&&(t[e.serverId]=e,localStorage.setItem("previousLoginResults",JSON.stringify(t)))}function getPreviousLoginResults(){try{return JSON.parse(localStorage.getItem("previousLoginResults"))||{}}catch{}return{}}function getPreviousLoginResult(){if(!isAppDomain()||isSelfHosted()||!appDomainBypassCloudLogin)return;const e=getPreviousLoginResults()||{};let t=bareServerId.value;return t||(t=Object.keys(e)[0]),e[t]}function clearPreviousLoginResults(){localStorage.removeItem("previousServerId"),localStorage.removeItem("previousLoginResult"),localStorage.removeItem("previousLoginResults")}const isChrome=navigator.userAgent.includes("Chrome");!isChrome&&navigator.userAgent.includes("Safari");navigator.userAgent.includes("iPod")||navigator.userAgent.includes("iPad")||navigator.userAgent.includes("iPhone");navigator.userAgent.includes("Android");const isInstalledApp=navigator.userAgent.includes("InstalledApp"),supportsOOBLogin=navigator.userAgent.includes("OOBLogin"),isWindows=navigator.userAgent.includes("Windows"),isCrOS=navigator.userAgent.includes("CrOS");function setLossyAsyncInterval(e,t){let r;function n(){clearTimeout(r),r=void 0}function i(){n(),r=setTimeout(async()=>{const o=r;try{await t()}finally{o===r&&i()}},e)}return i(),{clear:n,reset:i}}const nowSeconds=ref(Date.now());setLossyAsyncInterval(1e3,()=>nowSeconds.value=Date.now());function createInterval(e){const t=ref(0),r=setLossyAsyncInterval(e,()=>t.value++);onUnmounted(r.clear);function n(i){e=i,r.reset()}return{reschedule:n,count:t}}let isScryptedFullScreen=ref(!1);function checkFullscreen(){return!!document.fullscreenElement||!!document.webkitFullscreenElement||isScryptedFullScreen.value}const isFullScreen=ref(checkFullscreen()),fullscreenListener=async()=>{console.log("fullscreenchange"),isFullScreen.value=checkFullscreen()};document.addEventListener("fullscreenchange",fullscreenListener);document.addEventListener("webkitfullscreenchange",fullscreenListener);addEventListener("scryptedfullscreenchange",()=>{isScryptedFullScreen.value=!isScryptedFullScreen.value,fullscreenListener()});function windowLocationReload(){window.location.reload()}function appWindowLocationReload(){var e,t,r,n,i,o;if((r=(t=(e=globalThis.webkit)==null?void 0:e.messageHandlers)==null?void 0:t.scrypted)!=null&&r.postMessage){try{(o=(i=(n=globalThis.webkit)==null?void 0:n.messageHandlers)==null?void 0:i.scrypted)==null||o.postMessage({type:"windowLocationReload"})}catch{}setTimeout(windowLocationReload,500)}else windowLocationReload()}const connectedClient=shallowRef();let clientPromise;const isLoggedIn=ref(!0),hasLogin=ref(),cloudLoginRedirect=ref(),SCRYPTED_SERVER="home.scrypted.app";computed(()=>!!connectedClient.value);const isAdmin=computed(()=>{var e;return((e=connectedClient.value)==null?void 0:e.admin)!==!1});let probe;async function probeConnection(){let e;try{console.log("waiting for client (30s)"),e=await timeoutFunction(3e4,async()=>{if(connectedClient.value)return connectedClient.value;if(clientPromise)return clientPromise}),checkContinuousHeartbeat();const t=heartbeatMissed?1:5;console.log(`probing (${t}s), heartbeat skipped (${heartbeatMissed})`),await timeoutFunction(t*1e3,async r=>{if(!e)throw new Error("Client currently disconnected.");if(r())return;await e.systemManager.getDeviceByName(clientPluginId).probe()}),console.log("Scrypted connection probe succeeded."),heartbeatMissed=!1;return}catch(t){console.error("Scrypted connection probe failed. Reconnecting.",t),e==null||e.disconnect(),connectedClient.value===e?(connectedClient.value=void 0,clientPromise==null||clientPromise.then(r=>r.disconnect()),clientPromise=void 0):console.log("probeConnection: client already replaced")}heartbeatMissed=!1,connectPluginClient()}function tryProbe(){probe||(probe=probeConnection(),probe.finally(()=>probe=void 0))}function logVisibility(){console.log("visibilitychange",{focus:document.hasFocus(),visibility:document.visibilityState})}let heartbeat=Date.now(),heartbeatMissed=!1;function checkContinuousHeartbeat(){return heartbeatMissed=heartbeatMissed||Date.now()-heartbeat>1e4,heartbeatMissed}setLossyAsyncInterval(1e3,()=>{checkContinuousHeartbeat(),heartbeat=Date.now()});document.addEventListener("visibilitychange",e=>{logVisibility(),document.visibilityState==="visible"&&tryProbe()});let appDomain;function isAppDomain(e=window.location){return e.hostname===appDomain||e.hostname==="beta.scrypted.app"}let appDomainBypassCloudLogin=!0;function setAppDomain(e,t=!0){appDomain=e,appDomainBypassCloudLogin=t}function isHomeScryptedApp(e=window.location){return e.hostname===SCRYPTED_SERVER}function fixupAppDomainLinkUrl(e){if(isAppDomain())return new URL(e,getBaseUrl()).toString();if(!e.startsWith("/")){const t=new URL(e);e=t.pathname+t.search+t.hash}return e=new URL("."+e,getDemoSafeCurrentBaseUrl()).toString(),e}function getDemoSafeCurrentBaseUrl(){const e=getCurrentBaseUrl();return e||new URL(document.baseURI).toString()}function fixupAppDomainImageUrl(e){var n,i,o;if(!(e!=null&&e.startsWith("/")))return console.warn("not rewriting full url. If thumbnails aren't loading, report this to @koush on discord",e),e;if((n=connectedClient.value)!=null&&n.loginResult.queryToken&&((i=connectedClient.value)!=null&&i.address)&&(((o=connectedClient.value)==null?void 0:o.connectionType)==="http-direct"||isSelfHosted())){const a=new URL(e,window.location.href),s=new URL(connectedClient.value.address);a.protocol=s.protocol,a.hostname=s.hostname,a.port=s.port;for(const[l,c]of Object.entries(connectedClient.value.loginResult.queryToken))a.searchParams.set(l,c);return e=a.toString(),e}if(isAppDomain())return e=new URL(e,getBaseUrl()).toString(),e;const t=new URL(getDemoSafeCurrentBaseUrl());if(!e.startsWith("/")){const a=new URL(e);e=a.pathname+a.search}return e=new URL("."+e,t).toString(),e}function isScryptedCloudHostname(){return isAppDomain()||isHomeScryptedApp()}function getBaseHostname(){return localStorage.getItem("selfHostedDomain")||SCRYPTED_SERVER}function getBaseUrl(){return isAppDomain()?`https://${getBaseHostname()}`:getDemoSafeCurrentBaseUrl()}let firstConnectionAttempt;async function connectClient(e){if(connectedClient.value)return connectedClient.value;if(clientPromise)return clientPromise;refreshServerRegistrations(),console.log("connection options",e),clientPromise=(async()=>{firstConnectionAttempt!==void 0?!isFullScreen.value&&Date.now()-firstConnectionAttempt>1*60*60*1e3&&(await sleep(1e3),appWindowLocationReload()):firstConnectionAttempt=Date.now(),e.previousLoginResult=getPreviousLoginResult(),Object.assign(e,getSelfHostedCredentials());const t=await connectScryptedClient(e);return saveLoginResult(t.loginResult).catch(()=>{}),t.systemManager.state=reactive(t.systemManager.state),t})();try{const t=connectedClient.value=await clientPromise;console.log(connectedClient.value),isLoggedIn.value=!0,t.onClose=()=>{console.error("Scrypted client closed"),t===connectedClient.value&&(connectedClient.value=void 0,clientPromise=void 0)}}catch(t){if(t instanceof ScryptedClientLoginError){if(t.result.redirect){if(supportsOOBLogin)cloudLoginRedirect.value=t.result.redirect;else{const r=getBaseUrl();redirectScryptedLogin({baseUrl:r,redirect:t.result.redirect})}throw t}isLoggedIn.value=!1,hasLogin.value=t.result.hasLogin}throw console.error("connection error",t),clientPromise=void 0,t}finally{}return clientPromise}async function connectClientWithPreferences(e,t){const r=getBaseUrl();return await connectClient({local:void 0,direct:void 0,webrtc:void 0,...connectionPreferences,...t,baseUrl:r,pluginId:e})}let clientPluginId;function setClientPluginId(e){clientPluginId=e}let clientAppVersion;function setClientAppVersion(e){clientAppVersion=e}let connectionPreferences;function setClientConnectionPreferences(e){connectionPreferences=e}async function connectPluginClient(){return connectClientWithPreferences(clientPluginId)}function isSelfHosted(){return!!localStorage.getItem("selfHostedDomain")}function saveSelfHostedCredentials(e,t){localStorage.setItem("selfHostedUsername",e),localStorage.setItem("selfHostedPassword",t)}function saveSelfHostedDomain(e){e?localStorage.setItem("selfHostedDomain",e):localStorage.removeItem("selfHostedDomain")}function getSelfHostedCredentials(){return{username:localStorage.getItem("selfHostedUsername"),password:localStorage.getItem("selfHostedPassword")}}async function logoutClient(){localStorage.removeItem("deviceEncryptionKey"),localStorage.removeItem("deviceEncryptionIv"),localStorage.removeItem("selfHostedUsername"),localStorage.removeItem("selfHostedPassword"),localStorage.removeItem("selfHostedDomain"),clearPreviousLoginResults();const e=getBaseUrl();await timeoutPromise(2e3,logoutScryptedClient(e)).catch(()=>{}),windowLocationReload()}const cachedSystemManager=computed(e=>{var t;return((t=connectedClient.value)==null?void 0:t.systemManager)||e});function getAllDevices(e){var r;return e||(e=((r=connectedClient.value)==null?void 0:r.systemManager)||cachedSystemManager.value),getAllDeviceIds(e).map(n=>e.getDeviceById(n))}function getAllDeviceIds(e){var r;return e||(e=((r=connectedClient.value)==null?void 0:r.systemManager)||cachedSystemManager.value),e?Object.keys(e.getSystemState()):[]}var dist={},hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1,Object.defineProperty(dist,"__esModule",{value:!0}),dist.ScryptedMimeTypes=dist.ScryptedInterface=dist.MediaPlayerState=dist.SecuritySystemObstruction=dist.SecuritySystemMode=dist.AirQuality=dist.AirPurifierMode=dist.AirPurifierStatus=dist.ChargeState=dist.LockState=dist.PanTiltZoomMovement=dist.ThermostatMode=dist.TemperatureUnit=dist.FanMode=dist.HumidityMode=dist.ScryptedDeviceType=dist.ScryptedInterfaceDescriptors=dist.ScryptedInterfaceMethod=dist.ScryptedInterfaceProperty=dist.DeviceBase=dist.TYPES_VERSION=void 0,dist.TYPES_VERSION="0.5.52";class e{}dist.DeviceBase=e;var t;(function(u){u.id="id",u.info="info",u.interfaces="interfaces",u.mixins="mixins",u.name="name",u.nativeId="nativeId",u.pluginId="pluginId",u.providedInterfaces="providedInterfaces",u.providedName="providedName",u.providedRoom="providedRoom",u.providedType="providedType",u.providerId="providerId",u.room="room",u.type="type",u.scryptedRuntimeArguments="scryptedRuntimeArguments",u.on="on",u.brightness="brightness",u.colorTemperature="colorTemperature",u.rgb="rgb",u.hsv="hsv",u.buttons="buttons",u.sensors="sensors",u.running="running",u.paused="paused",u.docked="docked",u.temperatureSetting="temperatureSetting",u.temperature="temperature",u.temperatureUnit="temperatureUnit",u.humidity="humidity",u.resolution="resolution",u.audioVolumes="audioVolumes",u.recordingActive="recordingActive",u.ptzCapabilities="ptzCapabilities",u.lockState="lockState",u.entryOpen="entryOpen",u.batteryLevel="batteryLevel",u.chargeState="chargeState",u.online="online",u.fromMimeType="fromMimeType",u.toMimeType="toMimeType",u.converters="converters",u.binaryState="binaryState",u.tampered="tampered",u.sleeping="sleeping",u.powerDetected="powerDetected",u.audioDetected="audioDetected",u.motionDetected="motionDetected",u.ambientLight="ambientLight",u.occupied="occupied",u.flooded="flooded",u.ultraviolet="ultraviolet",u.luminance="luminance",u.position="position",u.securitySystemState="securitySystemState",u.pm10Density="pm10Density",u.pm25Density="pm25Density",u.vocDensity="vocDensity",u.noxDensity="noxDensity",u.co2ppm="co2ppm",u.airQuality="airQuality",u.airPurifierState="airPurifierState",u.filterChangeIndication="filterChangeIndication",u.filterLifeLevel="filterLifeLevel",u.humiditySetting="humiditySetting",u.fan="fan",u.applicationInfo="applicationInfo",u.chatCompletionCapabilities="chatCompletionCapabilities",u.systemDevice="systemDevice"})(t||(dist.ScryptedInterfaceProperty=t={}));var r;(function(u){u.listen="listen",u.probe="probe",u.setMixins="setMixins",u.setName="setName",u.setRoom="setRoom",u.setType="setType",u.getPluginJson="getPluginJson",u.turnOff="turnOff",u.turnOn="turnOn",u.setBrightness="setBrightness",u.getTemperatureMaxK="getTemperatureMaxK",u.getTemperatureMinK="getTemperatureMinK",u.setColorTemperature="setColorTemperature",u.setRgb="setRgb",u.setHsv="setHsv",u.pressButton="pressButton",u.sendNotification="sendNotification",u.start="start",u.stop="stop",u.pause="pause",u.resume="resume",u.dock="dock",u.setTemperature="setTemperature",u.setTemperatureUnit="setTemperatureUnit",u.getPictureOptions="getPictureOptions",u.takePicture="takePicture",u.getAudioStream="getAudioStream",u.setAudioVolumes="setAudioVolumes",u.startDisplay="startDisplay",u.stopDisplay="stopDisplay",u.getVideoStream="getVideoStream",u.getVideoStreamOptions="getVideoStreamOptions",u.getPrivacyMasks="getPrivacyMasks",u.setPrivacyMasks="setPrivacyMasks",u.getVideoTextOverlays="getVideoTextOverlays",u.setVideoTextOverlay="setVideoTextOverlay",u.getRecordingStream="getRecordingStream",u.getRecordingStreamCurrentTime="getRecordingStreamCurrentTime",u.getRecordingStreamOptions="getRecordingStreamOptions",u.getRecordingStreamThumbnail="getRecordingStreamThumbnail",u.deleteRecordingStream="deleteRecordingStream",u.setRecordingActive="setRecordingActive",u.ptzCommand="ptzCommand",u.getRecordedEvents="getRecordedEvents",u.getVideoClip="getVideoClip",u.getVideoClips="getVideoClips",u.getVideoClipThumbnail="getVideoClipThumbnail",u.removeVideoClips="removeVideoClips",u.setVideoStreamOptions="setVideoStreamOptions",u.startIntercom="startIntercom",u.stopIntercom="stopIntercom",u.lock="lock",u.unlock="unlock",u.addPassword="addPassword",u.getPasswords="getPasswords",u.removePassword="removePassword",u.activate="activate",u.deactivate="deactivate",u.isReversible="isReversible",u.closeEntry="closeEntry",u.openEntry="openEntry",u.getDevice="getDevice",u.releaseDevice="releaseDevice",u.adoptDevice="adoptDevice",u.discoverDevices="discoverDevices",u.createDevice="createDevice",u.getCreateDeviceSettings="getCreateDeviceSettings",u.reboot="reboot",u.getRefreshFrequency="getRefreshFrequency",u.refresh="refresh",u.getMediaStatus="getMediaStatus",u.load="load",u.seek="seek",u.skipNext="skipNext",u.skipPrevious="skipPrevious",u.convert="convert",u.convertMedia="convertMedia",u.getSettings="getSettings",u.putSetting="putSetting",u.armSecuritySystem="armSecuritySystem",u.disarmSecuritySystem="disarmSecuritySystem",u.setAirPurifierState="setAirPurifierState",u.getReadmeMarkdown="getReadmeMarkdown",u.getOauthUrl="getOauthUrl",u.onOauthCallback="onOauthCallback",u.canMixin="canMixin",u.getMixin="getMixin",u.releaseMixin="releaseMixin",u.onRequest="onRequest",u.onConnection="onConnection",u.onPush="onPush",u.run="run",u.eval="eval",u.loadScripts="loadScripts",u.saveScript="saveScript",u.forkInterface="forkInterface",u.getDetectionInput="getDetectionInput",u.getObjectTypes="getObjectTypes",u.detectObjects="detectObjects",u.generateObjectDetections="generateObjectDetections",u.getDetectionModel="getDetectionModel",u.setHumidity="setHumidity",u.setFan="setFan",u.startRTCSignalingSession="startRTCSignalingSession",u.createRTCSignalingSession="createRTCSignalingSession",u.getScryptedUserAccessControl="getScryptedUserAccessControl",u.generateVideoFrames="generateVideoFrames",u.connectStream="connectStream",u.getTTYSettings="getTTYSettings",u.getChatCompletion="getChatCompletion",u.streamChatCompletion="streamChatCompletion",u.getTextEmbedding="getTextEmbedding",u.getImageEmbedding="getImageEmbedding",u.callLLMTool="callLLMTool",u.getLLMTools="getLLMTools"})(r||(dist.ScryptedInterfaceMethod=r={})),dist.ScryptedInterfaceDescriptors={ScryptedDevice:{name:"ScryptedDevice",methods:["listen","probe","setMixins","setName","setRoom","setType"],properties:["id","info","interfaces","mixins","name","nativeId","pluginId","providedInterfaces","providedName","providedRoom","providedType","providerId","room","type"]},ScryptedPlugin:{name:"ScryptedPlugin",methods:["getPluginJson"],properties:[]},ScryptedPluginRuntime:{name:"ScryptedPluginRuntime",methods:[],properties:["scryptedRuntimeArguments"]},OnOff:{name:"OnOff",methods:["turnOff","turnOn"],properties:["on"]},Brightness:{name:"Brightness",methods:["setBrightness"],properties:["brightness"]},ColorSettingTemperature:{name:"ColorSettingTemperature",methods:["getTemperatureMaxK","getTemperatureMinK","setColorTemperature"],properties:["colorTemperature"]},ColorSettingRgb:{name:"ColorSettingRgb",methods:["setRgb"],properties:["rgb"]},ColorSettingHsv:{name:"ColorSettingHsv",methods:["setHsv"],properties:["hsv"]},Buttons:{name:"Buttons",methods:[],properties:["buttons"]},PressButtons:{name:"PressButtons",methods:["pressButton"],properties:[]},Sensors:{name:"Sensors",methods:[],properties:["sensors"]},Notifier:{name:"Notifier",methods:["sendNotification"],properties:[]},StartStop:{name:"StartStop",methods:["start","stop"],properties:["running"]},Pause:{name:"Pause",methods:["pause","resume"],properties:["paused"]},Dock:{name:"Dock",methods:["dock"],properties:["docked"]},TemperatureSetting:{name:"TemperatureSetting",methods:["setTemperature"],properties:["temperatureSetting"]},Thermometer:{name:"Thermometer",methods:["setTemperatureUnit"],properties:["temperature","temperatureUnit"]},HumiditySensor:{name:"HumiditySensor",methods:[],properties:["humidity"]},Camera:{name:"Camera",methods:["getPictureOptions","takePicture"],properties:[]},Resolution:{name:"Resolution",methods:[],properties:["resolution"]},Microphone:{name:"Microphone",methods:["getAudioStream"],properties:[]},AudioVolumeControl:{name:"AudioVolumeControl",methods:["setAudioVolumes"],properties:["audioVolumes"]},Display:{name:"Display",methods:["startDisplay","stopDisplay"],properties:[]},VideoCamera:{name:"VideoCamera",methods:["getVideoStream","getVideoStreamOptions"],properties:[]},VideoCameraMask:{name:"VideoCameraMask",methods:["getPrivacyMasks","setPrivacyMasks"],properties:[]},VideoTextOverlays:{name:"VideoTextOverlays",methods:["getVideoTextOverlays","setVideoTextOverlay"],properties:[]},VideoRecorder:{name:"VideoRecorder",methods:["getRecordingStream","getRecordingStreamCurrentTime","getRecordingStreamOptions","getRecordingStreamThumbnail"],properties:["recordingActive"]},VideoRecorderManagement:{name:"VideoRecorderManagement",methods:["deleteRecordingStream","setRecordingActive"],properties:[]},PanTiltZoom:{name:"PanTiltZoom",methods:["ptzCommand"],properties:["ptzCapabilities"]},EventRecorder:{name:"EventRecorder",methods:["getRecordedEvents"],properties:[]},VideoClips:{name:"VideoClips",methods:["getVideoClip","getVideoClips","getVideoClipThumbnail","removeVideoClips"],properties:[]},VideoCameraConfiguration:{name:"VideoCameraConfiguration",methods:["setVideoStreamOptions"],properties:[]},Intercom:{name:"Intercom",methods:["startIntercom","stopIntercom"],properties:[]},Lock:{name:"Lock",methods:["lock","unlock"],properties:["lockState"]},PasswordStore:{name:"PasswordStore",methods:["addPassword","getPasswords","removePassword"],properties:[]},Scene:{name:"Scene",methods:["activate","deactivate","isReversible"],properties:[]},Entry:{name:"Entry",methods:["closeEntry","openEntry"],properties:[]},EntrySensor:{name:"EntrySensor",methods:[],properties:["entryOpen"]},DeviceProvider:{name:"DeviceProvider",methods:["getDevice","releaseDevice"],properties:[]},DeviceDiscovery:{name:"DeviceDiscovery",methods:["adoptDevice","discoverDevices"],properties:[]},DeviceCreator:{name:"DeviceCreator",methods:["createDevice","getCreateDeviceSettings"],properties:[]},Battery:{name:"Battery",methods:[],properties:["batteryLevel"]},Charger:{name:"Charger",methods:[],properties:["chargeState"]},Reboot:{name:"Reboot",methods:["reboot"],properties:[]},Refresh:{name:"Refresh",methods:["getRefreshFrequency","refresh"],properties:[]},MediaPlayer:{name:"MediaPlayer",methods:["getMediaStatus","load","seek","skipNext","skipPrevious"],properties:[]},Online:{name:"Online",methods:[],properties:["online"]},BufferConverter:{name:"BufferConverter",methods:["convert"],properties:["fromMimeType","toMimeType"]},MediaConverter:{name:"MediaConverter",methods:["convertMedia"],properties:["converters"]},Settings:{name:"Settings",methods:["getSettings","putSetting"],properties:[]},BinarySensor:{name:"BinarySensor",methods:[],properties:["binaryState"]},TamperSensor:{name:"TamperSensor",methods:[],properties:["tampered"]},Sleep:{name:"Sleep",methods:[],properties:["sleeping"]},PowerSensor:{name:"PowerSensor",methods:[],properties:["powerDetected"]},AudioSensor:{name:"AudioSensor",methods:[],properties:["audioDetected"]},MotionSensor:{name:"MotionSensor",methods:[],properties:["motionDetected"]},AmbientLightSensor:{name:"AmbientLightSensor",methods:[],properties:["ambientLight"]},OccupancySensor:{name:"OccupancySensor",methods:[],properties:["occupied"]},FloodSensor:{name:"FloodSensor",methods:[],properties:["flooded"]},UltravioletSensor:{name:"UltravioletSensor",methods:[],properties:["ultraviolet"]},LuminanceSensor:{name:"LuminanceSensor",methods:[],properties:["luminance"]},PositionSensor:{name:"PositionSensor",methods:[],properties:["position"]},SecuritySystem:{name:"SecuritySystem",methods:["armSecuritySystem","disarmSecuritySystem"],properties:["securitySystemState"]},PM10Sensor:{name:"PM10Sensor",methods:[],properties:["pm10Density"]},PM25Sensor:{name:"PM25Sensor",methods:[],properties:["pm25Density"]},VOCSensor:{name:"VOCSensor",methods:[],properties:["vocDensity"]},NOXSensor:{name:"NOXSensor",methods:[],properties:["noxDensity"]},CO2Sensor:{name:"CO2Sensor",methods:[],properties:["co2ppm"]},AirQualitySensor:{name:"AirQualitySensor",methods:[],properties:["airQuality"]},AirPurifier:{name:"AirPurifier",methods:["setAirPurifierState"],properties:["airPurifierState"]},FilterMaintenance:{name:"FilterMaintenance",methods:[],properties:["filterChangeIndication","filterLifeLevel"]},Readme:{name:"Readme",methods:["getReadmeMarkdown"],properties:[]},OauthClient:{name:"OauthClient",methods:["getOauthUrl","onOauthCallback"],properties:[]},MixinProvider:{name:"MixinProvider",methods:["canMixin","getMixin","releaseMixin"],properties:[]},HttpRequestHandler:{name:"HttpRequestHandler",methods:["onRequest"],properties:[]},EngineIOHandler:{name:"EngineIOHandler",methods:["onConnection"],properties:[]},PushHandler:{name:"PushHandler",methods:["onPush"],properties:[]},Program:{name:"Program",methods:["run"],properties:[]},Scriptable:{name:"Scriptable",methods:["eval","loadScripts","saveScript"],properties:[]},ClusterForkInterface:{name:"ClusterForkInterface",methods:["forkInterface"],properties:[]},ObjectDetector:{name:"ObjectDetector",methods:["getDetectionInput","getObjectTypes"],properties:[]},ObjectDetection:{name:"ObjectDetection",methods:["detectObjects","generateObjectDetections","getDetectionModel"],properties:[]},ObjectDetectionPreview:{name:"ObjectDetectionPreview",methods:[],properties:[]},ObjectDetectionGenerator:{name:"ObjectDetectionGenerator",methods:[],properties:[]},HumiditySetting:{name:"HumiditySetting",methods:["setHumidity"],properties:["humiditySetting"]},Fan:{name:"Fan",methods:["setFan"],properties:["fan"]},RTCSignalingChannel:{name:"RTCSignalingChannel",methods:["startRTCSignalingSession"],properties:[]},RTCSignalingClient:{name:"RTCSignalingClient",methods:["createRTCSignalingSession"],properties:[]},LauncherApplication:{name:"LauncherApplication",methods:[],properties:["applicationInfo"]},ScryptedUser:{name:"ScryptedUser",methods:["getScryptedUserAccessControl"],properties:[]},VideoFrameGenerator:{name:"VideoFrameGenerator",methods:["generateVideoFrames"],properties:[]},StreamService:{name:"StreamService",methods:["connectStream"],properties:[]},TTY:{name:"TTY",methods:[],properties:[]},TTYSettings:{name:"TTYSettings",methods:["getTTYSettings"],properties:[]},ChatCompletion:{name:"ChatCompletion",methods:["getChatCompletion","streamChatCompletion"],properties:["chatCompletionCapabilities"]},TextEmbedding:{name:"TextEmbedding",methods:["getTextEmbedding"],properties:[]},ImageEmbedding:{name:"ImageEmbedding",methods:["getImageEmbedding"],properties:[]},LLMTools:{name:"LLMTools",methods:["callLLMTool","getLLMTools"],properties:[]},ScryptedSystemDevice:{name:"ScryptedSystemDevice",methods:[],properties:["systemDevice"]},ScryptedDeviceCreator:{name:"ScryptedDeviceCreator",methods:[],properties:[]},ScryptedSettings:{name:"ScryptedSettings",methods:[],properties:[]}};var n;(function(u){u.Builtin="Builtin",u.Internal="Internal",u.Camera="Camera",u.Fan="Fan",u.Light="Light",u.Switch="Switch",u.Outlet="Outlet",u.Sensor="Sensor",u.Scene="Scene",u.Program="Program",u.Automation="Automation",u.Vacuum="Vacuum",u.Notifier="Notifier",u.Thermostat="Thermostat",u.Lock="Lock",u.PasswordControl="PasswordControl",u.Display="Display",u.SmartDisplay="SmartDisplay",u.Speaker="Speaker",u.SmartSpeaker="SmartSpeaker",u.RemoteDesktop="RemoteDesktop",u.Event="Event",u.Entry="Entry",u.Garage="Garage",u.DeviceProvider="DeviceProvider",u.DataSource="DataSource",u.API="API",u.Buttons="Buttons",u.Doorbell="Doorbell",u.Irrigation="Irrigation",u.Valve="Valve",u.Person="Person",u.SecuritySystem="SecuritySystem",u.WindowCovering="WindowCovering",u.Siren="Siren",u.AirPurifier="AirPurifier",u.Internet="Internet",u.Network="Network",u.Bridge="Bridge",u.LLM="LLM",u.Unknown="Unknown"})(n||(dist.ScryptedDeviceType=n={}));var i;(function(u){u.Humidify="Humidify",u.Dehumidify="Dehumidify",u.Auto="Auto",u.Off="Off"})(i||(dist.HumidityMode=i={}));var o;(function(u){u.Auto="Auto",u.Manual="Manual"})(o||(dist.FanMode=o={}));var a;(function(u){u.C="C",u.F="F"})(a||(dist.TemperatureUnit=a={}));var s;(function(u){u.Off="Off",u.Cool="Cool",u.Heat="Heat",u.HeatCool="HeatCool",u.Auto="Auto",u.FanOnly="FanOnly",u.Purifier="Purifier",u.Eco="Eco",u.Dry="Dry",u.On="On"})(s||(dist.ThermostatMode=s={}));var l;(function(u){u.Absolute="Absolute",u.Relative="Relative",u.Continuous="Continuous",u.Preset="Preset",u.Home="Home"})(l||(dist.PanTiltZoomMovement=l={}));var c;(function(u){u.Locked="Locked",u.Unlocked="Unlocked",u.Jammed="Jammed"})(c||(dist.LockState=c={}));var d;(function(u){u.Trickle="trickle",u.Charging="charging",u.NotCharging="not-charging"})(d||(dist.ChargeState=d={}));var m;(function(u){u.Inactive="Inactive",u.Idle="Idle",u.Active="Active",u.ActiveNightMode="ActiveNightMode"})(m||(dist.AirPurifierStatus=m={}));var g;(function(u){u.Manual="Manual",u.Automatic="Automatic"})(g||(dist.AirPurifierMode=g={}));var v;(function(u){u.Unknown="Unknown",u.Excellent="Excellent",u.Good="Good",u.Fair="Fair",u.Inferior="Inferior",u.Poor="Poor"})(v||(dist.AirQuality=v={}));var _;(function(u){u.Disarmed="Disarmed",u.HomeArmed="HomeArmed",u.AwayArmed="AwayArmed",u.NightArmed="NightArmed"})(_||(dist.SecuritySystemMode=_={}));var S;(function(u){u.Sensor="Sensor",u.Occupied="Occupied",u.Time="Time",u.Error="Error"})(S||(dist.SecuritySystemObstruction=S={}));var C;(function(u){u.Idle="Idle",u.Playing="Playing",u.Paused="Paused",u.Buffering="Buffering"})(C||(dist.MediaPlayerState=C={}));var y;(function(u){u.ScryptedDevice="ScryptedDevice",u.ScryptedPlugin="ScryptedPlugin",u.ScryptedPluginRuntime="ScryptedPluginRuntime",u.OnOff="OnOff",u.Brightness="Brightness",u.ColorSettingTemperature="ColorSettingTemperature",u.ColorSettingRgb="ColorSettingRgb",u.ColorSettingHsv="ColorSettingHsv",u.Buttons="Buttons",u.PressButtons="PressButtons",u.Sensors="Sensors",u.Notifier="Notifier",u.StartStop="StartStop",u.Pause="Pause",u.Dock="Dock",u.TemperatureSetting="TemperatureSetting",u.Thermometer="Thermometer",u.HumiditySensor="HumiditySensor",u.Camera="Camera",u.Resolution="Resolution",u.Microphone="Microphone",u.AudioVolumeControl="AudioVolumeControl",u.Display="Display",u.VideoCamera="VideoCamera",u.VideoCameraMask="VideoCameraMask",u.VideoTextOverlays="VideoTextOverlays",u.VideoRecorder="VideoRecorder",u.VideoRecorderManagement="VideoRecorderManagement",u.PanTiltZoom="PanTiltZoom",u.EventRecorder="EventRecorder",u.VideoClips="VideoClips",u.VideoCameraConfiguration="VideoCameraConfiguration",u.Intercom="Intercom",u.Lock="Lock",u.PasswordStore="PasswordStore",u.Scene="Scene",u.Entry="Entry",u.EntrySensor="EntrySensor",u.DeviceProvider="DeviceProvider",u.DeviceDiscovery="DeviceDiscovery",u.DeviceCreator="DeviceCreator",u.Battery="Battery",u.Charger="Charger",u.Reboot="Reboot",u.Refresh="Refresh",u.MediaPlayer="MediaPlayer",u.Online="Online",u.BufferConverter="BufferConverter",u.MediaConverter="MediaConverter",u.Settings="Settings",u.BinarySensor="BinarySensor",u.TamperSensor="TamperSensor",u.Sleep="Sleep",u.PowerSensor="PowerSensor",u.AudioSensor="AudioSensor",u.MotionSensor="MotionSensor",u.AmbientLightSensor="AmbientLightSensor",u.OccupancySensor="OccupancySensor",u.FloodSensor="FloodSensor",u.UltravioletSensor="UltravioletSensor",u.LuminanceSensor="LuminanceSensor",u.PositionSensor="PositionSensor",u.SecuritySystem="SecuritySystem",u.PM10Sensor="PM10Sensor",u.PM25Sensor="PM25Sensor",u.VOCSensor="VOCSensor",u.NOXSensor="NOXSensor",u.CO2Sensor="CO2Sensor",u.AirQualitySensor="AirQualitySensor",u.AirPurifier="AirPurifier",u.FilterMaintenance="FilterMaintenance",u.Readme="Readme",u.OauthClient="OauthClient",u.MixinProvider="MixinProvider",u.HttpRequestHandler="HttpRequestHandler",u.EngineIOHandler="EngineIOHandler",u.PushHandler="PushHandler",u.Program="Program",u.Scriptable="Scriptable",u.ClusterForkInterface="ClusterForkInterface",u.ObjectDetector="ObjectDetector",u.ObjectDetection="ObjectDetection",u.ObjectDetectionPreview="ObjectDetectionPreview",u.ObjectDetectionGenerator="ObjectDetectionGenerator",u.HumiditySetting="HumiditySetting",u.Fan="Fan",u.RTCSignalingChannel="RTCSignalingChannel",u.RTCSignalingClient="RTCSignalingClient",u.LauncherApplication="LauncherApplication",u.ScryptedUser="ScryptedUser",u.VideoFrameGenerator="VideoFrameGenerator",u.StreamService="StreamService",u.TTY="TTY",u.TTYSettings="TTYSettings",u.ChatCompletion="ChatCompletion",u.TextEmbedding="TextEmbedding",u.ImageEmbedding="ImageEmbedding",u.LLMTools="LLMTools",u.ScryptedSystemDevice="ScryptedSystemDevice",u.ScryptedDeviceCreator="ScryptedDeviceCreator",u.ScryptedSettings="ScryptedSettings"})(y||(dist.ScryptedInterface=y={}));var b;return function(u){u.Url="text/x-uri",u.InsecureLocalUrl="text/x-insecure-local-uri",u.LocalUrl="text/x-local-uri",u.ServerId="text/x-server-id",u.PushEndpoint="text/x-push-endpoint",u.SchemePrefix="x-scrypted/x-scrypted-scheme-",u.MediaStreamUrl="text/x-media-url",u.MediaObject="x-scrypted/x-scrypted-media-object",u.RequestMediaObject="x-scrypted/x-scrypted-request-media-object",u.RequestMediaStream="x-scrypted/x-scrypted-request-stream",u.MediaStreamFeedback="x-scrypted/x-media-stream-feedback",u.FFmpegInput="x-scrypted/x-ffmpeg-input",u.FFmpegTranscodeStream="x-scrypted/x-ffmpeg-transcode-stream",u.RTCSignalingChannel="x-scrypted/x-scrypted-rtc-signaling-channel",u.RTCSignalingSession="x-scrypted/x-scrypted-rtc-signaling-session",u.RTCConnectionManagement="x-scrypted/x-scrypted-rtc-connection-management",u.Image="x-scrypted/x-scrypted-image"}(b||(dist.ScryptedMimeTypes=b={})),dist}var distExports=requireDist();function typeToIcon(e){return`${getFaPrefix(typeToIconInternal(e))}`}function typeToIconInternal(e){switch(e){case distExports.ScryptedDeviceType.Camera:return"fa-video";case distExports.ScryptedDeviceType.Doorbell:return"fa-bell";case distExports.ScryptedDeviceType.Fan:return"fa-fan";case distExports.ScryptedDeviceType.Light:return"fa-lightbulb";case distExports.ScryptedDeviceType.Switch:return"fa-toggle-on";case distExports.ScryptedDeviceType.Outlet:return"fa-plug";case distExports.ScryptedDeviceType.Sensor:return"fa-exclamation-triangle";case distExports.ScryptedDeviceType.Scene:return"fa-sun";case distExports.ScryptedDeviceType.Program:return"fa-code";case distExports.ScryptedDeviceType.Automation:return"fa-bolt";case distExports.ScryptedDeviceType.Event:return"fa-exclamation";case distExports.ScryptedDeviceType.Vacuum:return"fa-trash";case distExports.ScryptedDeviceType.Notifier:return"fa-bell";case distExports.ScryptedDeviceType.Lock:return"fa-unlock-alt";case distExports.ScryptedDeviceType.Thermostat:return"fa-thermometer-three-quarters";case distExports.ScryptedDeviceType.PasswordControl:return"fa-key";case distExports.ScryptedDeviceType.Display:return"fa-tv";case distExports.ScryptedDeviceType.Speaker:return"fa-volume-up";case distExports.ScryptedDeviceType.Entry:return"fa-warehouse";case distExports.ScryptedDeviceType.Garage:return"fa-warehouse";case distExports.ScryptedDeviceType.API:return"fa-cloud";case distExports.ScryptedDeviceType.DataSource:return"fa-chart-area";case distExports.ScryptedDeviceType.DeviceProvider:return"fa-server";case distExports.ScryptedDeviceType.Unknown:return"fa-question-circle";case distExports.ScryptedDeviceType.Valve:return"fa-faucet";case distExports.ScryptedDeviceType.Irrigation:return"fa-faucet";case distExports.ScryptedDeviceType.Person:return"fa-user";case distExports.ScryptedDeviceType.SecuritySystem:return"fa-shield-alt";case distExports.ScryptedDeviceType.Builtin:return"fa-server";case distExports.ScryptedDeviceType.Siren:return"fa-siren";case distExports.ScryptedDeviceType.Internet:return"fa-globe";case distExports.ScryptedDeviceType.Bridge:return"fa-chart-network";case distExports.ScryptedDeviceType.Network:return"fa-network-wired"}return"fa-toggle-on"}function hasFixedPhysicalLocation(e){if(!e)return!1;switch(e){case distExports.ScryptedDeviceType.Builtin:case distExports.ScryptedDeviceType.Internal:case distExports.ScryptedDeviceType.Program:case distExports.ScryptedDeviceType.Automation:case distExports.ScryptedDeviceType.API:case distExports.ScryptedDeviceType.Scene:case distExports.ScryptedDeviceType.Event:case distExports.ScryptedDeviceType.DeviceProvider:case distExports.ScryptedDeviceType.DataSource:case distExports.ScryptedDeviceType.Notifier:case distExports.ScryptedDeviceType.Person:case distExports.ScryptedDeviceType.Unknown:return!1}return!0}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof document<"u";function isRouteComponent(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function isESModule(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&isRouteComponent(e.default)}const assign$2=Object.assign;function applyToParams(e,t){const r={};for(const n in t){const i=t[n];r[n]=isArray$d(i)?i.map(e):e(i)}return r}const noop$1=()=>{},isArray$d=Array.isArray,HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(e){return encodeURI(""+e).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(e){return commonEncode(e).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(e){return commonEncode(e).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(e){return encodeQueryValue(e).replace(EQUAL_RE,"%3D")}function encodePath(e){return commonEncode(e).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(e){return e==null?"":encodePath(e).replace(SLASH_RE,"%2F")}function decode$2(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=e=>e.replace(TRAILING_SLASH_RE,"");function parseURL(e,t,r="/"){let n,i={},o="",a="";const s=t.indexOf("#");let l=t.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(n=t.slice(0,l),o=t.slice(l+1,s>-1?s:t.length),i=e(o)),s>-1&&(n=n||t.slice(0,s),a=t.slice(s,t.length)),n=resolveRelativePath(n??t,r),{fullPath:n+(o&&"?")+o+a,path:n,query:i,hash:decode$2(a)}}function stringifyURL(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function stripBase(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function isSameRouteLocation(e,t,r){const n=t.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&isSameRouteRecord(t.matched[n],r.matched[i])&&isSameRouteLocationParams(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function isSameRouteRecord(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function isSameRouteLocationParams(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!isSameRouteLocationParamsValue(e[r],t[r]))return!1;return!0}function isSameRouteLocationParamsValue(e,t){return isArray$d(e)?isEquivalentArray(e,t):isArray$d(t)?isEquivalentArray(t,e):e===t}function isEquivalentArray(e,t){return isArray$d(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function resolveRelativePath(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let o=r.length-1,a,s;for(a=0;a<n.length;a++)if(s=n[a],s!==".")if(s==="..")o>1&&o--;else break;return r.slice(0,o).join("/")+"/"+n.slice(a).join("/")}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var NavigationType;(function(e){e.pop="pop",e.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(e){e.back="back",e.forward="forward",e.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(e){if(!e)if(isBrowser){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),removeTrailingSlash(e)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(e,t){return e.replace(BEFORE_HASH_RE,"#")+t}function getElementPosition(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const computeScrollPosition=()=>({left:window.scrollX,top:window.scrollY});function scrollToPosition(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;t=getElementPosition(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function getScrollKey(e,t){return(history.state?history.state.position-t:-1)+e}const scrollPositions=new Map;function saveScrollPosition(e,t){scrollPositions.set(e,t)}function getSavedScrollPosition(e){const t=scrollPositions.get(e);return scrollPositions.delete(e),t}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(e,t){const{pathname:r,search:n,hash:i}=t,o=e.indexOf("#");if(o>-1){let s=i.includes(e.slice(o))?e.slice(o).length:1,l=i.slice(s);return l[0]!=="/"&&(l="/"+l),stripBase(l,"")}return stripBase(r,e)+n+i}function useHistoryListeners(e,t,r,n){let i=[],o=[],a=null;const s=({state:g})=>{const v=createCurrentLocation(e,location),_=r.value,S=t.value;let C=0;if(g){if(r.value=v,t.value=g,a&&a===_){a=null;return}C=S?g.position-S.position:0}else n(v);i.forEach(y=>{y(r.value,_,{delta:C,type:NavigationType.pop,direction:C?C>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function l(){a=r.value}function c(g){i.push(g);const v=()=>{const _=i.indexOf(g);_>-1&&i.splice(_,1)};return o.push(v),v}function d(){const{history:g}=window;g.state&&g.replaceState(assign$2({},g.state,{scroll:computeScrollPosition()}),"")}function m(){for(const g of o)g();o=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:c,destroy:m}}function buildState(e,t,r,n=!1,i=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:i?computeScrollPosition():null}}function useHistoryStateNavigation(e){const{history:t,location:r}=window,n={value:createCurrentLocation(e,r)},i={value:t.state};i.value||o(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,c,d){const m=e.indexOf("#"),g=m>-1?(r.host&&document.querySelector("base")?e:e.slice(m))+l:createBaseLocation()+e+l;try{t[d?"replaceState":"pushState"](c,"",g),i.value=c}catch(v){console.error(v),r[d?"replace":"assign"](g)}}function a(l,c){const d=assign$2({},t.state,buildState(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});o(l,d,!0),n.value=l}function s(l,c){const d=assign$2({},i.value,t.state,{forward:l,scroll:computeScrollPosition()});o(d.current,d,!0);const m=assign$2({},buildState(n.value,l,null),{position:d.position+1},c);o(l,m,!1),n.value=l}return{location:n,state:i,push:s,replace:a}}function createWebHistory(e){e=normalizeBase(e);const t=useHistoryStateNavigation(e),r=useHistoryListeners(e,t.state,t.location,t.replace);function n(o,a=!0){a||r.pauseListeners(),history.go(o)}const i=assign$2({location:"",base:e,go:n,createHref:createHref.bind(null,e)},t,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function createWebHashHistory(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),createWebHistory(e)}function isRouteLocation(e){return typeof e=="string"||e&&typeof e=="object"}function isRouteName(e){return typeof e=="string"||typeof e=="symbol"}const NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(e,t){return assign$2(new Error,{type:e,[NavigationFailureSymbol]:!0},t)}function isNavigationFailure(e,t){return e instanceof Error&&NavigationFailureSymbol in e&&(t==null||!!(e.type&t))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(e,t){const r=assign$2({},BASE_PATH_PARSER_OPTIONS,t),n=[];let i=r.start?"^":"";const o=[];for(const c of e){const d=c.length?[]:[90];r.strict&&!c.length&&(i+="/");for(let m=0;m<c.length;m++){const g=c[m];let v=40+(r.sensitive?.25:0);if(g.type===0)m||(i+="/"),i+=g.value.replace(REGEX_CHARS_RE,"\\$&"),v+=40;else if(g.type===1){const{value:_,repeatable:S,optional:C,regexp:y}=g;o.push({name:_,repeatable:S,optional:C});const b=y||BASE_PARAM_PATTERN;if(b!==BASE_PARAM_PATTERN){v+=10;try{new RegExp(`(${b})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${_}" (${b}): `+w.message)}}let u=S?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;m||(u=C&&c.length<2?`(?:/${u})`:"/"+u),C&&(u+="?"),i+=u,v+=20,C&&(v+=-8),S&&(v+=-20),b===".*"&&(v+=-50)}d.push(v)}n.push(d)}if(r.strict&&r.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const a=new RegExp(i,r.sensitive?"":"i");function s(c){const d=c.match(a),m={};if(!d)return null;for(let g=1;g<d.length;g++){const v=d[g]||"",_=o[g-1];m[_.name]=v&&_.repeatable?v.split("/"):v}return m}function l(c){let d="",m=!1;for(const g of e){(!m||!d.endsWith("/"))&&(d+="/"),m=!1;for(const v of g)if(v.type===0)d+=v.value;else if(v.type===1){const{value:_,repeatable:S,optional:C}=v,y=_ in c?c[_]:"";if(isArray$d(y)&&!S)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const b=isArray$d(y)?y.join("/"):y;if(!b)if(C)g.length<2&&(d.endsWith("/")?d=d.slice(0,-1):m=!0);else throw new Error(`Missing required param "${_}"`);d+=b}}return d||"/"}return{re:a,score:n,keys:o,parse:s,stringify:l}}function compareScoreArray(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function comparePathParserScore(e,t){let r=0;const n=e.score,i=t.score;for(;r<n.length&&r<i.length;){const o=compareScoreArray(n[r],i[r]);if(o)return o;r++}if(Math.abs(i.length-n.length)===1){if(isLastScoreNegative(n))return 1;if(isLastScoreNegative(i))return-1}return i.length-n.length}function isLastScoreNegative(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(e){if(!e)return[[]];if(e==="/")return[[ROOT_TOKEN]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${r})/"${c}": ${v}`)}let r=0,n=r;const i=[];let o;function a(){o&&i.push(o),o=[]}let s=0,l,c="",d="";function m(){c&&(r===0?o.push({type:0,value:c}):r===1||r===2||r===3?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function g(){c+=l}for(;s<e.length;){if(l=e[s++],l==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:l==="/"?(c&&m(),a()):l===":"?(m(),r=1):g();break;case 4:g(),r=n;break;case 1:l==="("?r=2:VALID_PARAM_RE.test(l)?g():(m(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:r=3:d+=l;break;case 3:m(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,d="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${c}"`),m(),a(),i}function createRouteRecordMatcher(e,t,r){const n=tokensToParser(tokenizePath(e.path),r),i=assign$2(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function createRouterMatcher(e,t){const r=[],n=new Map;t=mergeOptions({strict:!1,end:!0,sensitive:!1},t);function i(m){return n.get(m)}function o(m,g,v){const _=!v,S=normalizeRouteRecord(m);S.aliasOf=v&&v.record;const C=mergeOptions(t,m),y=[S];if("alias"in m){const w=typeof m.alias=="string"?[m.alias]:m.alias;for(const x of w)y.push(normalizeRouteRecord(assign$2({},S,{components:v?v.record.components:S.components,path:x,aliasOf:v?v.record:S})))}let b,u;for(const w of y){const{path:x}=w;if(g&&x[0]!=="/"){const E=g.record.path,T=E[E.length-1]==="/"?"":"/";w.path=g.record.path+(x&&T+x)}if(b=createRouteRecordMatcher(w,g,C),v?v.alias.push(b):(u=u||b,u!==b&&u.alias.push(b),_&&m.name&&!isAliasRecord(b)&&a(m.name)),isMatchable(b)&&l(b),S.children){const E=S.children;for(let T=0;T<E.length;T++)o(E[T],b,v&&v.children[T])}v=v||b}return u?()=>{a(u)}:noop$1}function a(m){if(isRouteName(m)){const g=n.get(m);g&&(n.delete(m),r.splice(r.indexOf(g),1),g.children.forEach(a),g.alias.forEach(a))}else{const g=r.indexOf(m);g>-1&&(r.splice(g,1),m.record.name&&n.delete(m.record.name),m.children.forEach(a),m.alias.forEach(a))}}function s(){return r}function l(m){const g=findInsertionIndex(m,r);r.splice(g,0,m),m.record.name&&!isAliasRecord(m)&&n.set(m.record.name,m)}function c(m,g){let v,_={},S,C;if("name"in m&&m.name){if(v=n.get(m.name),!v)throw createRouterError(1,{location:m});C=v.record.name,_=assign$2(paramsFromLocation(g.params,v.keys.filter(u=>!u.optional).concat(v.parent?v.parent.keys.filter(u=>u.optional):[]).map(u=>u.name)),m.params&&paramsFromLocation(m.params,v.keys.map(u=>u.name))),S=v.stringify(_)}else if(m.path!=null)S=m.path,v=r.find(u=>u.re.test(S)),v&&(_=v.parse(S),C=v.record.name);else{if(v=g.name?n.get(g.name):r.find(u=>u.re.test(g.path)),!v)throw createRouterError(1,{location:m,currentLocation:g});C=v.record.name,_=assign$2({},g.params,m.params),S=v.stringify(_)}const y=[];let b=v;for(;b;)y.unshift(b.record),b=b.parent;return{name:C,path:S,params:_,matched:y,meta:mergeMetaFields(y)}}e.forEach(m=>o(m));function d(){r.length=0,n.clear()}return{addRoute:o,resolve:c,removeRoute:a,clearRoutes:d,getRoutes:s,getRecordMatcher:i}}function paramsFromLocation(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function normalizeRouteRecord(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:normalizeRecordProps(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function normalizeRecordProps(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="object"?r[n]:r;return t}function isAliasRecord(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mergeMetaFields(e){return e.reduce((t,r)=>assign$2(t,r.meta),{})}function mergeOptions(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function findInsertionIndex(e,t){let r=0,n=t.length;for(;r!==n;){const o=r+n>>1;comparePathParserScore(e,t[o])<0?n=o:r=o+1}const i=getInsertionAncestor(e);return i&&(n=t.lastIndexOf(i,n-1)),n}function getInsertionAncestor(e){let t=e;for(;t=t.parent;)if(isMatchable(t)&&comparePathParserScore(e,t)===0)return t}function isMatchable({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function parseQuery(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const o=n[i].replace(PLUS_RE," "),a=o.indexOf("="),s=decode$2(a<0?o:o.slice(0,a)),l=a<0?null:decode$2(o.slice(a+1));if(s in t){let c=t[s];isArray$d(c)||(c=t[s]=[c]),c.push(l)}else t[s]=l}return t}function stringifyQuery(e){let t="";for(let r in e){const n=e[r];if(r=encodeQueryKey(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}(isArray$d(n)?n.map(o=>o&&encodeQueryValue(o)):[n&&encodeQueryValue(n)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+r,o!=null&&(t+="="+o))})}return t}function normalizeQuery(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=isArray$d(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function guardToPromiseFn(e,t,r,n,i,o=a=>a()){const a=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((s,l)=>{const c=g=>{g===!1?l(createRouterError(4,{from:r,to:t})):g instanceof Error?l(g):isRouteLocation(g)?l(createRouterError(2,{from:t,to:g})):(a&&n.enterCallbacks[i]===a&&typeof g=="function"&&a.push(g),s())},d=o(()=>e.call(n&&n.instances[i],t,r,c));let m=Promise.resolve(d);e.length<3&&(m=m.then(c)),m.catch(g=>l(g))})}function extractComponentsGuards(e,t,r,n,i=o=>o()){const o=[];for(const a of e)for(const s in a.components){let l=a.components[s];if(!(t!=="beforeRouteEnter"&&!a.instances[s]))if(isRouteComponent(l)){const d=(l.__vccOpts||l)[t];d&&o.push(guardToPromiseFn(d,r,n,a,s,i))}else{let c=l();o.push(()=>c.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${s}" at "${a.path}"`);const m=isESModule(d)?d.default:d;a.mods[s]=d,a.components[s]=m;const v=(m.__vccOpts||m)[t];return v&&guardToPromiseFn(v,r,n,a,s,i)()}))}}return o}function useLink$1(e){const t=inject$1(routerKey),r=inject$1(routeLocationKey),n=computed(()=>{const l=unref(e.to);return t.resolve(l)}),i=computed(()=>{const{matched:l}=n.value,{length:c}=l,d=l[c-1],m=r.matched;if(!d||!m.length)return-1;const g=m.findIndex(isSameRouteRecord.bind(null,d));if(g>-1)return g;const v=getOriginalPath(l[c-2]);return c>1&&getOriginalPath(d)===v&&m[m.length-1].path!==v?m.findIndex(isSameRouteRecord.bind(null,l[c-2])):g}),o=computed(()=>i.value>-1&&includesParams(r.params,n.value.params)),a=computed(()=>i.value>-1&&i.value===r.matched.length-1&&isSameRouteLocationParams(r.params,n.value.params));function s(l={}){if(guardEvent(l)){const c=t[unref(e.replace)?"replace":"push"](unref(e.to)).catch(noop$1);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:computed(()=>n.value.href),isActive:o,isExactActive:a,navigate:s}}function preferSingleVNode(e){return e.length===1?e[0]:e}const RouterLinkImpl=defineComponent$1({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:useLink$1,setup(e,{slots:t}){const r=reactive(useLink$1(e)),{options:n}=inject$1(routerKey),i=computed(()=>({[getLinkClass(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[getLinkClass(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const o=t.default&&preferSingleVNode(t.default(r));return e.custom?o:h("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},o)}}}),RouterLink=RouterLinkImpl;function guardEvent(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function includesParams(e,t){for(const r in t){const n=t[r],i=e[r];if(typeof n=="string"){if(n!==i)return!1}else if(!isArray$d(i)||i.length!==n.length||n.some((o,a)=>o!==i[a]))return!1}return!0}function getOriginalPath(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const getLinkClass=(e,t,r)=>e??t??r,RouterViewImpl=defineComponent$1({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const n=inject$1(routerViewLocationKey),i=computed(()=>e.route||n.value),o=inject$1(viewDepthKey,0),a=computed(()=>{let c=unref(o);const{matched:d}=i.value;let m;for(;(m=d[c])&&!m.components;)c++;return c}),s=computed(()=>i.value.matched[a.value]);provide(viewDepthKey,computed(()=>a.value+1)),provide(matchedRouteKey,s),provide(routerViewLocationKey,i);const l=ref();return watch(()=>[l.value,s.value,e.name],([c,d,m],[g,v,_])=>{d&&(d.instances[m]=c,v&&v!==d&&c&&c===g&&(d.leaveGuards.size||(d.leaveGuards=v.leaveGuards),d.updateGuards.size||(d.updateGuards=v.updateGuards))),c&&d&&(!v||!isSameRouteRecord(d,v)||!g)&&(d.enterCallbacks[m]||[]).forEach(S=>S(c))},{flush:"post"}),()=>{const c=i.value,d=e.name,m=s.value,g=m&&m.components[d];if(!g)return normalizeSlot(r.default,{Component:g,route:c});const v=m.props[d],_=v?v===!0?c.params:typeof v=="function"?v(c):v:null,C=h(g,assign$2({},_,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(m.instances[d]=null)},ref:l}));return normalizeSlot(r.default,{Component:C,route:c})||C}}});function normalizeSlot(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const RouterView=RouterViewImpl;function createRouter(e){const t=createRouterMatcher(e.routes,e),r=e.parseQuery||parseQuery,n=e.stringifyQuery||stringifyQuery,i=e.history,o=useCallbacks(),a=useCallbacks(),s=useCallbacks(),l=shallowRef(START_LOCATION_NORMALIZED);let c=START_LOCATION_NORMALIZED;isBrowser&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=applyToParams.bind(null,j=>""+j),m=applyToParams.bind(null,encodeParam),g=applyToParams.bind(null,decode$2);function v(j,M){let ne,Y;return isRouteName(j)?(ne=t.getRecordMatcher(j),Y=M):Y=j,t.addRoute(Y,ne)}function _(j){const M=t.getRecordMatcher(j);M&&t.removeRoute(M)}function S(){return t.getRoutes().map(j=>j.record)}function C(j){return!!t.getRecordMatcher(j)}function y(j,M){if(M=assign$2({},M||l.value),typeof j=="string"){const J=parseURL(r,j,M.path),ae=t.resolve({path:J.path},M),me=i.createHref(J.fullPath);return assign$2(J,ae,{params:g(ae.params),hash:decode$2(J.hash),redirectedFrom:void 0,href:me})}let ne;if(j.path!=null)ne=assign$2({},j,{path:parseURL(r,j.path,M.path).path});else{const J=assign$2({},j.params);for(const ae in J)J[ae]==null&&delete J[ae];ne=assign$2({},j,{params:m(J)}),M.params=m(M.params)}const Y=t.resolve(ne,M),de=j.hash||"";Y.params=d(g(Y.params));const L=stringifyURL(n,assign$2({},j,{hash:encodeHash(de),path:Y.path})),W=i.createHref(L);return assign$2({fullPath:L,hash:de,query:n===stringifyQuery?normalizeQuery(j.query):j.query||{}},Y,{redirectedFrom:void 0,href:W})}function b(j){return typeof j=="string"?parseURL(r,j,l.value.path):assign$2({},j)}function u(j,M){if(c!==j)return createRouterError(8,{from:M,to:j})}function w(j){return T(j)}function x(j){return w(assign$2(b(j),{replace:!0}))}function E(j){const M=j.matched[j.matched.length-1];if(M&&M.redirect){const{redirect:ne}=M;let Y=typeof ne=="function"?ne(j):ne;return typeof Y=="string"&&(Y=Y.includes("?")||Y.includes("#")?Y=b(Y):{path:Y},Y.params={}),assign$2({query:j.query,hash:j.hash,params:Y.path!=null?{}:j.params},Y)}}function T(j,M){const ne=c=y(j),Y=l.value,de=j.state,L=j.force,W=j.replace===!0,J=E(ne);if(J)return T(assign$2(b(J),{state:typeof J=="object"?assign$2({},de,J.state):de,force:L,replace:W}),M||ne);const ae=ne;ae.redirectedFrom=M;let me;return!L&&isSameRouteLocation(n,Y,ne)&&(me=createRouterError(16,{to:ae,from:Y}),U(Y,Y,!0,!1)),(me?Promise.resolve(me):B(ae,Y)).catch(oe=>isNavigationFailure(oe)?isNavigationFailure(oe,2)?oe:I(oe):X(oe,ae,Y)).then(oe=>{if(oe){if(isNavigationFailure(oe,2))return T(assign$2({replace:W},b(oe.to),{state:typeof oe.to=="object"?assign$2({},de,oe.to.state):de,force:L}),M||ae)}else oe=O(ae,Y,!0,W,de);return A(ae,Y,oe),oe})}function k(j,M){const ne=u(j,M);return ne?Promise.reject(ne):Promise.resolve()}function D(j){const M=ue.values().next().value;return M&&typeof M.runWithContext=="function"?M.runWithContext(j):j()}function B(j,M){let ne;const[Y,de,L]=extractChangingRecords(j,M);ne=extractComponentsGuards(Y.reverse(),"beforeRouteLeave",j,M);for(const J of Y)J.leaveGuards.forEach(ae=>{ne.push(guardToPromiseFn(ae,j,M))});const W=k.bind(null,j,M);return ne.push(W),ve(ne).then(()=>{ne=[];for(const J of o.list())ne.push(guardToPromiseFn(J,j,M));return ne.push(W),ve(ne)}).then(()=>{ne=extractComponentsGuards(de,"beforeRouteUpdate",j,M);for(const J of de)J.updateGuards.forEach(ae=>{ne.push(guardToPromiseFn(ae,j,M))});return ne.push(W),ve(ne)}).then(()=>{ne=[];for(const J of L)if(J.beforeEnter)if(isArray$d(J.beforeEnter))for(const ae of J.beforeEnter)ne.push(guardToPromiseFn(ae,j,M));else ne.push(guardToPromiseFn(J.beforeEnter,j,M));return ne.push(W),ve(ne)}).then(()=>(j.matched.forEach(J=>J.enterCallbacks={}),ne=extractComponentsGuards(L,"beforeRouteEnter",j,M,D),ne.push(W),ve(ne))).then(()=>{ne=[];for(const J of a.list())ne.push(guardToPromiseFn(J,j,M));return ne.push(W),ve(ne)}).catch(J=>isNavigationFailure(J,8)?J:Promise.reject(J))}function A(j,M,ne){s.list().forEach(Y=>D(()=>Y(j,M,ne)))}function O(j,M,ne,Y,de){const L=u(j,M);if(L)return L;const W=M===START_LOCATION_NORMALIZED,J=isBrowser?history.state:{};ne&&(Y||W?i.replace(j.fullPath,assign$2({scroll:W&&J&&J.scroll},de)):i.push(j.fullPath,de)),l.value=j,U(j,M,ne,W),I()}let V;function H(){V||(V=i.listen((j,M,ne)=>{if(!he.listening)return;const Y=y(j),de=E(Y);if(de){T(assign$2(de,{replace:!0,force:!0}),Y).catch(noop$1);return}c=Y;const L=l.value;isBrowser&&saveScrollPosition(getScrollKey(L.fullPath,ne.delta),computeScrollPosition()),B(Y,L).catch(W=>isNavigationFailure(W,12)?W:isNavigationFailure(W,2)?(T(assign$2(b(W.to),{force:!0}),Y).then(J=>{isNavigationFailure(J,20)&&!ne.delta&&ne.type===NavigationType.pop&&i.go(-1,!1)}).catch(noop$1),Promise.reject()):(ne.delta&&i.go(-ne.delta,!1),X(W,Y,L))).then(W=>{W=W||O(Y,L,!1),W&&(ne.delta&&!isNavigationFailure(W,8)?i.go(-ne.delta,!1):ne.type===NavigationType.pop&&isNavigationFailure(W,20)&&i.go(-1,!1)),A(Y,L,W)}).catch(noop$1)}))}let q=useCallbacks(),K=useCallbacks(),Q;function X(j,M,ne){I(j);const Y=K.list();return Y.length?Y.forEach(de=>de(j,M,ne)):console.error(j),Promise.reject(j)}function N(){return Q&&l.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((j,M)=>{q.add([j,M])})}function I(j){return Q||(Q=!j,H(),q.list().forEach(([M,ne])=>j?ne(j):M()),q.reset()),j}function U(j,M,ne,Y){const{scrollBehavior:de}=e;if(!isBrowser||!de)return Promise.resolve();const L=!ne&&getSavedScrollPosition(getScrollKey(j.fullPath,0))||(Y||!ne)&&history.state&&history.state.scroll||null;return nextTick$1().then(()=>de(j,M,L)).then(W=>W&&scrollToPosition(W)).catch(W=>X(W,j,M))}const F=j=>i.go(j);let ee;const ue=new Set,he={currentRoute:l,listening:!0,addRoute:v,removeRoute:_,clearRoutes:t.clearRoutes,hasRoute:C,getRoutes:S,resolve:y,options:e,push:w,replace:x,go:F,back:()=>F(-1),forward:()=>F(1),beforeEach:o.add,beforeResolve:a.add,afterEach:s.add,onError:K.add,isReady:N,install(j){const M=this;j.component("RouterLink",RouterLink),j.component("RouterView",RouterView),j.config.globalProperties.$router=M,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(l)}),isBrowser&&!ee&&l.value===START_LOCATION_NORMALIZED&&(ee=!0,w(i.location).catch(de=>{}));const ne={};for(const de in START_LOCATION_NORMALIZED)Object.defineProperty(ne,de,{get:()=>l.value[de],enumerable:!0});j.provide(routerKey,M),j.provide(routeLocationKey,shallowReactive(ne)),j.provide(routerViewLocationKey,l);const Y=j.unmount;ue.add(j),j.unmount=function(){ue.delete(j),ue.size<1&&(c=START_LOCATION_NORMALIZED,V&&V(),V=null,l.value=START_LOCATION_NORMALIZED,ee=!1,Q=!1),Y()}}};function ve(j){return j.reduce((M,ne)=>M.then(()=>D(ne)),Promise.resolve())}return he}function extractChangingRecords(e,t){const r=[],n=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const s=t.matched[a];s&&(e.matched.find(c=>isSameRouteRecord(c,s))?n.push(s):r.push(s));const l=e.matched[a];l&&(t.matched.find(c=>isSameRouteRecord(c,l))||i.push(l))}return[r,n,i]}function useRouter$1(){return inject$1(routerKey)}function useRoute$1(e){return inject$1(routeLocationKey)}function getIdFromRoute(){const e=useRoute$1();return computed(()=>e.params.id)}function getDeviceFromId(e){return asyncComputed({async get(){const{systemManager:r}=connectedClient.value||await connectPluginClient();return r.getDeviceById(e())},watch:{id:()=>e()},default(r){var n;return((n=connectedClient.value)==null?void 0:n.systemManager.getDeviceById(e()))||r}})}function registerListener(e,t,r){let n;function i(){var o;n==null||n.removeListener(),n=(o=e.value)==null?void 0:o.listen(t,r)}return watch(()=>e.value,i),i(),onUnmounted(()=>n==null?void 0:n.removeListener()),n}function registerListeners(e,t,r){let n;function i(){n==null||n.forEach(o=>o.removeListener()),n=e().map(o=>{var a,s;return(s=(a=connectedClient.value)==null?void 0:a.systemManager.getDeviceById(o))==null?void 0:s.listen(t,r)})}return watch(e,i),i(),onUnmounted(()=>n==null?void 0:n.forEach(o=>o.removeListener)),n}function goDevice(e,t){goDeviceId(e,t.id)}function goDeviceId(e,t){e.push(`/device/${t}`)}function getDeviceRoute(e){return`/device/${e}`}function watchModelValue(e){watch(()=>e.value.value,()=>{e.value=e.value})}function normalizeBoolean(e){return e==="true"?!0:e==="false"?!1:!!e}function normalizeNumber(e){const t=parseFloat(e);if(!Number.isNaN(t))return t}function normalizeSetting(e){return e.type==="boolean"?e.value=normalizeBoolean(e.value):e.type==="number"&&(e.value=normalizeNumber(e.value)),e}function trackSetting(e){return normalizeSetting(e),{...e,originalValue:e.value}}function isDirty(e){return JSON.stringify(normalizeSetting(e).value)!==JSON.stringify(normalizeSetting(e).originalValue)}function getLineHintColor(){const e=useTheme().global.name;return computed(()=>e.value==="dark"?"#808080":"#e0e0e0")}function isDark(){const e=useTheme();return computed(()=>e.global.name.value==="dark")}function getChipVariant(){const e=isDark();return computed(()=>e.value?"flat":"tonal")}const chipColor="light-blue-darken-3";function useColor(e){return destructComputed(()=>{const t=toValue(e),r=[],n={};if(t.background)if(isCssColor(t.background)){if(n.backgroundColor=t.background,!t.text&&isParsableColor(t.background)){const i=parseColor(t.background);if(i.a==null||i.a===1){const o=getForeground(i);n.color=o,n.caretColor=o}}}else r.push(`bg-${t.background}`);return t.text&&(isCssColor(t.text)?(n.color=t.text,n.caretColor=t.text):r.push(`text-${t.text}`)),{colorClasses:r,colorStyles:n}})}function useTextColor(e){const{colorClasses:t,colorStyles:r}=useColor(()=>({text:toValue(e)}));return{textColorClasses:t,textColorStyles:r}}function useBackgroundColor(e){const{colorClasses:t,colorStyles:r}=useColor(()=>({background:toValue(e)}));return{backgroundColorClasses:t,backgroundColorStyles:r}}const predefinedSizes=["x-small","small","default","large","x-large"],makeSizeProps=propsFactory({size:{type:[String,Number],default:"default"}},"size");function useSize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return destructComputed(()=>{const r=e.size;let n,i;return includes(predefinedSizes,r)?n=`${t}--size-${r}`:r&&(i={width:convertToUnit(r),height:convertToUnit(r)}),{sizeClasses:n,sizeStyles:i}})}const makeTagProps=propsFactory({tag:{type:[String,Object,Function],default:"div"}},"tag"),makeVIconProps=propsFactory({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:IconValue,opacity:[String,Number],...makeComponentProps(),...makeSizeProps(),...makeTagProps({tag:"i"}),...makeThemeProps()},"VIcon"),VIcon=genericComponent()({name:"VIcon",props:makeVIconProps(),setup(e,t){let{attrs:r,slots:n}=t;const i=shallowRef(),{themeClasses:o}=useTheme(),{iconData:a}=useIcon(()=>i.value||e.icon),{sizeClasses:s}=useSize(e),{textColorClasses:l,textColorStyles:c}=useTextColor(()=>e.color);return useRender(()=>{var g,v;const d=(g=n.default)==null?void 0:g.call(n);d&&(i.value=(v=flattenFragments(d).filter(_=>_.type===Text$1&&_.children&&typeof _.children=="string")[0])==null?void 0:v.children);const m=!!(r.onClick||r.onClickOnce);return createVNode(a.value.component,{tag:e.tag,icon:a.value.icon,class:normalizeClass(["v-icon","notranslate",o.value,s.value,l.value,{"v-icon--clickable":m,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class]),style:normalizeStyle([{"--v-icon-opacity":e.opacity},s.value?void 0:{fontSize:convertToUnit(e.size),height:convertToUnit(e.size),width:convertToUnit(e.size)},c.value,e.style]),role:m?"button":void 0,"aria-hidden":!m,tabindex:m?e.disabled?-1:0:void 0},{default:()=>[d]})}),{}}}),makeVLabelProps=propsFactory({text:String,onClick:EventProp(),...makeComponentProps(),...makeThemeProps()},"VLabel"),VLabel=genericComponent()({name:"VLabel",props:makeVLabelProps(),setup(e,t){let{slots:r}=t;return useRender(()=>{var n;return createBaseVNode("label",{class:normalizeClass(["v-label",{"v-label--clickable":!!e.onClick},e.class]),style:normalizeStyle(e.style),onClick:e.onClick},[e.text,(n=r.default)==null?void 0:n.call(r)])}),{}}}),allowedDensities$1=[null,"default","comfortable","compact"],makeDensityProps=propsFactory({density:{type:String,default:"default",validator:e=>allowedDensities$1.includes(e)}},"density");function useDensity(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{densityClasses:toRef(()=>`${t}--density-${e.density}`)}}const VSelectionControlGroupSymbol=Symbol.for("vuetify:selection-control-group"),makeSelectionControlGroupProps=propsFactory({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:IconValue,trueIcon:IconValue,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:deepEqual},...makeComponentProps(),...makeDensityProps(),...makeThemeProps()},"SelectionControlGroup"),makeVSelectionControlGroupProps=propsFactory({...makeSelectionControlGroupProps({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),VSelectionControlGroup=genericComponent()({name:"VSelectionControlGroup",props:makeVSelectionControlGroupProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=useProxiedModel(e,"modelValue"),i=useId(),o=toRef(()=>e.id||`v-selection-control-group-${i}`),a=toRef(()=>e.name||o.value),s=new Set;return provide(VSelectionControlGroupSymbol,{modelValue:n,forceUpdate:()=>{s.forEach(l=>l())},onForceUpdate:l=>{s.add(l),onScopeDispose(()=>{s.delete(l)})}}),provideDefaults({[e.defaultsTarget]:{color:toRef(()=>e.color),disabled:toRef(()=>e.disabled),density:toRef(()=>e.density),error:toRef(()=>e.error),inline:toRef(()=>e.inline),modelValue:n,multiple:toRef(()=>!!e.multiple||e.multiple==null&&Array.isArray(n.value)),name:a,falseIcon:toRef(()=>e.falseIcon),trueIcon:toRef(()=>e.trueIcon),readonly:toRef(()=>e.readonly),ripple:toRef(()=>e.ripple),type:toRef(()=>e.type),valueComparator:toRef(()=>e.valueComparator)}}),useRender(()=>{var l;return createBaseVNode("div",{class:normalizeClass(["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class]),style:normalizeStyle(e.style),role:e.type==="radio"?"radiogroup":void 0},[(l=r.default)==null?void 0:l.call(r)])}),{}}}),stopSymbol=Symbol("rippleStop"),DELAY_RIPPLE=80;function transform(e,t){e.style.transform=t,e.style.webkitTransform=t}function isTouchEvent(e){return e.constructor.name==="TouchEvent"}function isKeyboardEvent(e){return e.constructor.name==="KeyboardEvent"}const calculate=function(e,t){var m;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=0,i=0;if(!isKeyboardEvent(e)){const g=t.getBoundingClientRect(),v=isTouchEvent(e)?e.touches[e.touches.length-1]:e;n=v.clientX-g.left,i=v.clientY-g.top}let o=0,a=.3;(m=t._ripple)!=null&&m.circle?(a=.15,o=t.clientWidth/2,o=r.center?o:o+Math.sqrt((n-o)**2+(i-o)**2)/4):o=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const s=`${(t.clientWidth-o*2)/2}px`,l=`${(t.clientHeight-o*2)/2}px`,c=r.center?s:`${n-o}px`,d=r.center?l:`${i-o}px`;return{radius:o,scale:a,x:c,y:d,centerX:s,centerY:l}},ripples={show(e,t){var v;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((v=t==null?void 0:t._ripple)!=null&&v.enabled))return;const n=document.createElement("span"),i=document.createElement("span");n.appendChild(i),n.className="v-ripple__container",r.class&&(n.className+=` ${r.class}`);const{radius:o,scale:a,x:s,y:l,centerX:c,centerY:d}=calculate(e,t,r),m=`${o*2}px`;i.className="v-ripple__animation",i.style.width=m,i.style.height=m,t.appendChild(n);const g=window.getComputedStyle(t);g&&g.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),i.classList.add("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--visible"),transform(i,`translate(${s}, ${l}) scale3d(${a},${a},${a})`),i.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{i.classList.remove("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--in"),transform(i,`translate(${c}, ${d}) scale3d(1,1,1)`)})})},hide(e){var o;if(!((o=e==null?void 0:e._ripple)!=null&&o.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const r=Array.from(t).findLast(a=>!a.dataset.isHiding);if(r)r.dataset.isHiding="true";else return;const n=performance.now()-Number(r.dataset.activated),i=Math.max(250-n,0);setTimeout(()=>{r.classList.remove("v-ripple__animation--in"),r.classList.add("v-ripple__animation--out"),setTimeout(()=>{var s;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((s=r.parentNode)==null?void 0:s.parentNode)===e&&e.removeChild(r.parentNode)},300)},i)}};function isRippleEnabled(e){return typeof e>"u"||!!e}function rippleShow(e){const t={},r=e.currentTarget;if(!(!(r!=null&&r._ripple)||r._ripple.touched||e[stopSymbol])){if(e[stopSymbol]=!0,isTouchEvent(e))r._ripple.touched=!0,r._ripple.isTouch=!0;else if(r._ripple.isTouch)return;if(t.center=r._ripple.centered||isKeyboardEvent(e),r._ripple.class&&(t.class=r._ripple.class),isTouchEvent(e)){if(r._ripple.showTimerCommit)return;r._ripple.showTimerCommit=()=>{ripples.show(e,r,t)},r._ripple.showTimer=window.setTimeout(()=>{var n;(n=r==null?void 0:r._ripple)!=null&&n.showTimerCommit&&(r._ripple.showTimerCommit(),r._ripple.showTimerCommit=null)},DELAY_RIPPLE)}else ripples.show(e,r,t)}}function rippleStop(e){e[stopSymbol]=!0}function rippleHide(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{rippleHide(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),ripples.hide(t)}}function rippleCancelShow(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let keyboardRipple=!1;function keyboardRippleShow(e,t){!keyboardRipple&&t.includes(e.key)&&(keyboardRipple=!0,rippleShow(e))}function keyboardRippleHide(e){keyboardRipple=!1,rippleHide(e)}function focusRippleHide(e){keyboardRipple&&(keyboardRipple=!1,rippleHide(e))}function updateRipple(e,t,r){const{value:n,modifiers:i}=t,o=isRippleEnabled(n);o||ripples.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=o,e._ripple.centered=i.center,e._ripple.circle=i.circle;const a=isObject$c(n)?n:{};a.class&&(e._ripple.class=a.class);const s=a.keys??["Enter","Space"];if(e._ripple.keyDownHandler=l=>keyboardRippleShow(l,s),o&&!r){if(i.stop){e.addEventListener("touchstart",rippleStop,{passive:!0}),e.addEventListener("mousedown",rippleStop);return}e.addEventListener("touchstart",rippleShow,{passive:!0}),e.addEventListener("touchend",rippleHide,{passive:!0}),e.addEventListener("touchmove",rippleCancelShow,{passive:!0}),e.addEventListener("touchcancel",rippleHide),e.addEventListener("mousedown",rippleShow),e.addEventListener("mouseup",rippleHide),e.addEventListener("mouseleave",rippleHide),e.addEventListener("keydown",l=>keyboardRippleShow(l,s)),e.addEventListener("keyup",keyboardRippleHide),e.addEventListener("blur",focusRippleHide),e.addEventListener("dragstart",rippleHide,{passive:!0})}else!o&&r&&removeListeners(e)}function removeListeners(e){var t;e.removeEventListener("mousedown",rippleShow),e.removeEventListener("touchstart",rippleShow),e.removeEventListener("touchend",rippleHide),e.removeEventListener("touchmove",rippleCancelShow),e.removeEventListener("touchcancel",rippleHide),e.removeEventListener("mouseup",rippleHide),e.removeEventListener("mouseleave",rippleHide),(t=e._ripple)!=null&&t.keyDownHandler&&e.removeEventListener("keydown",e._ripple.keyDownHandler),e.removeEventListener("keyup",keyboardRippleHide),e.removeEventListener("dragstart",rippleHide),e.removeEventListener("blur",focusRippleHide)}function mounted$2(e,t){updateRipple(e,t,!1)}function unmounted$2(e){removeListeners(e),delete e._ripple}function updated(e,t){if(t.value===t.oldValue)return;const r=isRippleEnabled(t.oldValue);updateRipple(e,t,r)}const Ripple={mounted:mounted$2,unmounted:unmounted$2,updated},makeVSelectionControlProps=propsFactory({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...makeComponentProps(),...makeSelectionControlGroupProps()},"VSelectionControl");function useSelectionControl(e){const t=inject$1(VSelectionControlGroupSymbol,void 0),{densityClasses:r}=useDensity(e),n=useProxiedModel(e,"modelValue"),i=computed(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),o=computed(()=>e.falseValue!==void 0?e.falseValue:!1),a=computed(()=>!!e.multiple||e.multiple==null&&Array.isArray(n.value)),s=computed({get(){const v=t?t.modelValue.value:n.value;return a.value?wrapInArray(v).some(_=>e.valueComparator(_,i.value)):e.valueComparator(v,i.value)},set(v){if(e.readonly)return;const _=v?i.value:o.value;let S=_;a.value&&(S=v?[...wrapInArray(n.value),_]:wrapInArray(n.value).filter(C=>!e.valueComparator(C,i.value))),t?t.modelValue.value=S:n.value=S}}),{textColorClasses:l,textColorStyles:c}=useTextColor(()=>{if(!(e.error||e.disabled))return s.value?e.color:e.baseColor}),{backgroundColorClasses:d,backgroundColorStyles:m}=useBackgroundColor(()=>s.value&&!e.error&&!e.disabled?e.color:e.baseColor),g=computed(()=>s.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:r,trueValue:i,falseValue:o,model:s,textColorClasses:l,textColorStyles:c,backgroundColorClasses:d,backgroundColorStyles:m,icon:g}}const VSelectionControl=genericComponent()({name:"VSelectionControl",directives:{vRipple:Ripple},inheritAttrs:!1,props:makeVSelectionControlProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:r,slots:n}=t;const{group:i,densityClasses:o,icon:a,model:s,textColorClasses:l,textColorStyles:c,backgroundColorClasses:d,backgroundColorStyles:m,trueValue:g}=useSelectionControl(e),v=useId(),_=shallowRef(!1),S=shallowRef(!1),C=ref(),y=toRef(()=>e.id||`input-${v}`),b=toRef(()=>!e.disabled&&!e.readonly);i==null||i.onForceUpdate(()=>{C.value&&(C.value.checked=s.value)});function u(T){b.value&&(_.value=!0,matchesSelector(T.target,":focus-visible")!==!1&&(S.value=!0))}function w(){_.value=!1,S.value=!1}function x(T){T.stopPropagation()}function E(T){if(!b.value){C.value&&(C.value.checked=s.value);return}e.readonly&&i&&nextTick$1(()=>i.forceUpdate()),s.value=T.target.checked}return useRender(()=>{var A,O;const T=n.label?n.label({label:e.label,props:{for:y.value}}):e.label,[k,D]=filterInputAttrs(r),B=createBaseVNode("input",mergeProps({ref:C,checked:s.value,disabled:!!e.disabled,id:y.value,onBlur:w,onFocus:u,onInput:E,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:g.value,name:e.name,"aria-checked":e.type==="checkbox"?s.value:void 0},D),null);return createBaseVNode("div",mergeProps({class:["v-selection-control",{"v-selection-control--dirty":s.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":_.value,"v-selection-control--focus-visible":S.value,"v-selection-control--inline":e.inline},o.value,e.class]},k,{style:e.style}),[createBaseVNode("div",{class:normalizeClass(["v-selection-control__wrapper",l.value]),style:normalizeStyle(c.value)},[(A=n.default)==null?void 0:A.call(n,{backgroundColorClasses:d,backgroundColorStyles:m}),withDirectives(createBaseVNode("div",{class:normalizeClass(["v-selection-control__input"])},[((O=n.input)==null?void 0:O.call(n,{model:s,textColorClasses:l,textColorStyles:c,backgroundColorClasses:d,backgroundColorStyles:m,inputNode:B,icon:a.value,props:{onFocus:u,onBlur:w,id:y.value}}))??createBaseVNode(Fragment,null,[a.value&&createVNode(VIcon,{key:"icon",icon:a.value},null),B])]),[[Ripple,!e.disabled&&!e.readonly&&e.ripple,null,{center:!0,circle:!0}]])]),T&&createVNode(VLabel,{for:y.value,onClick:x},{default:()=>[T]})])}),{isFocused:_,input:C}}}),makeVCheckboxBtnProps=propsFactory({indeterminate:Boolean,indeterminateIcon:{type:IconValue,default:"$checkboxIndeterminate"},...makeVSelectionControlProps({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),VCheckboxBtn=genericComponent()({name:"VCheckboxBtn",props:makeVCheckboxBtnProps(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:r}=t;const n=useProxiedModel(e,"indeterminate"),i=useProxiedModel(e,"modelValue");function o(l){n.value&&(n.value=!1)}const a=toRef(()=>n.value?e.indeterminateIcon:e.falseIcon),s=toRef(()=>n.value?e.indeterminateIcon:e.trueIcon);return useRender(()=>{const l=omit$1(VSelectionControl.filterProps(e),["modelValue"]);return createVNode(VSelectionControl,mergeProps(l,{modelValue:i.value,"onUpdate:modelValue":[c=>i.value=c,o],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:a.value,trueIcon:s.value,"aria-checked":n.value?"mixed":void 0}),r)}),{}}});function useInputIcon(e){const{t}=useLocale();function r(n){let{name:i,color:o,...a}=n;const s={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[i],l=e[`onClick:${i}`];function c(m){m.key!=="Enter"&&m.key!==" "||(m.preventDefault(),m.stopPropagation(),callEvent(l,new PointerEvent("click",m)))}const d=l&&s?t(`$vuetify.input.${s}`,e.label??""):void 0;return createVNode(VIcon,mergeProps({icon:e[`${i}Icon`],"aria-label":d,onClick:l,onKeydown:c,color:o},a),null)}return{InputIcon:r}}const makeTransitionProps$1=propsFactory({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function createCssTransition(e,t,r){return genericComponent()({name:e,props:makeTransitionProps$1({mode:r,origin:t}),setup(n,i){let{slots:o}=i;const a={onBeforeEnter(s){n.origin&&(s.style.transformOrigin=n.origin)},onLeave(s){if(n.leaveAbsolute){const{offsetTop:l,offsetLeft:c,offsetWidth:d,offsetHeight:m}=s;s._transitionInitialStyles={position:s.style.position,top:s.style.top,left:s.style.left,width:s.style.width,height:s.style.height},s.style.position="absolute",s.style.top=`${l}px`,s.style.left=`${c}px`,s.style.width=`${d}px`,s.style.height=`${m}px`}n.hideOnLeave&&s.style.setProperty("display","none","important")},onAfterLeave(s){if(n.leaveAbsolute&&(s!=null&&s._transitionInitialStyles)){const{position:l,top:c,left:d,width:m,height:g}=s._transitionInitialStyles;delete s._transitionInitialStyles,s.style.position=l||"",s.style.top=c||"",s.style.left=d||"",s.style.width=m||"",s.style.height=g||""}}};return()=>{const s=n.group?TransitionGroup:Transition;return h(s,{name:n.disabled?"":e,css:!n.disabled,...n.group?void 0:{mode:n.mode},...n.disabled?{}:a},o.default)}}})}function createJavascriptTransition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return genericComponent()({name:e,props:{mode:{type:String,default:r},disabled:Boolean,group:Boolean},setup(n,i){let{slots:o}=i;const a=n.group?TransitionGroup:Transition;return()=>h(a,{name:n.disabled?"":e,css:!n.disabled,...n.disabled?{}:t},o.default)}})}function ExpandTransitionGenerator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",n=camelize(`offset-${r}`);return{onBeforeEnter(a){a._parent=a.parentNode,a._initialStyle={transition:a.style.transition,overflow:a.style.overflow,[r]:a.style[r]}},onEnter(a){const s=a._initialStyle;if(!s)return;a.style.setProperty("transition","none","important"),a.style.overflow="hidden";const l=`${a[n]}px`;a.style[r]="0",a.offsetHeight,a.style.transition=s.transition,e&&a._parent&&a._parent.classList.add(e),requestAnimationFrame(()=>{a.style[r]=l})},onAfterEnter:o,onEnterCancelled:o,onLeave(a){a._initialStyle={transition:"",overflow:a.style.overflow,[r]:a.style[r]},a.style.overflow="hidden",a.style[r]=`${a[n]}px`,a.offsetHeight,requestAnimationFrame(()=>a.style[r]="0")},onAfterLeave:i,onLeaveCancelled:i};function i(a){e&&a._parent&&a._parent.classList.remove(e),o(a)}function o(a){if(!a._initialStyle)return;const s=a._initialStyle[r];a.style.overflow=a._initialStyle.overflow,s!=null&&(a.style[r]=s),delete a._initialStyle}}const makeVDialogTransitionProps=propsFactory({target:[Object,Array]},"v-dialog-transition"),saved=new WeakMap,VDialogTransition=genericComponent()({name:"VDialogTransition",props:makeVDialogTransitionProps(),setup(e,t){let{slots:r}=t;const n={onBeforeEnter(i){i.style.pointerEvents="none",i.style.visibility="hidden"},async onEnter(i,o){var v;await new Promise(_=>requestAnimationFrame(_)),await new Promise(_=>requestAnimationFrame(_)),i.style.visibility="";const a=getDimensions(e.target,i),{x:s,y:l,sx:c,sy:d,speed:m}=a;saved.set(i,a);const g=animate(i,[{transform:`translate(${s}px, ${l}px) scale(${c}, ${d})`,opacity:0},{}],{duration:225*m,easing:deceleratedEasing});(v=getChildren(i))==null||v.forEach(_=>{animate(_,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*m,easing:standardEasing})}),g.finished.then(()=>o())},onAfterEnter(i){i.style.removeProperty("pointer-events")},onBeforeLeave(i){i.style.pointerEvents="none"},async onLeave(i,o){var v;await new Promise(_=>requestAnimationFrame(_));let a;!saved.has(i)||Array.isArray(e.target)||e.target.offsetParent||e.target.getClientRects().length?a=getDimensions(e.target,i):a=saved.get(i);const{x:s,y:l,sx:c,sy:d,speed:m}=a;animate(i,[{},{transform:`translate(${s}px, ${l}px) scale(${c}, ${d})`,opacity:0}],{duration:125*m,easing:acceleratedEasing}).finished.then(()=>o()),(v=getChildren(i))==null||v.forEach(_=>{animate(_,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*m,easing:standardEasing})})},onAfterLeave(i){i.style.removeProperty("pointer-events")}};return()=>e.target?createVNode(Transition,mergeProps({name:"dialog-transition"},n,{css:!1}),r):createVNode(Transition,{name:"dialog-transition"},r)}});function getChildren(e){var r;const t=(r=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:r.children;return t&&[...t]}function getDimensions(e,t){const r=getTargetBox(e),n=nullifyTransforms(t),[i,o]=getComputedStyle(t).transformOrigin.split(" ").map(y=>parseFloat(y)),[a,s]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=r.left+r.width/2;a==="left"||s==="left"?l-=r.width/2:(a==="right"||s==="right")&&(l+=r.width/2);let c=r.top+r.height/2;a==="top"||s==="top"?c-=r.height/2:(a==="bottom"||s==="bottom")&&(c+=r.height/2);const d=r.width/n.width,m=r.height/n.height,g=Math.max(1,d,m),v=d/g||0,_=m/g||0,S=n.width*n.height/(window.innerWidth*window.innerHeight),C=S>.12?Math.min(1.5,(S-.12)*10+1):1;return{x:l-(i+n.left),y:c-(o+n.top),sx:v,sy:_,speed:C}}createCssTransition("fab-transition","center center","out-in");createCssTransition("dialog-bottom-transition");createCssTransition("dialog-top-transition");const VFadeTransition=createCssTransition("fade-transition"),VScaleTransition=createCssTransition("scale-transition");createCssTransition("scroll-x-transition");createCssTransition("scroll-x-reverse-transition");createCssTransition("scroll-y-transition");createCssTransition("scroll-y-reverse-transition");createCssTransition("slide-x-transition");createCssTransition("slide-x-reverse-transition");const VSlideYTransition=createCssTransition("slide-y-transition");createCssTransition("slide-y-reverse-transition");const VExpandTransition=createJavascriptTransition("expand-transition",ExpandTransitionGenerator()),VExpandXTransition=createJavascriptTransition("expand-x-transition",ExpandTransitionGenerator("",!0)),makeTransitionProps=propsFactory({transition:{type:null,default:"fade-transition",validator:e=>e!==!0}},"transition"),MaybeTransition=(e,t)=>{let{slots:r}=t;const{transition:n,disabled:i,group:o,...a}=e,{component:s=o?TransitionGroup:Transition,...l}=isObject$c(n)?n:{};let c;return isObject$c(n)?c=mergeProps(l,onlyDefinedProps({disabled:i,group:o}),a):c=mergeProps({name:i||!n?"":n},a),h(s,c,r)},makeVMessagesProps=propsFactory({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...makeComponentProps(),...makeTransitionProps({transition:{component:VSlideYTransition,leaveAbsolute:!0,group:!0}})},"VMessages"),VMessages=genericComponent()({name:"VMessages",props:makeVMessagesProps(),setup(e,t){let{slots:r}=t;const n=computed(()=>wrapInArray(e.messages)),{textColorClasses:i,textColorStyles:o}=useTextColor(()=>e.color);return useRender(()=>createVNode(MaybeTransition,{transition:e.transition,tag:"div",class:normalizeClass(["v-messages",i.value,e.class]),style:normalizeStyle([o.value,e.style])},{default:()=>[e.active&&n.value.map((a,s)=>createBaseVNode("div",{class:"v-messages__message",key:`${s}-${n.value}`},[r.message?r.message({message:a}):a]))]})),{}}}),makeDimensionProps=propsFactory({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function useDimension(e){return{dimensionStyles:computed(()=>{const r={},n=convertToUnit(e.height),i=convertToUnit(e.maxHeight),o=convertToUnit(e.maxWidth),a=convertToUnit(e.minHeight),s=convertToUnit(e.minWidth),l=convertToUnit(e.width);return n!=null&&(r.height=n),i!=null&&(r.maxHeight=i),o!=null&&(r.maxWidth=o),a!=null&&(r.minHeight=a),s!=null&&(r.minWidth=s),l!=null&&(r.width=l),r})}}const makeFocusProps=propsFactory({focused:Boolean,"onUpdate:focused":EventProp()},"focus");function useFocus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();const r=useProxiedModel(e,"focused"),n=toRef(()=>({[`${t}--focused`]:r.value}));function i(){r.value=!0}function o(){r.value=!1}return{focusClasses:n,isFocused:r,focus:i,blur:o}}const FormKey=Symbol.for("vuetify:form"),makeFormProps=propsFactory({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function createForm(e){const t=useProxiedModel(e,"modelValue"),r=toRef(()=>e.disabled),n=toRef(()=>e.readonly),i=shallowRef(!1),o=ref([]),a=ref([]);async function s(){const d=[];let m=!0;a.value=[],i.value=!0;for(const g of o.value){const v=await g.validate();if(v.length>0&&(m=!1,d.push({id:g.id,errorMessages:v})),!m&&e.fastFail)break}return a.value=d,i.value=!1,{valid:m,errors:a.value}}function l(){o.value.forEach(d=>d.reset())}function c(){o.value.forEach(d=>d.resetValidation())}return watch(o,()=>{let d=0,m=0;const g=[];for(const v of o.value)v.isValid===!1?(m++,g.push({id:v.id,errorMessages:v.errorMessages})):v.isValid===!0&&d++;a.value=g,t.value=m>0?!1:d===o.value.length?!0:null},{deep:!0,flush:"post"}),provide(FormKey,{register:d=>{let{id:m,vm:g,validate:v,reset:_,resetValidation:S}=d;o.value.some(C=>C.id===m),o.value.push({id:m,validate:v,reset:_,resetValidation:S,vm:markRaw(g),isValid:null,errorMessages:[]})},unregister:d=>{o.value=o.value.filter(m=>m.id!==d)},update:(d,m,g)=>{const v=o.value.find(_=>_.id===d);v&&(v.isValid=m,v.errorMessages=g)},isDisabled:r,isReadonly:n,isValidating:i,isValid:t,items:o,validateOn:toRef(()=>e.validateOn)}),{errors:a,isDisabled:r,isReadonly:n,isValidating:i,isValid:t,items:o,validate:s,reset:l,resetValidation:c}}function useForm(e){const t=inject$1(FormKey,null);return{...t,isReadonly:computed(()=>!!((e==null?void 0:e.readonly)??(t==null?void 0:t.isReadonly.value))),isDisabled:computed(()=>!!((e==null?void 0:e.disabled)??(t==null?void 0:t.isDisabled.value)))}}const RulesSymbol=Symbol.for("vuetify:rules");function useRules(e){const t=inject$1(RulesSymbol,null);if(!e){if(!t)throw new Error("Could not find Vuetify rules injection");return t.aliases}return(t==null?void 0:t.resolve(e))??toRef(e)}const makeValidationProps=propsFactory({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...makeFocusProps()},"validation");function useValidation(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:useId();const n=useProxiedModel(e,"modelValue"),i=computed(()=>e.validationValue===void 0?n.value:e.validationValue),o=useForm(e),a=useRules(()=>e.rules),s=ref([]),l=shallowRef(!0),c=computed(()=>!!(wrapInArray(n.value===""?null:n.value).length||wrapInArray(i.value===""?null:i.value).length)),d=computed(()=>{var w;return(w=e.errorMessages)!=null&&w.length?wrapInArray(e.errorMessages).concat(s.value).slice(0,Math.max(0,Number(e.maxErrors))):s.value}),m=computed(()=>{var E;let w=(e.validateOn??((E=o.validateOn)==null?void 0:E.value))||"input";w==="lazy"&&(w="input lazy"),w==="eager"&&(w="input eager");const x=new Set((w==null?void 0:w.split(" "))??[]);return{input:x.has("input"),blur:x.has("blur")||x.has("input")||x.has("invalid-input"),invalidInput:x.has("invalid-input"),lazy:x.has("lazy"),eager:x.has("eager")}}),g=computed(()=>{var w;return e.error||(w=e.errorMessages)!=null&&w.length?!1:e.rules.length?l.value?s.value.length||m.value.lazy?null:!0:!s.value.length:!0}),v=shallowRef(!1),_=computed(()=>({[`${t}--error`]:g.value===!1,[`${t}--dirty`]:c.value,[`${t}--disabled`]:o.isDisabled.value,[`${t}--readonly`]:o.isReadonly.value})),S=getCurrentInstance("validation"),C=computed(()=>e.name??unref(r));onBeforeMount(()=>{var w;(w=o.register)==null||w.call(o,{id:C.value,vm:S,validate:u,reset:y,resetValidation:b})}),onBeforeUnmount(()=>{var w;(w=o.unregister)==null||w.call(o,C.value)}),onMounted(async()=>{var w;m.value.lazy||await u(!m.value.eager),(w=o.update)==null||w.call(o,C.value,g.value,d.value)}),useToggleScope(()=>m.value.input||m.value.invalidInput&&g.value===!1,()=>{watch(i,()=>{if(i.value!=null)u();else if(e.focused){const w=watch(()=>e.focused,x=>{x||u(),w()})}})}),useToggleScope(()=>m.value.blur,()=>{watch(()=>e.focused,w=>{w||u()})}),watch([g,d],()=>{var w;(w=o.update)==null||w.call(o,C.value,g.value,d.value)});async function y(){n.value=null,await nextTick$1(),await b()}async function b(){l.value=!0,m.value.lazy?s.value=[]:await u(!m.value.eager)}async function u(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const x=[];v.value=!0;for(const E of a.value){if(x.length>=Number(e.maxErrors??1))break;const k=await(typeof E=="function"?E:()=>E)(i.value);if(k!==!0){if(k!==!1&&typeof k!="string"){console.warn(`${k} is not a valid value. Rule functions must return boolean true or a string.`);continue}x.push(k||"")}}return s.value=x,v.value=!1,l.value=w,s.value}return{errorMessages:d,isDirty:c,isDisabled:o.isDisabled,isReadonly:o.isReadonly,isPristine:l,isValid:g,isValidating:v,reset:y,resetValidation:b,validate:u,validationClasses:_}}const makeVInputProps=propsFactory({id:String,appendIcon:IconValue,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:IconValue,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":EventProp(),"onClick:append":EventProp(),...makeComponentProps(),...makeDensityProps(),...pick$2(makeDimensionProps(),["maxWidth","minWidth","width"]),...makeThemeProps(),...makeValidationProps()},"VInput"),VInput=genericComponent()({name:"VInput",props:{...makeVInputProps()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:r,slots:n,emit:i}=t;const{densityClasses:o}=useDensity(e),{dimensionStyles:a}=useDimension(e),{themeClasses:s}=provideTheme(e),{rtlClasses:l}=useRtl(),{InputIcon:c}=useInputIcon(e),d=useId(),m=computed(()=>e.id||`input-${d}`),{errorMessages:g,isDirty:v,isDisabled:_,isReadonly:S,isPristine:C,isValid:y,isValidating:b,reset:u,resetValidation:w,validate:x,validationClasses:E}=useValidation(e,"v-input",m),T=computed(()=>{var H;return(H=e.errorMessages)!=null&&H.length||!C.value&&g.value.length?g.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages}),k=toRef(()=>T.value.length>0),D=toRef(()=>!e.hideDetails||e.hideDetails==="auto"&&(k.value||!!n.details)),B=computed(()=>D.value?`${m.value}-messages`:void 0),A=computed(()=>({id:m,messagesId:B,isDirty:v,isDisabled:_,isReadonly:S,isPristine:C,isValid:y,isValidating:b,hasDetails:D,reset:u,resetValidation:w,validate:x})),O=toRef(()=>e.error||e.disabled?void 0:e.focused?e.color:e.baseColor),V=toRef(()=>{if(e.iconColor)return e.iconColor===!0?O.value:e.iconColor});return useRender(()=>{var K,Q,X,N;const H=!!(n.prepend||e.prependIcon),q=!!(n.append||e.appendIcon);return createBaseVNode("div",{class:normalizeClass(["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--focused":e.focused,"v-input--glow":e.glow,"v-input--hide-spin-buttons":e.hideSpinButtons},o.value,s.value,l.value,E.value,e.class]),style:normalizeStyle([a.value,e.style])},[H&&createBaseVNode("div",{key:"prepend",class:"v-input__prepend"},[(K=n.prepend)==null?void 0:K.call(n,A.value),e.prependIcon&&createVNode(c,{key:"prepend-icon",name:"prepend",color:V.value},null)]),n.default&&createBaseVNode("div",{class:"v-input__control"},[(Q=n.default)==null?void 0:Q.call(n,A.value)]),q&&createBaseVNode("div",{key:"append",class:"v-input__append"},[e.appendIcon&&createVNode(c,{key:"append-icon",name:"append",color:V.value},null),(X=n.append)==null?void 0:X.call(n,A.value)]),D.value&&createBaseVNode("div",{id:B.value,class:"v-input__details",role:"alert","aria-live":"polite"},[createVNode(VMessages,{active:k.value,messages:T.value},{message:n.message}),(N=n.details)==null?void 0:N.call(n,A.value)])])}),{reset:u,resetValidation:w,validate:x,isValid:y,errorMessages:g}}}),Refs=Symbol("Forwarded refs");function getDescriptor(e,t){let r=e;for(;r;){const n=Reflect.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function forwardRefs(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e[Refs]=r,new Proxy(e,{get(i,o){if(Reflect.has(i,o))return Reflect.get(i,o);if(!(typeof o=="symbol"||o.startsWith("$")||o.startsWith("__"))){for(const a of r)if(a.value&&Reflect.has(a.value,o)){const s=Reflect.get(a.value,o);return typeof s=="function"?s.bind(a.value):s}}},has(i,o){if(Reflect.has(i,o))return!0;if(typeof o=="symbol"||o.startsWith("$")||o.startsWith("__"))return!1;for(const a of r)if(a.value&&Reflect.has(a.value,o))return!0;return!1},set(i,o,a){if(Reflect.has(i,o))return Reflect.set(i,o,a);if(typeof o=="symbol"||o.startsWith("$")||o.startsWith("__"))return!1;for(const s of r)if(s.value&&Reflect.has(s.value,o))return Reflect.set(s.value,o,a);return!1},getOwnPropertyDescriptor(i,o){var s;const a=Reflect.getOwnPropertyDescriptor(i,o);if(a)return a;if(!(typeof o=="symbol"||o.startsWith("$")||o.startsWith("__"))){for(const l of r){if(!l.value)continue;const c=getDescriptor(l.value,o)??("_"in l.value?getDescriptor((s=l.value._)==null?void 0:s.setupState,o):void 0);if(c)return c}for(const l of r){const c=l.value&&l.value[Refs];if(!c)continue;const d=c.slice();for(;d.length;){const m=d.shift(),g=getDescriptor(m.value,o);if(g)return g;const v=m.value&&m.value[Refs];v&&d.push(...v)}}}}})}const makeVCheckboxProps=propsFactory({...makeVInputProps(),...omit$1(makeVCheckboxBtnProps(),["inline"])},"VCheckbox"),VCheckbox=genericComponent()({name:"VCheckbox",inheritAttrs:!1,props:makeVCheckboxProps(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:r,slots:n}=t;const i=useProxiedModel(e,"modelValue"),{isFocused:o,focus:a,blur:s}=useFocus(e),l=ref(),c=useId();return useRender(()=>{const[d,m]=filterInputAttrs(r),g=VInput.filterProps(e),v=VCheckboxBtn.filterProps(e);return createVNode(VInput,mergeProps({ref:l,class:["v-checkbox",e.class]},d,g,{modelValue:i.value,"onUpdate:modelValue":_=>i.value=_,id:e.id||`checkbox-${c}`,focused:o.value,style:e.style}),{...n,default:_=>{let{id:S,messagesId:C,isDisabled:y,isReadonly:b,isValid:u}=_;return createVNode(VCheckboxBtn,mergeProps(v,{id:S.value,"aria-describedby":C.value,disabled:y.value,readonly:b.value},m,{error:u.value===!1,modelValue:i.value,"onUpdate:modelValue":w=>i.value=w,onFocus:a,onBlur:s}),n)}})}),forwardRefs({},l)}}),makeVDefaultsProviderProps=propsFactory({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),VDefaultsProvider=genericComponent(!1)({name:"VDefaultsProvider",props:makeVDefaultsProviderProps(),setup(e,t){let{slots:r}=t;const{defaults:n,disabled:i,reset:o,root:a,scoped:s}=toRefs(e);return provideDefaults(n,{reset:o,root:a,scoped:s,disabled:i}),()=>{var l;return(l=r.default)==null?void 0:l.call(r)}}}),ListKey=Symbol.for("vuetify:list");function createList(){let{filterable:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{filterable:!1};const t=inject$1(ListKey,{filterable:!1,hasPrepend:shallowRef(!1),updateHasPrepend:()=>null}),r={filterable:t.filterable||e,hasPrepend:shallowRef(!1),updateHasPrepend:n=>{n&&(r.hasPrepend.value=n)}};return provide(ListKey,r),t}function useList(){return inject$1(ListKey,null)}const independentActiveStrategy=e=>{const t={activate:r=>{let{id:n,value:i,activated:o}=r;return n=toRaw(n),e&&!i&&o.size===1&&o.has(n)||(i?o.add(n):o.delete(n)),o},in:(r,n,i)=>{let o=new Set;if(r!=null)for(const a of wrapInArray(r))o=t.activate({id:a,value:!0,activated:new Set(o),children:n,parents:i});return o},out:r=>Array.from(r)};return t},independentSingleActiveStrategy=e=>{const t=independentActiveStrategy(e);return{activate:n=>{let{activated:i,id:o,...a}=n;o=toRaw(o);const s=i.has(o)?new Set([o]):new Set;return t.activate({...a,id:o,activated:s})},in:(n,i,o)=>{let a=new Set;if(n!=null){const s=wrapInArray(n);s.length&&(a=t.in(s.slice(0,1),i,o))}return a},out:(n,i,o)=>t.out(n,i,o)}},leafActiveStrategy=e=>{const t=independentActiveStrategy(e);return{activate:n=>{let{id:i,activated:o,children:a,...s}=n;return i=toRaw(i),a.has(i)?o:t.activate({id:i,activated:o,children:a,...s})},in:t.in,out:t.out}},leafSingleActiveStrategy=e=>{const t=independentSingleActiveStrategy(e);return{activate:n=>{let{id:i,activated:o,children:a,...s}=n;return i=toRaw(i),a.has(i)?o:t.activate({id:i,activated:o,children:a,...s})},in:t.in,out:t.out}},singleOpenStrategy={open:e=>{let{id:t,value:r,opened:n,parents:i}=e;if(r){const o=new Set;o.add(t);let a=i.get(t);for(;a!=null;)o.add(a),a=i.get(a);return o}else return n.delete(t),n},select:()=>null},multipleOpenStrategy={open:e=>{let{id:t,value:r,opened:n,parents:i}=e;if(r){let o=i.get(t);for(n.add(t);o!=null&&o!==t;)n.add(o),o=i.get(o);return n}else n.delete(t);return n},select:()=>null},listOpenStrategy={open:multipleOpenStrategy.open,select:e=>{let{id:t,value:r,opened:n,parents:i}=e;if(!r)return n;const o=[];let a=i.get(t);for(;a!=null;)o.push(a),a=i.get(a);return new Set(o)}},independentSelectStrategy=e=>{const t={select:r=>{let{id:n,value:i,selected:o}=r;if(n=toRaw(n),e&&!i){const a=Array.from(o.entries()).reduce((s,l)=>{let[c,d]=l;return d==="on"&&s.push(c),s},[]);if(a.length===1&&a[0]===n)return o}return o.set(n,i?"on":"off"),o},in:(r,n,i,o)=>{const a=new Map;for(const s of r||[])t.select({id:s,value:!0,selected:a,children:n,parents:i,disabled:o});return a},out:r=>{const n=[];for(const[i,o]of r.entries())o==="on"&&n.push(i);return n}};return t},independentSingleSelectStrategy=e=>{const t=independentSelectStrategy(e);return{select:n=>{let{selected:i,id:o,...a}=n;o=toRaw(o);const s=i.has(o)?new Map([[o,i.get(o)]]):new Map;return t.select({...a,id:o,selected:s})},in:(n,i,o,a)=>n!=null&&n.length?t.in(n.slice(0,1),i,o,a):new Map,out:(n,i,o)=>t.out(n,i,o)}},leafSelectStrategy=e=>{const t=independentSelectStrategy(e);return{select:n=>{let{id:i,selected:o,children:a,...s}=n;return i=toRaw(i),a.has(i)?o:t.select({id:i,selected:o,children:a,...s})},in:t.in,out:t.out}},leafSingleSelectStrategy=e=>{const t=independentSingleSelectStrategy(e);return{select:n=>{let{id:i,selected:o,children:a,...s}=n;return i=toRaw(i),a.has(i)?o:t.select({id:i,selected:o,children:a,...s})},in:t.in,out:t.out}},classicSelectStrategy=e=>{const t={select:r=>{let{id:n,value:i,selected:o,children:a,parents:s,disabled:l}=r;n=toRaw(n);const c=new Map(o),d=[n];for(;d.length;){const g=d.shift();l.has(g)||o.set(toRaw(g),i?"on":"off"),a.has(g)&&d.push(...a.get(g))}let m=toRaw(s.get(n));for(;m;){let g=!0,v=!0;for(const _ of a.get(m)){const S=toRaw(_);if(!l.has(S)&&(o.get(S)!=="on"&&(g=!1),o.has(S)&&o.get(S)!=="off"&&(v=!1),!g&&!v))break}o.set(m,g?"on":v?"off":"indeterminate"),m=toRaw(s.get(m))}return e&&!i&&Array.from(o.entries()).reduce((v,_)=>{let[S,C]=_;return C==="on"&&v.push(S),v},[]).length===0?c:o},in:(r,n,i,o)=>{let a=new Map;for(const s of r||[])a=t.select({id:s,value:!0,selected:a,children:n,parents:i,disabled:o});return a},out:(r,n)=>{const i=[];for(const[o,a]of r.entries())a==="on"&&!n.has(o)&&i.push(o);return i}};return t},trunkSelectStrategy=e=>{const t=classicSelectStrategy(e);return{select:t.select,in:t.in,out:(n,i,o)=>{const a=[];for(const[s,l]of n.entries())if(l==="on"){if(o.has(s)){const c=o.get(s);if(n.get(c)==="on")continue}a.push(s)}return a}}},VNestedSymbol=Symbol.for("vuetify:nested"),emptyNested={id:shallowRef(),root:{register:()=>null,unregister:()=>null,children:ref(new Map),parents:ref(new Map),disabled:ref(new Set),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:ref(!1),selectable:ref(!1),opened:ref(new Set),activated:ref(new Set),selected:ref(new Map),selectedValues:ref([]),getPath:()=>[]}},makeNestedProps=propsFactory({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),useNested=e=>{let t=!1;const r=shallowRef(new Map),n=shallowRef(new Map),i=shallowRef(new Set),o=useProxiedModel(e,"opened",e.opened,S=>new Set(Array.isArray(S)?S.map(C=>toRaw(C)):S),S=>[...S.values()]),a=computed(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return leafActiveStrategy(e.mandatory);case"single-leaf":return leafSingleActiveStrategy(e.mandatory);case"independent":return independentActiveStrategy(e.mandatory);case"single-independent":default:return independentSingleActiveStrategy(e.mandatory)}}),s=computed(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return leafSingleSelectStrategy(e.mandatory);case"leaf":return leafSelectStrategy(e.mandatory);case"independent":return independentSelectStrategy(e.mandatory);case"single-independent":return independentSingleSelectStrategy(e.mandatory);case"trunk":return trunkSelectStrategy(e.mandatory);case"classic":default:return classicSelectStrategy(e.mandatory)}}),l=computed(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return listOpenStrategy;case"single":return singleOpenStrategy;case"multiple":default:return multipleOpenStrategy}}),c=useProxiedModel(e,"activated",e.activated,S=>a.value.in(S,r.value,n.value),S=>a.value.out(S,r.value,n.value)),d=useProxiedModel(e,"selected",e.selected,S=>s.value.in(S,r.value,n.value,i.value),S=>s.value.out(S,r.value,n.value));onBeforeUnmount(()=>{t=!0});function m(S){const C=[];let y=toRaw(S);for(;y!==void 0;)C.unshift(y),y=n.value.get(y);return C}const g=getCurrentInstance("nested"),v=new Set,_={id:shallowRef(),root:{opened:o,activatable:toRef(()=>e.activatable),selectable:toRef(()=>e.selectable),activated:c,selected:d,selectedValues:computed(()=>{const S=[];for(const[C,y]of d.value.entries())y==="on"&&S.push(C);return S}),register:(S,C,y,b)=>{if(v.has(S)){m(S).map(String).join(" -> "),m(C).concat(S).map(String).join(" -> ");return}else v.add(S);C&&S!==C&&n.value.set(S,C),y&&i.value.add(S),b&&r.value.set(S,[]),C!=null&&r.value.set(C,[...r.value.get(C)||[],S])},unregister:S=>{if(t)return;v.delete(S),r.value.delete(S),i.value.delete(S);const C=n.value.get(S);if(C){const y=r.value.get(C)??[];r.value.set(C,y.filter(b=>b!==S))}n.value.delete(S)},open:(S,C,y)=>{g.emit("click:open",{id:S,value:C,path:m(S),event:y});const b=l.value.open({id:S,value:C,opened:new Set(o.value),children:r.value,parents:n.value,event:y});b&&(o.value=b)},openOnSelect:(S,C,y)=>{const b=l.value.select({id:S,value:C,selected:new Map(d.value),opened:new Set(o.value),children:r.value,parents:n.value,event:y});b&&(o.value=b)},select:(S,C,y)=>{g.emit("click:select",{id:S,value:C,path:m(S),event:y});const b=s.value.select({id:S,value:C,selected:new Map(d.value),children:r.value,parents:n.value,disabled:i.value,event:y});b&&(d.value=b),_.root.openOnSelect(S,C,y)},activate:(S,C,y)=>{if(!e.activatable)return _.root.select(S,!0,y);g.emit("click:activate",{id:S,value:C,path:m(S),event:y});const b=a.value.activate({id:S,value:C,activated:new Set(c.value),children:r.value,parents:n.value,event:y});if(b.size!==c.value.size)c.value=b;else{for(const u of b)if(!c.value.has(u)){c.value=b;return}for(const u of c.value)if(!b.has(u)){c.value=b;return}}},children:r,parents:n,disabled:i,getPath:m}};return provide(VNestedSymbol,_),_.root},useNestedItem=(e,t,r)=>{const n=inject$1(VNestedSymbol,emptyNested),i=Symbol("nested item"),o=computed(()=>{const s=toRaw(toValue(e));return s!==void 0?s:i}),a={...n,id:o,open:(s,l)=>n.root.open(o.value,s,l),openOnSelect:(s,l)=>n.root.openOnSelect(o.value,s,l),isOpen:computed(()=>n.root.opened.value.has(o.value)),parent:computed(()=>n.root.parents.value.get(o.value)),activate:(s,l)=>n.root.activate(o.value,s,l),isActivated:computed(()=>n.root.activated.value.has(o.value)),select:(s,l)=>n.root.select(o.value,s,l),isSelected:computed(()=>n.root.selected.value.get(o.value)==="on"),isIndeterminate:computed(()=>n.root.selected.value.get(o.value)==="indeterminate"),isLeaf:computed(()=>!n.root.children.value.get(o.value)),isGroupActivator:n.isGroupActivator};return onBeforeMount(()=>{n.isGroupActivator||n.root.register(o.value,n.id.value,toValue(t),r)}),onBeforeUnmount(()=>{n.isGroupActivator||n.root.unregister(o.value)}),r&&provide(VNestedSymbol,a),a},useNestedGroupActivator=()=>{const e=inject$1(VNestedSymbol,emptyNested);provide(VNestedSymbol,{...e,isGroupActivator:!0})};function useSsrBoot(){const e=shallowRef(!1);return onMounted(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:toRef(()=>e.value?void 0:{transition:"none !important"}),isBooted:readonly(e)}}const VListGroupActivator=defineComponent({name:"VListGroupActivator",setup(e,t){let{slots:r}=t;return useNestedGroupActivator(),()=>{var n;return(n=r.default)==null?void 0:n.call(r)}}}),makeVListGroupProps=propsFactory({activeColor:String,baseColor:String,color:String,collapseIcon:{type:IconValue,default:"$collapse"},disabled:Boolean,expandIcon:{type:IconValue,default:"$expand"},rawId:[String,Number],prependIcon:IconValue,appendIcon:IconValue,fluid:Boolean,subgroup:Boolean,title:String,value:null,...makeComponentProps(),...makeTagProps()},"VListGroup"),VListGroup=genericComponent()({name:"VListGroup",props:makeVListGroupProps(),setup(e,t){let{slots:r}=t;const{isOpen:n,open:i,id:o}=useNestedItem(()=>e.value,()=>e.disabled,!0),a=computed(()=>`v-list-group--id-${String(e.rawId??o.value)}`),s=useList(),{isBooted:l}=useSsrBoot();function c(v){var _;["INPUT","TEXTAREA"].includes((_=v.target)==null?void 0:_.tagName)||i(!n.value,v)}const d=computed(()=>({onClick:c,class:"v-list-group__header",id:a.value})),m=computed(()=>n.value?e.collapseIcon:e.expandIcon),g=computed(()=>({VListItem:{activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&m.value,appendIcon:e.appendIcon||!e.subgroup&&m.value,title:e.title,value:e.value}}));return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-list-group",{"v-list-group--prepend":s==null?void 0:s.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":n.value},e.class]),style:normalizeStyle(e.style)},{default:()=>[r.activator&&createVNode(VDefaultsProvider,{defaults:g.value},{default:()=>[createVNode(VListGroupActivator,null,{default:()=>[r.activator({props:d.value,isOpen:n.value})]})]}),createVNode(MaybeTransition,{transition:{component:VExpandTransition},disabled:!l.value},{default:()=>{var v;return[withDirectives(createBaseVNode("div",{class:"v-list-group__items",role:"group","aria-labelledby":a.value},[(v=r.default)==null?void 0:v.call(r)]),[[vShow,n.value]])]}})]})),{isOpen:n}}}),makeVListItemSubtitleProps=propsFactory({opacity:[Number,String],...makeComponentProps(),...makeTagProps()},"VListItemSubtitle"),VListItemSubtitle=genericComponent()({name:"VListItemSubtitle",props:makeVListItemSubtitleProps(),setup(e,t){let{slots:r}=t;return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-list-item-subtitle",e.class]),style:normalizeStyle([{"--v-list-item-subtitle-opacity":e.opacity},e.style])},r)),{}}}),VListItemTitle=createSimpleFunctional("v-list-item-title");function useAspectStyles(e){return{aspectStyles:computed(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const makeVResponsiveProps=propsFactory({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...makeComponentProps(),...makeDimensionProps()},"VResponsive"),VResponsive=genericComponent()({name:"VResponsive",props:makeVResponsiveProps(),setup(e,t){let{slots:r}=t;const{aspectStyles:n}=useAspectStyles(e),{dimensionStyles:i}=useDimension(e);return useRender(()=>{var o;return createBaseVNode("div",{class:normalizeClass(["v-responsive",{"v-responsive--inline":e.inline},e.class]),style:normalizeStyle([i.value,e.style])},[createBaseVNode("div",{class:"v-responsive__sizer",style:normalizeStyle(n.value)},null),(o=r.additional)==null?void 0:o.call(r),r.default&&createBaseVNode("div",{class:normalizeClass(["v-responsive__content",e.contentClass])},[r.default()])])}),{}}}),makeRoundedProps=propsFactory({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function useRounded(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{roundedClasses:computed(()=>{const n=isRef(e)?e.value:e.rounded,i=isRef(e)?e.value:e.tile,o=[];if(i||n===!1)o.push("rounded-0");else if(n===!0||n==="")o.push(`${t}--rounded`);else if(typeof n=="string"||n===0)for(const a of String(n).split(" "))o.push(`rounded-${a}`);return o})}}function mounted$1(e,t){if(!SUPPORTS_INTERSECTION)return;const r=t.modifiers||{},n=t.value,{handler:i,options:o}=typeof n=="object"?n:{handler:n,options:{}},a=new IntersectionObserver(function(){var m;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const c=(m=e._observe)==null?void 0:m[t.instance.$.uid];if(!c)return;const d=s.some(g=>g.isIntersecting);i&&(!r.quiet||c.init)&&(!r.once||d||c.init)&&i(d,s,l),d&&r.once?unmounted$1(e,t):c.init=!0},o);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:a},a.observe(e)}function unmounted$1(e,t){var n;const r=(n=e._observe)==null?void 0:n[t.instance.$.uid];r&&(r.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const Intersect={mounted:mounted$1,unmounted:unmounted$1},makeVImgProps=propsFactory({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...makeVResponsiveProps(),...makeComponentProps(),...makeRoundedProps(),...makeTransitionProps()},"VImg"),VImg=genericComponent()({name:"VImg",directives:{vIntersect:Intersect},props:makeVImgProps(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:r,slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:o}=useBackgroundColor(()=>e.color),{roundedClasses:a}=useRounded(e),s=getCurrentInstance("VImg"),l=shallowRef(""),c=ref(),d=shallowRef(e.eager?"loading":"idle"),m=shallowRef(),g=shallowRef(),v=computed(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),_=computed(()=>v.value.aspect||m.value/g.value||0);watch(()=>e.src,()=>{S(d.value!=="idle")}),watch(_,(O,V)=>{!O&&V&&c.value&&w(c.value)}),onBeforeMount(()=>S());function S(O){if(!(e.eager&&O)&&!(SUPPORTS_INTERSECTION&&!O&&!e.eager)){if(d.value="loading",v.value.lazySrc){const V=new Image;V.src=v.value.lazySrc,w(V,null)}v.value.src&&nextTick$1(()=>{var V;r("loadstart",((V=c.value)==null?void 0:V.currentSrc)||v.value.src),setTimeout(()=>{var H;if(!s.isUnmounted)if((H=c.value)!=null&&H.complete){if(c.value.naturalWidth||y(),d.value==="error")return;_.value||w(c.value,null),d.value==="loading"&&C()}else _.value||w(c.value),b()})})}}function C(){var O;s.isUnmounted||(b(),w(c.value),d.value="loaded",r("load",((O=c.value)==null?void 0:O.currentSrc)||v.value.src))}function y(){var O;s.isUnmounted||(d.value="error",r("error",((O=c.value)==null?void 0:O.currentSrc)||v.value.src))}function b(){const O=c.value;O&&(l.value=O.currentSrc||O.src)}let u=-1;onBeforeUnmount(()=>{clearTimeout(u)});function w(O){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const H=()=>{if(clearTimeout(u),s.isUnmounted)return;const{naturalHeight:q,naturalWidth:K}=O;q||K?(m.value=K,g.value=q):!O.complete&&d.value==="loading"&&V!=null?u=window.setTimeout(H,V):(O.currentSrc.endsWith(".svg")||O.currentSrc.startsWith("data:image/svg+xml"))&&(m.value=1,g.value=1)};H()}const x=toRef(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),E=()=>{var H;if(!v.value.src||d.value==="idle")return null;const O=createBaseVNode("img",{class:normalizeClass(["v-img__img",x.value]),style:{objectPosition:e.position},crossorigin:e.crossorigin,src:v.value.src,srcset:v.value.srcset,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:c,onLoad:C,onError:y},null),V=(H=n.sources)==null?void 0:H.call(n);return createVNode(MaybeTransition,{transition:e.transition,appear:!0},{default:()=>[withDirectives(V?createBaseVNode("picture",{class:"v-img__picture"},[V,O]):O,[[vShow,d.value==="loaded"]])]})},T=()=>createVNode(MaybeTransition,{transition:e.transition},{default:()=>[v.value.lazySrc&&d.value!=="loaded"&&createBaseVNode("img",{class:normalizeClass(["v-img__img","v-img__img--preload",x.value]),style:{objectPosition:e.position},crossorigin:e.crossorigin,src:v.value.lazySrc,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),k=()=>n.placeholder?createVNode(MaybeTransition,{transition:e.transition,appear:!0},{default:()=>[(d.value==="loading"||d.value==="error"&&!n.error)&&createBaseVNode("div",{class:"v-img__placeholder"},[n.placeholder()])]}):null,D=()=>n.error?createVNode(MaybeTransition,{transition:e.transition,appear:!0},{default:()=>[d.value==="error"&&createBaseVNode("div",{class:"v-img__error"},[n.error()])]}):null,B=()=>e.gradient?createBaseVNode("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,A=shallowRef(!1);{const O=watch(_,V=>{V&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{A.value=!0})}),O())})}return useRender(()=>{const O=VResponsive.filterProps(e);return withDirectives(createVNode(VResponsive,mergeProps({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!A.value},i.value,a.value,e.class],style:[{width:convertToUnit(e.width==="auto"?m.value:e.width)},o.value,e.style]},O,{aspectRatio:_.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>createBaseVNode(Fragment,null,[createVNode(E,null,null),createVNode(T,null,null),createVNode(B,null,null),createVNode(k,null,null),createVNode(D,null,null)]),default:n.default}),[[Intersect,{handler:S,options:e.options},null,{once:!0}]])}),{currentSrc:l,image:c,state:d,naturalWidth:m,naturalHeight:g}}}),makeBorderProps=propsFactory({border:[Boolean,Number,String]},"border");function useBorder(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{borderClasses:computed(()=>{const n=e.border;return n===!0||n===""?`${t}--border`:typeof n=="string"||n===0?String(n).split(" ").map(i=>`border-${i}`):[]})}}const allowedVariants$2=["elevated","flat","tonal","outlined","text","plain"];function genOverlays(e,t){return createBaseVNode(Fragment,null,[e&&createBaseVNode("span",{key:"overlay",class:normalizeClass(`${t}__overlay`)},null),createBaseVNode("span",{key:"underlay",class:normalizeClass(`${t}__underlay`)},null)])}const makeVariantProps=propsFactory({color:String,variant:{type:String,default:"elevated",validator:e=>allowedVariants$2.includes(e)}},"variant");function useVariant(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();const r=toRef(()=>{const{variant:o}=toValue(e);return`${t}--variant-${o}`}),{colorClasses:n,colorStyles:i}=useColor(()=>{const{variant:o,color:a}=toValue(e);return{[["elevated","flat"].includes(o)?"background":"text"]:a}});return{colorClasses:n,colorStyles:i,variantClasses:r}}const makeVAvatarProps=propsFactory({start:Boolean,end:Boolean,icon:IconValue,image:String,text:String,...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeRoundedProps(),...makeSizeProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"flat"})},"VAvatar"),VAvatar=genericComponent()({name:"VAvatar",props:makeVAvatarProps(),setup(e,t){let{slots:r}=t;const{themeClasses:n}=provideTheme(e),{borderClasses:i}=useBorder(e),{colorClasses:o,colorStyles:a,variantClasses:s}=useVariant(e),{densityClasses:l}=useDensity(e),{roundedClasses:c}=useRounded(e),{sizeClasses:d,sizeStyles:m}=useSize(e);return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},n.value,i.value,o.value,l.value,c.value,d.value,s.value,e.class]),style:normalizeStyle([a.value,m.value,e.style])},{default:()=>[r.default?createVNode(VDefaultsProvider,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[r.default()]}):e.image?createVNode(VImg,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?createVNode(VIcon,{key:"icon",icon:e.icon},null):e.text,genOverlays(!1,"v-avatar")]})),{}}}),makeElevationProps=propsFactory({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function useElevation(e){return{elevationClasses:toRef(()=>{const r=isRef(e)?e.value:e.elevation;return r==null?[]:[`elevation-${r}`]})}}function useRoute(){const e=getCurrentInstance("useRoute");return computed(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function useRouter(){var e,t;return(t=(e=getCurrentInstance("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function useLink(e,t){var d,m;const r=resolveDynamicComponent("RouterLink"),n=toRef(()=>!!(e.href||e.to)),i=computed(()=>(n==null?void 0:n.value)||hasEvent(t,"click")||hasEvent(e,"click"));if(typeof r=="string"||!("useLink"in r)){const g=toRef(()=>e.href);return{isLink:n,isClickable:i,href:g,linkProps:reactive({href:g})}}const o=r.useLink({to:toRef(()=>e.to||""),replace:toRef(()=>e.replace)}),a=computed(()=>e.to?o:void 0),s=useRoute(),l=computed(()=>{var g,v,_;return a.value?e.exact?s.value?((_=a.value.isExactActive)==null?void 0:_.value)&&deepEqual(a.value.route.value.query,s.value.query):((v=a.value.isExactActive)==null?void 0:v.value)??!1:((g=a.value.isActive)==null?void 0:g.value)??!1:!1}),c=computed(()=>{var g;return e.to?(g=a.value)==null?void 0:g.route.value.href:e.href});return{isLink:n,isClickable:i,isActive:l,route:(d=a.value)==null?void 0:d.route,navigate:(m=a.value)==null?void 0:m.navigate,href:c,linkProps:reactive({href:c,"aria-current":toRef(()=>l.value?"page":void 0)})}}const makeRouterProps=propsFactory({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let inTransition=!1;function useBackButton(e,t){let r=!1,n,i;IN_BROWSER&&(e!=null&&e.beforeEach)&&(nextTick$1(()=>{window.addEventListener("popstate",o),n=e.beforeEach((a,s,l)=>{inTransition?r?t(l):l():setTimeout(()=>r?t(l):l()),inTransition=!0}),i=e==null?void 0:e.afterEach(()=>{inTransition=!1})}),onScopeDispose(()=>{window.removeEventListener("popstate",o),n==null||n(),i==null||i()}));function o(a){var s;(s=a.state)!=null&&s.replaced||(r=!0,setTimeout(()=>r=!1))}}const makeVListItemProps=propsFactory({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:IconValue,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:IconValue,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:EventProp(),onClickOnce:EventProp(),...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeRoundedProps(),...makeRouterProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"text"})},"VListItem"),VListItem=genericComponent()({name:"VListItem",directives:{vRipple:Ripple},props:makeVListItemProps(),emits:{click:e=>!0},setup(e,t){let{attrs:r,slots:n,emit:i}=t;const o=useLink(e,r),a=computed(()=>e.value===void 0?o.href.value:e.value),{activate:s,isActivated:l,select:c,isOpen:d,isSelected:m,isIndeterminate:g,isGroupActivator:v,root:_,parent:S,openOnSelect:C,id:y}=useNestedItem(a,()=>e.disabled,!1),b=useList(),u=computed(()=>{var he;return e.active!==!1&&(e.active||((he=o.isActive)==null?void 0:he.value)||(_.activatable.value?l.value:m.value))}),w=toRef(()=>e.link!==!1&&o.isLink.value),x=computed(()=>!!b&&(_.selectable.value||_.activatable.value||e.value!=null)),E=computed(()=>!e.disabled&&e.link!==!1&&(e.link||o.isClickable.value||x.value)),T=toRef(()=>e.rounded||e.nav),k=toRef(()=>e.color??e.activeColor),D=toRef(()=>({color:u.value?k.value??e.baseColor:e.baseColor,variant:e.variant}));watch(()=>{var he;return(he=o.isActive)==null?void 0:he.value},he=>{he&&B()}),onBeforeMount(()=>{var he;(he=o.isActive)!=null&&he.value&&B()});function B(){S.value!=null&&_.open(S.value,!0),C(!0)}const{themeClasses:A}=provideTheme(e),{borderClasses:O}=useBorder(e),{colorClasses:V,colorStyles:H,variantClasses:q}=useVariant(D),{densityClasses:K}=useDensity(e),{dimensionStyles:Q}=useDimension(e),{elevationClasses:X}=useElevation(e),{roundedClasses:N}=useRounded(T),I=toRef(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),U=toRef(()=>e.ripple!==void 0&&e.ripple&&(b!=null&&b.filterable)?{keys:["Enter"]}:e.ripple),F=computed(()=>({isActive:u.value,select:c,isOpen:d.value,isSelected:m.value,isIndeterminate:g.value}));function ee(he){var ve,j;i("click",he),!["INPUT","TEXTAREA"].includes((ve=he.target)==null?void 0:ve.tagName)&&E.value&&((j=o.navigate)==null||j.call(o,he),!v&&(_.activatable.value?s(!l.value,he):(_.selectable.value||e.value!=null)&&c(!m.value,he)))}function ue(he){const ve=he.target;["INPUT","TEXTAREA"].includes(ve.tagName)||(he.key==="Enter"||he.key===" "&&!(b!=null&&b.filterable))&&(he.preventDefault(),he.stopPropagation(),he.target.dispatchEvent(new MouseEvent("click",he)))}return useRender(()=>{const he=w.value?"a":e.tag,ve=n.title||e.title!=null,j=n.subtitle||e.subtitle!=null,M=!!(e.appendAvatar||e.appendIcon),ne=!!(M||n.append),Y=!!(e.prependAvatar||e.prependIcon),de=!!(Y||n.prepend);return b==null||b.updateHasPrepend(de),e.activeColor&&deprecate("active-color",["color","base-color"]),withDirectives(createVNode(he,mergeProps({class:["v-list-item",{"v-list-item--active":u.value,"v-list-item--disabled":e.disabled,"v-list-item--link":E.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!de&&(b==null?void 0:b.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&u.value},A.value,O.value,V.value,K.value,X.value,I.value,N.value,q.value,e.class],style:[H.value,Q.value,e.style],tabindex:E.value?b?-2:0:void 0,"aria-selected":x.value?_.activatable.value?l.value:_.selectable.value?m.value:u.value:void 0,onClick:ee,onKeydown:E.value&&!w.value&&ue},o.linkProps),{default:()=>{var L;return[genOverlays(E.value||u.value,"v-list-item"),de&&createBaseVNode("div",{key:"prepend",class:"v-list-item__prepend"},[n.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!Y,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var W;return[(W=n.prepend)==null?void 0:W.call(n,F.value)]}}):createBaseVNode(Fragment,null,[e.prependAvatar&&createVNode(VAvatar,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&createVNode(VIcon,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),createBaseVNode("div",{class:"v-list-item__spacer"},null)]),createBaseVNode("div",{class:"v-list-item__content","data-no-activator":""},[ve&&createVNode(VListItemTitle,{key:"title"},{default:()=>{var W;return[((W=n.title)==null?void 0:W.call(n,{title:e.title}))??toDisplayString(e.title)]}}),j&&createVNode(VListItemSubtitle,{key:"subtitle"},{default:()=>{var W;return[((W=n.subtitle)==null?void 0:W.call(n,{subtitle:e.subtitle}))??toDisplayString(e.subtitle)]}}),(L=n.default)==null?void 0:L.call(n,F.value)]),ne&&createBaseVNode("div",{key:"append",class:"v-list-item__append"},[n.append?createVNode(VDefaultsProvider,{key:"append-defaults",disabled:!M,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var W;return[(W=n.append)==null?void 0:W.call(n,F.value)]}}):createBaseVNode(Fragment,null,[e.appendIcon&&createVNode(VIcon,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&createVNode(VAvatar,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),createBaseVNode("div",{class:"v-list-item__spacer"},null)])]}}),[[Ripple,E.value&&U.value]])}),{activate:s,isActivated:l,isGroupActivator:v,isSelected:m,list:b,select:c,root:_,id:y,link:o}}}),makeVListSubheaderProps=propsFactory({color:String,inset:Boolean,sticky:Boolean,title:String,...makeComponentProps(),...makeTagProps()},"VListSubheader"),VListSubheader=genericComponent()({name:"VListSubheader",props:makeVListSubheaderProps(),setup(e,t){let{slots:r}=t;const{textColorClasses:n,textColorStyles:i}=useTextColor(()=>e.color);return useRender(()=>{const o=!!(r.default||e.title);return createVNode(e.tag,{class:normalizeClass(["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},n.value,e.class]),style:normalizeStyle([{textColorStyles:i},e.style])},{default:()=>{var a;return[o&&createBaseVNode("div",{class:"v-list-subheader__text"},[((a=r.default)==null?void 0:a.call(r))??e.title])]}})}),{}}}),makeVDividerProps=propsFactory({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...makeComponentProps(),...makeThemeProps()},"VDivider"),VDivider=genericComponent()({name:"VDivider",props:makeVDividerProps(),setup(e,t){let{attrs:r,slots:n}=t;const{themeClasses:i}=provideTheme(e),{textColorClasses:o,textColorStyles:a}=useTextColor(()=>e.color),s=computed(()=>{const l={};return e.length&&(l[e.vertical?"height":"width"]=convertToUnit(e.length)),e.thickness&&(l[e.vertical?"borderRightWidth":"borderTopWidth"]=convertToUnit(e.thickness)),l});return useRender(()=>{const l=createBaseVNode("hr",{class:normalizeClass([{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},i.value,o.value,e.class]),style:normalizeStyle([s.value,a.value,{"--v-border-opacity":e.opacity},e.style]),"aria-orientation":!r.role||r.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${r.role||"separator"}`},null);return n.default?createBaseVNode("div",{class:normalizeClass(["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}])},[l,createBaseVNode("div",{class:"v-divider__content"},[n.default()]),l]):l}),{}}}),makeVListChildrenProps=propsFactory({items:Array,returnObject:Boolean},"VListChildren"),VListChildren=genericComponent()({name:"VListChildren",props:makeVListChildrenProps(),setup(e,t){let{slots:r}=t;return createList(),()=>{var n,i;return((n=r.default)==null?void 0:n.call(r))??((i=e.items)==null?void 0:i.map(o=>{var g,v;let{children:a,props:s,type:l,raw:c}=o;if(l==="divider")return((g=r.divider)==null?void 0:g.call(r,{props:s}))??createVNode(VDivider,s,null);if(l==="subheader")return((v=r.subheader)==null?void 0:v.call(r,{props:s}))??createVNode(VListSubheader,s,null);const d={subtitle:r.subtitle?_=>{var S;return(S=r.subtitle)==null?void 0:S.call(r,{..._,item:c})}:void 0,prepend:r.prepend?_=>{var S;return(S=r.prepend)==null?void 0:S.call(r,{..._,item:c})}:void 0,append:r.append?_=>{var S;return(S=r.append)==null?void 0:S.call(r,{..._,item:c})}:void 0,title:r.title?_=>{var S;return(S=r.title)==null?void 0:S.call(r,{..._,item:c})}:void 0},m=VListGroup.filterProps(s);return a?createVNode(VListGroup,mergeProps(m,{value:e.returnObject?c:s==null?void 0:s.value,rawId:s==null?void 0:s.value}),{activator:_=>{let{props:S}=_;const C=mergeProps(s,S,{value:e.returnObject?c:s.value});return r.header?r.header({props:C}):createVNode(VListItem,C,d)},default:()=>createVNode(VListChildren,{items:a,returnObject:e.returnObject},r)}):r.item?r.item({props:s}):createVNode(VListItem,mergeProps(s,{value:e.returnObject?c:s.value}),d)}))}}}),makeItemsProps=propsFactory({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},itemType:{type:[Boolean,String,Array,Function],default:"type"},returnObject:Boolean,valueComparator:Function},"list-items"),itemTypes$1=new Set(["item","divider","subheader"]);function transformItem$1(e,t){const r=getPropertyFromItem(t,e.itemTitle,t),n=getPropertyFromItem(t,e.itemValue,r),i=getPropertyFromItem(t,e.itemChildren),o=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?omit$1(t,["children"]):t:void 0:getPropertyFromItem(t,e.itemProps);let a=getPropertyFromItem(t,e.itemType,"item");itemTypes$1.has(a)||(a="item");const s={title:r,value:n,...o};return{type:a,title:String(s.title??""),value:s.value,props:s,children:a==="item"&&Array.isArray(i)?transformItems$1(e,i):void 0,raw:t}}transformItem$1.neededProps=["itemTitle","itemValue","itemChildren","itemProps","itemType"];function transformItems$1(e,t){const r=pick$2(e,transformItem$1.neededProps),n=[];for(const i of t)n.push(transformItem$1(r,i));return n}function useItems(e){const t=computed(()=>transformItems$1(e,e.items)),r=computed(()=>t.value.some(s=>s.value===null)),n=shallowRef(new Map),i=shallowRef([]);watchEffect(()=>{const s=t.value,l=new Map,c=[];for(let d=0;d<s.length;d++){const m=s[d];if(isPrimitive(m.value)||m.value===null){let g=l.get(m.value);g||(g=[],l.set(m.value,g)),g.push(m)}else c.push(m)}n.value=l,i.value=c});function o(s){const l=n.value,c=t.value,d=i.value,m=r.value,g=e.returnObject,v=!!e.valueComparator,_=e.valueComparator||deepEqual,S=pick$2(e,transformItem$1.neededProps),C=[];e:for(const y of s){if(!m&&y===null)continue;if(g&&typeof y=="string"){C.push(transformItem$1(S,y));continue}const b=l.get(y);if(v||!b){for(const u of v?c:d)if(_(y,u.value)){C.push(u);continue e}C.push(transformItem$1(S,y));continue}C.push(...b)}return C}function a(s){return e.returnObject?s.map(l=>{let{raw:c}=l;return c}):s.map(l=>{let{value:c}=l;return c})}return{items:t,transformIn:o,transformOut:a}}const itemTypes=new Set(["item","divider","subheader"]);function transformItem(e,t){const r=isPrimitive(t)?t:getPropertyFromItem(t,e.itemTitle),n=isPrimitive(t)?t:getPropertyFromItem(t,e.itemValue,void 0),i=getPropertyFromItem(t,e.itemChildren),o=e.itemProps===!0?omit$1(t,["children"]):getPropertyFromItem(t,e.itemProps);let a=getPropertyFromItem(t,e.itemType,"item");itemTypes.has(a)||(a="item");const s={title:r,value:n,...o};return{type:a,title:s.title,value:s.value,props:s,children:a==="item"&&i?transformItems(e,i):void 0,raw:t}}function transformItems(e,t){const r=[];for(const n of t)r.push(transformItem(e,n));return r}function useListItems(e){return{items:computed(()=>transformItems(e,e.items))}}const makeVListProps=propsFactory({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,filterable:Boolean,expandIcon:IconValue,collapseIcon:IconValue,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":EventProp(),"onClick:select":EventProp(),"onUpdate:opened":EventProp(),...makeNestedProps({selectStrategy:"single-leaf",openStrategy:"list"}),...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeItemsProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"text"})},"VList"),VList=genericComponent()({name:"VList",props:makeVListProps(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:r}=t;const{items:n}=useListItems(e),{themeClasses:i}=provideTheme(e),{backgroundColorClasses:o,backgroundColorStyles:a}=useBackgroundColor(()=>e.bgColor),{borderClasses:s}=useBorder(e),{densityClasses:l}=useDensity(e),{dimensionStyles:c}=useDimension(e),{elevationClasses:d}=useElevation(e),{roundedClasses:m}=useRounded(e),{children:g,open:v,parents:_,select:S,getPath:C}=useNested(e),y=toRef(()=>e.lines?`v-list--${e.lines}-line`:void 0),b=toRef(()=>e.activeColor),u=toRef(()=>e.baseColor),w=toRef(()=>e.color);createList({filterable:e.filterable}),provideDefaults({VListGroup:{activeColor:b,baseColor:u,color:w,expandIcon:toRef(()=>e.expandIcon),collapseIcon:toRef(()=>e.collapseIcon)},VListItem:{activeClass:toRef(()=>e.activeClass),activeColor:b,baseColor:u,color:w,density:toRef(()=>e.density),disabled:toRef(()=>e.disabled),lines:toRef(()=>e.lines),nav:toRef(()=>e.nav),slim:toRef(()=>e.slim),variant:toRef(()=>e.variant)}});const x=shallowRef(!1),E=ref();function T(V){x.value=!0}function k(V){x.value=!1}function D(V){var H;!x.value&&!(V.relatedTarget&&((H=E.value)!=null&&H.contains(V.relatedTarget)))&&O()}function B(V){const H=V.target;if(!(!E.value||H.tagName==="INPUT"&&["Home","End"].includes(V.key)||H.tagName==="TEXTAREA")){if(V.key==="ArrowDown")O("next");else if(V.key==="ArrowUp")O("prev");else if(V.key==="Home")O("first");else if(V.key==="End")O("last");else return;V.preventDefault()}}function A(V){x.value=!0}function O(V){if(E.value)return focusChild(E.value,V)}return useRender(()=>createVNode(e.tag,{ref:E,class:normalizeClass(["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},i.value,o.value,s.value,l.value,d.value,y.value,m.value,e.class]),style:normalizeStyle([a.value,c.value,e.style]),tabindex:e.disabled?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:T,onFocusout:k,onFocus:D,onKeydown:B,onMousedown:A},{default:()=>[createVNode(VListChildren,{items:n.value,returnObject:e.returnObject},r)]})),{open:v,select:S,focus:O,children:g,parents:_,getPath:C}}});function useIntersectionObserver(e,t){const r=ref(),n=shallowRef(!1);if(SUPPORTS_INTERSECTION){const i=new IntersectionObserver(o=>{n.value=!!o.find(a=>a.isIntersecting)},t);onScopeDispose(()=>{i.disconnect()}),watch(r,(o,a)=>{a&&(i.unobserve(a),n.value=!1),o&&i.observe(o)},{flush:"post"})}return{intersectionRef:r,isIntersecting:n}}const makeVProgressCircularProps=propsFactory({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...makeComponentProps(),...makeSizeProps(),...makeTagProps({tag:"div"}),...makeThemeProps()},"VProgressCircular"),VProgressCircular=genericComponent()({name:"VProgressCircular",props:makeVProgressCircularProps(),setup(e,t){let{slots:r}=t;const n=20,i=2*Math.PI*n,o=ref(),{themeClasses:a}=provideTheme(e),{sizeClasses:s,sizeStyles:l}=useSize(e),{textColorClasses:c,textColorStyles:d}=useTextColor(()=>e.color),{textColorClasses:m,textColorStyles:g}=useTextColor(()=>e.bgColor),{intersectionRef:v,isIntersecting:_}=useIntersectionObserver(),{resizeRef:S,contentRect:C}=useResizeObserver(),y=toRef(()=>clamp$1(parseFloat(e.modelValue),0,100)),b=toRef(()=>Number(e.width)),u=toRef(()=>l.value?Number(e.size):C.value?C.value.width:Math.max(b.value,32)),w=toRef(()=>n/(1-b.value/u.value)*2),x=toRef(()=>b.value/u.value*w.value),E=toRef(()=>convertToUnit((100-y.value)/100*i));return watchEffect(()=>{v.value=o.value,S.value=o.value}),useRender(()=>createVNode(e.tag,{ref:o,class:normalizeClass(["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":_.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},a.value,s.value,c.value,e.class]),style:normalizeStyle([l.value,d.value,e.style]),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:y.value},{default:()=>[createBaseVNode("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${w.value} ${w.value}`},[createBaseVNode("circle",{class:normalizeClass(["v-progress-circular__underlay",m.value]),style:normalizeStyle(g.value),fill:"transparent",cx:"50%",cy:"50%",r:n,"stroke-width":x.value,"stroke-dasharray":i,"stroke-dashoffset":0},null),createBaseVNode("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:n,"stroke-width":x.value,"stroke-dasharray":i,"stroke-dashoffset":E.value},null)]),r.default&&createBaseVNode("div",{class:"v-progress-circular__content"},[r.default({value:y.value})])]})),{}}}),oppositeMap={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},makeLocationProps=propsFactory({location:String},"location");function useLocation(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2?arguments[2]:void 0;const{isRtl:n}=useRtl();return{locationStyles:computed(()=>{if(!e.location)return{};const{side:o,align:a}=parseAnchor(e.location.split(" ").length>1?e.location:`${e.location} center`,n.value);function s(c){return r?r(c):0}const l={};return o!=="center"&&(t?l[oppositeMap[o]]=`calc(100% - ${s(o)}px)`:l[o]=0),a!=="center"?t?l[oppositeMap[a]]=`calc(100% - ${s(a)}px)`:l[a]=0:(o==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[o]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[o]),l})}}const makeVProgressLinearProps=propsFactory({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...makeComponentProps(),...makeLocationProps({location:"top"}),...makeRoundedProps(),...makeTagProps(),...makeThemeProps()},"VProgressLinear"),VProgressLinear=genericComponent()({name:"VProgressLinear",props:makeVProgressLinearProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=useProxiedModel(e,"modelValue"),{isRtl:i,rtlClasses:o}=useRtl(),{themeClasses:a}=provideTheme(e),{locationStyles:s}=useLocation(e),{textColorClasses:l,textColorStyles:c}=useTextColor(()=>e.color),{backgroundColorClasses:d,backgroundColorStyles:m}=useBackgroundColor(()=>e.bgColor||e.color),{backgroundColorClasses:g,backgroundColorStyles:v}=useBackgroundColor(()=>e.bufferColor||e.bgColor||e.color),{backgroundColorClasses:_,backgroundColorStyles:S}=useBackgroundColor(()=>e.color),{roundedClasses:C}=useRounded(e),{intersectionRef:y,isIntersecting:b}=useIntersectionObserver(),u=computed(()=>parseFloat(e.max)),w=computed(()=>parseFloat(e.height)),x=computed(()=>clamp$1(parseFloat(e.bufferValue)/u.value*100,0,100)),E=computed(()=>clamp$1(parseFloat(n.value)/u.value*100,0,100)),T=computed(()=>i.value!==e.reverse),k=computed(()=>e.indeterminate?"fade-transition":"slide-x-transition");function D(B){if(!y.value)return;const{left:A,right:O,width:V}=y.value.getBoundingClientRect(),H=T.value?V-B.clientX+(O-V):B.clientX-A;n.value=Math.round(H/V*u.value)}return useRender(()=>createVNode(e.tag,{ref:y,class:normalizeClass(["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&b.value,"v-progress-linear--reverse":T.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped,"v-progress-linear--clickable":e.clickable},C.value,a.value,o.value,e.class]),style:normalizeStyle([{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?convertToUnit(w.value):0,"--v-progress-linear-height":convertToUnit(w.value),...e.absolute?s.value:{}},e.style]),role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:Math.min(parseFloat(n.value),u.value),onClick:e.clickable&&D},{default:()=>[e.stream&&createBaseVNode("div",{key:"stream",class:normalizeClass(["v-progress-linear__stream",l.value]),style:{...c.value,[T.value?"left":"right"]:convertToUnit(-w.value),borderTop:`${convertToUnit(w.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${convertToUnit(w.value/4)})`,width:convertToUnit(100-x.value,"%"),"--v-progress-linear-stream-to":convertToUnit(w.value*(T.value?1:-1))}},null),createBaseVNode("div",{class:normalizeClass(["v-progress-linear__background",d.value]),style:normalizeStyle([m.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}])},null),createBaseVNode("div",{class:normalizeClass(["v-progress-linear__buffer",g.value]),style:normalizeStyle([v.value,{opacity:parseFloat(e.bufferOpacity),width:convertToUnit(x.value,"%")}])},null),createVNode(Transition,{name:k.value},{default:()=>[e.indeterminate?createBaseVNode("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(B=>createBaseVNode("div",{key:B,class:normalizeClass(["v-progress-linear__indeterminate",B,_.value]),style:normalizeStyle(S.value)},null))]):createBaseVNode("div",{class:normalizeClass(["v-progress-linear__determinate",_.value]),style:normalizeStyle([S.value,{width:convertToUnit(E.value,"%")}])},null)]}),r.default&&createBaseVNode("div",{class:"v-progress-linear__content"},[r.default({value:E.value,buffer:x.value})])]})),{}}}),makeLoaderProps=propsFactory({loading:[Boolean,String]},"loader");function useLoader(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{loaderClasses:toRef(()=>({[`${t}--loading`]:e.loading}))}}function LoaderSlot(e,t){var n;let{slots:r}=t;return createBaseVNode("div",{class:normalizeClass(`${e.name}__loader`)},[((n=r.default)==null?void 0:n.call(r,{color:e.color,isActive:e.active}))||createVNode(VProgressLinear,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const makeVSwitchProps=propsFactory({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...makeVInputProps(),...makeVSelectionControlProps()},"VSwitch"),VSwitch=genericComponent()({name:"VSwitch",inheritAttrs:!1,props:makeVSwitchProps(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:r,slots:n}=t;const i=useProxiedModel(e,"indeterminate"),o=useProxiedModel(e,"modelValue"),{loaderClasses:a}=useLoader(e),{isFocused:s,focus:l,blur:c}=useFocus(e),d=ref(),m=ref(),g=IN_BROWSER&&window.matchMedia("(forced-colors: active)").matches,v=toRef(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),_=useId(),S=toRef(()=>e.id||`switch-${_}`);function C(){i.value&&(i.value=!1)}function y(b){var u,w;b.stopPropagation(),b.preventDefault(),(w=(u=d.value)==null?void 0:u.input)==null||w.click()}return useRender(()=>{const[b,u]=filterInputAttrs(r),w=VInput.filterProps(e),x=VSelectionControl.filterProps(e);return createVNode(VInput,mergeProps({ref:m,class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":i.value},a.value,e.class]},b,w,{modelValue:o.value,"onUpdate:modelValue":E=>o.value=E,id:S.value,focused:s.value,style:e.style}),{...n,default:E=>{let{id:T,messagesId:k,isDisabled:D,isReadonly:B,isValid:A}=E;const O={model:o,isValid:A};return createVNode(VSelectionControl,mergeProps({ref:d},x,{modelValue:o.value,"onUpdate:modelValue":[V=>o.value=V,C],id:T.value,"aria-describedby":k.value,type:"checkbox","aria-checked":i.value?"mixed":void 0,disabled:D.value,readonly:B.value,onFocus:l,onBlur:c},u),{...n,default:V=>{let{backgroundColorClasses:H,backgroundColorStyles:q}=V;return createBaseVNode("div",{class:normalizeClass(["v-switch__track",g?void 0:H.value]),style:normalizeStyle(q.value),onClick:y},[n["track-true"]&&createBaseVNode("div",{key:"prepend",class:"v-switch__track-true"},[n["track-true"](O)]),n["track-false"]&&createBaseVNode("div",{key:"append",class:"v-switch__track-false"},[n["track-false"](O)])])},input:V=>{let{inputNode:H,icon:q,backgroundColorClasses:K,backgroundColorStyles:Q}=V;return createBaseVNode(Fragment,null,[H,createBaseVNode("div",{class:normalizeClass(["v-switch__thumb",{"v-switch__thumb--filled":q||e.loading},e.inset||g?void 0:K.value]),style:normalizeStyle(e.inset?void 0:Q.value)},[n.thumb?createVNode(VDefaultsProvider,{defaults:{VIcon:{icon:q,size:"x-small"}}},{default:()=>[n.thumb({...O,icon:q})]}):createVNode(VScaleTransition,null,{default:()=>[e.loading?createVNode(LoaderSlot,{name:"v-switch",active:!0,color:A.value===!1?void 0:v.value},{default:X=>n.loader?n.loader(X):createVNode(VProgressCircular,{active:X.isActive,color:X.color,indeterminate:!0,size:"16",width:"2"},null)}):q&&createVNode(VIcon,{key:String(q),icon:q,size:"x-small"},null)]})])])}})}})}),forwardRefs({},m)}}),_sfc_main$1g=defineComponent$1({__name:"BooleanSetting",props:mergeModels({hideTitle:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=useModel(e,"modelValue"),r=e,n=computed(()=>r.hideTitle?t.value.description:t.value.title),i=computed(()=>{if(!r.hideTitle)return t.value.description});return(o,a)=>{var s;return(s=t.value)!=null&&s.immediate?(openBlock(),createBlock(VSwitch,{key:0,color:unref(chipColor),inset:"",class:"shrink",readonly:t.value.readonly,density:"compact",label:n.value,"persistent-placeholder":"",hint:i.value,modelValue:t.value.value,"onUpdate:modelValue":a[0]||(a[0]=l=>t.value.value=l),"persistent-hint":!!i.value,"hide-details":!i.value},null,8,["color","readonly","label","hint","modelValue","persistent-hint","hide-details"])):(openBlock(),createBlock(VCheckbox,{key:1,color:unref(chipColor),class:"shrink",readonly:t.value.readonly,density:"compact",label:n.value,"persistent-placeholder":"",hint:i.value,modelValue:t.value.value,"onUpdate:modelValue":a[1]||(a[1]=l=>t.value.value=l),"persistent-hint":!!i.value,"hide-details":!i.value},{label:withCtx(({label:l})=>[createVNode(VListItemSubtitle,{class:"ml-2"},{default:withCtx(()=>[createTextVNode(toDisplayString(l),1)]),_:2},1024)]),_:1},8,["color","readonly","label","hint","modelValue","persistent-hint","hide-details"]))}}}),_export_sfc$1=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r},BooleanSetting=_export_sfc$1(_sfc_main$1g,[["__scopeId","data-v-15a17f35"]]),makeVBtnGroupProps=propsFactory({baseColor:String,divided:Boolean,direction:{type:String,default:"horizontal"},...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeElevationProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps()},"VBtnGroup"),VBtnGroup=genericComponent()({name:"VBtnGroup",props:makeVBtnGroupProps(),setup(e,t){let{slots:r}=t;const{themeClasses:n}=provideTheme(e),{densityClasses:i}=useDensity(e),{borderClasses:o}=useBorder(e),{elevationClasses:a}=useElevation(e),{roundedClasses:s}=useRounded(e);provideDefaults({VBtn:{height:toRef(()=>e.direction==="horizontal"?"auto":null),baseColor:toRef(()=>e.baseColor),color:toRef(()=>e.color),density:toRef(()=>e.density),flat:!0,variant:toRef(()=>e.variant)}}),useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-btn-group",`v-btn-group--${e.direction}`,{"v-btn-group--divided":e.divided},n.value,o.value,i.value,a.value,s.value,e.class]),style:normalizeStyle(e.style)},r))}}),makeGroupProps=propsFactory({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),makeGroupItemProps=propsFactory({value:null,disabled:Boolean,selectedClass:String},"group-item");function useGroupItem(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const n=getCurrentInstance("useGroupItem");if(!n)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const i=useId();provide(Symbol.for(`${t.description}:id`),i);const o=inject$1(t,null);if(!o){if(!r)return o;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const a=toRef(()=>e.value),s=computed(()=>!!(o.disabled.value||e.disabled));o.register({id:i,value:a,disabled:s},n),onBeforeUnmount(()=>{o.unregister(i)});const l=computed(()=>o.isSelected(i)),c=computed(()=>o.items.value[0].id===i),d=computed(()=>o.items.value[o.items.value.length-1].id===i),m=computed(()=>l.value&&[o.selectedClass.value,e.selectedClass]);return watch(l,g=>{n.emit("group:selected",{value:g})},{flush:"sync"}),{id:i,isSelected:l,isFirst:c,isLast:d,toggle:()=>o.select(i,!l.value),select:g=>o.select(i,g),selectedClass:m,value:a,disabled:s,group:o}}function useGroup(e,t){let r=!1;const n=reactive([]),i=useProxiedModel(e,"modelValue",[],g=>g==null?[]:getIds(n,wrapInArray(g)),g=>{const v=getValues(n,g);return e.multiple?v:v[0]}),o=getCurrentInstance("useGroup");function a(g,v){const _=g,S=Symbol.for(`${t.description}:id`),y=findChildrenWithProvide(S,o==null?void 0:o.vnode).indexOf(v);unref(_.value)==null&&(_.value=y,_.useIndexAsValue=!0),y>-1?n.splice(y,0,_):n.push(_)}function s(g){if(r)return;l();const v=n.findIndex(_=>_.id===g);n.splice(v,1)}function l(){const g=n.find(v=>!v.disabled);g&&e.mandatory==="force"&&!i.value.length&&(i.value=[g.id])}onMounted(()=>{l()}),onBeforeUnmount(()=>{r=!0}),onUpdated(()=>{for(let g=0;g<n.length;g++)n[g].useIndexAsValue&&(n[g].value=g)});function c(g,v){const _=n.find(S=>S.id===g);if(!(v&&(_!=null&&_.disabled)))if(e.multiple){const S=i.value.slice(),C=S.findIndex(b=>b===g),y=~C;if(v=v??!y,y&&e.mandatory&&S.length<=1||!y&&e.max!=null&&S.length+1>e.max)return;C<0&&v?S.push(g):C>=0&&!v&&S.splice(C,1),i.value=S}else{const S=i.value.includes(g);if(e.mandatory&&S||!S&&!v)return;i.value=v??!S?[g]:[]}}function d(g){if(e.multiple,i.value.length){const v=i.value[0],_=n.findIndex(y=>y.id===v);let S=(_+g)%n.length,C=n[S];for(;C.disabled&&S!==_;)S=(S+g)%n.length,C=n[S];if(C.disabled)return;i.value=[n[S].id]}else{const v=n.find(_=>!_.disabled);v&&(i.value=[v.id])}}const m={register:a,unregister:s,selected:i,select:c,disabled:toRef(()=>e.disabled),prev:()=>d(n.length-1),next:()=>d(1),isSelected:g=>i.value.includes(g),selectedClass:toRef(()=>e.selectedClass),items:toRef(()=>n),getItemIndex:g=>getItemIndex(n,g)};return provide(t,m),m}function getItemIndex(e,t){const r=getIds(e,[t]);return r.length?e.findIndex(n=>n.id===r[0]):-1}function getIds(e,t){const r=[];return t.forEach(n=>{const i=e.find(a=>deepEqual(n,a.value)),o=e[n];(i==null?void 0:i.value)!=null?r.push(i.id):o!=null&&o.useIndexAsValue&&r.push(o.id)}),r}function getValues(e,t){const r=[];return t.forEach(n=>{const i=e.findIndex(o=>o.id===n);if(~i){const o=e[i];r.push(o.value!=null?o.value:i)}}),r}const VBtnToggleSymbol=Symbol.for("vuetify:v-btn-toggle"),makeVBtnToggleProps=propsFactory({...makeVBtnGroupProps(),...makeGroupProps()},"VBtnToggle"),VBtnToggle=genericComponent()({name:"VBtnToggle",props:makeVBtnToggleProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{isSelected:n,next:i,prev:o,select:a,selected:s}=useGroup(e,VBtnToggleSymbol);return useRender(()=>{const l=VBtnGroup.filterProps(e);return createVNode(VBtnGroup,mergeProps({class:["v-btn-toggle",e.class]},l,{style:e.style}),{default:()=>{var c;return[(c=r.default)==null?void 0:c.call(r,{isSelected:n,next:i,prev:o,select:a,selected:s})]}})}),{next:i,prev:o,select:a}}}),positionValues=["static","relative","fixed","absolute","sticky"],makePositionProps=propsFactory({position:{type:String,validator:e=>positionValues.includes(e)}},"position");function usePosition(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{positionClasses:toRef(()=>e.position?`${t}--${e.position}`:void 0)}}function useSelectLink(e,t){watch(()=>{var r;return(r=e.isActive)==null?void 0:r.value},r=>{e.isLink.value&&r!=null&&t&&nextTick$1(()=>{t(r)})},{immediate:!0})}const makeVBtnProps=propsFactory({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:VBtnToggleSymbol},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:IconValue,appendIcon:IconValue,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeGroupItemProps(),...makeLoaderProps(),...makeLocationProps(),...makePositionProps(),...makeRoundedProps(),...makeRouterProps(),...makeSizeProps(),...makeTagProps({tag:"button"}),...makeThemeProps(),...makeVariantProps({variant:"elevated"})},"VBtn"),VBtn=genericComponent()({name:"VBtn",props:makeVBtnProps(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:r,slots:n}=t;const{themeClasses:i}=provideTheme(e),{borderClasses:o}=useBorder(e),{densityClasses:a}=useDensity(e),{dimensionStyles:s}=useDimension(e),{elevationClasses:l}=useElevation(e),{loaderClasses:c}=useLoader(e),{locationStyles:d}=useLocation(e),{positionClasses:m}=usePosition(e),{roundedClasses:g}=useRounded(e),{sizeClasses:v,sizeStyles:_}=useSize(e),S=useGroupItem(e,e.symbol,!1),C=useLink(e,r),y=computed(()=>{var A;return e.active!==void 0?e.active:C.isLink.value?(A=C.isActive)==null?void 0:A.value:S==null?void 0:S.isSelected.value}),b=toRef(()=>y.value?e.activeColor??e.color:e.color),u=computed(()=>{var O,V;return{color:(S==null?void 0:S.isSelected.value)&&(!C.isLink.value||((O=C.isActive)==null?void 0:O.value))||!S||((V=C.isActive)==null?void 0:V.value)?b.value??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:w,colorStyles:x,variantClasses:E}=useVariant(u),T=computed(()=>(S==null?void 0:S.disabled.value)||e.disabled),k=toRef(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),D=computed(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function B(A){var O;T.value||C.isLink.value&&(A.metaKey||A.ctrlKey||A.shiftKey||A.button!==0||r.target==="_blank")||((O=C.navigate)==null||O.call(C,A),S==null||S.toggle())}return useSelectLink(C,S==null?void 0:S.select),useRender(()=>{const A=C.isLink.value?"a":e.tag,O=!!(e.prependIcon||n.prepend),V=!!(e.appendIcon||n.append),H=!!(e.icon&&e.icon!==!0);return withDirectives(createVNode(A,mergeProps({type:A==="a"?void 0:"button",class:["v-btn",S==null?void 0:S.selectedClass.value,{"v-btn--active":y.value,"v-btn--block":e.block,"v-btn--disabled":T.value,"v-btn--elevated":k.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},i.value,o.value,w.value,a.value,l.value,c.value,m.value,g.value,v.value,E.value,e.class],style:[x.value,s.value,d.value,_.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:T.value||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:B,value:D.value},C.linkProps),{default:()=>{var q;return[genOverlays(!0,"v-btn"),!e.icon&&O&&createBaseVNode("span",{key:"prepend",class:"v-btn__prepend"},[n.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},n.prepend):createVNode(VIcon,{key:"prepend-icon",icon:e.prependIcon},null)]),createBaseVNode("span",{class:"v-btn__content","data-no-activator":""},[!n.default&&H?createVNode(VIcon,{key:"content-icon",icon:e.icon},null):createVNode(VDefaultsProvider,{key:"content-defaults",disabled:!H,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var K;return[((K=n.default)==null?void 0:K.call(n))??toDisplayString(e.text)]}})]),!e.icon&&V&&createBaseVNode("span",{key:"append",class:"v-btn__append"},[n.append?createVNode(VDefaultsProvider,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},n.append):createVNode(VIcon,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&createBaseVNode("span",{key:"loader",class:"v-btn__loader"},[((q=n.loader)==null?void 0:q.call(n))??createVNode(VProgressCircular,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[Ripple,!T.value&&e.ripple,"",{center:!!e.icon}]])}),{group:S}}}),_sfc_main$1f=defineComponent$1({__name:"ButtonSetting",props:mergeModels({disabled:{type:Boolean},hideTitle:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:mergeModels(["click-button-setting"],["update:modelValue"]),setup(e,{emit:t}){const r=useModel(e,"modelValue"),n=t,i=e,o=computed(()=>{if(!i.hideTitle)return r.value.description});return(a,s)=>(openBlock(),createElementBlock("div",null,[createVNode(VBtn,{readonly:r.value.readonly,density:"compact",variant:"tonal",block:"",onClick:s[0]||(s[0]=l=>n("click-button-setting")),disabled:a.disabled},{default:withCtx(()=>[createTextVNode(toDisplayString(r.value.title),1)]),_:1},8,["readonly","disabled"]),o.value?(openBlock(),createBlock(VListItemSubtitle,{key:0,class:"shrink ml-3 mr-3"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.value),1)]),_:1})):createCommentVNode("",!0)]))}}),ButtonSetting=_export_sfc$1(_sfc_main$1f,[["__scopeId","data-v-7c232e39"]]),makeVAppProps=propsFactory({...makeComponentProps(),...omit$1(makeLayoutProps(),["fullHeight"]),...makeThemeProps()},"VApp"),VApp=genericComponent()({name:"VApp",props:makeVAppProps(),setup(e,t){let{slots:r}=t;const n=provideTheme(e),{layoutClasses:i,getLayoutItem:o,items:a,layoutRef:s}=createLayout({...e,fullHeight:!0}),{rtlClasses:l}=useRtl();return useRender(()=>{var c;return createBaseVNode("div",{ref:s,class:normalizeClass(["v-application",n.themeClasses.value,i.value,l.value,e.class]),style:normalizeStyle([e.style])},[createBaseVNode("div",{class:"v-application__wrap"},[(c=r.default)==null?void 0:c.call(r)])])}),{getLayoutItem:o,items:a,theme:n}}}),makeVToolbarTitleProps=propsFactory({text:String,...makeComponentProps(),...makeTagProps()},"VToolbarTitle"),VToolbarTitle=genericComponent()({name:"VToolbarTitle",props:makeVToolbarTitleProps(),setup(e,t){let{slots:r}=t;return useRender(()=>{const n=!!(r.default||r.text||e.text);return createVNode(e.tag,{class:normalizeClass(["v-toolbar-title",e.class]),style:normalizeStyle(e.style)},{default:()=>{var i;return[n&&createBaseVNode("div",{class:"v-toolbar-title__placeholder"},[r.text?r.text():e.text,(i=r.default)==null?void 0:i.call(r)])]}})}),{}}}),allowedDensities=[null,"prominent","default","comfortable","compact"],makeVToolbarProps=propsFactory({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>allowedDensities.includes(e)},extended:{type:Boolean,default:null},extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...makeBorderProps(),...makeComponentProps(),...makeElevationProps(),...makeRoundedProps(),...makeTagProps({tag:"header"}),...makeThemeProps()},"VToolbar"),VToolbar=genericComponent()({name:"VToolbar",props:makeVToolbarProps(),setup(e,t){var v;let{slots:r}=t;const{backgroundColorClasses:n,backgroundColorStyles:i}=useBackgroundColor(()=>e.color),{borderClasses:o}=useBorder(e),{elevationClasses:a}=useElevation(e),{roundedClasses:s}=useRounded(e),{themeClasses:l}=provideTheme(e),{rtlClasses:c}=useRtl(),d=shallowRef(e.extended===null?!!((v=r.extension)!=null&&v.call(r)):e.extended),m=computed(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),g=computed(()=>d.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return provideDefaults({VBtn:{variant:"text"}}),useRender(()=>{var y;const _=!!(e.title||r.title),S=!!(r.image||e.image),C=(y=r.extension)==null?void 0:y.call(r);return d.value=e.extended===null?!!C:e.extended,createVNode(e.tag,{class:normalizeClass(["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},n.value,o.value,a.value,s.value,l.value,c.value,e.class]),style:normalizeStyle([i.value,e.style])},{default:()=>[S&&createBaseVNode("div",{key:"image",class:"v-toolbar__image"},[r.image?createVNode(VDefaultsProvider,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):createVNode(VImg,{key:"image-img",cover:!0,src:e.image},null)]),createVNode(VDefaultsProvider,{defaults:{VTabs:{height:convertToUnit(m.value)}}},{default:()=>{var b,u,w;return[createBaseVNode("div",{class:"v-toolbar__content",style:{height:convertToUnit(m.value)}},[r.prepend&&createBaseVNode("div",{class:"v-toolbar__prepend"},[(b=r.prepend)==null?void 0:b.call(r)]),_&&createVNode(VToolbarTitle,{key:"title",text:e.title},{text:r.title}),(u=r.default)==null?void 0:u.call(r),r.append&&createBaseVNode("div",{class:"v-toolbar__append"},[(w=r.append)==null?void 0:w.call(r)])])]}}),createVNode(VDefaultsProvider,{defaults:{VTabs:{height:convertToUnit(g.value)}}},{default:()=>[createVNode(VExpandTransition,null,{default:()=>[d.value&&createBaseVNode("div",{class:"v-toolbar__extension",style:{height:convertToUnit(g.value)}},[C])]})]})]})}),{contentHeight:m,extensionHeight:g}}}),makeScrollProps=propsFactory({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function useScroll(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:r}=t;let n=0,i=0;const o=ref(null),a=shallowRef(0),s=shallowRef(0),l=shallowRef(0),c=shallowRef(!1),d=shallowRef(!1),m=computed(()=>Number(e.scrollThreshold)),g=computed(()=>clamp$1((m.value-a.value)/m.value||0)),v=()=>{const _=o.value;if(!_||r&&!r.value)return;n=a.value,a.value="window"in _?_.pageYOffset:_.scrollTop;const S=_ instanceof Window?document.documentElement.scrollHeight:_.scrollHeight;if(i!==S){i=S;return}d.value=a.value<n,l.value=Math.abs(a.value-m.value)};return watch(d,()=>{s.value=s.value||a.value}),watch(c,()=>{s.value=0}),onMounted(()=>{watch(()=>e.scrollTarget,_=>{var C;const S=_?document.querySelector(_):window;S&&S!==o.value&&((C=o.value)==null||C.removeEventListener("scroll",v),o.value=S,o.value.addEventListener("scroll",v,{passive:!0}))},{immediate:!0})}),onBeforeUnmount(()=>{var _;(_=o.value)==null||_.removeEventListener("scroll",v)}),r&&watch(r,v,{immediate:!0}),{scrollThreshold:m,currentScroll:a,currentThreshold:l,isScrollActive:c,scrollRatio:g,isScrollingUp:d,savedScroll:s}}const makeVAppBarProps=propsFactory({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...makeVToolbarProps(),...makeLayoutItemProps(),...makeScrollProps(),height:{type:[Number,String],default:64}},"VAppBar"),VAppBar=genericComponent()({name:"VAppBar",props:makeVAppBarProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=ref(),i=useProxiedModel(e,"modelValue"),o=computed(()=>{var u;const b=new Set(((u=e.scrollBehavior)==null?void 0:u.split(" "))??[]);return{hide:b.has("hide"),fullyHide:b.has("fully-hide"),inverted:b.has("inverted"),collapse:b.has("collapse"),elevate:b.has("elevate"),fadeImage:b.has("fade-image")}}),a=computed(()=>{const b=o.value;return b.hide||b.fullyHide||b.inverted||b.collapse||b.elevate||b.fadeImage||!i.value}),{currentScroll:s,scrollThreshold:l,isScrollingUp:c,scrollRatio:d}=useScroll(e,{canScroll:a}),m=toRef(()=>o.value.hide||o.value.fullyHide),g=computed(()=>e.collapse||o.value.collapse&&(o.value.inverted?d.value>0:d.value===0)),v=computed(()=>e.flat||o.value.fullyHide&&!i.value||o.value.elevate&&(o.value.inverted?s.value>0:s.value===0)),_=computed(()=>o.value.fadeImage?o.value.inverted?1-d.value:d.value:void 0),S=computed(()=>{var w,x;if(o.value.hide&&o.value.inverted)return 0;const b=((w=n.value)==null?void 0:w.contentHeight)??0,u=((x=n.value)==null?void 0:x.extensionHeight)??0;return m.value?s.value<l.value||o.value.fullyHide?b+u:b:b+u});useToggleScope(()=>!!e.scrollBehavior,()=>{watchEffect(()=>{m.value?o.value.inverted?i.value=s.value>l.value:i.value=c.value||s.value<l.value:i.value=!0})});const{ssrBootStyles:C}=useSsrBoot(),{layoutItemStyles:y}=useLayoutItem({id:e.name,order:computed(()=>parseInt(e.order,10)),position:toRef(()=>e.location),layoutSize:S,elementSize:shallowRef(void 0),active:i,absolute:toRef(()=>e.absolute)});return useRender(()=>{const b=VToolbar.filterProps(e);return createVNode(VToolbar,mergeProps({ref:n,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...y.value,"--v-toolbar-image-opacity":_.value,height:void 0,...C.value},e.style]},b,{collapse:g.value,flat:v.value}),r)}),{}}}),makeVAppBarNavIconProps=propsFactory({...makeVBtnProps({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),VAppBarNavIcon=genericComponent()({name:"VAppBarNavIcon",props:makeVAppBarNavIconProps(),setup(e,t){let{slots:r}=t;return useRender(()=>createVNode(VBtn,mergeProps(e,{class:["v-app-bar-nav-icon"]}),r)),{}}}),VAlertTitle=createSimpleFunctional("v-alert-title"),makeIconSizeProps=propsFactory({iconSize:[Number,String],iconSizes:{type:Array,default:()=>[["x-small",10],["small",16],["default",24],["large",28],["x-large",32]]}},"iconSize");function useIconSizes(e,t){return{iconSize:computed(()=>{const n=new Map(e.iconSizes),i=e.iconSize??t()??"default";return n.has(i)?n.get(i):i})}}const allowedTypes=["success","info","warning","error"],makeVAlertProps=propsFactory({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:IconValue,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>allowedTypes.includes(e)},...makeComponentProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeIconSizeProps(),...makeLocationProps(),...makePositionProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"flat"})},"VAlert"),VAlert=genericComponent()({name:"VAlert",props:makeVAlertProps(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:r,slots:n}=t;const i=useProxiedModel(e,"modelValue"),o=toRef(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),{iconSize:a}=useIconSizes(e,()=>e.prominent?44:void 0),{themeClasses:s}=provideTheme(e),{colorClasses:l,colorStyles:c,variantClasses:d}=useVariant(()=>({color:e.color??e.type,variant:e.variant})),{densityClasses:m}=useDensity(e),{dimensionStyles:g}=useDimension(e),{elevationClasses:v}=useElevation(e),{locationStyles:_}=useLocation(e),{positionClasses:S}=usePosition(e),{roundedClasses:C}=useRounded(e),{textColorClasses:y,textColorStyles:b}=useTextColor(()=>e.borderColor),{t:u}=useLocale(),w=toRef(()=>({"aria-label":u(e.closeLabel),onClick(x){i.value=!1,r("click:close",x)}}));return()=>{const x=!!(n.prepend||o.value),E=!!(n.title||e.title),T=!!(n.close||e.closable),k={density:e.density,icon:o.value,size:e.iconSize||e.prominent?a.value:void 0};return i.value&&createVNode(e.tag,{class:normalizeClass(["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},s.value,l.value,m.value,v.value,S.value,C.value,d.value,e.class]),style:normalizeStyle([c.value,g.value,_.value,e.style]),role:"alert"},{default:()=>{var D,B;return[genOverlays(!1,"v-alert"),e.border&&createBaseVNode("div",{key:"border",class:normalizeClass(["v-alert__border",y.value]),style:normalizeStyle(b.value)},null),x&&createBaseVNode("div",{key:"prepend",class:"v-alert__prepend"},[n.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!o.value,defaults:{VIcon:{...k}}},n.prepend):createVNode(VIcon,mergeProps({key:"prepend-icon"},k),null)]),createBaseVNode("div",{class:"v-alert__content"},[E&&createVNode(VAlertTitle,{key:"title"},{default:()=>{var A;return[((A=n.title)==null?void 0:A.call(n))??e.title]}}),((D=n.text)==null?void 0:D.call(n))??e.text,(B=n.default)==null?void 0:B.call(n)]),n.append&&createBaseVNode("div",{key:"append",class:"v-alert__append"},[n.append()]),T&&createBaseVNode("div",{key:"close",class:"v-alert__close"},[n.close?createVNode(VDefaultsProvider,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var A;return[(A=n.close)==null?void 0:A.call(n,{props:w.value})]}}):createVNode(VBtn,mergeProps({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},w.value),null)])]}})}}});function calculateUpdatedTarget(e){let{selectedElement:t,containerElement:r,isRtl:n,isHorizontal:i}=e;const o=getOffsetSize(i,r),a=getScrollPosition(i,n,r),s=getOffsetSize(i,t),l=getOffsetPosition(i,t),c=s*.4;return a>l?l-c:a+o<l+s?l-o+s+c:a}function calculateCenteredTarget(e){let{selectedElement:t,containerElement:r,isHorizontal:n}=e;const i=getOffsetSize(n,r),o=getOffsetPosition(n,t),a=getOffsetSize(n,t);return o-i/2+a/2}function getScrollSize(e,t){const r=e?"scrollWidth":"scrollHeight";return(t==null?void 0:t[r])||0}function getClientSize(e,t){const r=e?"clientWidth":"clientHeight";return(t==null?void 0:t[r])||0}function getScrollPosition(e,t,r){if(!r)return 0;const{scrollLeft:n,offsetWidth:i,scrollWidth:o}=r;return e?t?o-i+n:n:r.scrollTop}function getOffsetSize(e,t){const r=e?"offsetWidth":"offsetHeight";return(t==null?void 0:t[r])||0}function getOffsetPosition(e,t){const r=e?"offsetLeft":"offsetTop";return(t==null?void 0:t[r])||0}const VSlideGroupSymbol=Symbol.for("vuetify:v-slide-group"),makeVSlideGroupProps=propsFactory({centerActive:Boolean,contentClass:null,direction:{type:String,default:"horizontal"},symbol:{type:null,default:VSlideGroupSymbol},nextIcon:{type:IconValue,default:"$next"},prevIcon:{type:IconValue,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...makeComponentProps(),...makeDisplayProps({mobile:null}),...makeTagProps(),...makeGroupProps({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),VSlideGroup=genericComponent()({name:"VSlideGroup",props:makeVSlideGroupProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{isRtl:n}=useRtl(),{displayClasses:i,mobile:o}=useDisplay(e),a=useGroup(e,e.symbol),s=shallowRef(!1),l=shallowRef(0),c=shallowRef(0),d=shallowRef(0),m=computed(()=>e.direction==="horizontal"),{resizeRef:g,contentRect:v}=useResizeObserver(),{resizeRef:_,contentRect:S}=useResizeObserver(),C=useGoTo(),y=computed(()=>({container:g.el,duration:200,easing:"easeOutQuart"})),b=computed(()=>a.selected.value.length?a.items.value.findIndex(F=>F.id===a.selected.value[0]):-1),u=computed(()=>a.selected.value.length?a.items.value.findIndex(F=>F.id===a.selected.value[a.selected.value.length-1]):-1);if(IN_BROWSER){let F=-1;watch(()=>[a.selected.value,v.value,S.value,m.value],()=>{cancelAnimationFrame(F),F=requestAnimationFrame(()=>{if(v.value&&S.value){const ee=m.value?"width":"height";c.value=v.value[ee],d.value=S.value[ee],s.value=c.value+1<d.value}if(b.value>=0&&_.el){const ee=_.el.children[u.value];x(ee,e.centerActive)}})})}const w=shallowRef(!1);function x(F,ee){let ue=0;ee?ue=calculateCenteredTarget({containerElement:g.el,isHorizontal:m.value,selectedElement:F}):ue=calculateUpdatedTarget({containerElement:g.el,isHorizontal:m.value,isRtl:n.value,selectedElement:F}),E(ue)}function E(F){if(!IN_BROWSER||!g.el)return;const ee=getOffsetSize(m.value,g.el),ue=getScrollPosition(m.value,n.value,g.el);if(!(getScrollSize(m.value,g.el)<=ee||Math.abs(F-ue)<16)){if(m.value&&n.value&&g.el){const{scrollWidth:ve,offsetWidth:j}=g.el;F=ve-j-F}m.value?C.horizontal(F,y.value):C(F,y.value)}}function T(F){const{scrollTop:ee,scrollLeft:ue}=F.target;l.value=m.value?ue:ee}function k(F){if(w.value=!0,!(!s.value||!_.el)){for(const ee of F.composedPath())for(const ue of _.el.children)if(ue===ee){x(ue);return}}}function D(F){w.value=!1}let B=!1;function A(F){var ee;!B&&!w.value&&!(F.relatedTarget&&((ee=_.el)!=null&&ee.contains(F.relatedTarget)))&&q(),B=!1}function O(){B=!0}function V(F){if(!_.el)return;function ee(ue){F.preventDefault(),q(ue)}m.value?F.key==="ArrowRight"?ee(n.value?"prev":"next"):F.key==="ArrowLeft"&&ee(n.value?"next":"prev"):F.key==="ArrowDown"?ee("next"):F.key==="ArrowUp"&&ee("prev"),F.key==="Home"?ee("first"):F.key==="End"&&ee("last")}function H(F,ee){if(!F)return;let ue=F;do ue=ue==null?void 0:ue[ee==="next"?"nextElementSibling":"previousElementSibling"];while(ue!=null&&ue.hasAttribute("disabled"));return ue}function q(F){if(!_.el)return;let ee;if(!F)ee=focusableChildren(_.el)[0];else if(F==="next"){if(ee=H(_.el.querySelector(":focus"),F),!ee)return q("first")}else if(F==="prev"){if(ee=H(_.el.querySelector(":focus"),F),!ee)return q("last")}else F==="first"?(ee=_.el.firstElementChild,ee!=null&&ee.hasAttribute("disabled")&&(ee=H(ee,"next"))):F==="last"&&(ee=_.el.lastElementChild,ee!=null&&ee.hasAttribute("disabled")&&(ee=H(ee,"prev")));ee&&ee.focus({preventScroll:!0})}function K(F){const ee=m.value&&n.value?-1:1,ue=(F==="prev"?-ee:ee)*c.value;let he=l.value+ue;if(m.value&&n.value&&g.el){const{scrollWidth:ve,offsetWidth:j}=g.el;he+=ve-j}E(he)}const Q=computed(()=>({next:a.next,prev:a.prev,select:a.select,isSelected:a.isSelected})),X=computed(()=>s.value||Math.abs(l.value)>0),N=computed(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!o.value;case!0:return X.value;case"mobile":return o.value||X.value;default:return!o.value&&X.value}}),I=computed(()=>Math.abs(l.value)>1),U=computed(()=>{if(!g.value||!X.value)return!1;const F=getScrollSize(m.value,g.el),ee=getClientSize(m.value,g.el);return F-ee-Math.abs(l.value)>1});return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-slide-group",{"v-slide-group--vertical":!m.value,"v-slide-group--has-affixes":N.value,"v-slide-group--is-overflowing":s.value},i.value,e.class]),style:normalizeStyle(e.style),tabindex:w.value||a.selected.value.length?-1:0,onFocus:A},{default:()=>{var F,ee,ue;return[N.value&&createBaseVNode("div",{key:"prev",class:normalizeClass(["v-slide-group__prev",{"v-slide-group__prev--disabled":!I.value}]),onMousedown:O,onClick:()=>I.value&&K("prev")},[((F=r.prev)==null?void 0:F.call(r,Q.value))??createVNode(VFadeTransition,null,{default:()=>[createVNode(VIcon,{icon:n.value?e.nextIcon:e.prevIcon},null)]})]),createBaseVNode("div",{key:"container",ref:g,class:normalizeClass(["v-slide-group__container",e.contentClass]),onScroll:T},[createBaseVNode("div",{ref:_,class:"v-slide-group__content",onFocusin:k,onFocusout:D,onKeydown:V},[(ee=r.default)==null?void 0:ee.call(r,Q.value)])]),N.value&&createBaseVNode("div",{key:"next",class:normalizeClass(["v-slide-group__next",{"v-slide-group__next--disabled":!U.value}]),onMousedown:O,onClick:()=>U.value&&K("next")},[((ue=r.next)==null?void 0:ue.call(r,Q.value))??createVNode(VFadeTransition,null,{default:()=>[createVNode(VIcon,{icon:n.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:a.selected,scrollTo:K,scrollOffset:l,focus:q,hasPrev:I,hasNext:U}}}),VChipGroupSymbol=Symbol.for("vuetify:v-chip-group"),makeVChipGroupProps=propsFactory({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:deepEqual},...makeVSlideGroupProps(),...makeComponentProps(),...makeGroupProps({selectedClass:"v-chip--selected"}),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"tonal"})},"VChipGroup"),VChipGroup=genericComponent()({name:"VChipGroup",props:makeVChipGroupProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{themeClasses:n}=provideTheme(e),{isSelected:i,select:o,next:a,prev:s,selected:l}=useGroup(e,VChipGroupSymbol);return provideDefaults({VChip:{baseColor:toRef(()=>e.baseColor),color:toRef(()=>e.color),disabled:toRef(()=>e.disabled),filter:toRef(()=>e.filter),variant:toRef(()=>e.variant)}}),useRender(()=>{const c=VSlideGroup.filterProps(e);return createVNode(VSlideGroup,mergeProps(c,{class:["v-chip-group",{"v-chip-group--column":e.column},n.value,e.class],style:e.style}),{default:()=>{var d;return[(d=r.default)==null?void 0:d.call(r,{isSelected:i,select:o,next:a,prev:s,selected:l.value})]}})}),{}}}),makeVChipProps=propsFactory({activeClass:String,appendAvatar:String,appendIcon:IconValue,baseColor:String,closable:Boolean,closeIcon:{type:IconValue,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:IconValue,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:IconValue,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:EventProp(),onClickOnce:EventProp(),...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeElevationProps(),...makeGroupItemProps(),...makeRoundedProps(),...makeRouterProps(),...makeSizeProps(),...makeTagProps({tag:"span"}),...makeThemeProps(),...makeVariantProps({variant:"tonal"})},"VChip"),VChip=genericComponent()({name:"VChip",directives:{vRipple:Ripple},props:makeVChipProps(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:r,emit:n,slots:i}=t;const{t:o}=useLocale(),{borderClasses:a}=useBorder(e),{densityClasses:s}=useDensity(e),{elevationClasses:l}=useElevation(e),{roundedClasses:c}=useRounded(e),{sizeClasses:d}=useSize(e),{themeClasses:m}=provideTheme(e),g=useProxiedModel(e,"modelValue"),v=useGroupItem(e,VChipGroupSymbol,!1),_=useLink(e,r),S=toRef(()=>e.link!==!1&&_.isLink.value),C=computed(()=>!e.disabled&&e.link!==!1&&(!!v||e.link||_.isClickable.value)),y=toRef(()=>({"aria-label":o(e.closeLabel),disabled:e.disabled,onClick(T){T.preventDefault(),T.stopPropagation(),g.value=!1,n("click:close",T)}})),{colorClasses:b,colorStyles:u,variantClasses:w}=useVariant(()=>({color:!v||v.isSelected.value?e.color??e.baseColor:e.baseColor,variant:e.variant}));function x(T){var k;n("click",T),C.value&&((k=_.navigate)==null||k.call(_,T),v==null||v.toggle())}function E(T){(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),x(T))}return()=>{var H;const T=_.isLink.value?"a":e.tag,k=!!(e.appendIcon||e.appendAvatar),D=!!(k||i.append),B=!!(i.close||e.closable),A=!!(i.filter||e.filter)&&v,O=!!(e.prependIcon||e.prependAvatar),V=!!(O||i.prepend);return g.value&&withDirectives(createVNode(T,mergeProps({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":C.value,"v-chip--filter":A,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&((H=_.isActive)==null?void 0:H.value)},m.value,a.value,b.value,s.value,l.value,c.value,d.value,w.value,v==null?void 0:v.selectedClass.value,e.class],style:[u.value,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:C.value?0:void 0,onClick:x,onKeydown:C.value&&!S.value&&E},_.linkProps),{default:()=>{var q;return[genOverlays(C.value,"v-chip"),A&&createVNode(VExpandXTransition,{key:"filter"},{default:()=>[withDirectives(createBaseVNode("div",{class:"v-chip__filter"},[i.filter?createVNode(VDefaultsProvider,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},i.filter):createVNode(VIcon,{key:"filter-icon",icon:e.filterIcon},null)]),[[vShow,v.isSelected.value]])]}),V&&createBaseVNode("div",{key:"prepend",class:"v-chip__prepend"},[i.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!O,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},i.prepend):createBaseVNode(Fragment,null,[e.prependIcon&&createVNode(VIcon,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&createVNode(VAvatar,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),createBaseVNode("div",{class:"v-chip__content","data-no-activator":""},[((q=i.default)==null?void 0:q.call(i,{isSelected:v==null?void 0:v.isSelected.value,selectedClass:v==null?void 0:v.selectedClass.value,select:v==null?void 0:v.select,toggle:v==null?void 0:v.toggle,value:v==null?void 0:v.value.value,disabled:e.disabled}))??toDisplayString(e.text)]),D&&createBaseVNode("div",{key:"append",class:"v-chip__append"},[i.append?createVNode(VDefaultsProvider,{key:"append-defaults",disabled:!k,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},i.append):createBaseVNode(Fragment,null,[e.appendIcon&&createVNode(VIcon,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&createVNode(VAvatar,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),B&&createBaseVNode("button",mergeProps({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},y.value),[i.close?createVNode(VDefaultsProvider,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},i.close):createVNode(VIcon,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[Ripple,C.value&&e.ripple,null]])}}});function elementToViewport(e,t){return{x:e.x+t.x,y:e.y+t.y}}function getOffset(e,t){return{x:e.x-t.x,y:e.y-t.y}}function anchorToPoint(e,t){if(e.side==="top"||e.side==="bottom"){const{side:r,align:n}=e,i=n==="left"?0:n==="center"?t.width/2:n==="right"?t.width:n,o=r==="top"?0:r==="bottom"?t.height:r;return elementToViewport({x:i,y:o},t)}else if(e.side==="left"||e.side==="right"){const{side:r,align:n}=e,i=r==="left"?0:r==="right"?t.width:r,o=n==="top"?0:n==="center"?t.height/2:n==="bottom"?t.height:n;return elementToViewport({x:i,y:o},t)}return elementToViewport({x:t.width/2,y:t.height/2},t)}const locationStrategies={static:staticLocationStrategy,connected:connectedLocationStrategy},makeLocationStrategyProps=propsFactory({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in locationStrategies},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function useLocationStrategies(e,t){const r=ref({}),n=ref();IN_BROWSER&&useToggleScope(()=>!!(t.isActive.value&&e.locationStrategy),s=>{var l,c;watch(()=>e.locationStrategy,s),onScopeDispose(()=>{window.removeEventListener("resize",i),visualViewport==null||visualViewport.removeEventListener("resize",o),visualViewport==null||visualViewport.removeEventListener("scroll",a),n.value=void 0}),window.addEventListener("resize",i,{passive:!0}),visualViewport==null||visualViewport.addEventListener("resize",o,{passive:!0}),visualViewport==null||visualViewport.addEventListener("scroll",a,{passive:!0}),typeof e.locationStrategy=="function"?n.value=(l=e.locationStrategy(t,e,r))==null?void 0:l.updateLocation:n.value=(c=locationStrategies[e.locationStrategy](t,e,r))==null?void 0:c.updateLocation});function i(s){var l;(l=n.value)==null||l.call(n,s)}function o(s){var l;(l=n.value)==null||l.call(n,s)}function a(s){var l;(l=n.value)==null||l.call(n,s)}return{contentStyles:r,updateLocation:n}}function staticLocationStrategy(){}function getIntrinsicSize(e,t){const r=nullifyTransforms(e);return t?r.x+=parseFloat(e.style.right||0):r.x-=parseFloat(e.style.left||0),r.y-=parseFloat(e.style.top||0),r}function connectedLocationStrategy(e,t,r){(Array.isArray(e.target.value)||isFixedPosition(e.target.value))&&Object.assign(r.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:i,preferredOrigin:o}=destructComputed(()=>{const y=parseAnchor(t.location,e.isRtl.value),b=t.origin==="overlap"?y:t.origin==="auto"?flipSide(y):parseAnchor(t.origin,e.isRtl.value);return y.side===b.side&&y.align===flipAlign(b).align?{preferredAnchor:flipCorner(y),preferredOrigin:flipCorner(b)}:{preferredAnchor:y,preferredOrigin:b}}),[a,s,l,c]=["minWidth","minHeight","maxWidth","maxHeight"].map(y=>computed(()=>{const b=parseFloat(t[y]);return isNaN(b)?1/0:b})),d=computed(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const y=t.offset.split(" ").map(parseFloat);return y.length<2&&y.push(0),y}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let m=!1,g=-1;const v=new CircularBuffer(4),_=new ResizeObserver(()=>{if(!m)return;if(requestAnimationFrame(b=>{b!==g&&v.clear(),requestAnimationFrame(u=>{g=u})}),v.isFull){const b=v.values();if(deepEqual(b.at(-1),b.at(-3))&&!deepEqual(b.at(-1),b.at(-2)))return}const y=C();y&&v.push(y.flipped)});let S=new Box({x:0,y:0,width:0,height:0});watch(e.target,(y,b)=>{b&&!Array.isArray(b)&&_.unobserve(b),Array.isArray(y)?deepEqual(y,b)||C():y&&_.observe(y)},{immediate:!0}),watch(e.contentEl,(y,b)=>{b&&_.unobserve(b),y&&_.observe(y)},{immediate:!0}),onScopeDispose(()=>{_.disconnect()});function C(){if(m=!1,requestAnimationFrame(()=>m=!0),!e.target.value||!e.contentEl.value)return;(Array.isArray(e.target.value)||e.target.value.offsetParent||e.target.value.getClientRects().length)&&(S=getTargetBox(e.target.value));const y=getIntrinsicSize(e.contentEl.value,e.isRtl.value),b=getScrollParents(e.contentEl.value),u=12;b.length||(b.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(y.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),y.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const w=b.reduce((V,H)=>{const q=getElementBox(H);return V?new Box({x:Math.max(V.left,q.left),y:Math.max(V.top,q.top),width:Math.min(V.right,q.right)-Math.max(V.left,q.left),height:Math.min(V.bottom,q.bottom)-Math.max(V.top,q.top)}):q},void 0);w.x+=u,w.y+=u,w.width-=u*2,w.height-=u*2;let x={anchor:i.value,origin:o.value};function E(V){const H=new Box(y),q=anchorToPoint(V.anchor,S),K=anchorToPoint(V.origin,H);let{x:Q,y:X}=getOffset(q,K);switch(V.anchor.side){case"top":X-=d.value[0];break;case"bottom":X+=d.value[0];break;case"left":Q-=d.value[0];break;case"right":Q+=d.value[0];break}switch(V.anchor.align){case"top":X-=d.value[1];break;case"bottom":X+=d.value[1];break;case"left":Q-=d.value[1];break;case"right":Q+=d.value[1];break}return H.x+=Q,H.y+=X,H.width=Math.min(H.width,l.value),H.height=Math.min(H.height,c.value),{overflows:getOverflow(H,w),x:Q,y:X}}let T=0,k=0;const D={x:0,y:0},B={x:!1,y:!1};let A=-1;for(;!(A++>10);){const{x:V,y:H,overflows:q}=E(x);T+=V,k+=H,y.x+=V,y.y+=H;{const K=getAxis(x.anchor),Q=q.x.before||q.x.after,X=q.y.before||q.y.after;let N=!1;if(["x","y"].forEach(I=>{if(I==="x"&&Q&&!B.x||I==="y"&&X&&!B.y){const U={anchor:{...x.anchor},origin:{...x.origin}},F=I==="x"?K==="y"?flipAlign:flipSide:K==="y"?flipSide:flipAlign;U.anchor=F(U.anchor),U.origin=F(U.origin);const{overflows:ee}=E(U);(ee[I].before<=q[I].before&&ee[I].after<=q[I].after||ee[I].before+ee[I].after<(q[I].before+q[I].after)/2)&&(x=U,N=B[I]=!0)}}),N)continue}q.x.before&&(T+=q.x.before,y.x+=q.x.before),q.x.after&&(T-=q.x.after,y.x-=q.x.after),q.y.before&&(k+=q.y.before,y.y+=q.y.before),q.y.after&&(k-=q.y.after,y.y-=q.y.after);{const K=getOverflow(y,w);D.x=w.width-K.x.before-K.x.after,D.y=w.height-K.y.before-K.y.after,T+=K.x.before,y.x+=K.x.before,k+=K.y.before,y.y+=K.y.before}break}const O=getAxis(x.anchor);return Object.assign(r.value,{"--v-overlay-anchor-origin":`${x.anchor.side} ${x.anchor.align}`,transformOrigin:`${x.origin.side} ${x.origin.align}`,top:convertToUnit(pixelRound(k)),left:e.isRtl.value?void 0:convertToUnit(pixelRound(T)),right:e.isRtl.value?convertToUnit(pixelRound(-T)):void 0,minWidth:convertToUnit(O==="y"?Math.min(a.value,S.width):a.value),maxWidth:convertToUnit(pixelCeil(clamp$1(D.x,a.value===1/0?0:a.value,l.value))),maxHeight:convertToUnit(pixelCeil(clamp$1(D.y,s.value===1/0?0:s.value,c.value)))}),{available:D,contentBox:y,flipped:B}}return watch(()=>[i.value,o.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>C()),nextTick$1(()=>{const y=C();if(!y)return;const{available:b,contentBox:u}=y;u.height>b.y&&requestAnimationFrame(()=>{C(),requestAnimationFrame(()=>{C()})})}),{updateLocation:C}}function pixelRound(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function pixelCeil(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let clean=!0;const frames=[];function requestNewFrame(e){!clean||frames.length?(frames.push(e),run()):(clean=!1,e(),run())}let raf=-1;function run(){cancelAnimationFrame(raf),raf=requestAnimationFrame(()=>{const e=frames.shift();e&&e(),frames.length?run():clean=!0})}const scrollStrategies={none:null,close:closeScrollStrategy,block:blockScrollStrategy,reposition:repositionScrollStrategy},makeScrollStrategyProps=propsFactory({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in scrollStrategies}},"VOverlay-scroll-strategies");function useScrollStrategies(e,t){if(!IN_BROWSER)return;let r;watchEffect(async()=>{r==null||r.stop(),t.isActive.value&&e.scrollStrategy&&(r=effectScope(),await new Promise(n=>setTimeout(n)),r.active&&r.run(()=>{var n;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,r):(n=scrollStrategies[e.scrollStrategy])==null||n.call(scrollStrategies,t,e,r)}))}),onScopeDispose(()=>{r==null||r.stop()})}function closeScrollStrategy(e){function t(r){e.isActive.value=!1}bindScroll(getTargetEl(e.target.value,e.contentEl.value),t)}function blockScrollStrategy(e,t){var s;const r=(s=e.root.value)==null?void 0:s.offsetParent,n=getTargetEl(e.target.value,e.contentEl.value),i=[...new Set([...getScrollParents(n,t.contained?r:void 0),...getScrollParents(e.contentEl.value,t.contained?r:void 0)])].filter(l=>!l.classList.contains("v-overlay-scroll-blocked")),o=window.innerWidth-document.documentElement.offsetWidth,a=(l=>hasScrollbar(l)&&l)(r||document.documentElement);a&&e.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((l,c)=>{l.style.setProperty("--v-body-scroll-x",convertToUnit(-l.scrollLeft)),l.style.setProperty("--v-body-scroll-y",convertToUnit(-l.scrollTop)),l!==document.documentElement&&l.style.setProperty("--v-scrollbar-offset",convertToUnit(o)),l.classList.add("v-overlay-scroll-blocked")}),onScopeDispose(()=>{i.forEach((l,c)=>{const d=parseFloat(l.style.getPropertyValue("--v-body-scroll-x")),m=parseFloat(l.style.getPropertyValue("--v-body-scroll-y")),g=l.style.scrollBehavior;l.style.scrollBehavior="auto",l.style.removeProperty("--v-body-scroll-x"),l.style.removeProperty("--v-body-scroll-y"),l.style.removeProperty("--v-scrollbar-offset"),l.classList.remove("v-overlay-scroll-blocked"),l.scrollLeft=-d,l.scrollTop=-m,l.style.scrollBehavior=g}),a&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function repositionScrollStrategy(e,t,r){let n=!1,i=-1,o=-1;function a(s){requestNewFrame(()=>{var d,m;const l=performance.now();(m=(d=e.updateLocation).value)==null||m.call(d,s),n=(performance.now()-l)/(1e3/60)>2})}o=(typeof requestIdleCallback>"u"?s=>s():requestIdleCallback)(()=>{r.run(()=>{bindScroll(getTargetEl(e.target.value,e.contentEl.value),s=>{n?(cancelAnimationFrame(i),i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{a(s)})})):a(s)})})}),onScopeDispose(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(o),cancelAnimationFrame(i)})}function getTargetEl(e,t){return Array.isArray(e)?document.elementsFromPoint(...e).find(r=>!(t!=null&&t.contains(r))):e??t}function bindScroll(e,t){const r=[document,...getScrollParents(e)];r.forEach(n=>{n.addEventListener("scroll",t,{passive:!0})}),onScopeDispose(()=>{r.forEach(n=>{n.removeEventListener("scroll",t)})})}const VMenuSymbol=Symbol.for("vuetify:v-menu"),makeDelayProps=propsFactory({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function useDelay(e,t){let r=()=>{};function n(a){r==null||r();const s=Number(a?e.openDelay:e.closeDelay);return new Promise(l=>{r=defer(s,()=>{t==null||t(a),l(a)})})}function i(){return n(!0)}function o(){return n(!1)}return{clearDelay:r,runOpenDelay:i,runCloseDelay:o}}const makeActivatorProps=propsFactory({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...makeDelayProps()},"VOverlay-activator");function useActivator(e,t){let{isActive:r,isTop:n,contentEl:i}=t;const o=getCurrentInstance("useActivator"),a=ref();let s=!1,l=!1,c=!0;const d=computed(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),m=computed(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!d.value),{runOpenDelay:g,runCloseDelay:v}=useDelay(e,k=>{k===(e.openOnHover&&s||d.value&&l)&&!(e.openOnHover&&r.value&&!n.value)&&(r.value!==k&&(c=!0),r.value=k)}),_=ref(),S={onClick:k=>{k.stopPropagation(),a.value=k.currentTarget||k.target,r.value||(_.value=[k.clientX,k.clientY]),r.value=!r.value},onMouseenter:k=>{var D;(D=k.sourceCapabilities)!=null&&D.firesTouchEvents||(s=!0,a.value=k.currentTarget||k.target,g())},onMouseleave:k=>{s=!1,v()},onFocus:k=>{matchesSelector(k.target,":focus-visible")!==!1&&(l=!0,k.stopPropagation(),a.value=k.currentTarget||k.target,g())},onBlur:k=>{l=!1,k.stopPropagation(),v()}},C=computed(()=>{const k={};return m.value&&(k.onClick=S.onClick),e.openOnHover&&(k.onMouseenter=S.onMouseenter,k.onMouseleave=S.onMouseleave),d.value&&(k.onFocus=S.onFocus,k.onBlur=S.onBlur),k}),y=computed(()=>{const k={};if(e.openOnHover&&(k.onMouseenter=()=>{s=!0,g()},k.onMouseleave=()=>{s=!1,v()}),d.value&&(k.onFocusin=()=>{l=!0,g()},k.onFocusout=()=>{l=!1,v()}),e.closeOnContentClick){const D=inject$1(VMenuSymbol,null);k.onClick=()=>{r.value=!1,D==null||D.closeParents()}}return k}),b=computed(()=>{const k={};return e.openOnHover&&(k.onMouseenter=()=>{c&&(s=!0,c=!1,g())},k.onMouseleave=()=>{s=!1,v()}),k});watch(n,k=>{var D;k&&(e.openOnHover&&!s&&(!d.value||!l)||d.value&&!l&&(!e.openOnHover||!s))&&!((D=i.value)!=null&&D.contains(document.activeElement))&&(r.value=!1)}),watch(r,k=>{k||setTimeout(()=>{_.value=void 0})},{flush:"post"});const u=templateRef();watchEffect(()=>{u.value&&nextTick$1(()=>{a.value=u.el})});const w=templateRef(),x=computed(()=>e.target==="cursor"&&_.value?_.value:w.value?w.el:getTarget(e.target,o)||a.value),E=computed(()=>Array.isArray(x.value)?void 0:x.value);let T;return watch(()=>!!e.activator,k=>{k&&IN_BROWSER?(T=effectScope(),T.run(()=>{_useActivator(e,o,{activatorEl:a,activatorEvents:C})})):T&&T.stop()},{flush:"post",immediate:!0}),onScopeDispose(()=>{T==null||T.stop()}),{activatorEl:a,activatorRef:u,target:x,targetEl:E,targetRef:w,activatorEvents:C,contentEvents:y,scrimEvents:b}}function _useActivator(e,t,r){let{activatorEl:n,activatorEvents:i}=r;watch(()=>e.activator,(l,c)=>{if(c&&l!==c){const d=s(c);d&&a(d)}l&&nextTick$1(()=>o())},{immediate:!0}),watch(()=>e.activatorProps,()=>{o()}),onScopeDispose(()=>{a()});function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&bindProps(l,mergeProps(i.value,c))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&unbindProps(l,mergeProps(i.value,c))}function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const c=getTarget(l,t);return n.value=(c==null?void 0:c.nodeType)===Node.ELEMENT_NODE?c:void 0,n.value}}function getTarget(e,t){var n,i;if(!e)return;let r;if(e==="parent"){let o=(i=(n=t==null?void 0:t.proxy)==null?void 0:n.$el)==null?void 0:i.parentNode;for(;o!=null&&o.hasAttribute("data-no-activator");)o=o.parentNode;r=o}else typeof e=="string"?r=document.querySelector(e):"$el"in e?r=e.$el:r=e;return r}function useHydration(){if(!IN_BROWSER)return shallowRef(!1);const{ssr:e}=useDisplay();if(e){const t=shallowRef(!1);return onMounted(()=>{t.value=!0}),t}else return shallowRef(!0)}const makeLazyProps=propsFactory({eager:Boolean},"lazy");function useLazy(e,t){const r=shallowRef(!1),n=toRef(()=>r.value||e.eager||t.value);watch(t,()=>r.value=!0);function i(){e.eager||(r.value=!1)}return{isBooted:r,hasContent:n,onAfterLeave:i}}function useScopeId(){const t=getCurrentInstance("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const StackSymbol=Symbol.for("vuetify:stack"),globalStack=reactive([]);function useStack(e,t,r){const n=getCurrentInstance("useStack"),i=!r,o=inject$1(StackSymbol,void 0),a=reactive({activeChildren:new Set});provide(StackSymbol,a);const s=shallowRef(Number(toValue(t)));useToggleScope(e,()=>{var m;const d=(m=globalStack.at(-1))==null?void 0:m[1];s.value=d?d+10:Number(toValue(t)),i&&globalStack.push([n.uid,s.value]),o==null||o.activeChildren.add(n.uid),onScopeDispose(()=>{if(i){const g=toRaw(globalStack).findIndex(v=>v[0]===n.uid);globalStack.splice(g,1)}o==null||o.activeChildren.delete(n.uid)})});const l=shallowRef(!0);i&&watchEffect(()=>{var m;const d=((m=globalStack.at(-1))==null?void 0:m[0])===n.uid;setTimeout(()=>l.value=d)});const c=toRef(()=>!a.activeChildren.size);return{globalTop:readonly(l),localTop:c,stackStyles:toRef(()=>({zIndex:s.value}))}}function useTeleport(e){return{teleportTarget:computed(()=>{const r=e();if(r===!0||!IN_BROWSER)return;const n=r===!1?document.body:typeof r=="string"?document.querySelector(r):r;if(n==null)return;let i=[...n.children].find(o=>o.matches(".v-overlay-container"));return i||(i=document.createElement("div"),i.className="v-overlay-container",n.appendChild(i)),i})}}function defaultConditional(){return!0}function checkEvent(e,t,r){if(!e||checkIsActive(e,r)===!1)return!1;const n=attachedRoot(t);if(typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&n.host===e.target)return!1;const i=(typeof r.value=="object"&&r.value.include||(()=>[]))();return i.push(t),!i.some(o=>o==null?void 0:o.contains(e.target))}function checkIsActive(e,t){return(typeof t.value=="object"&&t.value.closeConditional||defaultConditional)(e)}function directive(e,t,r){const n=typeof r.value=="function"?r.value:r.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&checkEvent(e,t,r)&&setTimeout(()=>{checkIsActive(e,r)&&n&&n(e)},0)}function handleShadow(e,t){const r=attachedRoot(e);t(document),typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&t(r)}const ClickOutside={mounted(e,t){const r=i=>directive(i,e,t),n=i=>{e._clickOutside.lastMousedownWasOutside=checkEvent(i,e,t)};handleShadow(e,i=>{i.addEventListener("click",r,!0),i.addEventListener("mousedown",n,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:r,onMousedown:n}},beforeUnmount(e,t){e._clickOutside&&(handleShadow(e,r=>{var o;if(!r||!((o=e._clickOutside)!=null&&o[t.instance.$.uid]))return;const{onClick:n,onMousedown:i}=e._clickOutside[t.instance.$.uid];r.removeEventListener("click",n,!0),r.removeEventListener("mousedown",i,!0)}),delete e._clickOutside[t.instance.$.uid])}};function Scrim(e){const{modelValue:t,color:r,...n}=e;return createVNode(Transition,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&createBaseVNode("div",mergeProps({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},n),null)]})}const makeVOverlayProps=propsFactory({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...makeActivatorProps(),...makeComponentProps(),...makeDimensionProps(),...makeLazyProps(),...makeLocationStrategyProps(),...makeScrollStrategyProps(),...makeThemeProps(),...makeTransitionProps()},"VOverlay"),VOverlay=genericComponent()({name:"VOverlay",directives:{vClickOutside:ClickOutside},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...makeVOverlayProps()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,keydown:e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:r,attrs:n,emit:i}=t;const o=getCurrentInstance("VOverlay"),a=ref(),s=ref(),l=ref(),c=useProxiedModel(e,"modelValue"),d=computed({get:()=>c.value,set:j=>{j&&e.disabled||(c.value=j)}}),{themeClasses:m}=provideTheme(e),{rtlClasses:g,isRtl:v}=useRtl(),{hasContent:_,onAfterLeave:S}=useLazy(e,d),C=useBackgroundColor(()=>typeof e.scrim=="string"?e.scrim:null),{globalTop:y,localTop:b,stackStyles:u}=useStack(d,()=>e.zIndex,e._disableGlobalStack),{activatorEl:w,activatorRef:x,target:E,targetEl:T,targetRef:k,activatorEvents:D,contentEvents:B,scrimEvents:A}=useActivator(e,{isActive:d,isTop:b,contentEl:l}),{teleportTarget:O}=useTeleport(()=>{var ne,Y,de;const j=e.attach||e.contained;if(j)return j;const M=((ne=w==null?void 0:w.value)==null?void 0:ne.getRootNode())||((de=(Y=o.proxy)==null?void 0:Y.$el)==null?void 0:de.getRootNode());return M instanceof ShadowRoot?M:!1}),{dimensionStyles:V}=useDimension(e),H=useHydration(),{scopeId:q}=useScopeId();watch(()=>e.disabled,j=>{j&&(d.value=!1)});const{contentStyles:K,updateLocation:Q}=useLocationStrategies(e,{isRtl:v,contentEl:l,target:E,isActive:d});useScrollStrategies(e,{root:a,contentEl:l,targetEl:T,target:E,isActive:d,updateLocation:Q});function X(j){i("click:outside",j),e.persistent?ue():d.value=!1}function N(j){return d.value&&y.value&&(!e.scrim||j.target===s.value||j instanceof MouseEvent&&j.shadowTarget===s.value)}IN_BROWSER&&watch(d,j=>{j?window.addEventListener("keydown",I):window.removeEventListener("keydown",I)},{immediate:!0}),onBeforeUnmount(()=>{IN_BROWSER&&window.removeEventListener("keydown",I)});function I(j){var M,ne,Y;j.key==="Escape"&&y.value&&((M=l.value)!=null&&M.contains(document.activeElement)||i("keydown",j),e.persistent?ue():(d.value=!1,(ne=l.value)!=null&&ne.contains(document.activeElement)&&((Y=w.value)==null||Y.focus())))}function U(j){j.key==="Escape"&&!y.value||i("keydown",j)}const F=useRouter();useToggleScope(()=>e.closeOnBack,()=>{useBackButton(F,j=>{y.value&&d.value?(j(!1),e.persistent?ue():d.value=!1):j()})});const ee=ref();watch(()=>d.value&&(e.absolute||e.contained)&&O.value==null,j=>{if(j){const M=getScrollParent$1(a.value);M&&M!==document.scrollingElement&&(ee.value=M.scrollTop)}});function ue(){e.noClickAnimation||l.value&&animate(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:standardEasing})}function he(){i("afterEnter")}function ve(){S(),i("afterLeave")}return useRender(()=>{var j;return createBaseVNode(Fragment,null,[(j=r.activator)==null?void 0:j.call(r,{isActive:d.value,targetRef:k,props:mergeProps({ref:x},D.value,e.activatorProps)}),H.value&&_.value&&createVNode(Teleport,{disabled:!O.value,to:O.value},{default:()=>[createBaseVNode("div",mergeProps({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":d.value,"v-overlay--contained":e.contained},m.value,g.value,e.class],style:[u.value,{"--v-overlay-opacity":e.opacity,top:convertToUnit(ee.value)},e.style],ref:a,onKeydown:U},q,n),[createVNode(Scrim,mergeProps({color:C,modelValue:d.value&&!!e.scrim,ref:s},A.value),null),createVNode(MaybeTransition,{appear:!0,persisted:!0,transition:e.transition,target:E.value,onAfterEnter:he,onAfterLeave:ve},{default:()=>{var M;return[withDirectives(createBaseVNode("div",mergeProps({ref:l,class:["v-overlay__content",e.contentClass],style:[V.value,K.value]},B.value,e.contentProps),[(M=r.default)==null?void 0:M.call(r,{isActive:d})]),[[vShow,d.value],[ClickOutside,{handler:X,closeConditional:N,include:()=>[w.value]}]])]}})])]})])}),{activatorEl:w,scrimEl:s,target:E,animateClick:ue,contentEl:l,globalTop:y,localTop:b,updateLocation:Q}}}),makeVMenuProps=propsFactory({id:String,submenu:Boolean,disableInitialFocus:Boolean,...omit$1(makeVOverlayProps({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:VDialogTransition}}),["absolute"])},"VMenu"),VMenu=genericComponent()({name:"VMenu",props:makeVMenuProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=useProxiedModel(e,"modelValue"),{scopeId:i}=useScopeId(),{isRtl:o}=useRtl(),a=useId(),s=toRef(()=>e.id||`v-menu-${a}`),l=ref(),c=inject$1(VMenuSymbol,null),d=shallowRef(new Set);provide(VMenuSymbol,{register(){d.value.add(a)},unregister(){d.value.delete(a)},closeParents(C){setTimeout(()=>{var y;!d.value.size&&!e.persistent&&(C==null||(y=l.value)!=null&&y.contentEl&&!isClickInsideElement(C,l.value.contentEl))&&(n.value=!1,c==null||c.closeParents())},40)}}),onBeforeUnmount(()=>{c==null||c.unregister(),document.removeEventListener("focusin",m)}),onDeactivated(()=>n.value=!1);async function m(C){var u,w,x;const y=C.relatedTarget,b=C.target;await nextTick$1(),n.value&&y!==b&&((u=l.value)!=null&&u.contentEl)&&((w=l.value)!=null&&w.globalTop)&&![document,l.value.contentEl].includes(b)&&!l.value.contentEl.contains(b)&&((x=focusableChildren(l.value.contentEl)[0])==null||x.focus())}watch(n,C=>{C?(c==null||c.register(),IN_BROWSER&&!e.disableInitialFocus&&document.addEventListener("focusin",m,{once:!0})):(c==null||c.unregister(),IN_BROWSER&&document.removeEventListener("focusin",m))},{immediate:!0});function g(C){c==null||c.closeParents(C)}function v(C){var y,b,u,w,x;if(!e.disabled)if(C.key==="Tab"||C.key==="Enter"&&!e.closeOnContentClick){if(C.key==="Enter"&&(C.target instanceof HTMLTextAreaElement||C.target instanceof HTMLInputElement&&C.target.closest("form")))return;C.key==="Enter"&&C.preventDefault(),getNextElement(focusableChildren((y=l.value)==null?void 0:y.contentEl,!1),C.shiftKey?"prev":"next",T=>T.tabIndex>=0)||(n.value=!1,(u=(b=l.value)==null?void 0:b.activatorEl)==null||u.focus())}else e.submenu&&C.key===(o.value?"ArrowRight":"ArrowLeft")&&(n.value=!1,(x=(w=l.value)==null?void 0:w.activatorEl)==null||x.focus())}function _(C){var b;if(e.disabled)return;const y=(b=l.value)==null?void 0:b.contentEl;y&&n.value?C.key==="ArrowDown"?(C.preventDefault(),C.stopImmediatePropagation(),focusChild(y,"next")):C.key==="ArrowUp"?(C.preventDefault(),C.stopImmediatePropagation(),focusChild(y,"prev")):e.submenu&&(C.key===(o.value?"ArrowRight":"ArrowLeft")?n.value=!1:C.key===(o.value?"ArrowLeft":"ArrowRight")&&(C.preventDefault(),focusChild(y,"first"))):(e.submenu?C.key===(o.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(C.key))&&(n.value=!0,C.preventDefault(),setTimeout(()=>setTimeout(()=>_(C))))}const S=computed(()=>mergeProps({"aria-haspopup":"menu","aria-expanded":String(n.value),"aria-controls":s.value,onKeydown:_},e.activatorProps));return useRender(()=>{const C=VOverlay.filterProps(e);return createVNode(VOverlay,mergeProps({ref:l,id:s.value,class:["v-menu",e.class],style:e.style},C,{modelValue:n.value,"onUpdate:modelValue":y=>n.value=y,absolute:!0,activatorProps:S.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":g,onKeydown:v},i),{activator:r.activator,default:function(){for(var y=arguments.length,b=new Array(y),u=0;u<y;u++)b[u]=arguments[u];return createVNode(VDefaultsProvider,{root:"VMenu"},{default:()=>{var w;return[(w=r.default)==null?void 0:w.call(r,...b)]}})}})}),forwardRefs({id:s,openChildren:d},l)}}),makeVCounterProps=propsFactory({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...makeComponentProps(),...makeTransitionProps({transition:{component:VSlideYTransition}})},"VCounter"),VCounter=genericComponent()({name:"VCounter",functional:!0,props:makeVCounterProps(),setup(e,t){let{slots:r}=t;const n=toRef(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return useRender(()=>createVNode(MaybeTransition,{transition:e.transition},{default:()=>[withDirectives(createBaseVNode("div",{class:normalizeClass(["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class]),style:normalizeStyle(e.style)},[r.default?r.default({counter:n.value,max:e.max,value:e.value}):n.value]),[[vShow,e.active]])]})),{}}}),makeVFieldLabelProps=propsFactory({floating:Boolean,...makeComponentProps()},"VFieldLabel"),VFieldLabel=genericComponent()({name:"VFieldLabel",props:makeVFieldLabelProps(),setup(e,t){let{slots:r}=t;return useRender(()=>createVNode(VLabel,{class:normalizeClass(["v-field-label",{"v-field-label--floating":e.floating},e.class]),style:normalizeStyle(e.style)},r)),{}}}),allowedVariants$1=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],makeVFieldProps=propsFactory({appendInnerIcon:IconValue,bgColor:String,clearable:Boolean,clearIcon:{type:IconValue,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,details:Boolean,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:IconValue,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>allowedVariants$1.includes(e)},"onClick:clear":EventProp(),"onClick:appendInner":EventProp(),"onClick:prependInner":EventProp(),...makeComponentProps(),...makeLoaderProps(),...makeRoundedProps(),...makeThemeProps()},"VField"),VField=genericComponent()({name:"VField",inheritAttrs:!1,props:{id:String,...makeFocusProps(),...makeVFieldProps()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:r,emit:n,slots:i}=t;const{themeClasses:o}=provideTheme(e),{loaderClasses:a}=useLoader(e),{focusClasses:s,isFocused:l,focus:c,blur:d}=useFocus(e),{InputIcon:m}=useInputIcon(e),{roundedClasses:g}=useRounded(e),{rtlClasses:v}=useRtl(),_=toRef(()=>e.dirty||e.active),S=toRef(()=>!!(e.label||i.label)),C=toRef(()=>!e.singleLine&&S.value),y=useId(),b=computed(()=>e.id||`input-${y}`),u=toRef(()=>e.details?`${b.value}-messages`:void 0),w=ref(),x=ref(),E=ref(),T=computed(()=>["plain","underlined"].includes(e.variant)),k=computed(()=>e.error||e.disabled?void 0:_.value&&l.value?e.color:e.baseColor),D=computed(()=>{if(!(!e.iconColor||e.glow&&!l.value))return e.iconColor===!0?k.value:e.iconColor}),{backgroundColorClasses:B,backgroundColorStyles:A}=useBackgroundColor(()=>e.bgColor),{textColorClasses:O,textColorStyles:V}=useTextColor(k);watch(_,K=>{if(C.value){const Q=w.value.$el,X=x.value.$el;requestAnimationFrame(()=>{const N=nullifyTransforms(Q),I=X.getBoundingClientRect(),U=I.x-N.x,F=I.y-N.y-(N.height/2-I.height/2),ee=I.width/.75,ue=Math.abs(ee-N.width)>1?{maxWidth:convertToUnit(ee)}:void 0,he=getComputedStyle(Q),ve=getComputedStyle(X),j=parseFloat(he.transitionDuration)*1e3||150,M=parseFloat(ve.getPropertyValue("--v-field-label-scale")),ne=ve.getPropertyValue("color");Q.style.visibility="visible",X.style.visibility="hidden",animate(Q,{transform:`translate(${U}px, ${F}px) scale(${M})`,color:ne,...ue},{duration:j,easing:standardEasing,direction:K?"normal":"reverse"}).finished.then(()=>{Q.style.removeProperty("visibility"),X.style.removeProperty("visibility")})})}},{flush:"post"});const H=computed(()=>({isActive:_,isFocused:l,controlRef:E,blur:d,focus:c}));function q(K){K.target!==document.activeElement&&K.preventDefault()}return useRender(()=>{var U,F,ee;const K=e.variant==="outlined",Q=!!(i["prepend-inner"]||e.prependInnerIcon),X=!!(e.clearable||i.clear)&&!e.disabled,N=!!(i["append-inner"]||e.appendInnerIcon||X),I=()=>i.label?i.label({...H.value,label:e.label,props:{for:b.value}}):e.label;return createBaseVNode("div",mergeProps({class:["v-field",{"v-field--active":_.value,"v-field--appended":N,"v-field--center-affix":e.centerAffix??!T.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":Q,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!I(),[`v-field--variant-${e.variant}`]:!0},o.value,B.value,s.value,a.value,g.value,v.value,e.class],style:[A.value,e.style],onClick:q},r),[createBaseVNode("div",{class:"v-field__overlay"},null),createVNode(LoaderSlot,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:i.loader}),Q&&createBaseVNode("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&createVNode(m,{key:"prepend-icon",name:"prependInner",color:D.value},null),(U=i["prepend-inner"])==null?void 0:U.call(i,H.value)]),createBaseVNode("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&C.value&&createVNode(VFieldLabel,{key:"floating-label",ref:x,class:normalizeClass([O.value]),floating:!0,for:b.value,"aria-hidden":!_.value,style:normalizeStyle(V.value)},{default:()=>[I()]}),S.value&&createVNode(VFieldLabel,{key:"label",ref:w,for:b.value},{default:()=>[I()]}),((F=i.default)==null?void 0:F.call(i,{...H.value,props:{id:b.value,class:"v-field__input","aria-describedby":u.value},focus:c,blur:d}))??createBaseVNode("div",{id:b.value,class:"v-field__input","aria-describedby":u.value},null)]),X&&createVNode(VExpandXTransition,{key:"clear"},{default:()=>[withDirectives(createBaseVNode("div",{class:"v-field__clearable",onMousedown:ue=>{ue.preventDefault(),ue.stopPropagation()}},[createVNode(VDefaultsProvider,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[i.clear?i.clear({...H.value,props:{onFocus:c,onBlur:d,onClick:e["onClick:clear"],tabindex:-1}}):createVNode(m,{name:"clear",onFocus:c,onBlur:d,tabindex:-1},null)]})]),[[vShow,e.dirty]])]}),N&&createBaseVNode("div",{key:"append",class:"v-field__append-inner"},[(ee=i["append-inner"])==null?void 0:ee.call(i,H.value),e.appendInnerIcon&&createVNode(m,{key:"append-icon",name:"appendInner",color:D.value},null)]),createBaseVNode("div",{class:normalizeClass(["v-field__outline",O.value]),style:normalizeStyle(V.value)},[K&&createBaseVNode(Fragment,null,[createBaseVNode("div",{class:"v-field__outline__start"},null),C.value&&createBaseVNode("div",{class:"v-field__outline__notch"},[createVNode(VFieldLabel,{ref:x,floating:!0,for:b.value,"aria-hidden":!_.value},{default:()=>[I()]})]),createBaseVNode("div",{class:"v-field__outline__end"},null)]),T.value&&C.value&&createVNode(VFieldLabel,{ref:x,floating:!0,for:b.value,"aria-hidden":!_.value},{default:()=>[I()]})])])}),{controlRef:E,fieldIconColor:D}}});function useAutofocus(e){function t(r,n){var i,o;!e.autofocus||!r||(o=(i=n[0].target)==null?void 0:i.focus)==null||o.call(i)}return{onIntersect:t}}const activeTypes=["color","file","time","date","datetime-local","week","month"],makeVTextFieldProps=propsFactory({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...makeVInputProps(),...makeVFieldProps()},"VTextField"),VTextField=genericComponent()({name:"VTextField",directives:{vIntersect:Intersect},inheritAttrs:!1,props:makeVTextFieldProps(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:r,emit:n,slots:i}=t;const o=useProxiedModel(e,"modelValue"),{isFocused:a,focus:s,blur:l}=useFocus(e),{onIntersect:c}=useAutofocus(e),d=computed(()=>typeof e.counterValue=="function"?e.counterValue(o.value):typeof e.counterValue=="number"?e.counterValue:(o.value??"").toString().length),m=computed(()=>{if(r.maxlength)return r.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),g=computed(()=>["plain","underlined"].includes(e.variant)),v=ref(),_=ref(),S=ref(),C=computed(()=>activeTypes.includes(e.type)||e.persistentPlaceholder||a.value||e.active);function y(){a.value||s(),nextTick$1(()=>{var E;S.value!==document.activeElement&&((E=S.value)==null||E.focus())})}function b(E){n("mousedown:control",E),E.target!==S.value&&(y(),E.preventDefault())}function u(E){n("click:control",E)}function w(E,T){E.stopPropagation(),y(),nextTick$1(()=>{o.value=null,T(),callEvent(e["onClick:clear"],E)})}function x(E){var k;const T=E.target;if(o.value=T.value,(k=e.modelModifiers)!=null&&k.trim&&["text","search","password","tel","url"].includes(e.type)){const D=[T.selectionStart,T.selectionEnd];nextTick$1(()=>{T.selectionStart=D[0],T.selectionEnd=D[1]})}}return useRender(()=>{const E=!!(i.counter||e.counter!==!1&&e.counter!=null),T=!!(E||i.details),[k,D]=filterInputAttrs(r),{modelValue:B,...A}=VInput.filterProps(e),O=VField.filterProps(e);return createVNode(VInput,mergeProps({ref:v,modelValue:o.value,"onUpdate:modelValue":V=>o.value=V,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":g.value},e.class],style:e.style},k,A,{centerAffix:!g.value,focused:a.value}),{...i,default:V=>{let{id:H,isDisabled:q,isDirty:K,isReadonly:Q,isValid:X,hasDetails:N,reset:I}=V;return createVNode(VField,mergeProps({ref:_,onMousedown:b,onClick:u,"onClick:clear":U=>w(U,I),"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},omit$1(O,["onClick:clear"]),{id:H.value,active:C.value||K.value,dirty:K.value||e.dirty,disabled:q.value,focused:a.value,details:N.value,error:X.value===!1}),{...i,default:U=>{let{props:{class:F,...ee}}=U;const ue=withDirectives(createBaseVNode("input",mergeProps({ref:S,value:o.value,onInput:x,autofocus:e.autofocus,readonly:Q.value,disabled:q.value,name:e.name,placeholder:e.placeholder,size:1,role:e.role,type:e.type,onFocus:s,onBlur:l},ee,D),null),[[Intersect,{handler:c},null,{once:!0}]]);return createBaseVNode(Fragment,null,[e.prefix&&createBaseVNode("span",{class:"v-text-field__prefix"},[createBaseVNode("span",{class:"v-text-field__prefix__text"},[e.prefix])]),i.default?createBaseVNode("div",{class:normalizeClass(F),"data-no-activator":""},[i.default(),ue]):cloneVNode(ue,{class:F}),e.suffix&&createBaseVNode("span",{class:"v-text-field__suffix"},[createBaseVNode("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:T?V=>{var H;return createBaseVNode(Fragment,null,[(H=i.details)==null?void 0:H.call(i,V),E&&createBaseVNode(Fragment,null,[createBaseVNode("span",null,null),createVNode(VCounter,{active:e.persistentCounter||a.value,value:d.value,max:m.value,disabled:e.disabled},i.counter)])])}:void 0})}),forwardRefs({},v,_,S)}}),makeVVirtualScrollItemProps=propsFactory({renderless:Boolean,...makeComponentProps()},"VVirtualScrollItem"),VVirtualScrollItem=genericComponent()({name:"VVirtualScrollItem",inheritAttrs:!1,props:makeVVirtualScrollItemProps(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:r,emit:n,slots:i}=t;const{resizeRef:o,contentRect:a}=useResizeObserver(void 0,"border");watch(()=>{var s;return(s=a.value)==null?void 0:s.height},s=>{s!=null&&n("update:height",s)}),useRender(()=>{var s,l;return e.renderless?createBaseVNode(Fragment,null,[(s=i.default)==null?void 0:s.call(i,{itemRef:o})]):createBaseVNode("div",mergeProps({ref:o,class:["v-virtual-scroll__item",e.class],style:e.style},r),[(l=i.default)==null?void 0:l.call(i)])})}}),UP=-1,DOWN=1,BUFFER_PX=100,makeVirtualProps=propsFactory({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function useVirtual(e,t){const r=useDisplay(),n=shallowRef(0);watchEffect(()=>{n.value=parseFloat(e.itemHeight||0)});const i=shallowRef(0),o=shallowRef(Math.ceil((parseInt(e.height)||r.height.value)/(n.value||16))||1),a=shallowRef(0),s=shallowRef(0),l=ref(),c=ref();let d=0;const{resizeRef:m,contentRect:g}=useResizeObserver();watchEffect(()=>{m.value=l.value});const v=computed(()=>{var I;return l.value===document.documentElement?r.height.value:((I=g.value)==null?void 0:I.height)||parseInt(e.height)||0}),_=computed(()=>!!(l.value&&c.value&&v.value&&n.value));let S=Array.from({length:t.value.length}),C=Array.from({length:t.value.length});const y=shallowRef(0);let b=-1;function u(I){return S[I]||n.value}const w=debounce$2(()=>{const I=performance.now();C[0]=0;const U=t.value.length;for(let F=1;F<=U-1;F++)C[F]=(C[F-1]||0)+u(F-1);y.value=Math.max(y.value,performance.now()-I)},y),x=watch(_,I=>{I&&(x(),d=c.value.offsetTop,w.immediate(),K(),~b&&nextTick$1(()=>{IN_BROWSER&&window.requestAnimationFrame(()=>{X(b),b=-1})}))});onScopeDispose(()=>{w.clear()});function E(I,U){const F=S[I],ee=n.value;n.value=ee?Math.min(n.value,U):U,(F!==U||ee!==n.value)&&(S[I]=U,w())}function T(I){I=clamp$1(I,0,t.value.length-1);const U=Math.floor(I),F=I%1,ee=U+1,ue=C[U]||0,he=C[ee]||ue;return ue+(he-ue)*F}function k(I){return binaryClosest(C,I)}let D=0,B=0,A=0;watch(v,(I,U)=>{U&&(K(),I<U&&requestAnimationFrame(()=>{B=0,K()}))});let O=-1;function V(){if(!l.value||!c.value)return;const I=l.value.scrollTop,U=performance.now();U-A>500?(B=Math.sign(I-D),d=c.value.offsetTop):B=I-D,D=I,A=U,window.clearTimeout(O),O=window.setTimeout(H,500),K()}function H(){!l.value||!c.value||(B=0,A=0,window.clearTimeout(O),K())}let q=-1;function K(){cancelAnimationFrame(q),q=requestAnimationFrame(Q)}function Q(){if(!l.value||!v.value||!n.value)return;const I=D-d,U=Math.sign(B),F=Math.max(0,I-BUFFER_PX),ee=clamp$1(k(F),0,t.value.length),ue=I+v.value+BUFFER_PX,he=clamp$1(k(ue)+1,ee+1,t.value.length);if((U!==UP||ee<i.value)&&(U!==DOWN||he>o.value)){const ve=T(i.value)-T(ee),j=T(he)-T(o.value);Math.max(ve,j)>BUFFER_PX?(i.value=ee,o.value=he):(ee<=0&&(i.value=ee),he>=t.value.length&&(o.value=he))}a.value=T(i.value),s.value=T(t.value.length)-T(o.value)}function X(I){const U=T(I);!l.value||I&&!U?b=I:l.value.scrollTop=U}const N=computed(()=>t.value.slice(i.value,o.value).map((I,U)=>{const F=U+i.value;return{raw:I,index:F,key:getPropertyFromItem(I,e.itemKey,F)}}));return watch(t,()=>{S=Array.from({length:t.value.length}),C=Array.from({length:t.value.length}),w.immediate(),K()},{deep:1}),{calculateVisibleItems:K,containerRef:l,markerRef:c,computedItems:N,paddingTop:a,paddingBottom:s,scrollToIndex:X,handleScroll:V,handleScrollend:H,handleItemResize:E}}function binaryClosest(e,t){let r=e.length-1,n=0,i=0,o=null,a=-1;if(e[r]<t)return r;for(;n<=r;)if(i=n+r>>1,o=e[i],o>t)r=i-1;else if(o<t)a=i,n=i+1;else return o===t?i:n;return a}const makeVVirtualScrollProps=propsFactory({items:{type:Array,default:()=>[]},renderless:Boolean,...makeVirtualProps(),...makeComponentProps(),...makeDimensionProps()},"VVirtualScroll"),VVirtualScroll=genericComponent()({name:"VVirtualScroll",props:makeVVirtualScrollProps(),setup(e,t){let{slots:r}=t;const n=getCurrentInstance("VVirtualScroll"),{dimensionStyles:i}=useDimension(e),{calculateVisibleItems:o,containerRef:a,markerRef:s,handleScroll:l,handleScrollend:c,handleItemResize:d,scrollToIndex:m,paddingTop:g,paddingBottom:v,computedItems:_}=useVirtual(e,toRef(()=>e.items));return useToggleScope(()=>e.renderless,()=>{function S(){var b,u;const y=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";a.value===document.documentElement?(document[y]("scroll",l,{passive:!0}),document[y]("scrollend",c)):((b=a.value)==null||b[y]("scroll",l,{passive:!0}),(u=a.value)==null||u[y]("scrollend",c))}onMounted(()=>{a.value=getScrollParent$1(n.vnode.el,!0),S(!0)}),onScopeDispose(S)}),useRender(()=>{const S=_.value.map(C=>createVNode(VVirtualScrollItem,{key:C.key,renderless:e.renderless,"onUpdate:height":y=>d(C.index,y)},{default:y=>{var b;return(b=r.default)==null?void 0:b.call(r,{item:C.raw,index:C.index,...y})}}));return e.renderless?createBaseVNode(Fragment,null,[createBaseVNode("div",{ref:s,class:"v-virtual-scroll__spacer",style:{paddingTop:convertToUnit(g.value)}},null),S,createBaseVNode("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:convertToUnit(v.value)}},null)]):createBaseVNode("div",{ref:a,class:normalizeClass(["v-virtual-scroll",e.class]),onScrollPassive:l,onScrollend:c,style:normalizeStyle([i.value,e.style])},[createBaseVNode("div",{ref:s,class:"v-virtual-scroll__container",style:{paddingTop:convertToUnit(g.value),paddingBottom:convertToUnit(v.value)}},[S])])}),{calculateVisibleItems:o,scrollToIndex:m}}});function useScrolling(e,t){const r=shallowRef(!1);let n;function i(s){cancelAnimationFrame(n),r.value=!0,n=requestAnimationFrame(()=>{n=requestAnimationFrame(()=>{r.value=!1})})}async function o(){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>{if(r.value){const l=watch(r,()=>{l(),s()})}else s()})}async function a(s){var d,m;if(s.key==="Tab"&&((d=t.value)==null||d.focus()),!["PageDown","PageUp","Home","End"].includes(s.key))return;const l=(m=e.value)==null?void 0:m.$el;if(!l)return;(s.key==="Home"||s.key==="End")&&l.scrollTo({top:s.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await o();const c=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const g=l.getBoundingClientRect().top;for(const v of c)if(v.getBoundingClientRect().top>=g){v.focus();break}}else{const g=l.getBoundingClientRect().bottom;for(const v of[...c].reverse())if(v.getBoundingClientRect().bottom<=g){v.focus();break}}}return{onScrollPassive:i,onKeydown:a}}const makeSelectProps=propsFactory({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:IconValue,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...makeItemsProps({itemChildren:!1})},"Select"),makeVSelectProps=propsFactory({...makeSelectProps(),...omit$1(makeVTextFieldProps({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...makeTransitionProps({transition:{component:VDialogTransition}})},"VSelect"),VSelect=genericComponent()({name:"VSelect",props:makeVSelectProps(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:r}=t;const{t:n}=useLocale(),i=ref(),o=ref(),a=ref(),{items:s,transformIn:l,transformOut:c}=useItems(e),d=useProxiedModel(e,"modelValue",[],I=>l(I===null?[null]:wrapInArray(I)),I=>{const U=c(I);return e.multiple?U:U[0]??null}),m=computed(()=>typeof e.counterValue=="function"?e.counterValue(d.value):typeof e.counterValue=="number"?e.counterValue:d.value.length),g=useForm(e),v=computed(()=>d.value.map(I=>I.value)),_=shallowRef(!1);let S="",C=-1,y;const b=computed(()=>e.hideSelected?s.value.filter(I=>!d.value.some(U=>(e.valueComparator||deepEqual)(U,I))):s.value),u=computed(()=>e.hideNoData&&!b.value.length||g.isReadonly.value||g.isDisabled.value),w=useProxiedModel(e,"menu"),x=computed({get:()=>w.value,set:I=>{var U;w.value&&!I&&((U=o.value)!=null&&U.openChildren.size)||I&&u.value||(w.value=I)}}),E=toRef(()=>x.value?e.closeText:e.openText),T=computed(()=>{var I;return{...e.menuProps,activatorProps:{...((I=e.menuProps)==null?void 0:I.activatorProps)||{},"aria-haspopup":"listbox"}}}),k=ref(),D=useScrolling(k,i);function B(I){e.openOnClear&&(x.value=!0)}function A(){u.value||(x.value=!x.value)}function O(I){checkPrintable(I)&&V(I)}function V(I){var ne,Y,de;if(!I.key||g.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(I.key)&&I.preventDefault(),["Enter","ArrowDown"," "].includes(I.key)&&(x.value=!0),["Escape","Tab"].includes(I.key)&&(x.value=!1),I.key==="Home"?(ne=k.value)==null||ne.focus("first"):I.key==="End"&&((Y=k.value)==null||Y.focus("last"));const U=1e3;if(!checkPrintable(I))return;const F=performance.now();F-y>U&&(S="",C=-1),S+=I.key.toLowerCase(),y=F;const ee=b.value;function ue(){let L=he();return L||S.at(-1)===S.at(-2)&&(S=S.slice(0,-1),L=he(),L)||(C=-1,L=he(),L)?L:(S=I.key.toLowerCase(),he())}function he(){for(let L=C+1;L<ee.length;L++){const W=ee[L];if(W.title.toLowerCase().startsWith(S))return[W,L]}}const ve=ue();if(!ve)return;const[j,M]=ve;C=M,(de=k.value)==null||de.focus(M),e.multiple||(d.value=[j])}function H(I){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!I.props.disabled)if(e.multiple){const F=d.value.findIndex(ue=>(e.valueComparator||deepEqual)(ue.value,I.value)),ee=U??!~F;if(~F){const ue=ee?[...d.value,I]:[...d.value];ue.splice(F,1),d.value=ue}else ee&&(d.value=[...d.value,I])}else{const F=U!==!1;d.value=F?[I]:[],nextTick$1(()=>{x.value=!1})}}function q(I){var U;(U=k.value)!=null&&U.$el.contains(I.relatedTarget)||(x.value=!1)}function K(){var I;e.eager&&((I=a.value)==null||I.calculateVisibleItems())}function Q(){var I;_.value&&((I=i.value)==null||I.focus())}function X(I){_.value=!0}function N(I){if(I==null)d.value=[];else if(matchesSelector(i.value,":autofill")||matchesSelector(i.value,":-webkit-autofill")){const U=s.value.find(F=>F.title===I);U&&H(U)}else i.value&&(i.value.value="")}return watch(x,()=>{if(!e.hideSelected&&x.value&&d.value.length){const I=b.value.findIndex(U=>d.value.some(F=>(e.valueComparator||deepEqual)(F.value,U.value)));IN_BROWSER&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{var U;I>=0&&((U=a.value)==null||U.scrollToIndex(I))})}}),watch(()=>e.items,(I,U)=>{x.value||_.value&&e.hideNoData&&!U.length&&I.length&&(x.value=!0)}),useRender(()=>{const I=!!(e.chips||r.chip),U=!!(!e.hideNoData||b.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),F=d.value.length>0,ee=VTextField.filterProps(e),ue=F||!_.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return createVNode(VTextField,mergeProps({ref:i},ee,{modelValue:d.value.map(he=>he.props.title).join(", "),"onUpdate:modelValue":N,focused:_.value,"onUpdate:focused":he=>_.value=he,validationValue:d.externalValue,counterValue:m.value,dirty:F,class:["v-select",{"v-select--active-menu":x.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":d.value.length,"v-select--selection-slot":!!r.selection},e.class],style:e.style,inputmode:"none",placeholder:ue,"onClick:clear":B,"onMousedown:control":A,onBlur:q,onKeydown:V,"aria-label":n(E.value),title:n(E.value)}),{...r,default:()=>createBaseVNode(Fragment,null,[createVNode(VMenu,mergeProps({ref:o,modelValue:x.value,"onUpdate:modelValue":he=>x.value=he,activator:"parent",contentClass:"v-select__content",disabled:u.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:K,onAfterLeave:Q},T.value),{default:()=>[U&&createVNode(VList,mergeProps({ref:k,selected:v.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:he=>he.preventDefault(),onKeydown:O,onFocusin:X,tabindex:"-1","aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},D,e.listProps),{default:()=>{var he,ve,j;return[(he=r["prepend-item"])==null?void 0:he.call(r),!b.value.length&&!e.hideNoData&&(((ve=r["no-data"])==null?void 0:ve.call(r))??createVNode(VListItem,{key:"no-data",title:n(e.noDataText)},null)),createVNode(VVirtualScroll,{ref:a,renderless:!0,items:b.value,itemKey:"value"},{default:M=>{var J,ae,me;let{item:ne,index:Y,itemRef:de}=M;const L=camelizeProps(ne.props),W=mergeProps(ne.props,{ref:de,key:ne.value,onClick:()=>H(ne,null)});return ne.type==="divider"?((J=r.divider)==null?void 0:J.call(r,{props:ne.raw,index:Y}))??createVNode(VDivider,mergeProps(ne.props,{key:`divider-${Y}`}),null):ne.type==="subheader"?((ae=r.subheader)==null?void 0:ae.call(r,{props:ne.raw,index:Y}))??createVNode(VListSubheader,mergeProps(ne.props,{key:`subheader-${Y}`}),null):((me=r.item)==null?void 0:me.call(r,{item:ne,index:Y,props:W}))??createVNode(VListItem,mergeProps(W,{role:"option"}),{prepend:oe=>{let{isSelected:_e}=oe;return createBaseVNode(Fragment,null,[e.multiple&&!e.hideSelected?createVNode(VCheckboxBtn,{key:ne.value,modelValue:_e,ripple:!1,tabindex:"-1"},null):void 0,L.prependAvatar&&createVNode(VAvatar,{image:L.prependAvatar},null),L.prependIcon&&createVNode(VIcon,{icon:L.prependIcon},null)])}})}}),(j=r["append-item"])==null?void 0:j.call(r)]}})]}),d.value.map((he,ve)=>{function j(de){de.stopPropagation(),de.preventDefault(),H(he,!1)}const M={"onClick:close":j,onKeydown(de){de.key!=="Enter"&&de.key!==" "||(de.preventDefault(),de.stopPropagation(),j(de))},onMousedown(de){de.preventDefault(),de.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ne=I?!!r.chip:!!r.selection,Y=ne?ensureValidVNode(I?r.chip({item:he,index:ve,props:M}):r.selection({item:he,index:ve})):void 0;if(!(ne&&!Y))return createBaseVNode("div",{key:he.value,class:"v-select__selection"},[I?r.chip?createVNode(VDefaultsProvider,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:he.title}}},{default:()=>[Y]}):createVNode(VChip,mergeProps({key:"chip",closable:e.closableChips,size:"small",text:he.title,disabled:he.props.disabled},M),null):Y??createBaseVNode("span",{class:"v-select__selection-text"},[he.title,e.multiple&&ve<d.value.length-1&&createBaseVNode("span",{class:"v-select__selection-comma"},[createTextVNode(",")])])])})]),"append-inner":function(){var M,ne;for(var he=arguments.length,ve=new Array(he),j=0;j<he;j++)ve[j]=arguments[j];return createBaseVNode(Fragment,null,[(M=r["append-inner"])==null?void 0:M.call(r,...ve),e.menuIcon?createVNode(VIcon,{class:"v-select__menu-icon",color:(ne=i.value)==null?void 0:ne.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),forwardRefs({isFocused:_,menu:x,select:H},i)}}),defaultFilter=(e,t,r)=>{if(e==null||t==null)return-1;if(!t.length)return 0;e=e.toString().toLocaleLowerCase(),t=t.toString().toLocaleLowerCase();const n=[];let i=e.indexOf(t);for(;~i;)n.push([i,i+t.length]),i=e.indexOf(t,i+t.length);return n.length?n:-1};function normaliseMatch(e,t){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+t.length]]:Array.isArray(e[0])?e:[e]}const makeFilterProps=propsFactory({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function filterItems(e,t,r){var s;const n=[],i=(r==null?void 0:r.default)??defaultFilter,o=r!=null&&r.filterKeys?wrapInArray(r.filterKeys):!1,a=Object.keys((r==null?void 0:r.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return n;e:for(let l=0;l<e.length;l++){const[c,d=c]=wrapInArray(e[l]),m={},g={};let v=-1;if((t||a>0)&&!(r!=null&&r.noFilter)){let _=!1;if(typeof c=="object"){if(c.type==="divider"||c.type==="subheader")continue;const y=o||Object.keys(d);_=y.length===a;for(const b of y){const u=getPropertyFromItem(d,b),w=(s=r==null?void 0:r.customKeyFilter)==null?void 0:s[b];if(v=w?w(u,t,c):i(u,t,c),v!==-1&&v!==!1)w?m[b]=normaliseMatch(v,t):g[b]=normaliseMatch(v,t);else if((r==null?void 0:r.filterMode)==="every")continue e}}else v=i(c,t,c),v!==-1&&v!==!1&&(g.title=normaliseMatch(v,t));const S=Object.keys(g).length,C=Object.keys(m).length;if(!S&&!C||(r==null?void 0:r.filterMode)==="union"&&C!==a&&!S||(r==null?void 0:r.filterMode)==="intersection"&&(C!==a||!S&&a>0&&!_))continue}n.push({index:l,matches:{...g,...m}})}return n}function useFilter(e,t,r,n){const i=shallowRef([]),o=shallowRef(new Map),a=computed(()=>unref(t));watchEffect(()=>{const l=typeof r=="function"?r():unref(r),c=typeof l!="string"&&typeof l!="number"?"":String(l),d=filterItems(a.value,c,{customKeyFilter:{...e.customKeyFilter,...unref(n==null?void 0:n.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),m=unref(t),g=[],v=new Map;d.forEach(_=>{let{index:S,matches:C}=_;const y=m[S];g.push(y),v.set(y.value,C)}),i.value=g,o.value=v});function s(l){return o.value.get(l.value)}return{filteredItems:i,filteredMatches:o,getMatches:s}}function highlightResult(e,t,r){return r==null||!r.length?t:r.map((n,i)=>{const o=i===0?0:r[i-1][1],a=[createBaseVNode("span",{class:normalizeClass(`${e}__unmask`)},[t.slice(o,n[0])]),createBaseVNode("span",{class:normalizeClass(`${e}__mask`)},[t.slice(n[0],n[1])])];return i===r.length-1&&a.push(createBaseVNode("span",{class:normalizeClass(`${e}__unmask`)},[t.slice(n[1])])),createBaseVNode(Fragment,null,[a])})}const makeVAutocompleteProps=propsFactory({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...makeFilterProps({filterKeys:["title"]}),...makeSelectProps(),...omit$1(makeVTextFieldProps({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...makeTransitionProps({transition:!1})},"VAutocomplete"),VAutocomplete=genericComponent()({name:"VAutocomplete",props:makeVAutocompleteProps(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:r}=t;const{t:n}=useLocale(),i=ref(),o=shallowRef(!1),a=shallowRef(!0),s=shallowRef(!1),l=ref(),c=ref(),d=shallowRef(-1),{items:m,transformIn:g,transformOut:v}=useItems(e),{textColorClasses:_,textColorStyles:S}=useTextColor(()=>{var Y;return(Y=i.value)==null?void 0:Y.color}),C=useProxiedModel(e,"search",""),y=useProxiedModel(e,"modelValue",[],Y=>g(Y===null?[null]:wrapInArray(Y)),Y=>{const de=v(Y);return e.multiple?de:de[0]??null}),b=computed(()=>typeof e.counterValue=="function"?e.counterValue(y.value):typeof e.counterValue=="number"?e.counterValue:y.value.length),u=useForm(e),{filteredItems:w,getMatches:x}=useFilter(e,m,()=>a.value?"":C.value),E=computed(()=>e.hideSelected?w.value.filter(Y=>!y.value.some(de=>de.value===Y.value)):w.value),T=computed(()=>!!(e.chips||r.chip)),k=computed(()=>T.value||!!r.selection),D=computed(()=>y.value.map(Y=>Y.props.value)),B=computed(()=>{var de;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&C.value===((de=E.value[0])==null?void 0:de.title))&&E.value.length>0&&!a.value&&!s.value}),A=computed(()=>e.hideNoData&&!E.value.length||u.isReadonly.value||u.isDisabled.value),O=useProxiedModel(e,"menu"),V=computed({get:()=>O.value,set:Y=>{var de;O.value&&!Y&&((de=l.value)!=null&&de.openChildren.size)||Y&&A.value||(O.value=Y)}}),H=computed(()=>V.value?e.closeText:e.openText),q=ref(),K=useScrolling(q,i);function Q(Y){e.openOnClear&&(V.value=!0),C.value=""}function X(){A.value||(V.value=!0)}function N(Y){A.value||(o.value&&(Y.preventDefault(),Y.stopPropagation()),V.value=!V.value)}function I(Y){var de;(checkPrintable(Y)||Y.key==="Backspace")&&((de=i.value)==null||de.focus())}function U(Y){var W,J,ae,me,oe;if(u.isReadonly.value)return;const de=(W=i.value)==null?void 0:W.selectionStart,L=y.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(Y.key)&&Y.preventDefault(),["Enter","ArrowDown"].includes(Y.key)&&(V.value=!0),["Escape"].includes(Y.key)&&(V.value=!1),B.value&&["Enter","Tab"].includes(Y.key)&&!y.value.some(_e=>{let{value:pe}=_e;return pe===E.value[0].value})&&ne(E.value[0]),Y.key==="ArrowDown"&&B.value&&((J=q.value)==null||J.focus("next")),["Backspace","Delete"].includes(Y.key)){if(!e.multiple&&k.value&&y.value.length>0&&!C.value)return ne(y.value[0],!1);if(~d.value){Y.preventDefault();const _e=d.value;ne(y.value[d.value],!1),d.value=_e>=L-1?L-2:_e}else Y.key==="Backspace"&&!C.value&&(d.value=L-1);return}if(e.multiple)if(Y.key==="ArrowLeft"){if(d.value<0&&de&&de>0)return;const _e=d.value>-1?d.value-1:L-1;if(y.value[_e])d.value=_e;else{const pe=((ae=C.value)==null?void 0:ae.length)??null;d.value=-1,(me=i.value)==null||me.setSelectionRange(pe,pe)}}else if(Y.key==="ArrowRight"){if(d.value<0)return;const _e=d.value+1;y.value[_e]?d.value=_e:(d.value=-1,(oe=i.value)==null||oe.setSelectionRange(0,0))}else~d.value&&checkPrintable(Y)&&(d.value=-1)}function F(Y){if(matchesSelector(i.value,":autofill")||matchesSelector(i.value,":-webkit-autofill")){const de=m.value.find(L=>L.title===Y.target.value);de&&ne(de)}}function ee(){var Y;e.eager&&((Y=c.value)==null||Y.calculateVisibleItems())}function ue(){var Y;o.value&&(a.value=!0,(Y=i.value)==null||Y.focus())}function he(Y){o.value=!0,setTimeout(()=>{s.value=!0})}function ve(Y){s.value=!1}function j(Y){(Y==null||Y===""&&!e.multiple&&!k.value)&&(y.value=[])}const M=shallowRef(!1);function ne(Y){let de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!Y||Y.props.disabled))if(e.multiple){const L=y.value.findIndex(J=>(e.valueComparator||deepEqual)(J.value,Y.value)),W=de??!~L;if(~L){const J=W?[...y.value,Y]:[...y.value];J.splice(L,1),y.value=J}else W&&(y.value=[...y.value,Y]);e.clearOnSelect&&(C.value="")}else{const L=de!==!1;y.value=L?[Y]:[],C.value=L&&!k.value?Y.title:"",nextTick$1(()=>{V.value=!1,a.value=!0})}}return watch(o,(Y,de)=>{var L;Y!==de&&(Y?(M.value=!0,C.value=e.multiple||k.value?"":String(((L=y.value.at(-1))==null?void 0:L.props.title)??""),a.value=!0,nextTick$1(()=>M.value=!1)):(!e.multiple&&C.value==null&&(y.value=[]),V.value=!1,(e.multiple||k.value)&&(C.value=""),d.value=-1))}),watch(C,Y=>{!o.value||M.value||(Y&&(V.value=!0),a.value=!Y)}),watch(V,()=>{if(!e.hideSelected&&V.value&&y.value.length){const Y=E.value.findIndex(de=>y.value.some(L=>de.value===L.value));IN_BROWSER&&window.requestAnimationFrame(()=>{var de;Y>=0&&((de=c.value)==null||de.scrollToIndex(Y))})}}),watch(()=>e.items,(Y,de)=>{V.value||o.value&&!de.length&&Y.length&&(V.value=!0)}),useRender(()=>{const Y=!!(!e.hideNoData||E.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),de=y.value.length>0,L=VTextField.filterProps(e);return createVNode(VTextField,mergeProps({ref:i},L,{modelValue:C.value,"onUpdate:modelValue":[W=>C.value=W,j],focused:o.value,"onUpdate:focused":W=>o.value=W,validationValue:y.externalValue,counterValue:b.value,dirty:de,onChange:F,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":V.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!k.value,"v-autocomplete--selecting-index":d.value>-1},e.class],style:e.style,readonly:u.isReadonly.value,placeholder:de?void 0:e.placeholder,"onClick:clear":Q,"onMousedown:control":X,onKeydown:U}),{...r,default:()=>createBaseVNode(Fragment,null,[createVNode(VMenu,mergeProps({ref:l,modelValue:V.value,"onUpdate:modelValue":W=>V.value=W,activator:"parent",contentClass:"v-autocomplete__content",disabled:A.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:ee,onAfterLeave:ue},e.menuProps),{default:()=>[Y&&createVNode(VList,mergeProps({ref:q,filterable:!0,selected:D.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:W=>W.preventDefault(),onKeydown:I,onFocusin:he,onFocusout:ve,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},K,e.listProps),{default:()=>{var W,J,ae;return[(W=r["prepend-item"])==null?void 0:W.call(r),!E.value.length&&!e.hideNoData&&(((J=r["no-data"])==null?void 0:J.call(r))??createVNode(VListItem,{key:"no-data",title:n(e.noDataText)},null)),createVNode(VVirtualScroll,{ref:c,renderless:!0,items:E.value,itemKey:"value"},{default:me=>{var ce,ye,be;let{item:oe,index:_e,itemRef:pe}=me;const se=mergeProps(oe.props,{ref:pe,key:oe.value,active:B.value&&_e===0?!0:void 0,onClick:()=>ne(oe,null)});return oe.type==="divider"?((ce=r.divider)==null?void 0:ce.call(r,{props:oe.raw,index:_e}))??createVNode(VDivider,mergeProps(oe.props,{key:`divider-${_e}`}),null):oe.type==="subheader"?((ye=r.subheader)==null?void 0:ye.call(r,{props:oe.raw,index:_e}))??createVNode(VListSubheader,mergeProps(oe.props,{key:`subheader-${_e}`}),null):((be=r.item)==null?void 0:be.call(r,{item:oe,index:_e,props:se}))??createVNode(VListItem,mergeProps(se,{role:"option"}),{prepend:xe=>{let{isSelected:ke}=xe;return createBaseVNode(Fragment,null,[e.multiple&&!e.hideSelected?createVNode(VCheckboxBtn,{key:oe.value,modelValue:ke,ripple:!1,tabindex:"-1"},null):void 0,oe.props.prependAvatar&&createVNode(VAvatar,{image:oe.props.prependAvatar},null),oe.props.prependIcon&&createVNode(VIcon,{icon:oe.props.prependIcon},null)])},title:()=>{var xe;return a.value?oe.title:highlightResult("v-autocomplete",oe.title,(xe=x(oe))==null?void 0:xe.title)}})}}),(ae=r["append-item"])==null?void 0:ae.call(r)]}})]}),y.value.map((W,J)=>{function ae(pe){pe.stopPropagation(),pe.preventDefault(),ne(W,!1)}const me={"onClick:close":ae,onKeydown(pe){pe.key!=="Enter"&&pe.key!==" "||(pe.preventDefault(),pe.stopPropagation(),ae(pe))},onMousedown(pe){pe.preventDefault(),pe.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},oe=T.value?!!r.chip:!!r.selection,_e=oe?ensureValidVNode(T.value?r.chip({item:W,index:J,props:me}):r.selection({item:W,index:J})):void 0;if(!(oe&&!_e))return createBaseVNode("div",{key:W.value,class:normalizeClass(["v-autocomplete__selection",J===d.value&&["v-autocomplete__selection--selected",_.value]]),style:normalizeStyle(J===d.value?S.value:{})},[T.value?r.chip?createVNode(VDefaultsProvider,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:W.title}}},{default:()=>[_e]}):createVNode(VChip,mergeProps({key:"chip",closable:e.closableChips,size:"small",text:W.title,disabled:W.props.disabled},me),null):_e??createBaseVNode("span",{class:"v-autocomplete__selection-text"},[W.title,e.multiple&&J<y.value.length-1&&createBaseVNode("span",{class:"v-autocomplete__selection-comma"},[createTextVNode(",")])])])})]),"append-inner":function(){var me,oe;for(var W=arguments.length,J=new Array(W),ae=0;ae<W;ae++)J[ae]=arguments[ae];return createBaseVNode(Fragment,null,[(me=r["append-inner"])==null?void 0:me.call(r,...J),e.menuIcon?createVNode(VIcon,{class:"v-autocomplete__menu-icon",color:(oe=i.value)==null?void 0:oe.fieldIconColor,icon:e.menuIcon,onMousedown:N,onClick:noop$2,"aria-label":n(H.value),title:n(H.value),tabindex:"-1"},null):void 0])}})}),forwardRefs({isFocused:o,isPristine:a,menu:V,search:C,filteredItems:w,select:ne},i)}}),makeVBadgeProps=propsFactory({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:IconValue,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...makeComponentProps(),...makeLocationProps({location:"top end"}),...makeRoundedProps(),...makeTagProps(),...makeThemeProps(),...makeTransitionProps({transition:"scale-rotate-transition"}),...makeDimensionProps()},"VBadge"),VBadge=genericComponent()({name:"VBadge",inheritAttrs:!1,props:makeVBadgeProps(),setup(e,t){const{backgroundColorClasses:r,backgroundColorStyles:n}=useBackgroundColor(()=>e.color),{roundedClasses:i}=useRounded(e),{t:o}=useLocale(),{textColorClasses:a,textColorStyles:s}=useTextColor(()=>e.textColor),{themeClasses:l}=useTheme(),{locationStyles:c}=useLocation(e,!0,m=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(m)?Number(e.offsetY??0):["left","right"].includes(m)?Number(e.offsetX??0):0)),{dimensionStyles:d}=useDimension(e);return useRender(()=>{const m=Number(e.content),g=!e.max||isNaN(m)?e.content:m<=Number(e.max)?m:`${e.max}+`,[v,_]=pickWithRest(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return createVNode(e.tag,mergeProps({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},_,{style:e.style}),{default:()=>{var S,C;return[createBaseVNode("div",{class:"v-badge__wrapper"},[(C=(S=t.slots).default)==null?void 0:C.call(S),createVNode(MaybeTransition,{transition:e.transition},{default:()=>{var y,b;return[withDirectives(createBaseVNode("span",mergeProps({class:["v-badge__badge",l.value,r.value,i.value,a.value],style:[n.value,s.value,d.value,e.inline?{}:c.value],"aria-atomic":"true","aria-label":o(e.label,m),"aria-live":"polite",role:"status"},v),[e.dot?void 0:t.slots.badge?(b=(y=t.slots).badge)==null?void 0:b.call(y):e.icon?createVNode(VIcon,{icon:e.icon},null):g]),[[vShow,e.modelValue]])]}})])]}})}),{}}}),makeVDialogProps=propsFactory({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...makeVOverlayProps({origin:"center center",scrollStrategy:"block",transition:{component:VDialogTransition},zIndex:2400})},"VDialog"),VDialog=genericComponent()({name:"VDialog",props:makeVDialogProps(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:r,slots:n}=t;const i=useProxiedModel(e,"modelValue"),{scopeId:o}=useScopeId(),a=ref();function s(d){var v,_;const m=d.relatedTarget,g=d.target;if(m!==g&&((v=a.value)!=null&&v.contentEl)&&((_=a.value)!=null&&_.globalTop)&&![document,a.value.contentEl].includes(g)&&!a.value.contentEl.contains(g)){const S=focusableChildren(a.value.contentEl);if(!S.length)return;const C=S[0],y=S[S.length-1];m===C?y.focus():C.focus()}}onBeforeUnmount(()=>{document.removeEventListener("focusin",s)}),IN_BROWSER&&watch(()=>i.value&&e.retainFocus,d=>{d?document.addEventListener("focusin",s):document.removeEventListener("focusin",s)},{immediate:!0});function l(){var d;r("afterEnter"),(e.scrim||e.retainFocus)&&((d=a.value)!=null&&d.contentEl)&&!a.value.contentEl.contains(document.activeElement)&&a.value.contentEl.focus({preventScroll:!0})}function c(){r("afterLeave")}return watch(i,async d=>{var m;d||(await nextTick$1(),(m=a.value.activatorEl)==null||m.focus({preventScroll:!0}))}),useRender(()=>{const d=VOverlay.filterProps(e),m=mergeProps({"aria-haspopup":"dialog"},e.activatorProps),g=mergeProps({tabindex:-1},e.contentProps);return createVNode(VOverlay,mergeProps({ref:a,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},d,{modelValue:i.value,"onUpdate:modelValue":v=>i.value=v,"aria-modal":"true",activatorProps:m,contentProps:g,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:l,onAfterLeave:c},o),{activator:n.activator,default:function(){for(var v=arguments.length,_=new Array(v),S=0;S<v;S++)_[S]=arguments[S];return createVNode(VDefaultsProvider,{root:"VDialog"},{default:()=>{var C;return[(C=n.default)==null?void 0:C.call(n,..._)]}})}})}),forwardRefs({},a)}}),VCardActions=genericComponent()({name:"VCardActions",props:makeComponentProps(),setup(e,t){let{slots:r}=t;return provideDefaults({VBtn:{slim:!0,variant:"text"}}),useRender(()=>{var n;return createBaseVNode("div",{class:normalizeClass(["v-card-actions",e.class]),style:normalizeStyle(e.style)},[(n=r.default)==null?void 0:n.call(r)])}),{}}}),makeVCardSubtitleProps=propsFactory({opacity:[Number,String],...makeComponentProps(),...makeTagProps()},"VCardSubtitle"),VCardSubtitle=genericComponent()({name:"VCardSubtitle",props:makeVCardSubtitleProps(),setup(e,t){let{slots:r}=t;return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-card-subtitle",e.class]),style:normalizeStyle([{"--v-card-subtitle-opacity":e.opacity},e.style])},r)),{}}}),VCardTitle=createSimpleFunctional("v-card-title"),makeCardItemProps=propsFactory({appendAvatar:String,appendIcon:IconValue,prependAvatar:String,prependIcon:IconValue,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...makeComponentProps(),...makeDensityProps()},"VCardItem"),VCardItem=genericComponent()({name:"VCardItem",props:makeCardItemProps(),setup(e,t){let{slots:r}=t;return useRender(()=>{var c;const n=!!(e.prependAvatar||e.prependIcon),i=!!(n||r.prepend),o=!!(e.appendAvatar||e.appendIcon),a=!!(o||r.append),s=!!(e.title!=null||r.title),l=!!(e.subtitle!=null||r.subtitle);return createBaseVNode("div",{class:normalizeClass(["v-card-item",e.class]),style:normalizeStyle(e.style)},[i&&createBaseVNode("div",{key:"prepend",class:"v-card-item__prepend"},[r.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!n,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},r.prepend):createBaseVNode(Fragment,null,[e.prependAvatar&&createVNode(VAvatar,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&createVNode(VIcon,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),createBaseVNode("div",{class:"v-card-item__content"},[s&&createVNode(VCardTitle,{key:"title"},{default:()=>{var d;return[((d=r.title)==null?void 0:d.call(r))??toDisplayString(e.title)]}}),l&&createVNode(VCardSubtitle,{key:"subtitle"},{default:()=>{var d;return[((d=r.subtitle)==null?void 0:d.call(r))??toDisplayString(e.subtitle)]}}),(c=r.default)==null?void 0:c.call(r)]),a&&createBaseVNode("div",{key:"append",class:"v-card-item__append"},[r.append?createVNode(VDefaultsProvider,{key:"append-defaults",disabled:!o,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},r.append):createBaseVNode(Fragment,null,[e.appendIcon&&createVNode(VIcon,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&createVNode(VAvatar,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),makeVCardTextProps=propsFactory({opacity:[Number,String],...makeComponentProps(),...makeTagProps()},"VCardText"),VCardText=genericComponent()({name:"VCardText",props:makeVCardTextProps(),setup(e,t){let{slots:r}=t;return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-card-text",e.class]),style:normalizeStyle([{"--v-card-text-opacity":e.opacity},e.style])},r)),{}}}),makeVCardProps=propsFactory({appendAvatar:String,appendIcon:IconValue,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:IconValue,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeLoaderProps(),...makeLocationProps(),...makePositionProps(),...makeRoundedProps(),...makeRouterProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"elevated"})},"VCard"),VCard=genericComponent()({name:"VCard",directives:{vRipple:Ripple},props:makeVCardProps(),setup(e,t){let{attrs:r,slots:n}=t;const{themeClasses:i}=provideTheme(e),{borderClasses:o}=useBorder(e),{colorClasses:a,colorStyles:s,variantClasses:l}=useVariant(e),{densityClasses:c}=useDensity(e),{dimensionStyles:d}=useDimension(e),{elevationClasses:m}=useElevation(e),{loaderClasses:g}=useLoader(e),{locationStyles:v}=useLocation(e),{positionClasses:_}=usePosition(e),{roundedClasses:S}=useRounded(e),C=useLink(e,r);return useRender(()=>{const y=e.link!==!1&&C.isLink.value,b=!e.disabled&&e.link!==!1&&(e.link||C.isClickable.value),u=y?"a":e.tag,w=!!(n.title||e.title!=null),x=!!(n.subtitle||e.subtitle!=null),E=w||x,T=!!(n.append||e.appendAvatar||e.appendIcon),k=!!(n.prepend||e.prependAvatar||e.prependIcon),D=!!(n.image||e.image),B=E||k||T,A=!!(n.text||e.text!=null);return withDirectives(createVNode(u,mergeProps({class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":b},i.value,o.value,a.value,c.value,m.value,g.value,_.value,S.value,l.value,e.class],style:[s.value,d.value,v.value,e.style],onClick:b&&C.navigate,tabindex:e.disabled?-1:void 0},C.linkProps),{default:()=>{var O;return[D&&createBaseVNode("div",{key:"image",class:"v-card__image"},[n.image?createVNode(VDefaultsProvider,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):createVNode(VImg,{key:"image-img",cover:!0,src:e.image},null)]),createVNode(LoaderSlot,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:n.loader}),B&&createVNode(VCardItem,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:n.item,prepend:n.prepend,title:n.title,subtitle:n.subtitle,append:n.append}),A&&createVNode(VCardText,{key:"text"},{default:()=>{var V;return[((V=n.text)==null?void 0:V.call(n))??e.text]}}),(O=n.default)==null?void 0:O.call(n),n.actions&&createVNode(VCardActions,null,{default:n.actions}),genOverlays(b,"v-card")]}}),[[Ripple,b&&e.ripple]])}),{}}}),handleGesture=e=>{const{touchstartX:t,touchendX:r,touchstartY:n,touchendY:i}=e,o=.5,a=16;e.offsetX=r-t,e.offsetY=i-n,Math.abs(e.offsetY)<o*Math.abs(e.offsetX)&&(e.left&&r<t-a&&e.left(e),e.right&&r>t+a&&e.right(e)),Math.abs(e.offsetX)<o*Math.abs(e.offsetY)&&(e.up&&i<n-a&&e.up(e),e.down&&i>n+a&&e.down(e))};function touchstart(e,t){var n;const r=e.changedTouches[0];t.touchstartX=r.clientX,t.touchstartY=r.clientY,(n=t.start)==null||n.call(t,{originalEvent:e,...t})}function touchend(e,t){var n;const r=e.changedTouches[0];t.touchendX=r.clientX,t.touchendY=r.clientY,(n=t.end)==null||n.call(t,{originalEvent:e,...t}),handleGesture(t)}function touchmove(e,t){var n;const r=e.changedTouches[0];t.touchmoveX=r.clientX,t.touchmoveY=r.clientY,(n=t.move)==null||n.call(t,{originalEvent:e,...t})}function createHandlers(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:r=>touchstart(r,t),touchend:r=>touchend(r,t),touchmove:r=>touchmove(r,t)}}function mounted(e,t){var s;const r=t.value,n=r!=null&&r.parent?e.parentElement:e,i=(r==null?void 0:r.options)??{passive:!0},o=(s=t.instance)==null?void 0:s.$.uid;if(!n||o===void 0)return;const a=createHandlers(t.value);n._touchHandlers=n._touchHandlers??Object.create(null),n._touchHandlers[o]=a,keys$4(a).forEach(l=>{n.addEventListener(l,a[l],i)})}function unmounted(e,t){var o,a;const r=(o=t.value)!=null&&o.parent?e.parentElement:e,n=(a=t.instance)==null?void 0:a.$.uid;if(!(r!=null&&r._touchHandlers)||n===void 0)return;const i=r._touchHandlers[n];keys$4(i).forEach(s=>{r.removeEventListener(s,i[s])}),delete r._touchHandlers[n]}const Touch={mounted,unmounted},VWindowSymbol=Symbol.for("vuetify:v-window"),VWindowGroupSymbol=Symbol.for("vuetify:v-window-group"),makeVWindowProps=propsFactory({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},verticalArrows:[Boolean,String],touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...makeComponentProps(),...makeTagProps(),...makeThemeProps()},"VWindow"),VWindow=genericComponent()({name:"VWindow",directives:{vTouch:Touch},props:makeVWindowProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{themeClasses:n}=provideTheme(e),{isRtl:i}=useRtl(),{t:o}=useLocale(),a=useGroup(e,VWindowGroupSymbol),s=ref(),l=computed(()=>i.value?!e.reverse:e.reverse),c=shallowRef(!1),d=computed(()=>{const w=e.direction==="vertical"?"y":"x",E=(l.value?!c.value:c.value)?"-reverse":"";return`v-window-${w}${E}-transition`}),m=shallowRef(0),g=ref(void 0),v=computed(()=>a.items.value.findIndex(w=>a.selected.value.includes(w.id)));watch(v,(w,x)=>{const E=a.items.value.length,T=E-1;E<=2?c.value=w<x:w===T&&x===0?c.value=!0:w===0&&x===T?c.value=!1:c.value=w<x}),provide(VWindowSymbol,{transition:d,isReversed:c,transitionCount:m,transitionHeight:g,rootRef:s});const _=toRef(()=>e.continuous||v.value!==0),S=toRef(()=>e.continuous||v.value!==a.items.value.length-1);function C(){_.value&&a.prev()}function y(){S.value&&a.next()}const b=computed(()=>{const w=[],x={icon:i.value?e.nextIcon:e.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:a.prev,"aria-label":o("$vuetify.carousel.prev")};w.push(_.value?r.prev?r.prev({props:x}):createVNode(VBtn,x,null):createBaseVNode("div",null,null));const E={icon:i.value?e.prevIcon:e.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:a.next,"aria-label":o("$vuetify.carousel.next")};return w.push(S.value?r.next?r.next({props:E}):createVNode(VBtn,E,null):createBaseVNode("div",null,null)),w}),u=computed(()=>e.touch===!1?e.touch:{...{left:()=>{l.value?C():y()},right:()=>{l.value?y():C()},start:x=>{let{originalEvent:E}=x;E.stopPropagation()}},...e.touch===!0?{}:e.touch});return useRender(()=>withDirectives(createVNode(e.tag,{ref:s,class:normalizeClass(["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover","v-window--vertical-arrows":!!e.verticalArrows},n.value,e.class]),style:normalizeStyle(e.style)},{default:()=>{var w,x;return[createBaseVNode("div",{class:"v-window__container",style:{height:g.value}},[(w=r.default)==null?void 0:w.call(r,{group:a}),e.showArrows!==!1&&createBaseVNode("div",{class:normalizeClass(["v-window__controls",{"v-window__controls--left":e.verticalArrows==="left"||e.verticalArrows===!0},{"v-window__controls--right":e.verticalArrows==="right"}])},[b.value])]),(x=r.additional)==null?void 0:x.call(r,{group:a})]}}),[[Touch,u.value]])),{group:a}}}),makeVWindowItemProps=propsFactory({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...makeComponentProps(),...makeGroupItemProps(),...makeLazyProps()},"VWindowItem"),VWindowItem=genericComponent()({name:"VWindowItem",directives:{vTouch:Touch},props:makeVWindowItemProps(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:r}=t;const n=inject$1(VWindowSymbol),i=useGroupItem(e,VWindowGroupSymbol),{isBooted:o}=useSsrBoot();if(!n||!i)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const a=shallowRef(!1),s=computed(()=>o.value&&(n.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function l(){!a.value||!n||(a.value=!1,n.transitionCount.value>0&&(n.transitionCount.value-=1,n.transitionCount.value===0&&(n.transitionHeight.value=void 0)))}function c(){var _;a.value||!n||(a.value=!0,n.transitionCount.value===0&&(n.transitionHeight.value=convertToUnit((_=n.rootRef.value)==null?void 0:_.clientHeight)),n.transitionCount.value+=1)}function d(){l()}function m(_){a.value&&nextTick$1(()=>{!s.value||!a.value||!n||(n.transitionHeight.value=convertToUnit(_.clientHeight))})}const g=computed(()=>{const _=n.isReversed.value?e.reverseTransition:e.transition;return s.value?{name:typeof _!="string"?n.transition.value:_,onBeforeEnter:c,onAfterEnter:l,onEnterCancelled:d,onBeforeLeave:c,onAfterLeave:l,onLeaveCancelled:d,onEnter:m}:!1}),{hasContent:v}=useLazy(e,i.isSelected);return useRender(()=>createVNode(MaybeTransition,{transition:g.value,disabled:!o.value},{default:()=>{var _;return[withDirectives(createBaseVNode("div",{class:normalizeClass(["v-window-item",i.selectedClass.value,e.class]),style:normalizeStyle(e.style)},[v.value&&((_=r.default)==null?void 0:_.call(r))]),[[vShow,i.isSelected.value]])]}})),{groupItem:i}}}),deepPurple={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},makeVComboboxProps=propsFactory({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...makeFilterProps({filterKeys:["title"]}),...makeSelectProps({hideNoData:!0,returnObject:!0}),...omit$1(makeVTextFieldProps({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...makeTransitionProps({transition:!1})},"VCombobox"),VCombobox=genericComponent()({name:"VCombobox",props:makeVComboboxProps(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,t){var de;let{emit:r,slots:n}=t;const{t:i}=useLocale(),o=ref(),a=shallowRef(!1),s=shallowRef(!0),l=shallowRef(!1),c=ref(),d=ref(),m=shallowRef(-1);let g=!1;const{items:v,transformIn:_,transformOut:S}=useItems(e),{textColorClasses:C,textColorStyles:y}=useTextColor(()=>{var L;return(L=o.value)==null?void 0:L.color}),b=useProxiedModel(e,"modelValue",[],L=>_(wrapInArray(L)),L=>{const W=S(L);return e.multiple?W:W[0]??null}),u=useForm(e),w=computed(()=>!!(e.chips||n.chip)),x=computed(()=>w.value||!!n.selection),E=shallowRef(!e.multiple&&!x.value?((de=b.value[0])==null?void 0:de.title)??"":""),T=computed({get:()=>E.value,set:async L=>{var W;if(E.value=L??"",!e.multiple&&!x.value&&(b.value=[transformItem$1(e,L)],nextTick$1(()=>{var J;return(J=d.value)==null?void 0:J.scrollToIndex(0)})),L&&e.multiple&&((W=e.delimiters)!=null&&W.length)){const J=e.delimiters.map(escapeForRegex).join("|"),ae=L.split(new RegExp(`(?:${J})+`));if(ae.length>1){for(let me of ae)me=me.trim(),me&&(j(transformItem$1(e,me)),await nextTick$1());E.value=""}}L||(m.value=-1),s.value=!L}}),k=computed(()=>typeof e.counterValue=="function"?e.counterValue(b.value):typeof e.counterValue=="number"?e.counterValue:e.multiple?b.value.length:T.value.length),{filteredItems:D,getMatches:B}=useFilter(e,v,()=>s.value?"":T.value),A=computed(()=>e.hideSelected?D.value.filter(L=>!b.value.some(W=>W.value===L.value)):D.value),O=computed(()=>e.hideNoData&&!A.value.length||u.isReadonly.value||u.isDisabled.value),V=useProxiedModel(e,"menu"),H=computed({get:()=>V.value,set:L=>{var W;V.value&&!L&&((W=c.value)!=null&&W.openChildren.size)||L&&O.value||(V.value=L)}}),q=toRef(()=>H.value?e.closeText:e.openText);watch(E,L=>{g?nextTick$1(()=>g=!1):a.value&&!H.value&&(H.value=!0),r("update:search",L)}),watch(b,L=>{var W;!e.multiple&&!x.value&&(E.value=((W=L[0])==null?void 0:W.title)??"")});const K=computed(()=>b.value.map(L=>L.value)),Q=computed(()=>{var W;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&T.value===((W=A.value[0])==null?void 0:W.title))&&A.value.length>0&&!s.value&&!l.value}),X=ref(),N=useScrolling(X,o);function I(L){g=!0,e.openOnClear&&(H.value=!0)}function U(){O.value||(H.value=!0)}function F(L){O.value||(a.value&&(L.preventDefault(),L.stopPropagation()),H.value=!H.value)}function ee(L){var W;(checkPrintable(L)||L.key==="Backspace")&&((W=o.value)==null||W.focus())}function ue(L){var ae,me,oe,_e;if(isComposingIgnoreKey(L)||u.isReadonly.value)return;const W=(ae=o.value)==null?void 0:ae.selectionStart,J=b.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(L.key)&&L.preventDefault(),["Enter","ArrowDown"].includes(L.key)&&(H.value=!0),["Escape"].includes(L.key)&&(H.value=!1),["Enter","Escape","Tab"].includes(L.key)&&(Q.value&&["Enter","Tab"].includes(L.key)&&!b.value.some(pe=>{let{value:se}=pe;return se===A.value[0].value})&&j(D.value[0]),s.value=!0),L.key==="ArrowDown"&&Q.value&&((me=X.value)==null||me.focus("next")),L.key==="Enter"&&T.value&&(j(transformItem$1(e,T.value)),x.value&&(E.value="")),["Backspace","Delete"].includes(L.key)){if(!e.multiple&&x.value&&b.value.length>0&&!T.value)return j(b.value[0],!1);if(~m.value){L.preventDefault();const pe=m.value;j(b.value[m.value],!1),m.value=pe>=J-1?J-2:pe}else L.key==="Backspace"&&!T.value&&(m.value=J-1);return}if(e.multiple)if(L.key==="ArrowLeft"){if(m.value<0&&W&&W>0)return;const pe=m.value>-1?m.value-1:J-1;b.value[pe]?m.value=pe:(m.value=-1,(oe=o.value)==null||oe.setSelectionRange(T.value.length,T.value.length))}else if(L.key==="ArrowRight"){if(m.value<0)return;const pe=m.value+1;b.value[pe]?m.value=pe:(m.value=-1,(_e=o.value)==null||_e.setSelectionRange(0,0))}else~m.value&&checkPrintable(L)&&(m.value=-1)}function he(){var L;e.eager&&((L=d.value)==null||L.calculateVisibleItems())}function ve(){var L;a.value&&(s.value=!0,(L=o.value)==null||L.focus())}function j(L){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!L||L.props.disabled))if(e.multiple){const J=b.value.findIndex(me=>(e.valueComparator||deepEqual)(me.value,L.value)),ae=W??!~J;if(~J){const me=ae?[...b.value,L]:[...b.value];me.splice(J,1),b.value=me}else ae&&(b.value=[...b.value,L]);e.clearOnSelect&&(T.value="")}else{const J=W!==!1;b.value=J?[L]:[],E.value=J&&!x.value?L.title:"",nextTick$1(()=>{H.value=!1,s.value=!0})}}function M(L){a.value=!0,setTimeout(()=>{l.value=!0})}function ne(L){l.value=!1}function Y(L){(L==null||L===""&&!e.multiple&&!x.value)&&(b.value=[])}return watch(a,(L,W)=>{if(!(L||L===W)&&(m.value=-1,H.value=!1,T.value)){if(e.multiple){j(transformItem$1(e,T.value));return}if(!x.value)return;b.value.some(J=>{let{title:ae}=J;return ae===T.value})?E.value="":j(transformItem$1(e,T.value))}}),watch(H,()=>{if(!e.hideSelected&&H.value&&b.value.length){const L=A.value.findIndex(W=>b.value.some(J=>(e.valueComparator||deepEqual)(J.value,W.value)));IN_BROWSER&&window.requestAnimationFrame(()=>{var W;L>=0&&((W=d.value)==null||W.scrollToIndex(L))})}}),watch(()=>e.items,(L,W)=>{H.value||a.value&&!W.length&&L.length&&(H.value=!0)}),useRender(()=>{const L=!!(!e.hideNoData||A.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),W=b.value.length>0,J=VTextField.filterProps(e);return createVNode(VTextField,mergeProps({ref:o},J,{modelValue:T.value,"onUpdate:modelValue":[ae=>T.value=ae,Y],focused:a.value,"onUpdate:focused":ae=>a.value=ae,validationValue:b.externalValue,counterValue:k.value,dirty:W,class:["v-combobox",{"v-combobox--active-menu":H.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!x.value,"v-combobox--selecting-index":m.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:u.isReadonly.value,placeholder:W?void 0:e.placeholder,"onClick:clear":I,"onMousedown:control":U,onKeydown:ue}),{...n,default:()=>createBaseVNode(Fragment,null,[createVNode(VMenu,mergeProps({ref:c,modelValue:H.value,"onUpdate:modelValue":ae=>H.value=ae,activator:"parent",contentClass:"v-combobox__content",disabled:O.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:he,onAfterLeave:ve},e.menuProps),{default:()=>[L&&createVNode(VList,mergeProps({ref:X,filterable:!0,selected:K.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:ae=>ae.preventDefault(),onKeydown:ee,onFocusin:M,onFocusout:ne,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},N,e.listProps),{default:()=>{var ae,me,oe;return[(ae=n["prepend-item"])==null?void 0:ae.call(n),!A.value.length&&!e.hideNoData&&(((me=n["no-data"])==null?void 0:me.call(n))??createVNode(VListItem,{key:"no-data",title:i(e.noDataText)},null)),createVNode(VVirtualScroll,{ref:d,renderless:!0,items:A.value,itemKey:"value"},{default:_e=>{var be,xe,ke;let{item:pe,index:se,itemRef:ce}=_e;const ye=mergeProps(pe.props,{ref:ce,key:pe.value,active:Q.value&&se===0?!0:void 0,onClick:()=>j(pe,null)});return pe.type==="divider"?((be=n.divider)==null?void 0:be.call(n,{props:pe.raw,index:se}))??createVNode(VDivider,mergeProps(pe.props,{key:`divider-${se}`}),null):pe.type==="subheader"?((xe=n.subheader)==null?void 0:xe.call(n,{props:pe.raw,index:se}))??createVNode(VListSubheader,mergeProps(pe.props,{key:`subheader-${se}`}),null):((ke=n.item)==null?void 0:ke.call(n,{item:pe,index:se,props:ye}))??createVNode(VListItem,mergeProps(ye,{role:"option"}),{prepend:Te=>{let{isSelected:z}=Te;return createBaseVNode(Fragment,null,[e.multiple&&!e.hideSelected?createVNode(VCheckboxBtn,{key:pe.value,modelValue:z,ripple:!1,tabindex:"-1"},null):void 0,pe.props.prependAvatar&&createVNode(VAvatar,{image:pe.props.prependAvatar},null),pe.props.prependIcon&&createVNode(VIcon,{icon:pe.props.prependIcon},null)])},title:()=>{var Te;return s.value?pe.title:highlightResult("v-combobox",pe.title,(Te=B(pe))==null?void 0:Te.title)}})}}),(oe=n["append-item"])==null?void 0:oe.call(n)]}})]}),b.value.map((ae,me)=>{function oe(ce){ce.stopPropagation(),ce.preventDefault(),j(ae,!1)}const _e={"onClick:close":oe,onKeydown(ce){ce.key!=="Enter"&&ce.key!==" "||(ce.preventDefault(),ce.stopPropagation(),oe(ce))},onMousedown(ce){ce.preventDefault(),ce.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},pe=w.value?!!n.chip:!!n.selection,se=pe?ensureValidVNode(w.value?n.chip({item:ae,index:me,props:_e}):n.selection({item:ae,index:me})):void 0;if(!(pe&&!se))return createBaseVNode("div",{key:ae.value,class:normalizeClass(["v-combobox__selection",me===m.value&&["v-combobox__selection--selected",C.value]]),style:normalizeStyle(me===m.value?y.value:{})},[w.value?n.chip?createVNode(VDefaultsProvider,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:ae.title}}},{default:()=>[se]}):createVNode(VChip,mergeProps({key:"chip",closable:e.closableChips,size:"small",text:ae.title,disabled:ae.props.disabled},_e),null):se??createBaseVNode("span",{class:"v-combobox__selection-text"},[ae.title,e.multiple&&me<b.value.length-1&&createBaseVNode("span",{class:"v-combobox__selection-comma"},[createTextVNode(",")])])])})]),"append-inner":function(){var _e,pe;for(var ae=arguments.length,me=new Array(ae),oe=0;oe<ae;oe++)me[oe]=arguments[oe];return createBaseVNode(Fragment,null,[(_e=n["append-inner"])==null?void 0:_e.call(n,...me),(!e.hideNoData||e.items.length)&&e.menuIcon?createVNode(VIcon,{class:"v-combobox__menu-icon",color:(pe=o.value)==null?void 0:pe.fieldIconColor,icon:e.menuIcon,onMousedown:F,onClick:noop$2,"aria-label":i(q.value),title:i(q.value),tabindex:"-1"},null):void 0])}})}),forwardRefs({isFocused:a,isPristine:s,menu:H,search:T,selectionIndex:m,filteredItems:D,select:j},o)}});function useRefs(){const e=ref([]);onBeforeUpdate(()=>e.value=[]);function t(r,n){e.value[n]=r}return{refs:e,updateRef:t}}const makeVPaginationProps=propsFactory({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:IconValue,default:"$first"},prevIcon:{type:IconValue,default:"$prev"},nextIcon:{type:IconValue,default:"$next"},lastIcon:{type:IconValue,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeElevationProps(),...makeRoundedProps(),...makeSizeProps(),...makeTagProps({tag:"nav"}),...makeThemeProps(),...makeVariantProps({variant:"text"})},"VPagination"),VPagination=genericComponent()({name:"VPagination",props:makeVPaginationProps(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:r,emit:n}=t;const i=useProxiedModel(e,"modelValue"),{t:o,n:a}=useLocale(),{isRtl:s}=useRtl(),{themeClasses:l}=provideTheme(e),{width:c}=useDisplay(),d=shallowRef(-1);provideDefaults(void 0,{scoped:!0});const{resizeRef:m}=useResizeObserver(k=>{if(!k.length)return;const{target:D,contentRect:B}=k[0],A=D.querySelector(".v-pagination__list > *");if(!A)return;const O=B.width,V=A.offsetWidth+parseFloat(getComputedStyle(A).marginRight)*2;d.value=S(O,V)}),g=computed(()=>parseInt(e.length,10)),v=computed(()=>parseInt(e.start,10)),_=computed(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):d.value>=0?d.value:S(c.value,58));function S(k,D){const B=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((k-D*B)/D).toFixed(2))))}const C=computed(()=>{if(g.value<=0||isNaN(g.value)||g.value>Number.MAX_SAFE_INTEGER)return[];if(_.value<=0)return[];if(_.value===1)return[i.value];if(g.value<=_.value)return createRange(g.value,v.value);const k=_.value%2===0,D=k?_.value/2:Math.floor(_.value/2),B=k?D:D+1,A=g.value-D;if(B-i.value>=0)return[...createRange(Math.max(1,_.value-1),v.value),e.ellipsis,g.value];if(i.value-A>=(k?1:0)){const O=_.value-1,V=g.value-O+v.value;return[v.value,e.ellipsis,...createRange(O,V)]}else{const O=Math.max(1,_.value-2),V=O===1?i.value:i.value-Math.ceil(O/2)+v.value;return[v.value,e.ellipsis,...createRange(O,V),e.ellipsis,g.value]}});function y(k,D,B){k.preventDefault(),i.value=D,B&&n(B,D)}const{refs:b,updateRef:u}=useRefs();provideDefaults({VPaginationBtn:{color:toRef(()=>e.color),border:toRef(()=>e.border),density:toRef(()=>e.density),size:toRef(()=>e.size),variant:toRef(()=>e.variant),rounded:toRef(()=>e.rounded),elevation:toRef(()=>e.elevation)}});const w=computed(()=>C.value.map((k,D)=>{const B=A=>u(A,D);if(typeof k=="string")return{isActive:!1,key:`ellipsis-${D}`,page:k,props:{ref:B,ellipsis:!0,icon:!0,disabled:!0}};{const A=k===i.value;return{isActive:A,key:k,page:a(k),props:{ref:B,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:A?e.activeColor:e.color,"aria-current":A,"aria-label":o(A?e.currentPageAriaLabel:e.pageAriaLabel,k),onClick:O=>y(O,k)}}}})),x=computed(()=>{const k=!!e.disabled||i.value<=v.value,D=!!e.disabled||i.value>=v.value+g.value-1;return{first:e.showFirstLastPage?{icon:s.value?e.lastIcon:e.firstIcon,onClick:B=>y(B,v.value,"first"),disabled:k,"aria-label":o(e.firstAriaLabel),"aria-disabled":k}:void 0,prev:{icon:s.value?e.nextIcon:e.prevIcon,onClick:B=>y(B,i.value-1,"prev"),disabled:k,"aria-label":o(e.previousAriaLabel),"aria-disabled":k},next:{icon:s.value?e.prevIcon:e.nextIcon,onClick:B=>y(B,i.value+1,"next"),disabled:D,"aria-label":o(e.nextAriaLabel),"aria-disabled":D},last:e.showFirstLastPage?{icon:s.value?e.firstIcon:e.lastIcon,onClick:B=>y(B,v.value+g.value-1,"last"),disabled:D,"aria-label":o(e.lastAriaLabel),"aria-disabled":D}:void 0}});function E(){var D;const k=i.value-v.value;(D=b.value[k])==null||D.$el.focus()}function T(k){k.key===keyValues.left&&!e.disabled&&i.value>Number(e.start)?(i.value=i.value-1,nextTick$1(E)):k.key===keyValues.right&&!e.disabled&&i.value<v.value+g.value-1&&(i.value=i.value+1,nextTick$1(E))}return useRender(()=>createVNode(e.tag,{ref:m,class:normalizeClass(["v-pagination",l.value,e.class]),style:normalizeStyle(e.style),role:"navigation","aria-label":o(e.ariaLabel),onKeydown:T,"data-test":"v-pagination-root"},{default:()=>[createBaseVNode("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&createBaseVNode("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[r.first?r.first(x.value.first):createVNode(VBtn,mergeProps({_as:"VPaginationBtn"},x.value.first),null)]),createBaseVNode("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[r.prev?r.prev(x.value.prev):createVNode(VBtn,mergeProps({_as:"VPaginationBtn"},x.value.prev),null)]),w.value.map((k,D)=>createBaseVNode("li",{key:k.key,class:normalizeClass(["v-pagination__item",{"v-pagination__item--is-active":k.isActive}]),"data-test":"v-pagination-item"},[r.item?r.item(k):createVNode(VBtn,mergeProps({_as:"VPaginationBtn"},k.props),{default:()=>[k.page]})])),createBaseVNode("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[r.next?r.next(x.value.next):createVNode(VBtn,mergeProps({_as:"VPaginationBtn"},x.value.next),null)]),e.showFirstLastPage&&createBaseVNode("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[r.last?r.last(x.value.last):createVNode(VBtn,mergeProps({_as:"VPaginationBtn"},x.value.last),null)])])]})),{}}}),makeVTableProps=propsFactory({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:e=>["even","odd"].includes(e)},...makeComponentProps(),...makeDensityProps(),...makeTagProps(),...makeThemeProps()},"VTable"),VTable=genericComponent()({name:"VTable",props:makeVTableProps(),setup(e,t){let{slots:r,emit:n}=t;const{themeClasses:i}=provideTheme(e),{densityClasses:o}=useDensity(e);return useRender(()=>{const a={VCheckboxBtn:{density:e.density}};return createVNode(e.tag,{class:normalizeClass(["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!r.top,"v-table--has-bottom":!!r.bottom,"v-table--hover":e.hover,"v-table--striped-even":e.striped==="even","v-table--striped-odd":e.striped==="odd"},i.value,o.value,e.class]),style:normalizeStyle(e.style)},{default:()=>{var s,l;return[(s=r.top)==null?void 0:s.call(r),createVNode(VDefaultsProvider,{defaults:a},{default:()=>{var c;return[r.default?createBaseVNode("div",{class:"v-table__wrapper",style:{height:convertToUnit(e.height)}},[createBaseVNode("table",null,[r.default()])]):(c=r.wrapper)==null?void 0:c.call(r)]}}),(l=r.bottom)==null?void 0:l.call(r)]}})}),{}}}),makeVContainerProps=propsFactory({fluid:{type:Boolean,default:!1},...makeComponentProps(),...makeDimensionProps(),...makeTagProps()},"VContainer"),VContainer=genericComponent()({name:"VContainer",props:makeVContainerProps(),setup(e,t){let{slots:r}=t;const{rtlClasses:n}=useRtl(),{dimensionStyles:i}=useDimension(e);return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-container",{"v-container--fluid":e.fluid},n.value,e.class]),style:normalizeStyle([i.value,e.style])},r)),{}}}),breakpointProps=breakpoints.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),offsetProps=breakpoints.reduce((e,t)=>{const r="offset"+capitalize(t);return e[r]={type:[String,Number],default:null},e},{}),orderProps=breakpoints.reduce((e,t)=>{const r="order"+capitalize(t);return e[r]={type:[String,Number],default:null},e},{}),propMap$1={col:Object.keys(breakpointProps),offset:Object.keys(offsetProps),order:Object.keys(orderProps)};function breakpointClass$1(e,t,r){let n=e;if(!(r==null||r===!1)){if(t){const i=t.replace(e,"");n+=`-${i}`}return e==="col"&&(n="v-"+n),e==="col"&&(r===""||r===!0)||(n+=`-${r}`),n.toLowerCase()}}const ALIGN_SELF_VALUES=["auto","start","end","center","baseline","stretch"],makeVColProps=propsFactory({cols:{type:[Boolean,String,Number],default:!1},...breakpointProps,offset:{type:[String,Number],default:null},...offsetProps,order:{type:[String,Number],default:null},...orderProps,alignSelf:{type:String,default:null,validator:e=>ALIGN_SELF_VALUES.includes(e)},...makeComponentProps(),...makeTagProps()},"VCol"),VCol=genericComponent()({name:"VCol",props:makeVColProps(),setup(e,t){let{slots:r}=t;const n=computed(()=>{const i=[];let o;for(o in propMap$1)propMap$1[o].forEach(s=>{const l=e[s],c=breakpointClass$1(o,s,l);c&&i.push(c)});const a=i.some(s=>s.startsWith("v-col-"));return i.push({"v-col":!a||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),i});return()=>{var i;return h(e.tag,{class:[n.value,e.class],style:e.style},(i=r.default)==null?void 0:i.call(r))}}}),ALIGNMENT=["start","end","center"],SPACE=["space-between","space-around","space-evenly"];function makeRowProps(e,t){return breakpoints.reduce((r,n)=>{const i=e+capitalize(n);return r[i]=t(),r},{})}const ALIGN_VALUES=[...ALIGNMENT,"baseline","stretch"],alignValidator=e=>ALIGN_VALUES.includes(e),alignProps=makeRowProps("align",()=>({type:String,default:null,validator:alignValidator})),JUSTIFY_VALUES=[...ALIGNMENT,...SPACE],justifyValidator=e=>JUSTIFY_VALUES.includes(e),justifyProps=makeRowProps("justify",()=>({type:String,default:null,validator:justifyValidator})),ALIGN_CONTENT_VALUES=[...ALIGNMENT,...SPACE,"stretch"],alignContentValidator=e=>ALIGN_CONTENT_VALUES.includes(e),alignContentProps=makeRowProps("alignContent",()=>({type:String,default:null,validator:alignContentValidator})),propMap={align:Object.keys(alignProps),justify:Object.keys(justifyProps),alignContent:Object.keys(alignContentProps)},classMap={align:"align",justify:"justify",alignContent:"align-content"};function breakpointClass(e,t,r){let n=classMap[e];if(r!=null){if(t){const i=t.replace(e,"");n+=`-${i}`}return n+=`-${r}`,n.toLowerCase()}}const makeVRowProps=propsFactory({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:alignValidator},...alignProps,justify:{type:String,default:null,validator:justifyValidator},...justifyProps,alignContent:{type:String,default:null,validator:alignContentValidator},...alignContentProps,...makeComponentProps(),...makeTagProps()},"VRow"),VRow=genericComponent()({name:"VRow",props:makeVRowProps(),setup(e,t){let{slots:r}=t;const n=computed(()=>{const i=[];let o;for(o in propMap)propMap[o].forEach(a=>{const s=e[a],l=breakpointClass(o,a,s);l&&i.push(l)});return i.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),i});return()=>{var i;return h(e.tag,{class:["v-row",n.value,e.class],style:e.style},(i=r.default)==null?void 0:i.call(r))}}}),VSpacer=createSimpleFunctional("v-spacer","div","VSpacer"),VExpansionPanelSymbol=Symbol.for("vuetify:v-expansion-panel"),makeVExpansionPanelTextProps=propsFactory({...makeComponentProps(),...makeLazyProps()},"VExpansionPanelText"),VExpansionPanelText=genericComponent()({name:"VExpansionPanelText",props:makeVExpansionPanelTextProps(),setup(e,t){let{slots:r}=t;const n=inject$1(VExpansionPanelSymbol);if(!n)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:i,onAfterLeave:o}=useLazy(e,n.isSelected);return useRender(()=>createVNode(VExpandTransition,{onAfterLeave:o},{default:()=>{var a;return[withDirectives(createBaseVNode("div",{class:normalizeClass(["v-expansion-panel-text",e.class]),style:normalizeStyle(e.style)},[r.default&&i.value&&createBaseVNode("div",{class:"v-expansion-panel-text__wrapper"},[(a=r.default)==null?void 0:a.call(r)])]),[[vShow,n.isSelected.value]])]}})),{}}}),makeVExpansionPanelTitleProps=propsFactory({color:String,expandIcon:{type:IconValue,default:"$expand"},collapseIcon:{type:IconValue,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...makeComponentProps(),...makeDimensionProps()},"VExpansionPanelTitle"),VExpansionPanelTitle=genericComponent()({name:"VExpansionPanelTitle",directives:{vRipple:Ripple},props:makeVExpansionPanelTitleProps(),setup(e,t){let{slots:r}=t;const n=inject$1(VExpansionPanelSymbol);if(!n)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:i,backgroundColorStyles:o}=useBackgroundColor(()=>e.color),{dimensionStyles:a}=useDimension(e),s=computed(()=>({collapseIcon:e.collapseIcon,disabled:n.disabled.value,expanded:n.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),l=toRef(()=>n.isSelected.value?e.collapseIcon:e.expandIcon);return useRender(()=>{var c;return withDirectives(createBaseVNode("button",{class:normalizeClass(["v-expansion-panel-title",{"v-expansion-panel-title--active":n.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},i.value,e.class]),style:normalizeStyle([o.value,a.value,e.style]),type:"button",tabindex:n.disabled.value?-1:void 0,disabled:n.disabled.value,"aria-expanded":n.isSelected.value,onClick:e.readonly?void 0:n.toggle},[createBaseVNode("span",{class:"v-expansion-panel-title__overlay"},null),(c=r.default)==null?void 0:c.call(r,s.value),!e.hideActions&&createVNode(VDefaultsProvider,{defaults:{VIcon:{icon:l.value}}},{default:()=>{var d;return[createBaseVNode("span",{class:"v-expansion-panel-title__icon"},[((d=r.actions)==null?void 0:d.call(r,s.value))??createVNode(VIcon,null,null)])]}})]),[[Ripple,e.ripple]])}),{}}}),makeVExpansionPanelProps=propsFactory({title:String,text:String,bgColor:String,...makeElevationProps(),...makeGroupItemProps(),...makeRoundedProps(),...makeTagProps(),...makeVExpansionPanelTitleProps(),...makeVExpansionPanelTextProps()},"VExpansionPanel"),VExpansionPanel=genericComponent()({name:"VExpansionPanel",props:makeVExpansionPanelProps(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:r}=t;const n=useGroupItem(e,VExpansionPanelSymbol),{backgroundColorClasses:i,backgroundColorStyles:o}=useBackgroundColor(()=>e.bgColor),{elevationClasses:a}=useElevation(e),{roundedClasses:s}=useRounded(e),l=toRef(()=>(n==null?void 0:n.disabled.value)||e.disabled),c=computed(()=>n.group.items.value.reduce((g,v,_)=>(n.group.selected.value.includes(v.id)&&g.push(_),g),[])),d=computed(()=>{const g=n.group.items.value.findIndex(v=>v.id===n.id);return!n.isSelected.value&&c.value.some(v=>v-g===1)}),m=computed(()=>{const g=n.group.items.value.findIndex(v=>v.id===n.id);return!n.isSelected.value&&c.value.some(v=>v-g===-1)});return provide(VExpansionPanelSymbol,n),useRender(()=>{const g=!!(r.text||e.text),v=!!(r.title||e.title),_=VExpansionPanelTitle.filterProps(e),S=VExpansionPanelText.filterProps(e);return createVNode(e.tag,{class:normalizeClass(["v-expansion-panel",{"v-expansion-panel--active":n.isSelected.value,"v-expansion-panel--before-active":d.value,"v-expansion-panel--after-active":m.value,"v-expansion-panel--disabled":l.value},s.value,i.value,e.class]),style:normalizeStyle([o.value,e.style])},{default:()=>[createBaseVNode("div",{class:normalizeClass(["v-expansion-panel__shadow",...a.value])},null),createVNode(VDefaultsProvider,{defaults:{VExpansionPanelTitle:{..._},VExpansionPanelText:{...S}}},{default:()=>{var C;return[v&&createVNode(VExpansionPanelTitle,{key:"title"},{default:()=>[r.title?r.title():e.title]}),g&&createVNode(VExpansionPanelText,{key:"text"},{default:()=>[r.text?r.text():e.text]}),(C=r.default)==null?void 0:C.call(r)]}})]})}),{groupItem:n}}}),allowedVariants=["default","accordion","inset","popout"],makeVExpansionPanelsProps=propsFactory({flat:Boolean,...makeGroupProps(),...pick$2(makeVExpansionPanelProps(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...makeThemeProps(),...makeComponentProps(),...makeTagProps(),variant:{type:String,default:"default",validator:e=>allowedVariants.includes(e)}},"VExpansionPanels"),VExpansionPanels=genericComponent()({name:"VExpansionPanels",props:makeVExpansionPanelsProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{next:n,prev:i}=useGroup(e,VExpansionPanelSymbol),{themeClasses:o}=provideTheme(e),a=toRef(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return provideDefaults({VExpansionPanel:{bgColor:toRef(()=>e.bgColor),collapseIcon:toRef(()=>e.collapseIcon),color:toRef(()=>e.color),eager:toRef(()=>e.eager),elevation:toRef(()=>e.elevation),expandIcon:toRef(()=>e.expandIcon),focusable:toRef(()=>e.focusable),hideActions:toRef(()=>e.hideActions),readonly:toRef(()=>e.readonly),ripple:toRef(()=>e.ripple),rounded:toRef(()=>e.rounded),static:toRef(()=>e.static)}}),useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},o.value,a.value,e.class]),style:normalizeStyle(e.style)},{default:()=>{var s;return[(s=r.default)==null?void 0:s.call(r,{prev:i,next:n})]}})),{next:n,prev:i}}}),makeVFormProps=propsFactory({...makeComponentProps(),...makeFormProps()},"VForm"),VForm=genericComponent()({name:"VForm",props:makeVFormProps(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:r,emit:n}=t;const i=createForm(e),o=ref();function a(l){l.preventDefault(),i.reset()}function s(l){const c=l,d=i.validate();c.then=d.then.bind(d),c.catch=d.catch.bind(d),c.finally=d.finally.bind(d),n("submit",c),c.defaultPrevented||d.then(m=>{var v;let{valid:g}=m;g&&((v=o.value)==null||v.submit())}),c.preventDefault()}return useRender(()=>{var l;return createBaseVNode("form",{ref:o,class:normalizeClass(["v-form",e.class]),style:normalizeStyle(e.style),novalidate:!0,onReset:a,onSubmit:s},[(l=r.default)==null?void 0:l.call(r,i)])}),forwardRefs(i,o)}}),makeVMainProps=propsFactory({scrollable:Boolean,...makeComponentProps(),...makeDimensionProps(),...makeTagProps({tag:"main"})},"VMain"),VMain=genericComponent()({name:"VMain",props:makeVMainProps(),setup(e,t){let{slots:r}=t;const{dimensionStyles:n}=useDimension(e),{mainStyles:i}=useLayout(),{ssrBootStyles:o}=useSsrBoot();return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-main",{"v-main--scrollable":e.scrollable},e.class]),style:normalizeStyle([i.value,o.value,n.value,e.style])},{default:()=>{var a,s;return[e.scrollable?createBaseVNode("div",{class:"v-main__scroller"},[(a=r.default)==null?void 0:a.call(r)]):(s=r.default)==null?void 0:s.call(r)]}})),{}}});function useSticky(e){let{rootEl:t,isSticky:r,layoutItemStyles:n}=e;const i=shallowRef(!1),o=shallowRef(0),a=computed(()=>{const c=typeof i.value=="boolean"?"top":i.value;return[r.value?{top:"auto",bottom:"auto",height:void 0}:void 0,i.value?{[c]:convertToUnit(o.value)}:{top:n.value.top}]});onMounted(()=>{watch(r,c=>{c?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),onBeforeUnmount(()=>{window.removeEventListener("scroll",l)});let s=0;function l(){const c=s>window.scrollY?"up":"down",d=t.value.getBoundingClientRect(),m=parseFloat(n.value.top??0),g=window.scrollY-Math.max(0,o.value-m),v=d.height+Math.max(o.value,m)-window.scrollY-window.innerHeight,_=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;d.height<window.innerHeight-m?(i.value="top",o.value=m):c==="up"&&i.value==="bottom"||c==="down"&&i.value==="top"?(o.value=window.scrollY+d.top-_,i.value=!0):c==="down"&&v<=0?(o.value=0,i.value="bottom"):c==="up"&&g<=0&&(_?i.value!=="top"&&(o.value=-g+_+m,i.value="top"):(o.value=d.top+g,i.value="top")),s=window.scrollY}return{isStuck:i,stickyStyles:a}}const HORIZON=100,HISTORY=20;function kineticEnergyToVelocity(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function calculateImpulseVelocity(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let r=e.length-1;r>0;r--){if(e[r].t===e[r-1].t)continue;const n=kineticEnergyToVelocity(t),i=(e[r].d-e[r-1].d)/(e[r].t-e[r-1].t);t+=(i-n)*Math.abs(i),r===e.length-1&&(t*=.5)}return kineticEnergyToVelocity(t)*1e3}function useVelocity(){const e={};function t(i){Array.from(i.changedTouches).forEach(o=>{(e[o.identifier]??(e[o.identifier]=new CircularBuffer(HISTORY))).push([i.timeStamp,o])})}function r(i){Array.from(i.changedTouches).forEach(o=>{delete e[o.identifier]})}function n(i){var c;const o=(c=e[i])==null?void 0:c.values().reverse();if(!o)throw new Error(`No samples for touch id ${i}`);const a=o[0],s=[],l=[];for(const d of o){if(a[0]-d[0]>HORIZON)break;s.push({t:d[0],d:d[1].clientX}),l.push({t:d[0],d:d[1].clientY})}return{x:calculateImpulseVelocity(s),y:calculateImpulseVelocity(l),get direction(){const{x:d,y:m}=this,[g,v]=[Math.abs(d),Math.abs(m)];return g>v&&d>=0?"right":g>v&&d<=0?"left":v>g&&m>=0?"down":v>g&&m<=0?"up":oops$1()}}}return{addMovement:t,endTouch:r,getVelocity:n}}function oops$1(){throw new Error}function useTouch(e){let{el:t,isActive:r,isTemporary:n,width:i,touchless:o,position:a}=e;onMounted(()=>{window.addEventListener("touchstart",b,{passive:!0}),window.addEventListener("touchmove",u,{passive:!1}),window.addEventListener("touchend",w,{passive:!0})}),onBeforeUnmount(()=>{window.removeEventListener("touchstart",b),window.removeEventListener("touchmove",u),window.removeEventListener("touchend",w)});const s=computed(()=>["left","right"].includes(a.value)),{addMovement:l,endTouch:c,getVelocity:d}=useVelocity();let m=!1;const g=shallowRef(!1),v=shallowRef(0),_=shallowRef(0);let S;function C(E,T){return(a.value==="left"?E:a.value==="right"?document.documentElement.clientWidth-E:a.value==="top"?E:a.value==="bottom"?document.documentElement.clientHeight-E:oops())-(T?i.value:0)}function y(E){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const k=a.value==="left"?(E-_.value)/i.value:a.value==="right"?(document.documentElement.clientWidth-E-_.value)/i.value:a.value==="top"?(E-_.value)/i.value:a.value==="bottom"?(document.documentElement.clientHeight-E-_.value)/i.value:oops();return T?clamp$1(k):k}function b(E){if(o.value)return;const T=E.changedTouches[0].clientX,k=E.changedTouches[0].clientY,D=25,B=a.value==="left"?T<D:a.value==="right"?T>document.documentElement.clientWidth-D:a.value==="top"?k<D:a.value==="bottom"?k>document.documentElement.clientHeight-D:oops(),A=r.value&&(a.value==="left"?T<i.value:a.value==="right"?T>document.documentElement.clientWidth-i.value:a.value==="top"?k<i.value:a.value==="bottom"?k>document.documentElement.clientHeight-i.value:oops());(B||A||r.value&&n.value)&&(S=[T,k],_.value=C(s.value?T:k,r.value),v.value=y(s.value?T:k),m=_.value>-20&&_.value<80,c(E),l(E))}function u(E){const T=E.changedTouches[0].clientX,k=E.changedTouches[0].clientY;if(m){if(!E.cancelable){m=!1;return}const B=Math.abs(T-S[0]),A=Math.abs(k-S[1]);(s.value?B>A&&B>3:A>B&&A>3)?(g.value=!0,m=!1):(s.value?A:B)>3&&(m=!1)}if(!g.value)return;E.preventDefault(),l(E);const D=y(s.value?T:k,!1);v.value=Math.max(0,Math.min(1,D)),D>1?_.value=C(s.value?T:k,!0):D<0&&(_.value=C(s.value?T:k,!1))}function w(E){if(m=!1,!g.value)return;l(E),g.value=!1;const T=d(E.changedTouches[0].identifier),k=Math.abs(T.x),D=Math.abs(T.y);(s.value?k>D&&k>400:D>k&&D>3)?r.value=T.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||oops()):r.value=v.value>.5}const x=computed(()=>g.value?{transform:a.value==="left"?`translateX(calc(-100% + ${v.value*i.value}px))`:a.value==="right"?`translateX(calc(100% - ${v.value*i.value}px))`:a.value==="top"?`translateY(calc(-100% + ${v.value*i.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${v.value*i.value}px))`:oops(),transition:"none"}:void 0);return useToggleScope(g,()=>{var k,D;const E=((k=t.value)==null?void 0:k.style.transform)??null,T=((D=t.value)==null?void 0:D.style.transition)??null;watchEffect(()=>{var B,A,O,V;(A=t.value)==null||A.style.setProperty("transform",((B=x.value)==null?void 0:B.transform)||"none"),(V=t.value)==null||V.style.setProperty("transition",((O=x.value)==null?void 0:O.transition)||null)}),onScopeDispose(()=>{var B,A;(B=t.value)==null||B.style.setProperty("transform",E),(A=t.value)==null||A.style.setProperty("transition",T)})}),{isDragging:g,dragProgress:v,dragStyles:x}}function oops(){throw new Error}const locations=["start","end","left","right","top","bottom"],makeVNavigationDrawerProps=propsFactory({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>locations.includes(e)},sticky:Boolean,...makeBorderProps(),...makeComponentProps(),...makeDelayProps(),...makeDisplayProps({mobile:null}),...makeElevationProps(),...makeLayoutItemProps(),...makeRoundedProps(),...makeTagProps({tag:"nav"}),...makeThemeProps()},"VNavigationDrawer"),VNavigationDrawer=genericComponent()({name:"VNavigationDrawer",props:makeVNavigationDrawerProps(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:r,emit:n,slots:i}=t;const{isRtl:o}=useRtl(),{themeClasses:a}=provideTheme(e),{borderClasses:s}=useBorder(e),{backgroundColorClasses:l,backgroundColorStyles:c}=useBackgroundColor(()=>e.color),{elevationClasses:d}=useElevation(e),{displayClasses:m,mobile:g}=useDisplay(e),{roundedClasses:v}=useRounded(e),_=useRouter(),S=useProxiedModel(e,"modelValue",null,I=>!!I),{ssrBootStyles:C}=useSsrBoot(),{scopeId:y}=useScopeId(),b=ref(),u=shallowRef(!1),{runOpenDelay:w,runCloseDelay:x}=useDelay(e,I=>{u.value=I}),E=computed(()=>e.rail&&e.expandOnHover&&u.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),T=computed(()=>toPhysical(e.location,o.value)),k=toRef(()=>e.persistent),D=computed(()=>!e.permanent&&(g.value||e.temporary)),B=computed(()=>e.sticky&&!D.value&&T.value!=="bottom");useToggleScope(()=>e.expandOnHover&&e.rail!=null,()=>{watch(u,I=>n("update:rail",!I))}),useToggleScope(()=>!e.disableResizeWatcher,()=>{watch(D,I=>!e.permanent&&nextTick$1(()=>S.value=!I))}),useToggleScope(()=>!e.disableRouteWatcher&&!!_,()=>{watch(_.currentRoute,()=>D.value&&(S.value=!1))}),watch(()=>e.permanent,I=>{I&&(S.value=!0)}),e.modelValue==null&&!D.value&&(S.value=e.permanent||!g.value);const{isDragging:A,dragProgress:O}=useTouch({el:b,isActive:S,isTemporary:D,width:E,touchless:toRef(()=>e.touchless),position:T}),V=computed(()=>{const I=D.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):E.value;return A.value?I*O.value:I}),{layoutItemStyles:H,layoutItemScrimStyles:q}=useLayoutItem({id:e.name,order:computed(()=>parseInt(e.order,10)),position:T,layoutSize:V,elementSize:E,active:readonly(S),disableTransitions:toRef(()=>A.value),absolute:computed(()=>e.absolute||B.value&&typeof K.value!="string")}),{isStuck:K,stickyStyles:Q}=useSticky({rootEl:b,isSticky:B,layoutItemStyles:H}),X=useBackgroundColor(()=>typeof e.scrim=="string"?e.scrim:null),N=computed(()=>({...A.value?{opacity:O.value*.2,transition:"none"}:void 0,...q.value}));return provideDefaults({VList:{bgColor:"transparent"}}),useRender(()=>{const I=i.image||e.image;return createBaseVNode(Fragment,null,[createVNode(e.tag,mergeProps({ref:b,onMouseenter:w,onMouseleave:x,class:["v-navigation-drawer",`v-navigation-drawer--${T.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":u.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":D.value,"v-navigation-drawer--persistent":k.value,"v-navigation-drawer--active":S.value,"v-navigation-drawer--sticky":B.value},a.value,l.value,s.value,m.value,d.value,v.value,e.class],style:[c.value,H.value,C.value,Q.value,e.style]},y,r),{default:()=>{var U,F,ee;return[I&&createBaseVNode("div",{key:"image",class:"v-navigation-drawer__img"},[i.image?createVNode(VDefaultsProvider,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},i.image):createVNode(VImg,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),i.prepend&&createBaseVNode("div",{class:"v-navigation-drawer__prepend"},[(U=i.prepend)==null?void 0:U.call(i)]),createBaseVNode("div",{class:"v-navigation-drawer__content"},[(F=i.default)==null?void 0:F.call(i)]),i.append&&createBaseVNode("div",{class:"v-navigation-drawer__append"},[(ee=i.append)==null?void 0:ee.call(i)])]}}),createVNode(Transition,{name:"fade-transition"},{default:()=>[D.value&&(A.value||S.value)&&!!e.scrim&&createBaseVNode("div",mergeProps({class:["v-navigation-drawer__scrim",X.backgroundColorClasses.value],style:[N.value,X.backgroundColorStyles.value],onClick:()=>{k.value||(S.value=!1)}},y),null)]})])}),{isStuck:K}}}),makeVRadioProps=propsFactory({...makeVSelectionControlProps({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),VRadio=genericComponent()({name:"VRadio",props:makeVRadioProps(),setup(e,t){let{slots:r}=t;return useRender(()=>{const n=VSelectionControl.filterProps(e);return createVNode(VSelectionControl,mergeProps(n,{class:["v-radio",e.class],style:e.style,type:"radio"}),r)}),{}}}),makeVRadioGroupProps=propsFactory({height:{type:[Number,String],default:"auto"},...makeVInputProps(),...omit$1(makeSelectionControlGroupProps(),["multiple"]),trueIcon:{type:IconValue,default:"$radioOn"},falseIcon:{type:IconValue,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),VRadioGroup=genericComponent()({name:"VRadioGroup",inheritAttrs:!1,props:makeVRadioGroupProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:r,slots:n}=t;const i=useId(),o=computed(()=>e.id||`radio-group-${i}`),a=useProxiedModel(e,"modelValue"),s=ref();return useRender(()=>{const[l,c]=filterInputAttrs(r),d=VInput.filterProps(e),m=VSelectionControl.filterProps(e),g=n.label?n.label({label:e.label,props:{for:o.value}}):e.label;return createVNode(VInput,mergeProps({ref:s,class:["v-radio-group",e.class],style:e.style},l,d,{modelValue:a.value,"onUpdate:modelValue":v=>a.value=v,id:o.value}),{...n,default:v=>{let{id:_,messagesId:S,isDisabled:C,isReadonly:y}=v;return createBaseVNode(Fragment,null,[g&&createVNode(VLabel,{id:_.value},{default:()=>[g]}),createVNode(VSelectionControlGroup,mergeProps(m,{id:_.value,"aria-describedby":S.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:C.value,readonly:y.value,"aria-labelledby":g?_.value:void 0,multiple:!1},c,{modelValue:a.value,"onUpdate:modelValue":b=>a.value=b}),n)])}})}),forwardRefs({},s)}});function useCountdown(e){const t=shallowRef(e());let r=-1;function n(){clearInterval(r)}function i(){n(),nextTick$1(()=>t.value=e())}function o(a){const s=a?getComputedStyle(a):{transitionDuration:.2},l=parseFloat(s.transitionDuration)*1e3||200;if(n(),t.value<=0)return;const c=performance.now();r=window.setInterval(()=>{const d=performance.now()-c+l;t.value=Math.max(e()-d,0),t.value<=0&&n()},l)}return onScopeDispose(n),{clear:n,time:t,start:o,reset:i}}const makeVSnackbarProps=propsFactory({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...makeLocationProps({location:"bottom"}),...makePositionProps(),...makeRoundedProps(),...makeVariantProps(),...makeThemeProps(),...omit$1(makeVOverlayProps({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),VSnackbar=genericComponent()({name:"VSnackbar",props:makeVSnackbarProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=useProxiedModel(e,"modelValue"),{positionClasses:i}=usePosition(e),{scopeId:o}=useScopeId(),{themeClasses:a}=provideTheme(e),{colorClasses:s,colorStyles:l,variantClasses:c}=useVariant(e),{roundedClasses:d}=useRounded(e),m=useCountdown(()=>Number(e.timeout)),g=ref(),v=ref(),_=shallowRef(!1),S=shallowRef(0),C=ref(),y=inject$1(VuetifyLayoutKey,void 0);useToggleScope(()=>!!y,()=>{const A=useLayout();watchEffect(()=>{C.value=A.mainStyles.value})}),watch(n,u),watch(()=>e.timeout,u),onMounted(()=>{n.value&&u()});let b=-1;function u(){m.reset(),window.clearTimeout(b);const A=Number(e.timeout);if(!n.value||A===-1)return;const O=refElement(v.value);m.start(O),b=window.setTimeout(()=>{n.value=!1},A)}function w(){m.reset(),window.clearTimeout(b)}function x(){_.value=!0,w()}function E(){_.value=!1,u()}function T(A){S.value=A.touches[0].clientY}function k(A){Math.abs(S.value-A.changedTouches[0].clientY)>50&&(n.value=!1)}function D(){_.value&&E()}const B=computed(()=>e.location.split(" ").reduce((A,O)=>(A[`v-snackbar--${O}`]=!0,A),{}));return useRender(()=>{const A=VOverlay.filterProps(e),O=!!(r.default||r.text||e.text);return createVNode(VOverlay,mergeProps({ref:g,class:["v-snackbar",{"v-snackbar--active":n.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},B.value,i.value,e.class],style:[C.value,e.style]},A,{modelValue:n.value,"onUpdate:modelValue":V=>n.value=V,contentProps:mergeProps({class:["v-snackbar__wrapper",a.value,s.value,d.value,c.value],style:[l.value],onPointerenter:x,onPointerleave:E},A.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:T,onTouchend:k,onAfterLeave:D},o),{default:()=>{var V,H;return[genOverlays(!1,"v-snackbar"),e.timer&&!_.value&&createBaseVNode("div",{key:"timer",class:"v-snackbar__timer"},[createVNode(VProgressLinear,{ref:v,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,modelValue:m.time.value},null)]),O&&createBaseVNode("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((V=r.text)==null?void 0:V.call(r))??e.text,(H=r.default)==null?void 0:H.call(r)]),r.actions&&createVNode(VDefaultsProvider,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[createBaseVNode("div",{class:"v-snackbar__actions"},[r.actions({isActive:n})])]})]},activator:r.activator})}),forwardRefs({},g)}}),VTabsSymbol=Symbol.for("vuetify:v-tabs"),makeVTabProps=propsFactory({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...omit$1(makeVBtnProps({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),VTab=genericComponent()({name:"VTab",props:makeVTabProps(),setup(e,t){let{slots:r,attrs:n}=t;const{textColorClasses:i,textColorStyles:o}=useTextColor(()=>e.sliderColor),a=ref(),s=ref(),l=computed(()=>e.direction==="horizontal"),c=computed(()=>{var m,g;return((g=(m=a.value)==null?void 0:m.group)==null?void 0:g.isSelected.value)??!1});function d(m){var v,_;let{value:g}=m;if(g){const S=(_=(v=a.value)==null?void 0:v.$el.parentElement)==null?void 0:_.querySelector(".v-tab--selected .v-tab__slider"),C=s.value;if(!S||!C)return;const y=getComputedStyle(S).color,b=S.getBoundingClientRect(),u=C.getBoundingClientRect(),w=l.value?"x":"y",x=l.value?"X":"Y",E=l.value?"right":"bottom",T=l.value?"width":"height",k=b[w],D=u[w],B=k>D?b[E]-u[E]:b[w]-u[w],A=Math.sign(B)>0?l.value?"right":"bottom":Math.sign(B)<0?l.value?"left":"top":"center",V=(Math.abs(B)+(Math.sign(B)<0?b[T]:u[T]))/Math.max(b[T],u[T])||0,H=b[T]/u[T]||0,q=1.5;animate(C,{backgroundColor:[y,"currentcolor"],transform:[`translate${x}(${B}px) scale${x}(${H})`,`translate${x}(${B/q}px) scale${x}(${(V-1)/q+1})`,"none"],transformOrigin:Array(3).fill(A)},{duration:225,easing:standardEasing})}}return useRender(()=>{const m=VBtn.filterProps(e);return createVNode(VBtn,mergeProps({symbol:VTabsSymbol,ref:a,class:["v-tab",e.class],style:e.style,tabindex:c.value?0:-1,role:"tab","aria-selected":String(c.value),active:!1},m,n,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":d}),{...r,default:()=>{var g;return createBaseVNode(Fragment,null,[((g=r.default)==null?void 0:g.call(r))??e.text,!e.hideSlider&&createBaseVNode("div",{ref:s,class:normalizeClass(["v-tab__slider",i.value]),style:normalizeStyle(o.value)},null)])}})}),forwardRefs({},a)}}),makeVTabsWindowProps=propsFactory({...omit$1(makeVWindowProps(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),VTabsWindow=genericComponent()({name:"VTabsWindow",props:makeVTabsWindowProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=inject$1(VTabsSymbol,null),i=useProxiedModel(e,"modelValue"),o=computed({get(){var a;return i.value!=null||!n?i.value:(a=n.items.value.find(s=>n.selected.value.includes(s.id)))==null?void 0:a.value},set(a){i.value=a}});return useRender(()=>{const a=VWindow.filterProps(e);return createVNode(VWindow,mergeProps({_as:"VTabsWindow"},a,{modelValue:o.value,"onUpdate:modelValue":s=>o.value=s,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),r)}),{}}}),makeVTabsWindowItemProps=propsFactory({...makeVWindowItemProps()},"VTabsWindowItem"),VTabsWindowItem=genericComponent()({name:"VTabsWindowItem",props:makeVTabsWindowItemProps(),setup(e,t){let{slots:r}=t;return useRender(()=>{const n=VWindowItem.filterProps(e);return createVNode(VWindowItem,mergeProps({_as:"VTabsWindowItem"},n,{class:["v-tabs-window-item",e.class],style:e.style}),r)}),{}}});function parseItems(e){return e?e.map(t=>isObject$c(t)?t:{text:t,value:t}):[]}const makeVTabsProps=propsFactory({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...makeVSlideGroupProps({mandatory:"force",selectedClass:"v-tab-item--selected"}),...makeDensityProps(),...makeTagProps()},"VTabs"),VTabs=genericComponent()({name:"VTabs",props:makeVTabsProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:r,slots:n}=t;const i=useProxiedModel(e,"modelValue"),o=computed(()=>parseItems(e.items)),{densityClasses:a}=useDensity(e),{backgroundColorClasses:s,backgroundColorStyles:l}=useBackgroundColor(()=>e.bgColor),{scopeId:c}=useScopeId();return provideDefaults({VTab:{color:toRef(()=>e.color),direction:toRef(()=>e.direction),stacked:toRef(()=>e.stacked),fixed:toRef(()=>e.fixedTabs),sliderColor:toRef(()=>e.sliderColor),hideSlider:toRef(()=>e.hideSlider)}}),useRender(()=>{const d=VSlideGroup.filterProps(e),m=!!(n.window||e.items.length>0);return createBaseVNode(Fragment,null,[createVNode(VSlideGroup,mergeProps(d,{modelValue:i.value,"onUpdate:modelValue":g=>i.value=g,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},a.value,s.value,e.class],style:[{"--v-tabs-height":convertToUnit(e.height)},l.value,e.style],role:"tablist",symbol:VTabsSymbol},c,r),{default:()=>{var g;return[((g=n.default)==null?void 0:g.call(n))??o.value.map(v=>{var _;return((_=n.tab)==null?void 0:_.call(n,{item:v}))??createVNode(VTab,mergeProps(v,{key:v.text,value:v.value}),{default:n[`tab.${v.value}`]?()=>{var S;return(S=n[`tab.${v.value}`])==null?void 0:S.call(n,{item:v})}:void 0})})]}}),m&&createVNode(VTabsWindow,mergeProps({modelValue:i.value,"onUpdate:modelValue":g=>i.value=g,key:"tabs-window"},c),{default:()=>{var g;return[o.value.map(v=>{var _;return((_=n.item)==null?void 0:_.call(n,{item:v}))??createVNode(VTabsWindowItem,{value:v.value},{default:()=>{var S;return(S=n[`item.${v.value}`])==null?void 0:S.call(n,{item:v})}})}),(g=n.window)==null?void 0:g.call(n)]}})])}),{}}}),makeVTextareaProps=propsFactory({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...makeVInputProps(),...makeVFieldProps()},"VTextarea"),VTextarea=genericComponent()({name:"VTextarea",directives:{vIntersect:Intersect},inheritAttrs:!1,props:makeVTextareaProps(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,"update:rows":e=>!0},setup(e,t){let{attrs:r,emit:n,slots:i}=t;const o=useProxiedModel(e,"modelValue"),{isFocused:a,focus:s,blur:l}=useFocus(e),{onIntersect:c}=useAutofocus(e),d=computed(()=>typeof e.counterValue=="function"?e.counterValue(o.value):(o.value||"").toString().length),m=computed(()=>{if(r.maxlength)return r.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),g=ref(),v=ref(),_=shallowRef(""),S=ref(),C=computed(()=>e.persistentPlaceholder||a.value||e.active);function y(){var A;S.value!==document.activeElement&&((A=S.value)==null||A.focus()),a.value||s()}function b(A){y(),n("click:control",A)}function u(A){n("mousedown:control",A)}function w(A){A.stopPropagation(),y(),nextTick$1(()=>{o.value="",callEvent(e["onClick:clear"],A)})}function x(A){var V;const O=A.target;if(o.value=O.value,(V=e.modelModifiers)!=null&&V.trim){const H=[O.selectionStart,O.selectionEnd];nextTick$1(()=>{O.selectionStart=H[0],O.selectionEnd=H[1]})}}const E=ref(),T=ref(Number(e.rows)),k=computed(()=>["plain","underlined"].includes(e.variant));watchEffect(()=>{e.autoGrow||(T.value=Number(e.rows))});function D(){e.autoGrow&&nextTick$1(()=>{if(!E.value||!v.value)return;const A=getComputedStyle(E.value),O=getComputedStyle(v.value.$el),V=parseFloat(A.getPropertyValue("--v-field-padding-top"))+parseFloat(A.getPropertyValue("--v-input-padding-top"))+parseFloat(A.getPropertyValue("--v-field-padding-bottom")),H=E.value.scrollHeight,q=parseFloat(A.lineHeight),K=Math.max(parseFloat(e.rows)*q+V,parseFloat(O.getPropertyValue("--v-input-control-height"))),Q=parseFloat(e.maxRows)*q+V||1/0,X=clamp$1(H??0,K,Q);T.value=Math.floor((X-V)/q),_.value=convertToUnit(X)})}onMounted(D),watch(o,D),watch(()=>e.rows,D),watch(()=>e.maxRows,D),watch(()=>e.density,D),watch(T,A=>{n("update:rows",A)});let B;return watch(E,A=>{A?(B=new ResizeObserver(D),B.observe(E.value)):B==null||B.disconnect()}),onBeforeUnmount(()=>{B==null||B.disconnect()}),useRender(()=>{const A=!!(i.counter||e.counter||e.counterValue),O=!!(A||i.details),[V,H]=filterInputAttrs(r),{modelValue:q,...K}=VInput.filterProps(e),Q={...VField.filterProps(e),"onClick:clear":w};return createVNode(VInput,mergeProps({ref:g,modelValue:o.value,"onUpdate:modelValue":X=>o.value=X,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":k.value},e.class],style:e.style},V,K,{centerAffix:T.value===1&&!k.value,focused:a.value}),{...i,default:X=>{let{id:N,isDisabled:I,isDirty:U,isReadonly:F,isValid:ee,hasDetails:ue}=X;return createVNode(VField,mergeProps({ref:v,style:{"--v-textarea-control-height":_.value},onClick:b,onMousedown:u,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},Q,{id:N.value,active:C.value||U.value,centerAffix:T.value===1&&!k.value,dirty:U.value||e.dirty,disabled:I.value,focused:a.value,details:ue.value,error:ee.value===!1}),{...i,default:he=>{let{props:{class:ve,...j}}=he;return createBaseVNode(Fragment,null,[e.prefix&&createBaseVNode("span",{class:"v-text-field__prefix"},[e.prefix]),withDirectives(createBaseVNode("textarea",mergeProps({ref:S,class:ve,value:o.value,onInput:x,autofocus:e.autofocus,readonly:F.value,disabled:I.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:y,onBlur:l},j,H),null),[[Intersect,{handler:c},null,{once:!0}]]),e.autoGrow&&withDirectives(createBaseVNode("textarea",{class:normalizeClass([ve,"v-textarea__sizer"]),id:`${j.id}-sizer`,"onUpdate:modelValue":M=>o.value=M,ref:E,readonly:!0,"aria-hidden":"true"},null),[[vModelText,o.value]]),e.suffix&&createBaseVNode("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:O?X=>{var N;return createBaseVNode(Fragment,null,[(N=i.details)==null?void 0:N.call(i,X),A&&createBaseVNode(Fragment,null,[createBaseVNode("span",null,null),createVNode(VCounter,{active:e.persistentCounter||a.value,value:d.value,max:m.value,disabled:e.disabled},i.counter)])])}:void 0})}),forwardRefs({},g,v,S)}}),makeVTooltipProps=propsFactory({id:String,interactive:Boolean,text:String,...omit$1(makeVOverlayProps({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:null}),["absolute","persistent"])},"VTooltip"),VTooltip=genericComponent()({name:"VTooltip",props:makeVTooltipProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=useProxiedModel(e,"modelValue"),{scopeId:i}=useScopeId(),o=useId(),a=toRef(()=>e.id||`v-tooltip-${o}`),s=ref(),l=computed(()=>e.location.split(" ").length>1?e.location:e.location+" center"),c=computed(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),d=toRef(()=>e.transition!=null?e.transition:n.value?"scale-transition":"fade-transition"),m=computed(()=>mergeProps({"aria-describedby":a.value},e.activatorProps));return useRender(()=>{const g=VOverlay.filterProps(e);return createVNode(VOverlay,mergeProps({ref:s,class:["v-tooltip",{"v-tooltip--interactive":e.interactive},e.class],style:e.style,id:a.value},g,{modelValue:n.value,"onUpdate:modelValue":v=>n.value=v,transition:d.value,absolute:!0,location:l.value,origin:c.value,persistent:!0,role:"tooltip",activatorProps:m.value,_disableGlobalStack:!0},i),{activator:r.activator,default:function(){var C;for(var v=arguments.length,_=new Array(v),S=0;S<v;S++)_[S]=arguments[S];return((C=r.default)==null?void 0:C.call(r,..._))??e.text}})}),forwardRefs({},s)}}),_hoisted_1$A={class:"mb-2 mr-3"},_sfc_main$1e=defineComponent$1({__name:"ChoiceStringSetting",props:mergeModels({forceChips:{type:Boolean},forceGroup:{type:Boolean},disabled:{type:Boolean},hideTitle:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=getChipVariant(),r=useModel(e,"modelValue"),n=e;function i(s){var d;if(!r.value.icons)return;const l=(d=r.value.value)==null?void 0:d[s],c=r.value.choices.indexOf(l);return r.value.icons[c]}const o=computed(()=>{if(!n.hideTitle)return r.value.description}),a=computed(()=>{var s;return(s=r.value)!=null&&s.combobox?VCombobox:VSelect});return(s,l)=>{var c;return openBlock(),createElementBlock("div",null,[(s.forceChips||((c=r.value.choices)==null?void 0:c.length)<=3)&&!r.value.combobox&&!r.value.immediate&&!r.value.readonly?(openBlock(),createElementBlock(Fragment,{key:0},[r.value.title&&!s.hideTitle?(openBlock(),createBlock(VListItemSubtitle,{key:0,class:"shrink mt-1 ml-3"},{default:withCtx(()=>[createTextVNode(toDisplayString(r.value.title),1)]),_:1})):createCommentVNode("",!0),createVNode(VBtnToggle,{modelValue:r.value.value,"onUpdate:modelValue":l[0]||(l[0]=d=>r.value.value=d),column:"",multiple:r.value.multiple,density:"compact",variant:"tonal",style:{height:"32px"},mandatory:!r.value.multiple},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value.choices,(d,m)=>{var g,v;return openBlock(),createBlock(VBtn,{disabled:s.disabled,rounded:!r.value.multiple||s.forceGroup?0:void 0,color:unref(chipColor),size:"x-small",value:d,"prepend-icon":(g=r.value.value)!=null&&g.includes(d)?unref(getFaPrefix)("fa-square-check"):unref(getFaPrefix)("fa-square"),"append-icon":unref(maybeGetFaPrefix)((v=r.value.icons)==null?void 0:v[m])},{default:withCtx(()=>[createTextVNode(toDisplayString(d),1)]),_:2},1032,["disabled","rounded","color","value","prepend-icon","append-icon"])}),256))]),_:1},8,["modelValue","multiple","mandatory"]),createBaseVNode("div",_hoisted_1$A,[o.value?(openBlock(),createBlock(VListItemSubtitle,{key:0,class:"shrink ml-3 mr-3"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.value),1)]),_:1})):createCommentVNode("",!0)]),createVNode(VDivider,{class:"mt-2 mb-2"})],64)):(openBlock(),createBlock(resolveDynamicComponent(a.value),{key:1,class:"shrink",readonly:r.value.readonly,density:"compact",variant:"outlined",label:s.hideTitle?void 0:r.value.title,hint:o.value,modelValue:r.value.value,"onUpdate:modelValue":l[1]||(l[1]=d=>r.value.value=d),items:r.value.choices.filter(d=>d!=null),multiple:r.value.multiple,chips:r.value.multiple,"closable-chips":r.value.multiple&&!r.value.readonly,"persistent-hint":!!o.value,"hide-details":!o.value,"persistent-placeholder":"",disabled:s.disabled},createSlots({_:2},[r.value.multiple?{name:"chip",fn:withCtx(({props:d,index:m})=>[createVNode(VChip,mergeProps(d,{color:unref(chipColor),variant:unref(t),"prepend-icon":i(m)}),null,16,["color","variant","prepend-icon"])]),key:"0"}:void 0,r.value.icons?{name:"item",fn:withCtx(({props:d,index:m})=>[createVNode(VListItem,mergeProps(d,{density:"compact",color:"info"}),{prepend:withCtx(()=>[createVNode(VIcon,{size:"x-small"},{default:withCtx(()=>{var g;return[createTextVNode(toDisplayString(unref(maybeGetFaPrefix)((g=r.value.icons)==null?void 0:g[m])),1)]}),_:2},1024)]),_:2},1040)]),key:"1"}:void 0]),1032,["readonly","label","hint","modelValue","items","multiple","chips","closable-chips","persistent-hint","hide-details","disabled"]))])}}}),ChoiceStringSetting=_export_sfc$1(_sfc_main$1e,[["__scopeId","data-v-285ad083"]]),_sfc_main$1d=defineComponent$1({__name:"ClipPathSetting",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=useModel(e,"modelValue");return(r,n)=>(openBlock(),createBlock(ButtonSetting,{"model-value":t.value},null,8,["model-value"]))}}),_sfc_main$1c=defineComponent$1({__name:"StringSetting",props:mergeModels({disabled:{type:Boolean},hideTitle:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=useModel(e,"modelValue"),r=e,n=computed(()=>{if(!r.hideTitle)return t.value.title}),i=computed(()=>{if(!r.hideTitle)return t.value.description});return(o,a)=>{var s,l;return openBlock(),createElementBlock("div",null,[t.value.type!=="textarea"?(openBlock(),createBlock(VTextField,{key:0,class:"shrink",readonly:t.value.readonly,density:"compact",variant:"outlined",label:n.value,"persistent-placeholder":"",hint:i.value,placeholder:(s=t.value)==null?void 0:s.placeholder,modelValue:t.value.value,"onUpdate:modelValue":a[0]||(a[0]=c=>t.value.value=c),type:t.value.type==="password"?"password":void 0,"persistent-hint":!!i.value,"hide-details":!i.value,disabled:o.disabled},null,8,["readonly","label","hint","placeholder","modelValue","type","persistent-hint","hide-details","disabled"])):(openBlock(),createBlock(VTextarea,{key:1,class:"shrink",readonly:t.value.readonly,density:"compact",variant:"outlined",label:n.value,"persistent-placeholder":"",hint:i.value,placeholder:(l=t.value)==null?void 0:l.placeholder,modelValue:t.value.value,"onUpdate:modelValue":a[1]||(a[1]=c=>t.value.value=c),"persistent-hint":!!i.value,"hide-details":!i.value,disabled:o.disabled},null,8,["readonly","label","hint","placeholder","modelValue","persistent-hint","hide-details","disabled"]))])}}}),StringSetting=_export_sfc$1(_sfc_main$1c,[["__scopeId","data-v-bc825989"]]),_sfc_main$1b=defineComponent$1({__name:"DeviceSetting",props:mergeModels({hideTitle:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(__props){const props=__props,description=computed(()=>{if(!props.hideTitle)return modelValue.value.description}),chipVariant=getChipVariant(),modelValue=useModel(__props,"modelValue"),value=computed({get(){var t,r;if(!modelValue.value.multiple){const n=modelValue.value.value;return{title:modelValue.value.getDeviceTitle?modelValue.value.getDeviceTitle(n):((r=(t=connectedClient.value)==null?void 0:t.systemManager.getDeviceById(n))==null?void 0:r.name)||modelValue.value.placeholder||"",value:n}}let e=modelValue.value.value;return Array.isArray(e)||(e=[]),e.map(n=>{var i,o;return{title:modelValue.value.getDeviceTitle?modelValue.value.getDeviceTitle(n):((o=(i=connectedClient.value)==null?void 0:i.systemManager.getDeviceById(n))==null?void 0:o.name)||modelValue.value.placeholder||"",value:n}})},set(e){Array.isArray(e)?modelValue.value.value=e.map(t=>t.value):modelValue.value.value=e==null?void 0:e.value}}),choices=computed(()=>{if(modelValue.value.choices&&!modelValue.value.deviceFilter)return modelValue.value.choices.map(e=>({title:connectedClient.value.systemManager.getDeviceById(e).name,value:e}));const allDevices=getAllDevices();let ret=allDevices;if(modelValue.value.deviceFilter){let expression;try{expression=modelValue.value.deviceFilter||"true;"}catch(e){expression="true;"}ret=allDevices.filter(device=>{try{const ret=eval(`(function() {
            const interfaces = ${JSON.stringify(device.interfaces)};
            const type = '${device.type}';
            const id = '${device.id}';
            return ${expression};
          })
          `)();return typeof ret!="function"?ret:ret({ScryptedDeviceType:distExports.ScryptedDeviceType,ScryptedInterface:distExports.ScryptedInterface,interfaces:device.interfaces,type:device.type,id:device.id})}catch(e){return!0}})}return ret.map(e=>({title:modelValue.value.getDeviceTitle?modelValue.value.getDeviceTitle(e.id):e.name,value:e.id}))});return(e,t)=>(openBlock(),createBlock(VAutocomplete,{class:"shrink",readonly:modelValue.value.readonly,density:"compact",variant:"outlined",label:modelValue.value.title&&!e.hideTitle?modelValue.value.title:void 0,hint:description.value,modelValue:value.value,"onUpdate:modelValue":t[0]||(t[0]=r=>value.value=r),items:choices.value,"return-object":"",multiple:modelValue.value.multiple,chips:modelValue.value.multiple,"closable-chips":modelValue.value.multiple,"persistent-hint":!!description.value,"hide-details":!description.value,"persistent-placeholder":""},createSlots({"no-data":withCtx(()=>[]),_:2},[modelValue.value.multiple?{name:"chip",fn:withCtx(({props:r})=>[createVNode(VChip,mergeProps(r,{color:unref(chipColor),variant:unref(chipVariant)}),null,16,["color","variant"])]),key:"0"}:void 0]),1032,["readonly","label","hint","modelValue","items","multiple","chips","closable-chips","persistent-hint","hide-details"]))}}),DeviceSetting=_export_sfc$1(_sfc_main$1b,[["__scopeId","data-v-66b53f34"]]),_sfc_main$1a=defineComponent$1({__name:"DateTimeSetting",props:mergeModels({hideTitle:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=isDark(),r=useModel(e,"modelValue");function n(o){console.warn(o),r.value.value=o.getTime()}const i=computed(()=>r.value.type==="date"?"date":r.value.type==="time"?"time":"dateTime");return(o,a)=>{const s=resolveComponent("V2DatePicker");return openBlock(),createElementBlock("div",null,[r.value.title&&!o.hideTitle?(openBlock(),createBlock(VListItemSubtitle,{key:0,class:"shrink ml-3 mr-3"},{default:withCtx(()=>[createTextVNode(toDisplayString(r.value.title),1)]),_:1})):createCommentVNode("",!0),createVNode(s,{"is-dark":unref(t),mode:i.value,class:"pa-0 ma-0","model-value":new Date(unref(normalizeNumber)(r.value.value)||Date.now()),"hide-time-header":i.value==="time","onUpdate:modelValue":n},null,8,["is-dark","mode","model-value","hide-time-header"]),createVNode(VDivider,{class:"mt-2"})])}}}),DateTimeSetting=_export_sfc$1(_sfc_main$1a,[["__scopeId","data-v-bd8f7120"]]),scriptRel="modulepreload",assetsURL=function(e,t){return new URL(e,t).href},seen={},__vitePreload=function e(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let a=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const s=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=a(r.map(d=>{if(d=assetsURL(d,n),d in seen)return;seen[d]=!0;const m=d.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(!!n)for(let S=s.length-1;S>=0;S--){const C=s[S];if(C.href===d&&(!m||C.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${g}`))return;const _=document.createElement("link");if(_.rel=m?"stylesheet":scriptRel,m||(_.as="script"),_.crossOrigin="",_.href=d,c&&_.setAttribute("nonce",c),document.head.appendChild(_),m)return new Promise((S,C)=>{_.addEventListener("load",S),_.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})},_hoisted_1$z={class:"mb-4"};async function main$1(){const{createMonacoEvalDefaultsWithLibs:e}=await __vitePreload(async()=>{const{createMonacoEvalDefaultsWithLibs:y}=await import("./monaco-libs-TbwQtI-x.js");return{createMonacoEvalDefaultsWithLibs:y}},[],import.meta.url),t=__vitePreload(()=>import("./globals.d-DYYnOZod.js"),[],import.meta.url),r=__vitePreload(()=>import("./module.d-DfRC2NXm.js"),[],import.meta.url),n=__vitePreload(()=>import("./buffer.d-B68xIE60.js"),[],import.meta.url),i=__vitePreload(()=>import("./process.d-Bz4KUnyT.js"),[],import.meta.url),o=__vitePreload(()=>import("./events.d-DsTwIlT-.js"),[],import.meta.url),a=__vitePreload(()=>import("./stream.d-Cw_t3Ol_.js"),[],import.meta.url),s=__vitePreload(()=>import("./fs.d-DkGuMUnk.js"),[],import.meta.url),l=__vitePreload(()=>import("./net.d-aR6llfdb.js"),[],import.meta.url),c=__vitePreload(()=>import("./child_process.d-B60pHYGw.js"),[],import.meta.url),d={"@types/node/globals.d.ts":(await t).default,"@types/node/module.d.ts":(await r).default,"@types/node/buffer.d.ts":(await n).default,"@types/node/process.d.ts":(await i).default,"@types/node/events.d.ts":(await o).default,"@types/node/stream.d.ts":(await a).default,"@types/node/fs.d.ts":(await s).default,"@types/node/net.d.ts":(await l).default,"@types/node/child_process.d.ts":(await c).default},m=__vitePreload(()=>import("./settings-mixin.d-B9ghS7st.js"),[],import.meta.url),g=__vitePreload(()=>import("./storage-settings.d-CYtgNQAc.js"),[],import.meta.url),v=__vitePreload(()=>import("./index.d-5SVuFDi4.js"),[],import.meta.url),_=__vitePreload(()=>import("./index.d-CKm2j2n-.js"),[],import.meta.url),S={"@types/sdk/index.d.ts":(await v).default,"@types/sdk/settings-mixin.d.ts":(await m).default,"@types/sdk/storage-settings.d.ts":(await g).default,"@types/sdk/types.d.ts":(await _).default};return e(d,S,{})}const monacoEvalDefaults=main$1();window.MonacoEnvironment={getWorkerUrl:function(e,t){const r=new URL(document.baseURI);r.search="",r.hash="";const n=new URL("vs/base/worker/workerMain.js",r);return`data:text/javascript;charset=utf-8,${encodeURIComponent(`
              self.MonacoEnvironment = { baseUrl: '${r}' };
              importScripts('${n}');
          `)}`}};const _sfc_main$19=defineComponent$1({__name:"ScriptSetting",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],async setup(__props){let __temp,__restore;const monaco=([__temp,__restore]=withAsyncContext(()=>__vitePreload(()=>import("./editor.main-Dl_0F1jJ.js").then(e=>e.e),__vite__mapDeps([0,1]),import.meta.url)),__temp=await __temp,__restore(),__temp),lineHintColor=getLineHintColor(),modelValue=useModel(__props,"modelValue"),container=ref();let currentEditor,model;onUnmounted(()=>{currentEditor==null||currentEditor.dispose()});const dark=isDark();watch(()=>dark.value,()=>{currentEditor.updateOptions({theme:dark.value?"vs-dark":"vs"})});async function createEditor(){var e,t;if(!container.value)return;currentEditor==null||currentEditor.dispose(),currentEditor=void 0;const uri=monaco.Uri.parse("scriptsetting.ts");model=monaco.editor.getModel(uri)||monaco.editor.createModel(((t=(e=modelValue.value)==null?void 0:e.value)==null?void 0:t.toString())||"","typescript",uri),currentEditor=monaco.editor.create(container.value,{theme:dark.value?"vs-dark":"vs",automaticLayout:!0,minimap:{enabled:!1},fontSize:10,model}),currentEditor.onDidChangeModelContent(r=>{modelValue.value.value=currentEditor.getValue()});const f=eval(await monacoEvalDefaults);f(monaco)}return watch(()=>container.value,createEditor),(e,t)=>(openBlock(),createElementBlock("div",_hoisted_1$z,[modelValue.value.title?(openBlock(),createBlock(VListItemSubtitle,{key:0,class:"shrink ml-3 mr-3 mb-3"},{default:withCtx(()=>[createTextVNode(toDisplayString(modelValue.value.title),1)]),_:1})):createCommentVNode("",!0),createBaseVNode("div",{ref_key:"container",ref:container,style:normalizeStyle([{height:"320px",width:"100%","border-width":"1px","border-style":"solid"},`border-color: ${unref(lineHintColor)}`])},null,4),createVNode(VDivider,{class:"mt-2 mb-2"})]))}}),ScriptSetting=_export_sfc$1(_sfc_main$19,[["__scopeId","data-v-d94ba348"]]),_sfc_main$18=defineComponent$1({__name:"DaySetting",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=useModel(e,"modelValue"),r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6},i=ref();function o(){let a;if(t.value.multiple){let s=t.value.value;Array.isArray(s)?s=[...new Set(s)]:s=void 0,a=s==null?void 0:s.map(l=>(l=normalizeNumber(l),r[l])).filter(l=>!!l)}else{const s=normalizeNumber(t.value.value);a=r[s]}i.value={...t.value,value:a,choices:r}}return watch(()=>t.value,o),o(),watch(()=>{var a;return(a=i.value)==null?void 0:a.value},()=>{var a;if(t.value.multiple){const s=(a=i.value.value)==null?void 0:a.map(l=>n[l]);t.value.value=s}else{const s=n[i.value.value];t.value.value=s}}),(a,s)=>(openBlock(),createBlock(ChoiceStringSetting,{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=l=>i.value=l),"force-chips":"","force-group":""},null,8,["modelValue"]))}}),_hoisted_1$y={class:"mt-4"},_hoisted_2$q=["innerHTML"],_sfc_main$17=defineComponent$1({__name:"HtmlSetting",props:mergeModels({hideTitle:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=useModel(e,"modelValue");return(r,n)=>(openBlock(),createElementBlock("div",_hoisted_1$y,[t.value.title&&!r.hideTitle?(openBlock(),createBlock(VListItemSubtitle,{key:0,class:"shrink ml-3 mr-3 mb-2"},{default:withCtx(()=>[createTextVNode(toDisplayString(t.value.title),1)]),_:1})):createCommentVNode("",!0),createBaseVNode("div",{style:{"font-size":".8rem"},innerHTML:t.value.value},null,8,_hoisted_2$q),createVNode(VDivider,{class:"mt-2"})]))}}),HtmlSetting=_export_sfc$1(_sfc_main$17,[["__scopeId","data-v-7cbb73ff"]]),_sfc_main$16=defineComponent$1({__name:"DeviceInterfaceSetting",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(__props){const chipVariant=getChipVariant(),modelValue=useModel(__props,"modelValue"),value=computed({get(){var t;if(!modelValue.value.multiple){const r=modelValue.value.value;if(!r)return;const[n,i]=r.split("#",2);return!n||!i?void 0:{title:((t=connectedClient.value)==null?void 0:t.systemManager.getDeviceById(n)).name+` (${i})`,value:r}}let e=modelValue.value.value;return Array.isArray(e)||(e=[]),e.map(r=>{var s;const[n,i]=r.split("#",2),o=(s=connectedClient.value)==null?void 0:s.systemManager.getDeviceById(n);return o?{title:o.name+` (${i})`,value:r}:void 0}).filter(r=>r)},set(e){Array.isArray(e)?modelValue.value.value=e.map(t=>t.value):modelValue.value.value=e==null?void 0:e.value}}),choices=computed(()=>{if(modelValue.value.choices&&!modelValue.value.deviceFilter)return modelValue.value.choices.map(e=>({title:connectedClient.value.systemManager.getDeviceById(e).name,value:e}));const allDeviceInterfaces=getAllDevices().map(e=>e.interfaces.map(t=>({device:e,deviceInterface:t}))).flat();let ret=allDeviceInterfaces;if(modelValue.value.deviceFilter){let expression;try{expression=modelValue.value.deviceFilter||"true;"}catch(e){expression="true;"}ret=allDeviceInterfaces.filter(({device,deviceInterface})=>{try{const script=`(function() {
          const interfaces = ${JSON.stringify(device.interfaces)};
          const deviceInterface = '${deviceInterface}';
          const type = '${device.type}';
          return ${expression};
        })`,ret=eval(script)();return typeof ret!="function"?ret:ret({ScryptedDeviceType:distExports.ScryptedDeviceType,ScryptedInterface:distExports.ScryptedInterface,interfaces:device.interfaces,deviceInterface,type:device.type})}catch(e){return console.warn(e),!0}})}return ret.map(({device:e,deviceInterface:t})=>({title:e.name+` (${t})`,value:e.id+"#"+t}))});return(e,t)=>(openBlock(),createBlock(VAutocomplete,{class:"shrink",readonly:modelValue.value.readonly,density:"compact",variant:"outlined",label:modelValue.value.title,hint:modelValue.value.description,modelValue:value.value,"onUpdate:modelValue":t[0]||(t[0]=r=>value.value=r),items:choices.value,"return-object":"",multiple:modelValue.value.multiple,chips:modelValue.value.multiple,"closable-chips":modelValue.value.multiple,"persistent-hint":!!modelValue.value.description,"hide-details":!modelValue.value.description,"persistent-placeholder":""},createSlots({"no-data":withCtx(()=>[]),_:2},[modelValue.value.multiple?{name:"chip",fn:withCtx(({props:r})=>[createVNode(VChip,mergeProps(r,{color:unref(chipColor),variant:unref(chipVariant)}),null,16,["color","variant"])]),key:"0"}:void 0]),1032,["readonly","label","hint","modelValue","items","multiple","chips","closable-chips","persistent-hint","hide-details"]))}}),DeviceInterfaceSetting=_export_sfc$1(_sfc_main$16,[["__scopeId","data-v-f46a2af3"]]),_hoisted_1$x={class:"mb-4"},_sfc_main$15=defineComponent$1({__name:"ReadonlyRangeSetting",props:mergeModels({hideTitle:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=isDark(),r=e,n=computed(()=>{if(!r.hideTitle)return a.value.title}),i=computed(()=>{if(!r.hideTitle)return a.value.description}),o=computed(()=>t.value?chipColor:"light-blue-darken-1"),a=useModel(e,"modelValue"),s=computed(()=>a.value.value);return(l,c)=>(openBlock(),createElementBlock("div",_hoisted_1$x,[n.value?(openBlock(),createBlock(VListItemSubtitle,{key:0,class:"shrink ml-3 mr-3 mb-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(n.value),1)]),_:1})):createCommentVNode("",!0),createVNode(VProgressLinear,{color:o.value,"model-value":s.value,max:a.value.range[1],height:"20",rounded:""},{default:withCtx(()=>[createBaseVNode("div",null,toDisplayString(a.value.value)+"/"+toDisplayString(a.value.range[1])+" "+toDisplayString(a.value.placeholder),1)]),_:1},8,["color","model-value","max"]),i.value?(openBlock(),createBlock(VListItemSubtitle,{key:1,class:"shrink ml-3 mr-3 mt-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(i.value),1)]),_:1})):createCommentVNode("",!0),createVNode(VDivider,{class:"mt-2 mb-2"})]))}}),ReadonlyRangeSetting=_export_sfc$1(_sfc_main$15,[["__scopeId","data-v-a5888a4d"]]),_sfc_main$14=defineComponent$1({__name:"MultipleStringSetting",props:mergeModels({disabled:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=useModel(e,"modelValue"),r=ref();function n(){let i=t.value.value;i||(i=[]),i=i.slice(),i.find(a=>!a)||i.push(""),r.value=i}return watch(()=>t.value.value,n,{immediate:!0}),n(),watch(()=>r.value,()=>{var a,s;const i=(a=t.value.value)==null?void 0:a.filter(l=>l),o=(s=r.value)==null?void 0:s.filter(l=>l);JSON.stringify(i)!==JSON.stringify(o)&&(t.value.value=o)},{deep:!0}),(i,o)=>(openBlock(),createElementBlock("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,(a,s)=>(openBlock(),createBlock(VTextField,{class:"shrink",readonly:t.value.readonly,density:"compact",disabled:i.disabled,variant:"outlined",label:t.value.title,"persistent-placeholder":"",hint:t.value.description,placeholder:t.value.placeholder,"model-value":a,"onUpdate:modelValue":l=>r.value[s]=l,type:t.value.type==="password"?"password":void 0,"persistent-hint":!!t.value.description,"hide-details":!t.value.description},null,8,["readonly","disabled","label","hint","placeholder","model-value","onUpdate:modelValue","type","persistent-hint","hide-details"]))),256))]))}}),MultipleStringSetting=_export_sfc$1(_sfc_main$14,[["__scopeId","data-v-f1ebb517"]]),_hoisted_1$w={style:{display:"flex","flex-direction":"column","align-items":"center"}},_sfc_main$13=defineComponent$1({__name:"RadioPanelSetting",props:mergeModels({hideTitle:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=useModel(e,"modelValue");return(r,n)=>(openBlock(),createElementBlock("div",_hoisted_1$w,[r.hideTitle?createCommentVNode("",!0):(openBlock(),createBlock(VListItemSubtitle,{key:0,class:"mt-1 mb-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(t.value.title),1)]),_:1})),createVNode(VBtnToggle,{modelValue:t.value.value,"onUpdate:modelValue":n[0]||(n[0]=i=>t.value.value=i),mandatory:"",class:"mb-4 rounded-md",divided:"",style:{width:"100%","max-width":"360px","border-width":"2px"},color:"info",density:"compact"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.value.choices,(i,o)=>{var a;return openBlock(),createBlock(VBtn,{key:i,value:i,size:"x-small",height:32,style:{flex:"1"},"prepend-icon":unref(maybeGetFaPrefix)((a=t.value.icons)==null?void 0:a[o])},{default:withCtx(()=>[createTextVNode(toDisplayString(i),1)]),_:2},1032,["value","prepend-icon"])}),128))]),_:1},8,["modelValue"])]))}}),_sfc_main$12=defineComponent$1({__name:"RadioButtonSetting",props:mergeModels({forceChips:{type:Boolean},forceGroup:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=useModel(e,"modelValue");return(r,n)=>(openBlock(),createBlock(VRadioGroup,{modelValue:t.value.value,"onUpdate:modelValue":n[0]||(n[0]=i=>t.value.value=i),inline:"",style:{scale:".75","transform-origin":"0","margin-bottom":"-16px"},color:"info",label:t.value.title},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.value.choices,i=>(openBlock(),createBlock(VRadio,{key:i,value:i,label:i},null,8,["value","label"]))),128))]),_:1},8,["modelValue","label"]))}}),_sfc_main$11=defineComponent$1({__name:"SplatSetting",props:{modelValue:{},modelModifiers:{}},emits:mergeModels(["click-button-setting"],["update:modelValue"]),setup(e,{emit:t}){const r=useModel(e,"modelValue");watchModelValue(r);const n=t;function i(a){switch(a){case void 0:case null:case"string":case"number":case"integer":case"password":case"textarea":return!0}return!1}function o(a){switch(a){case"date":case"time":case"datetime":return!0}return!1}return(a,s)=>r.value.type==="radiopanel"?(openBlock(),createBlock(_sfc_main$13,{key:0,"model-value":r.value},null,8,["model-value"])):r.value.type==="radiobutton"?(openBlock(),createBlock(_sfc_main$12,{key:1,"model-value":r.value},null,8,["model-value"])):r.value.type==="number"&&r.value.readonly&&r.value.range?(openBlock(),createBlock(ReadonlyRangeSetting,{key:2,"model-value":r.value},null,8,["model-value"])):r.value.choices?(openBlock(),createBlock(ChoiceStringSetting,{key:3,"model-value":r.value},null,8,["model-value"])):i(r.value.type)&&r.value.multiple?(openBlock(),createBlock(MultipleStringSetting,{key:4,"model-value":r.value},null,8,["model-value"])):i(r.value.type)?(openBlock(),createBlock(StringSetting,{key:5,"model-value":r.value},null,8,["model-value"])):r.value.type==="boolean"?(openBlock(),createBlock(BooleanSetting,{key:6,"model-value":r.value},null,8,["model-value"])):r.value.type==="button"?(openBlock(),createBlock(ButtonSetting,{key:7,"model-value":r.value,onClickButtonSetting:s[0]||(s[0]=l=>n("click-button-setting"))},null,8,["model-value"])):r.value.type==="clippath"?(openBlock(),createBlock(_sfc_main$1d,{key:8,"model-value":r.value,onClickButtonSetting:s[1]||(s[1]=l=>n("click-button-setting"))},null,8,["model-value"])):r.value.type==="device"?(openBlock(),createBlock(DeviceSetting,{key:9,"model-value":r.value},null,8,["model-value"])):r.value.type==="interface"?(openBlock(),createBlock(DeviceInterfaceSetting,{key:10,"model-value":r.value},null,8,["model-value"])):r.value.type==="script"?(openBlock(),createBlock(Suspense,{key:11},{default:withCtx(()=>[createVNode(ScriptSetting,{"model-value":r.value},null,8,["model-value"])]),_:1})):o(r.value.type)?(openBlock(),createBlock(DateTimeSetting,{key:12,"model-value":r.value},null,8,["model-value"])):r.value.type==="day"?(openBlock(),createBlock(_sfc_main$18,{key:13,"model-value":r.value},null,8,["model-value"])):r.value.type==="html"?(openBlock(),createBlock(HtmlSetting,{key:14,"model-value":r.value},null,8,["model-value"])):createCommentVNode("",!0)}}),_sfc_main$10=defineComponent$1({__name:"SettingRow",props:{title:{},description:{}},setup(e){return(t,r)=>t.title?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{class:"pt-1 pb-1",cols:"3",style:{"align-content":"center"}},{default:withCtx(()=>[createVNode(VListItemSubtitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(t.title),1)]),_:1})]),_:1}),createVNode(VCol,{class:"pt-1 pb-1",style:{"align-content":"center"}},{default:withCtx(()=>[renderSlot(t.$slots,"default")]),_:3})]),_:3}),createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{class:"pt-0 pb-1",cols:"3",style:{"align-content":"center"}}),createVNode(VCol,{class:"pt-0 pb-1 ml-4 mr-4",style:{"align-content":"center"}},{default:withCtx(()=>[createVNode(VListItemSubtitle,{style:{"font-size":".75rem"}},{default:withCtx(()=>[createTextVNode(toDisplayString(t.description),1)]),_:1})]),_:1})]),_:1})],64)):renderSlot(t.$slots,"default",{key:1})}});function observeResize(e){const t=ref();let r;function n(){r==null||r.disconnect(),r=void 0,i();const o=e.value;o&&(r=new ResizeObserver(i),r.observe(o))}const i=()=>{const o=e.value;if(!o){t.value=void 0;return}const[a]=o.getClientRects();t.value=a};return watch(()=>e.value,()=>{n(),i()}),onMounted(()=>{n(),i()}),n(),i(),onUnmounted(()=>r==null?void 0:r.disconnect()),t}const searchParams=new URLSearchParams(window.location.search),detectedTouch="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,isTouchDevice=ref(detectedTouch&&!isWindows&&!isCrOS||searchParams.get("display")==="phone"),isTouchTablet=computed(()=>{if(searchParams.get("display")==="phone")return!1;const e=Math.min(screen.width,screen.height);return isTouchDevice.value&&e>=600}),isTouchPhone=computed(()=>isTouchDevice.value&&!isTouchTablet.value);function getWindowDimensions(){return{innerWidth:window.innerWidth,innerHeight:window.innerHeight,outerWidth:window.outerWidth,outerHeight:window.outerHeight}}function getScreenDimensions(){return{width:screen.width,height:screen.height}}const windowSize=ref(getWindowDimensions()),screenSize=ref(getScreenDimensions());window.addEventListener("resize",()=>{nextTick$1(()=>{windowSize.value=getWindowDimensions(),screenSize.value=getScreenDimensions()})});window.addEventListener("orientationchange",()=>{nextTick$1(()=>{windowSize.value=getWindowDimensions(),screenSize.value=getScreenDimensions()})});let wasPortrait;const isPortrait=computed(()=>isFullScreen.value?wasPortrait:searchParams.get("display")==="phone"?wasPortrait=windowSize.value.innerWidth<windowSize.value.innerHeight:wasPortrait=windowSize.value.outerWidth<windowSize.value.outerHeight),isLandscape=computed(()=>!isPortrait.value);computed(()=>isTouchDevice.value&&isLandscape.value);watch(()=>isPortrait.value,()=>{console.log("orientation",isPortrait.value?"portrait":"landscape"),console.log("fullscreen",isFullScreen.value?"fullscreen":"windowed")});const _sfc_main$$=defineComponent$1({__name:"Settings",props:mergeModels({extraGroups:{},hideBorder:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:mergeModels(["click-button-setting"],["update:modelValue"]),setup(e,{emit:t}){var E,T,k,D;const r=useSlots(),n=isDark(),i=ref(),o=observeResize(i),a=computed(()=>isTouchPhone.value||!o.value?!1:o.value.width>480);function s(B){const A=[];return B.radioGroups&&(A.push("ml-4"),A.push("mr-4")),B.type==="radiopanel"&&a&&A.push("mt-4"),A.join(" ")}const l=computed(()=>{var A;let B=((A=_.value)==null?void 0:A.length)||0;return r["settings-expansion-panels"]&&B++,B});function c(B){return B||"General"}const d=useModel(e,"modelValue"),m=e,g=t;function v(B,A){if(!B)return[];const O=[];for(const V of B){const H=O.find(q=>q.title===V[A]);H?H.settings.push(V):O.push({title:V[A],settings:[V]})}return O}const _=computed(()=>v(d.value,"group").map(O=>({title:O.title,subgroups:v(O.settings,"subgroup")}))),S=ref((E=_.value)==null?void 0:E[0]);watch(()=>_.value,()=>{var B,A;(A=m.extraGroups)!=null&&A.includes((B=S.value)==null?void 0:B.title)||(S.value=_.value.find(O=>{var V;return O.title===((V=S.value)==null?void 0:V.title)})||_.value[0])});const C=ref((D=(k=(T=_.value)==null?void 0:T[0])==null?void 0:k.subgroups)==null?void 0:D[0]);watch(()=>S.value,()=>{var B,A;C.value=((B=S.value)==null?void 0:B.subgroups.find(O=>{var V;return O.title===((V=C.value)==null?void 0:V.title)}))||((A=S.value)==null?void 0:A.subgroups[0])});const y=computed(()=>{const B=new Set;for(const A of d.value)if(A.type==="radiobutton"&&w(A))for(const O of A.choices)B.add(O),B.add(A.title+":"+O);return[...B]}),b=computed(()=>{const B=new Set;for(const A of d.value)A.type==="radiobutton"&&(B.add(A.value),B.add(A.title+":"+A.value));return[...B]}),u=computed(()=>{const B=new Set;for(const O of d.value)if(O.type==="radiopanel")for(const V of O.choices)V!==O.value&&(B.add(V),B.add(O.title+":"+V));let A;do{A=B.size;for(const O of d.value)if(O.radioGroups&&(O.type==="radiobutton"||O.type==="radiopanel")){for(const V of O.radioGroups)if(B.has(V))for(const H of O.choices)B.add(H),B.add(O.title+":"+H)}}while(A!==B.size);return[...B]});function w(B){if(!B.radioGroups)return!0;for(const A of B.radioGroups)if(!u.value.includes(A))return!0;return!1}function x(B){if(!B.radioGroups)return;let A=!1;for(const O of B.radioGroups){if(b.value.includes(O))return!1;A||(A=y.value.includes(O))}return A}return(B,A)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:i},[createVNode(VExpansionPanels,{flat:"",density:"compact",modelValue:S.value,"onUpdate:modelValue":A[2]||(A[2]=O=>S.value=O),variant:"accordion",mandatory:l.value<=1},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(_.value,O=>(openBlock(),createElementBlock(Fragment,null,[createVNode(VExpansionPanel,{value:O,"collapse-icon":unref(getFaPrefix)("fa-caret-up"),"expand-icon":unref(getFaPrefix)("fa-caret-down")},{default:withCtx(()=>{var V,H,q;return[l.value>1?(openBlock(),createBlock(VExpansionPanelTitle,{key:0,style:{"min-height":"unset",height:"24px","font-size":".8rem","font-weight":"450","text-transform":"uppercase"},color:S.value&&(O==null?void 0:O.title)===((V=S.value)==null?void 0:V.title)?"deep-purple":void 0},{default:withCtx(()=>[createTextVNode(toDisplayString(c(O.title)),1)]),_:2},1032,["color"])):createCommentVNode("",!0),S.value&&O.title===((H=S.value)==null?void 0:H.title)&&((q=O.subgroups)==null?void 0:q.length)>1?(openBlock(),createBlock(VTabs,{key:1,modelValue:C.value,"onUpdate:modelValue":A[0]||(A[0]=K=>C.value=K),mandatory:"",density:"compact",grow:"","center-active":"","show-arrows":"","prev-icon":unref(getFaPrefix)("fa-caret-left"),"next-icon":unref(getFaPrefix)("fa-caret-right"),"bg-color":unref(n)?"deep-purple":void 0,color:unref(n)?void 0:"deep-purple"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(O.subgroups,K=>(openBlock(),createBlock(VTab,{value:K,size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString(c(K.title)),1)]),_:2},1032,["value"]))),256))]),_:2},1032,["modelValue","prev-icon","next-icon","bg-color","color"])):createCommentVNode("",!0),createVNode(VExpansionPanelText,null,{default:withCtx(()=>[createVNode(VTabsWindow,{modelValue:C.value,"onUpdate:modelValue":A[1]||(A[1]=K=>C.value=K)},{default:withCtx(()=>{var K;return[A[3]||(A[3]=createBaseVNode("div",{class:"mb-2"},null,-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList((K=C.value)==null?void 0:K.settings,(Q,X)=>(openBlock(),createElementBlock(Fragment,{key:X+":"+Q.key},[w(Q)?(openBlock(),createBlock(_sfc_main$10,{key:0,title:a.value?Q.title||"":void 0,description:Q.type!=="boolean"&&(!Q.multiple||Q.choices)?Q.description:void 0},{default:withCtx(()=>[createVNode(_sfc_main$11,{"model-value":Q,onClickButtonSetting:N=>g("click-button-setting",Q),class:normalizeClass(s(Q)),"hide-title":a.value,disabled:x(Q)},{default:withCtx(()=>[createTextVNode(toDisplayString(Q.title),1)]),_:2},1032,["model-value","onClickButtonSetting","class","hide-title","disabled"])]),_:2},1032,["title","description"])):createCommentVNode("",!0)],64))),128)),A[4]||(A[4]=createBaseVNode("div",{class:"mb-4"},null,-1))]}),_:1},8,["modelValue"])]),_:1})]}),_:2},1032,["value","collapse-icon","expand-icon"]),createVNode(VDivider)],64))),256)),renderSlot(B.$slots,"settings-expansion-panels",{selectedSettingGroup:S.value})]),_:3},8,["modelValue","mandatory"])],512))}});var re={exports:{}},constants,hasRequiredConstants;function requireConstants(){if(hasRequiredConstants)return constants;hasRequiredConstants=1;const e="2.0.0",t=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,n=16,i=t-6;return constants={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},constants}var debug_1,hasRequiredDebug;function requireDebug(){if(hasRequiredDebug)return debug_1;hasRequiredDebug=1;var e={};return debug_1=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{},debug_1}var hasRequiredRe;function requireRe(){return hasRequiredRe||(hasRequiredRe=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=requireConstants(),o=requireDebug();t=e.exports={};const a=t.re=[],s=t.safeRe=[],l=t.src=[],c=t.safeSrc=[],d=t.t={};let m=0;const g="[a-zA-Z0-9-]",v=[["\\s",1],["\\d",i],[g,n]],_=C=>{for(const[y,b]of v)C=C.split(`${y}*`).join(`${y}{0,${b}}`).split(`${y}+`).join(`${y}{1,${b}}`);return C},S=(C,y,b)=>{const u=_(y),w=m++;o(C,w,y),d[C]=w,l[w]=y,c[w]=u,a[w]=new RegExp(y,b?"g":void 0),s[w]=new RegExp(u,b?"g":void 0)};S("NUMERICIDENTIFIER","0|[1-9]\\d*"),S("NUMERICIDENTIFIERLOOSE","\\d+"),S("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${g}*`),S("MAINVERSION",`(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})`),S("MAINVERSIONLOOSE",`(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})`),S("PRERELEASEIDENTIFIER",`(?:${l[d.NONNUMERICIDENTIFIER]}|${l[d.NUMERICIDENTIFIER]})`),S("PRERELEASEIDENTIFIERLOOSE",`(?:${l[d.NONNUMERICIDENTIFIER]}|${l[d.NUMERICIDENTIFIERLOOSE]})`),S("PRERELEASE",`(?:-(${l[d.PRERELEASEIDENTIFIER]}(?:\\.${l[d.PRERELEASEIDENTIFIER]})*))`),S("PRERELEASELOOSE",`(?:-?(${l[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[d.PRERELEASEIDENTIFIERLOOSE]})*))`),S("BUILDIDENTIFIER",`${g}+`),S("BUILD",`(?:\\+(${l[d.BUILDIDENTIFIER]}(?:\\.${l[d.BUILDIDENTIFIER]})*))`),S("FULLPLAIN",`v?${l[d.MAINVERSION]}${l[d.PRERELEASE]}?${l[d.BUILD]}?`),S("FULL",`^${l[d.FULLPLAIN]}$`),S("LOOSEPLAIN",`[v=\\s]*${l[d.MAINVERSIONLOOSE]}${l[d.PRERELEASELOOSE]}?${l[d.BUILD]}?`),S("LOOSE",`^${l[d.LOOSEPLAIN]}$`),S("GTLT","((?:<|>)?=?)"),S("XRANGEIDENTIFIERLOOSE",`${l[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),S("XRANGEIDENTIFIER",`${l[d.NUMERICIDENTIFIER]}|x|X|\\*`),S("XRANGEPLAIN",`[v=\\s]*(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:${l[d.PRERELEASE]})?${l[d.BUILD]}?)?)?`),S("XRANGEPLAINLOOSE",`[v=\\s]*(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:${l[d.PRERELEASELOOSE]})?${l[d.BUILD]}?)?)?`),S("XRANGE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAIN]}$`),S("XRANGELOOSE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAINLOOSE]}$`),S("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),S("COERCE",`${l[d.COERCEPLAIN]}(?:$|[^\\d])`),S("COERCEFULL",l[d.COERCEPLAIN]+`(?:${l[d.PRERELEASE]})?(?:${l[d.BUILD]})?(?:$|[^\\d])`),S("COERCERTL",l[d.COERCE],!0),S("COERCERTLFULL",l[d.COERCEFULL],!0),S("LONETILDE","(?:~>?)"),S("TILDETRIM",`(\\s*)${l[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",S("TILDE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAIN]}$`),S("TILDELOOSE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAINLOOSE]}$`),S("LONECARET","(?:\\^)"),S("CARETTRIM",`(\\s*)${l[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",S("CARET",`^${l[d.LONECARET]}${l[d.XRANGEPLAIN]}$`),S("CARETLOOSE",`^${l[d.LONECARET]}${l[d.XRANGEPLAINLOOSE]}$`),S("COMPARATORLOOSE",`^${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]})$|^$`),S("COMPARATOR",`^${l[d.GTLT]}\\s*(${l[d.FULLPLAIN]})$|^$`),S("COMPARATORTRIM",`(\\s*)${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]}|${l[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",S("HYPHENRANGE",`^\\s*(${l[d.XRANGEPLAIN]})\\s+-\\s+(${l[d.XRANGEPLAIN]})\\s*$`),S("HYPHENRANGELOOSE",`^\\s*(${l[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[d.XRANGEPLAINLOOSE]})\\s*$`),S("STAR","(<|>)?=?\\s*\\*"),S("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),S("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(re,re.exports)),re.exports}var parseOptions_1,hasRequiredParseOptions;function requireParseOptions(){if(hasRequiredParseOptions)return parseOptions_1;hasRequiredParseOptions=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return parseOptions_1=n=>n?typeof n!="object"?e:n:t,parseOptions_1}var identifiers,hasRequiredIdentifiers;function requireIdentifiers(){if(hasRequiredIdentifiers)return identifiers;hasRequiredIdentifiers=1;const e=/^[0-9]+$/,t=(n,i)=>{const o=e.test(n),a=e.test(i);return o&&a&&(n=+n,i=+i),n===i?0:o&&!a?-1:a&&!o?1:n<i?-1:1};return identifiers={compareIdentifiers:t,rcompareIdentifiers:(n,i)=>t(i,n)},identifiers}var semver$2,hasRequiredSemver$1;function requireSemver$1(){if(hasRequiredSemver$1)return semver$2;hasRequiredSemver$1=1;const e=requireDebug(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:r}=requireConstants(),{safeRe:n,t:i}=requireRe(),o=requireParseOptions(),{compareIdentifiers:a}=requireIdentifiers();class s{constructor(c,d){if(d=o(d),c instanceof s){if(c.loose===!!d.loose&&c.includePrerelease===!!d.includePrerelease)return c;c=c.version}else if(typeof c!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof c}".`);if(c.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",c,d),this.options=d,this.loose=!!d.loose,this.includePrerelease=!!d.includePrerelease;const m=c.trim().match(d.loose?n[i.LOOSE]:n[i.FULL]);if(!m)throw new TypeError(`Invalid Version: ${c}`);if(this.raw=c,this.major=+m[1],this.minor=+m[2],this.patch=+m[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");m[4]?this.prerelease=m[4].split(".").map(g=>{if(/^[0-9]+$/.test(g)){const v=+g;if(v>=0&&v<r)return v}return g}):this.prerelease=[],this.build=m[5]?m[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(c){if(e("SemVer.compare",this.version,this.options,c),!(c instanceof s)){if(typeof c=="string"&&c===this.version)return 0;c=new s(c,this.options)}return c.version===this.version?0:this.compareMain(c)||this.comparePre(c)}compareMain(c){return c instanceof s||(c=new s(c,this.options)),a(this.major,c.major)||a(this.minor,c.minor)||a(this.patch,c.patch)}comparePre(c){if(c instanceof s||(c=new s(c,this.options)),this.prerelease.length&&!c.prerelease.length)return-1;if(!this.prerelease.length&&c.prerelease.length)return 1;if(!this.prerelease.length&&!c.prerelease.length)return 0;let d=0;do{const m=this.prerelease[d],g=c.prerelease[d];if(e("prerelease compare",d,m,g),m===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(m===void 0)return-1;if(m===g)continue;return a(m,g)}while(++d)}compareBuild(c){c instanceof s||(c=new s(c,this.options));let d=0;do{const m=this.build[d],g=c.build[d];if(e("build compare",d,m,g),m===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(m===void 0)return-1;if(m===g)continue;return a(m,g)}while(++d)}inc(c,d,m){if(c.startsWith("pre")){if(!d&&m===!1)throw new Error("invalid increment argument: identifier is empty");if(d){const g=`-${d}`.match(this.options.loose?n[i.PRERELEASELOOSE]:n[i.PRERELEASE]);if(!g||g[1]!==d)throw new Error(`invalid identifier: ${d}`)}}switch(c){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",d,m);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",d,m);break;case"prepatch":this.prerelease.length=0,this.inc("patch",d,m),this.inc("pre",d,m);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",d,m),this.inc("pre",d,m);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const g=Number(m)?1:0;if(this.prerelease.length===0)this.prerelease=[g];else{let v=this.prerelease.length;for(;--v>=0;)typeof this.prerelease[v]=="number"&&(this.prerelease[v]++,v=-2);if(v===-1){if(d===this.prerelease.join(".")&&m===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(g)}}if(d){let v=[d,g];m===!1&&(v=[d]),a(this.prerelease[0],d)===0?isNaN(this.prerelease[1])&&(this.prerelease=v):this.prerelease=v}break}default:throw new Error(`invalid increment argument: ${c}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return semver$2=s,semver$2}var parse_1,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse_1;hasRequiredParse=1;const e=requireSemver$1();return parse_1=(r,n,i=!1)=>{if(r instanceof e)return r;try{return new e(r,n)}catch(o){if(!i)return null;throw o}},parse_1}var valid_1,hasRequiredValid$1;function requireValid$1(){if(hasRequiredValid$1)return valid_1;hasRequiredValid$1=1;const e=requireParse();return valid_1=(r,n)=>{const i=e(r,n);return i?i.version:null},valid_1}var clean_1,hasRequiredClean;function requireClean(){if(hasRequiredClean)return clean_1;hasRequiredClean=1;const e=requireParse();return clean_1=(r,n)=>{const i=e(r.trim().replace(/^[=v]+/,""),n);return i?i.version:null},clean_1}var inc_1,hasRequiredInc;function requireInc(){if(hasRequiredInc)return inc_1;hasRequiredInc=1;const e=requireSemver$1();return inc_1=(r,n,i,o,a)=>{typeof i=="string"&&(a=o,o=i,i=void 0);try{return new e(r instanceof e?r.version:r,i).inc(n,o,a).version}catch{return null}},inc_1}var diff_1,hasRequiredDiff;function requireDiff(){if(hasRequiredDiff)return diff_1;hasRequiredDiff=1;const e=requireParse();return diff_1=(r,n)=>{const i=e(r,null,!0),o=e(n,null,!0),a=i.compare(o);if(a===0)return null;const s=a>0,l=s?i:o,c=s?o:i,d=!!l.prerelease.length;if(!!c.prerelease.length&&!d){if(!c.patch&&!c.minor)return"major";if(c.compareMain(l)===0)return c.minor&&!c.patch?"minor":"patch"}const g=d?"pre":"";return i.major!==o.major?g+"major":i.minor!==o.minor?g+"minor":i.patch!==o.patch?g+"patch":"prerelease"},diff_1}var major_1,hasRequiredMajor;function requireMajor(){if(hasRequiredMajor)return major_1;hasRequiredMajor=1;const e=requireSemver$1();return major_1=(r,n)=>new e(r,n).major,major_1}var minor_1,hasRequiredMinor;function requireMinor(){if(hasRequiredMinor)return minor_1;hasRequiredMinor=1;const e=requireSemver$1();return minor_1=(r,n)=>new e(r,n).minor,minor_1}var patch_1,hasRequiredPatch;function requirePatch(){if(hasRequiredPatch)return patch_1;hasRequiredPatch=1;const e=requireSemver$1();return patch_1=(r,n)=>new e(r,n).patch,patch_1}var prerelease_1,hasRequiredPrerelease;function requirePrerelease(){if(hasRequiredPrerelease)return prerelease_1;hasRequiredPrerelease=1;const e=requireParse();return prerelease_1=(r,n)=>{const i=e(r,n);return i&&i.prerelease.length?i.prerelease:null},prerelease_1}var compare_1,hasRequiredCompare;function requireCompare(){if(hasRequiredCompare)return compare_1;hasRequiredCompare=1;const e=requireSemver$1();return compare_1=(r,n,i)=>new e(r,i).compare(new e(n,i)),compare_1}var rcompare_1,hasRequiredRcompare;function requireRcompare(){if(hasRequiredRcompare)return rcompare_1;hasRequiredRcompare=1;const e=requireCompare();return rcompare_1=(r,n,i)=>e(n,r,i),rcompare_1}var compareLoose_1,hasRequiredCompareLoose;function requireCompareLoose(){if(hasRequiredCompareLoose)return compareLoose_1;hasRequiredCompareLoose=1;const e=requireCompare();return compareLoose_1=(r,n)=>e(r,n,!0),compareLoose_1}var compareBuild_1,hasRequiredCompareBuild;function requireCompareBuild(){if(hasRequiredCompareBuild)return compareBuild_1;hasRequiredCompareBuild=1;const e=requireSemver$1();return compareBuild_1=(r,n,i)=>{const o=new e(r,i),a=new e(n,i);return o.compare(a)||o.compareBuild(a)},compareBuild_1}var sort_1,hasRequiredSort;function requireSort(){if(hasRequiredSort)return sort_1;hasRequiredSort=1;const e=requireCompareBuild();return sort_1=(r,n)=>r.sort((i,o)=>e(i,o,n)),sort_1}var rsort_1,hasRequiredRsort;function requireRsort(){if(hasRequiredRsort)return rsort_1;hasRequiredRsort=1;const e=requireCompareBuild();return rsort_1=(r,n)=>r.sort((i,o)=>e(o,i,n)),rsort_1}var gt_1,hasRequiredGt;function requireGt(){if(hasRequiredGt)return gt_1;hasRequiredGt=1;const e=requireCompare();return gt_1=(r,n,i)=>e(r,n,i)>0,gt_1}var lt_1,hasRequiredLt;function requireLt(){if(hasRequiredLt)return lt_1;hasRequiredLt=1;const e=requireCompare();return lt_1=(r,n,i)=>e(r,n,i)<0,lt_1}var eq_1$1,hasRequiredEq;function requireEq(){if(hasRequiredEq)return eq_1$1;hasRequiredEq=1;const e=requireCompare();return eq_1$1=(r,n,i)=>e(r,n,i)===0,eq_1$1}var neq_1,hasRequiredNeq;function requireNeq(){if(hasRequiredNeq)return neq_1;hasRequiredNeq=1;const e=requireCompare();return neq_1=(r,n,i)=>e(r,n,i)!==0,neq_1}var gte_1,hasRequiredGte;function requireGte(){if(hasRequiredGte)return gte_1;hasRequiredGte=1;const e=requireCompare();return gte_1=(r,n,i)=>e(r,n,i)>=0,gte_1}var lte_1,hasRequiredLte;function requireLte(){if(hasRequiredLte)return lte_1;hasRequiredLte=1;const e=requireCompare();return lte_1=(r,n,i)=>e(r,n,i)<=0,lte_1}var cmp_1,hasRequiredCmp;function requireCmp(){if(hasRequiredCmp)return cmp_1;hasRequiredCmp=1;const e=requireEq(),t=requireNeq(),r=requireGt(),n=requireGte(),i=requireLt(),o=requireLte();return cmp_1=(s,l,c,d)=>{switch(l){case"===":return typeof s=="object"&&(s=s.version),typeof c=="object"&&(c=c.version),s===c;case"!==":return typeof s=="object"&&(s=s.version),typeof c=="object"&&(c=c.version),s!==c;case"":case"=":case"==":return e(s,c,d);case"!=":return t(s,c,d);case">":return r(s,c,d);case">=":return n(s,c,d);case"<":return i(s,c,d);case"<=":return o(s,c,d);default:throw new TypeError(`Invalid operator: ${l}`)}},cmp_1}var coerce_1,hasRequiredCoerce;function requireCoerce(){if(hasRequiredCoerce)return coerce_1;hasRequiredCoerce=1;const e=requireSemver$1(),t=requireParse(),{safeRe:r,t:n}=requireRe();return coerce_1=(o,a)=>{if(o instanceof e)return o;if(typeof o=="number"&&(o=String(o)),typeof o!="string")return null;a=a||{};let s=null;if(!a.rtl)s=o.match(a.includePrerelease?r[n.COERCEFULL]:r[n.COERCE]);else{const v=a.includePrerelease?r[n.COERCERTLFULL]:r[n.COERCERTL];let _;for(;(_=v.exec(o))&&(!s||s.index+s[0].length!==o.length);)(!s||_.index+_[0].length!==s.index+s[0].length)&&(s=_),v.lastIndex=_.index+_[1].length+_[2].length;v.lastIndex=-1}if(s===null)return null;const l=s[2],c=s[3]||"0",d=s[4]||"0",m=a.includePrerelease&&s[5]?`-${s[5]}`:"",g=a.includePrerelease&&s[6]?`+${s[6]}`:"";return t(`${l}.${c}.${d}${m}${g}`,a)},coerce_1}var lrucache,hasRequiredLrucache;function requireLrucache(){if(hasRequiredLrucache)return lrucache;hasRequiredLrucache=1;class e{constructor(){this.max=1e3,this.map=new Map}get(r){const n=this.map.get(r);if(n!==void 0)return this.map.delete(r),this.map.set(r,n),n}delete(r){return this.map.delete(r)}set(r,n){if(!this.delete(r)&&n!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(r,n)}return this}}return lrucache=e,lrucache}var range,hasRequiredRange;function requireRange(){if(hasRequiredRange)return range;hasRequiredRange=1;const e=/\s+/g;class t{constructor(q,K){if(K=i(K),q instanceof t)return q.loose===!!K.loose&&q.includePrerelease===!!K.includePrerelease?q:new t(q.raw,K);if(q instanceof o)return this.raw=q.value,this.set=[[q]],this.formatted=void 0,this;if(this.options=K,this.loose=!!K.loose,this.includePrerelease=!!K.includePrerelease,this.raw=q.trim().replace(e," "),this.set=this.raw.split("||").map(Q=>this.parseRange(Q.trim())).filter(Q=>Q.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const Q=this.set[0];if(this.set=this.set.filter(X=>!S(X[0])),this.set.length===0)this.set=[Q];else if(this.set.length>1){for(const X of this.set)if(X.length===1&&C(X[0])){this.set=[X];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let q=0;q<this.set.length;q++){q>0&&(this.formatted+="||");const K=this.set[q];for(let Q=0;Q<K.length;Q++)Q>0&&(this.formatted+=" "),this.formatted+=K[Q].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(q){const Q=((this.options.includePrerelease&&v)|(this.options.loose&&_))+":"+q,X=n.get(Q);if(X)return X;const N=this.options.loose,I=N?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];q=q.replace(I,O(this.options.includePrerelease)),a("hyphen replace",q),q=q.replace(l[c.COMPARATORTRIM],d),a("comparator trim",q),q=q.replace(l[c.TILDETRIM],m),a("tilde trim",q),q=q.replace(l[c.CARETTRIM],g),a("caret trim",q);let U=q.split(" ").map(he=>b(he,this.options)).join(" ").split(/\s+/).map(he=>A(he,this.options));N&&(U=U.filter(he=>(a("loose invalid filter",he,this.options),!!he.match(l[c.COMPARATORLOOSE])))),a("range list",U);const F=new Map,ee=U.map(he=>new o(he,this.options));for(const he of ee){if(S(he))return[he];F.set(he.value,he)}F.size>1&&F.has("")&&F.delete("");const ue=[...F.values()];return n.set(Q,ue),ue}intersects(q,K){if(!(q instanceof t))throw new TypeError("a Range is required");return this.set.some(Q=>y(Q,K)&&q.set.some(X=>y(X,K)&&Q.every(N=>X.every(I=>N.intersects(I,K)))))}test(q){if(!q)return!1;if(typeof q=="string")try{q=new s(q,this.options)}catch{return!1}for(let K=0;K<this.set.length;K++)if(V(this.set[K],q,this.options))return!0;return!1}}range=t;const r=requireLrucache(),n=new r,i=requireParseOptions(),o=requireComparator(),a=requireDebug(),s=requireSemver$1(),{safeRe:l,t:c,comparatorTrimReplace:d,tildeTrimReplace:m,caretTrimReplace:g}=requireRe(),{FLAG_INCLUDE_PRERELEASE:v,FLAG_LOOSE:_}=requireConstants(),S=H=>H.value==="<0.0.0-0",C=H=>H.value==="",y=(H,q)=>{let K=!0;const Q=H.slice();let X=Q.pop();for(;K&&Q.length;)K=Q.every(N=>X.intersects(N,q)),X=Q.pop();return K},b=(H,q)=>(a("comp",H,q),H=E(H,q),a("caret",H),H=w(H,q),a("tildes",H),H=k(H,q),a("xrange",H),H=B(H,q),a("stars",H),H),u=H=>!H||H.toLowerCase()==="x"||H==="*",w=(H,q)=>H.trim().split(/\s+/).map(K=>x(K,q)).join(" "),x=(H,q)=>{const K=q.loose?l[c.TILDELOOSE]:l[c.TILDE];return H.replace(K,(Q,X,N,I,U)=>{a("tilde",H,Q,X,N,I,U);let F;return u(X)?F="":u(N)?F=`>=${X}.0.0 <${+X+1}.0.0-0`:u(I)?F=`>=${X}.${N}.0 <${X}.${+N+1}.0-0`:U?(a("replaceTilde pr",U),F=`>=${X}.${N}.${I}-${U} <${X}.${+N+1}.0-0`):F=`>=${X}.${N}.${I} <${X}.${+N+1}.0-0`,a("tilde return",F),F})},E=(H,q)=>H.trim().split(/\s+/).map(K=>T(K,q)).join(" "),T=(H,q)=>{a("caret",H,q);const K=q.loose?l[c.CARETLOOSE]:l[c.CARET],Q=q.includePrerelease?"-0":"";return H.replace(K,(X,N,I,U,F)=>{a("caret",H,X,N,I,U,F);let ee;return u(N)?ee="":u(I)?ee=`>=${N}.0.0${Q} <${+N+1}.0.0-0`:u(U)?N==="0"?ee=`>=${N}.${I}.0${Q} <${N}.${+I+1}.0-0`:ee=`>=${N}.${I}.0${Q} <${+N+1}.0.0-0`:F?(a("replaceCaret pr",F),N==="0"?I==="0"?ee=`>=${N}.${I}.${U}-${F} <${N}.${I}.${+U+1}-0`:ee=`>=${N}.${I}.${U}-${F} <${N}.${+I+1}.0-0`:ee=`>=${N}.${I}.${U}-${F} <${+N+1}.0.0-0`):(a("no pr"),N==="0"?I==="0"?ee=`>=${N}.${I}.${U}${Q} <${N}.${I}.${+U+1}-0`:ee=`>=${N}.${I}.${U}${Q} <${N}.${+I+1}.0-0`:ee=`>=${N}.${I}.${U} <${+N+1}.0.0-0`),a("caret return",ee),ee})},k=(H,q)=>(a("replaceXRanges",H,q),H.split(/\s+/).map(K=>D(K,q)).join(" ")),D=(H,q)=>{H=H.trim();const K=q.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return H.replace(K,(Q,X,N,I,U,F)=>{a("xRange",H,Q,X,N,I,U,F);const ee=u(N),ue=ee||u(I),he=ue||u(U),ve=he;return X==="="&&ve&&(X=""),F=q.includePrerelease?"-0":"",ee?X===">"||X==="<"?Q="<0.0.0-0":Q="*":X&&ve?(ue&&(I=0),U=0,X===">"?(X=">=",ue?(N=+N+1,I=0,U=0):(I=+I+1,U=0)):X==="<="&&(X="<",ue?N=+N+1:I=+I+1),X==="<"&&(F="-0"),Q=`${X+N}.${I}.${U}${F}`):ue?Q=`>=${N}.0.0${F} <${+N+1}.0.0-0`:he&&(Q=`>=${N}.${I}.0${F} <${N}.${+I+1}.0-0`),a("xRange return",Q),Q})},B=(H,q)=>(a("replaceStars",H,q),H.trim().replace(l[c.STAR],"")),A=(H,q)=>(a("replaceGTE0",H,q),H.trim().replace(l[q.includePrerelease?c.GTE0PRE:c.GTE0],"")),O=H=>(q,K,Q,X,N,I,U,F,ee,ue,he,ve)=>(u(Q)?K="":u(X)?K=`>=${Q}.0.0${H?"-0":""}`:u(N)?K=`>=${Q}.${X}.0${H?"-0":""}`:I?K=`>=${K}`:K=`>=${K}${H?"-0":""}`,u(ee)?F="":u(ue)?F=`<${+ee+1}.0.0-0`:u(he)?F=`<${ee}.${+ue+1}.0-0`:ve?F=`<=${ee}.${ue}.${he}-${ve}`:H?F=`<${ee}.${ue}.${+he+1}-0`:F=`<=${F}`,`${K} ${F}`.trim()),V=(H,q,K)=>{for(let Q=0;Q<H.length;Q++)if(!H[Q].test(q))return!1;if(q.prerelease.length&&!K.includePrerelease){for(let Q=0;Q<H.length;Q++)if(a(H[Q].semver),H[Q].semver!==o.ANY&&H[Q].semver.prerelease.length>0){const X=H[Q].semver;if(X.major===q.major&&X.minor===q.minor&&X.patch===q.patch)return!0}return!1}return!0};return range}var comparator,hasRequiredComparator;function requireComparator(){if(hasRequiredComparator)return comparator;hasRequiredComparator=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(d,m){if(m=r(m),d instanceof t){if(d.loose===!!m.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),a("comparator",d,m),this.options=m,this.loose=!!m.loose,this.parse(d),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(d){const m=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],g=d.match(m);if(!g)throw new TypeError(`Invalid comparator: ${d}`);this.operator=g[1]!==void 0?g[1]:"",this.operator==="="&&(this.operator=""),g[2]?this.semver=new s(g[2],this.options.loose):this.semver=e}toString(){return this.value}test(d){if(a("Comparator.test",d,this.options.loose),this.semver===e||d===e)return!0;if(typeof d=="string")try{d=new s(d,this.options)}catch{return!1}return o(d,this.operator,this.semver,this.options)}intersects(d,m){if(!(d instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(d.value,m).test(this.value):d.operator===""?d.value===""?!0:new l(this.value,m).test(d.semver):(m=r(m),m.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!m.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||o(this.semver,"<",d.semver,m)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||o(this.semver,">",d.semver,m)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}comparator=t;const r=requireParseOptions(),{safeRe:n,t:i}=requireRe(),o=requireCmp(),a=requireDebug(),s=requireSemver$1(),l=requireRange();return comparator}var satisfies_1,hasRequiredSatisfies;function requireSatisfies(){if(hasRequiredSatisfies)return satisfies_1;hasRequiredSatisfies=1;const e=requireRange();return satisfies_1=(r,n,i)=>{try{n=new e(n,i)}catch{return!1}return n.test(r)},satisfies_1}var toComparators_1,hasRequiredToComparators;function requireToComparators(){if(hasRequiredToComparators)return toComparators_1;hasRequiredToComparators=1;const e=requireRange();return toComparators_1=(r,n)=>new e(r,n).set.map(i=>i.map(o=>o.value).join(" ").trim().split(" ")),toComparators_1}var maxSatisfying_1,hasRequiredMaxSatisfying;function requireMaxSatisfying(){if(hasRequiredMaxSatisfying)return maxSatisfying_1;hasRequiredMaxSatisfying=1;const e=requireSemver$1(),t=requireRange();return maxSatisfying_1=(n,i,o)=>{let a=null,s=null,l=null;try{l=new t(i,o)}catch{return null}return n.forEach(c=>{l.test(c)&&(!a||s.compare(c)===-1)&&(a=c,s=new e(a,o))}),a},maxSatisfying_1}var minSatisfying_1,hasRequiredMinSatisfying;function requireMinSatisfying(){if(hasRequiredMinSatisfying)return minSatisfying_1;hasRequiredMinSatisfying=1;const e=requireSemver$1(),t=requireRange();return minSatisfying_1=(n,i,o)=>{let a=null,s=null,l=null;try{l=new t(i,o)}catch{return null}return n.forEach(c=>{l.test(c)&&(!a||s.compare(c)===1)&&(a=c,s=new e(a,o))}),a},minSatisfying_1}var minVersion_1,hasRequiredMinVersion;function requireMinVersion(){if(hasRequiredMinVersion)return minVersion_1;hasRequiredMinVersion=1;const e=requireSemver$1(),t=requireRange(),r=requireGt();return minVersion_1=(i,o)=>{i=new t(i,o);let a=new e("0.0.0");if(i.test(a)||(a=new e("0.0.0-0"),i.test(a)))return a;a=null;for(let s=0;s<i.set.length;++s){const l=i.set[s];let c=null;l.forEach(d=>{const m=new e(d.semver.version);switch(d.operator){case">":m.prerelease.length===0?m.patch++:m.prerelease.push(0),m.raw=m.format();case"":case">=":(!c||r(m,c))&&(c=m);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${d.operator}`)}}),c&&(!a||r(a,c))&&(a=c)}return a&&i.test(a)?a:null},minVersion_1}var valid,hasRequiredValid;function requireValid(){if(hasRequiredValid)return valid;hasRequiredValid=1;const e=requireRange();return valid=(r,n)=>{try{return new e(r,n).range||"*"}catch{return null}},valid}var outside_1,hasRequiredOutside;function requireOutside(){if(hasRequiredOutside)return outside_1;hasRequiredOutside=1;const e=requireSemver$1(),t=requireComparator(),{ANY:r}=t,n=requireRange(),i=requireSatisfies(),o=requireGt(),a=requireLt(),s=requireLte(),l=requireGte();return outside_1=(d,m,g,v)=>{d=new e(d,v),m=new n(m,v);let _,S,C,y,b;switch(g){case">":_=o,S=s,C=a,y=">",b=">=";break;case"<":_=a,S=l,C=o,y="<",b="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(d,m,v))return!1;for(let u=0;u<m.set.length;++u){const w=m.set[u];let x=null,E=null;if(w.forEach(T=>{T.semver===r&&(T=new t(">=0.0.0")),x=x||T,E=E||T,_(T.semver,x.semver,v)?x=T:C(T.semver,E.semver,v)&&(E=T)}),x.operator===y||x.operator===b||(!E.operator||E.operator===y)&&S(d,E.semver))return!1;if(E.operator===b&&C(d,E.semver))return!1}return!0},outside_1}var gtr_1,hasRequiredGtr;function requireGtr(){if(hasRequiredGtr)return gtr_1;hasRequiredGtr=1;const e=requireOutside();return gtr_1=(r,n,i)=>e(r,n,">",i),gtr_1}var ltr_1,hasRequiredLtr;function requireLtr(){if(hasRequiredLtr)return ltr_1;hasRequiredLtr=1;const e=requireOutside();return ltr_1=(r,n,i)=>e(r,n,"<",i),ltr_1}var intersects_1,hasRequiredIntersects;function requireIntersects(){if(hasRequiredIntersects)return intersects_1;hasRequiredIntersects=1;const e=requireRange();return intersects_1=(r,n,i)=>(r=new e(r,i),n=new e(n,i),r.intersects(n,i)),intersects_1}var simplify,hasRequiredSimplify;function requireSimplify(){if(hasRequiredSimplify)return simplify;hasRequiredSimplify=1;const e=requireSatisfies(),t=requireCompare();return simplify=(r,n,i)=>{const o=[];let a=null,s=null;const l=r.sort((g,v)=>t(g,v,i));for(const g of l)e(g,n,i)?(s=g,a||(a=g)):(s&&o.push([a,s]),s=null,a=null);a&&o.push([a,null]);const c=[];for(const[g,v]of o)g===v?c.push(g):!v&&g===l[0]?c.push("*"):v?g===l[0]?c.push(`<=${v}`):c.push(`${g} - ${v}`):c.push(`>=${g}`);const d=c.join(" || "),m=typeof n.raw=="string"?n.raw:String(n);return d.length<m.length?d:n},simplify}var subset_1,hasRequiredSubset;function requireSubset(){if(hasRequiredSubset)return subset_1;hasRequiredSubset=1;const e=requireRange(),t=requireComparator(),{ANY:r}=t,n=requireSatisfies(),i=requireCompare(),o=(m,g,v={})=>{if(m===g)return!0;m=new e(m,v),g=new e(g,v);let _=!1;e:for(const S of m.set){for(const C of g.set){const y=l(S,C,v);if(_=_||y!==null,y)continue e}if(_)return!1}return!0},a=[new t(">=0.0.0-0")],s=[new t(">=0.0.0")],l=(m,g,v)=>{if(m===g)return!0;if(m.length===1&&m[0].semver===r){if(g.length===1&&g[0].semver===r)return!0;v.includePrerelease?m=a:m=s}if(g.length===1&&g[0].semver===r){if(v.includePrerelease)return!0;g=s}const _=new Set;let S,C;for(const k of m)k.operator===">"||k.operator===">="?S=c(S,k,v):k.operator==="<"||k.operator==="<="?C=d(C,k,v):_.add(k.semver);if(_.size>1)return null;let y;if(S&&C){if(y=i(S.semver,C.semver,v),y>0)return null;if(y===0&&(S.operator!==">="||C.operator!=="<="))return null}for(const k of _){if(S&&!n(k,String(S),v)||C&&!n(k,String(C),v))return null;for(const D of g)if(!n(k,String(D),v))return!1;return!0}let b,u,w,x,E=C&&!v.includePrerelease&&C.semver.prerelease.length?C.semver:!1,T=S&&!v.includePrerelease&&S.semver.prerelease.length?S.semver:!1;E&&E.prerelease.length===1&&C.operator==="<"&&E.prerelease[0]===0&&(E=!1);for(const k of g){if(x=x||k.operator===">"||k.operator===">=",w=w||k.operator==="<"||k.operator==="<=",S){if(T&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===T.major&&k.semver.minor===T.minor&&k.semver.patch===T.patch&&(T=!1),k.operator===">"||k.operator===">="){if(b=c(S,k,v),b===k&&b!==S)return!1}else if(S.operator===">="&&!n(S.semver,String(k),v))return!1}if(C){if(E&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===E.major&&k.semver.minor===E.minor&&k.semver.patch===E.patch&&(E=!1),k.operator==="<"||k.operator==="<="){if(u=d(C,k,v),u===k&&u!==C)return!1}else if(C.operator==="<="&&!n(C.semver,String(k),v))return!1}if(!k.operator&&(C||S)&&y!==0)return!1}return!(S&&w&&!C&&y!==0||C&&x&&!S&&y!==0||T||E)},c=(m,g,v)=>{if(!m)return g;const _=i(m.semver,g.semver,v);return _>0?m:_<0||g.operator===">"&&m.operator===">="?g:m},d=(m,g,v)=>{if(!m)return g;const _=i(m.semver,g.semver,v);return _<0?m:_>0||g.operator==="<"&&m.operator==="<="?g:m};return subset_1=o,subset_1}var semver$1,hasRequiredSemver;function requireSemver(){if(hasRequiredSemver)return semver$1;hasRequiredSemver=1;const e=requireRe(),t=requireConstants(),r=requireSemver$1(),n=requireIdentifiers(),i=requireParse(),o=requireValid$1(),a=requireClean(),s=requireInc(),l=requireDiff(),c=requireMajor(),d=requireMinor(),m=requirePatch(),g=requirePrerelease(),v=requireCompare(),_=requireRcompare(),S=requireCompareLoose(),C=requireCompareBuild(),y=requireSort(),b=requireRsort(),u=requireGt(),w=requireLt(),x=requireEq(),E=requireNeq(),T=requireGte(),k=requireLte(),D=requireCmp(),B=requireCoerce(),A=requireComparator(),O=requireRange(),V=requireSatisfies(),H=requireToComparators(),q=requireMaxSatisfying(),K=requireMinSatisfying(),Q=requireMinVersion(),X=requireValid(),N=requireOutside(),I=requireGtr(),U=requireLtr(),F=requireIntersects(),ee=requireSimplify(),ue=requireSubset();return semver$1={parse:i,valid:o,clean:a,inc:s,diff:l,major:c,minor:d,patch:m,prerelease:g,compare:v,rcompare:_,compareLoose:S,compareBuild:C,sort:y,rsort:b,gt:u,lt:w,eq:x,neq:E,gte:T,lte:k,cmp:D,coerce:B,Comparator:A,Range:O,satisfies:V,toComparators:H,maxSatisfying:q,minSatisfying:K,minVersion:Q,validRange:X,outside:N,gtr:I,ltr:U,intersects:F,simplifyRange:ee,subset:ue,SemVer:r,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers},semver$1}var semverExports=requireSemver();const semver=getDefaultExportFromCjs$1(semverExports);var isObject_1$1,hasRequiredIsObject;function requireIsObject(){if(hasRequiredIsObject)return isObject_1$1;hasRequiredIsObject=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return isObject_1$1=e,isObject_1$1}var _freeGlobal$1,hasRequired_freeGlobal;function require_freeGlobal(){if(hasRequired_freeGlobal)return _freeGlobal$1;hasRequired_freeGlobal=1;var e=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1;return _freeGlobal$1=e,_freeGlobal$1}var _root$1,hasRequired_root;function require_root(){if(hasRequired_root)return _root$1;hasRequired_root=1;var e=require_freeGlobal(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return _root$1=r,_root$1}var now_1,hasRequiredNow;function requireNow(){if(hasRequiredNow)return now_1;hasRequiredNow=1;var e=require_root(),t=function(){return e.Date.now()};return now_1=t,now_1}var _trimmedEndIndex,hasRequired_trimmedEndIndex;function require_trimmedEndIndex(){if(hasRequired_trimmedEndIndex)return _trimmedEndIndex;hasRequired_trimmedEndIndex=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return _trimmedEndIndex=t,_trimmedEndIndex}var _baseTrim,hasRequired_baseTrim;function require_baseTrim(){if(hasRequired_baseTrim)return _baseTrim;hasRequired_baseTrim=1;var e=require_trimmedEndIndex(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return _baseTrim=r,_baseTrim}var _Symbol$1,hasRequired_Symbol;function require_Symbol(){if(hasRequired_Symbol)return _Symbol$1;hasRequired_Symbol=1;var e=require_root(),t=e.Symbol;return _Symbol$1=t,_Symbol$1}var _getRawTag$1,hasRequired_getRawTag;function require_getRawTag(){if(hasRequired_getRawTag)return _getRawTag$1;hasRequired_getRawTag=1;var e=require_Symbol(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function o(a){var s=r.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var d=n.call(a);return c&&(s?a[i]=l:delete a[i]),d}return _getRawTag$1=o,_getRawTag$1}var _objectToString$1,hasRequired_objectToString;function require_objectToString(){if(hasRequired_objectToString)return _objectToString$1;hasRequired_objectToString=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return _objectToString$1=r,_objectToString$1}var _baseGetTag$1,hasRequired_baseGetTag;function require_baseGetTag(){if(hasRequired_baseGetTag)return _baseGetTag$1;hasRequired_baseGetTag=1;var e=require_Symbol(),t=require_getRawTag(),r=require_objectToString(),n="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(s){return s==null?s===void 0?i:n:o&&o in Object(s)?t(s):r(s)}return _baseGetTag$1=a,_baseGetTag$1}var isObjectLike_1$1,hasRequiredIsObjectLike;function requireIsObjectLike(){if(hasRequiredIsObjectLike)return isObjectLike_1$1;hasRequiredIsObjectLike=1;function e(t){return t!=null&&typeof t=="object"}return isObjectLike_1$1=e,isObjectLike_1$1}var isSymbol_1$1,hasRequiredIsSymbol;function requireIsSymbol(){if(hasRequiredIsSymbol)return isSymbol_1$1;hasRequiredIsSymbol=1;var e=require_baseGetTag(),t=requireIsObjectLike(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return isSymbol_1$1=n,isSymbol_1$1}var toNumber_1,hasRequiredToNumber;function requireToNumber(){if(hasRequiredToNumber)return toNumber_1;hasRequiredToNumber=1;var e=require_baseTrim(),t=requireIsObject(),r=requireIsSymbol(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(r(c))return n;if(t(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=t(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=e(c);var m=o.test(c);return m||a.test(c)?s(c.slice(2),m?2:8):i.test(c)?n:+c}return toNumber_1=l,toNumber_1}var debounce_1,hasRequiredDebounce;function requireDebounce(){if(hasRequiredDebounce)return debounce_1;hasRequiredDebounce=1;var e=requireIsObject(),t=requireNow(),r=requireToNumber(),n="Expected a function",i=Math.max,o=Math.min;function a(s,l,c){var d,m,g,v,_,S,C=0,y=!1,b=!1,u=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,e(c)&&(y=!!c.leading,b="maxWait"in c,g=b?i(r(c.maxWait)||0,l):g,u="trailing"in c?!!c.trailing:u);function w(V){var H=d,q=m;return d=m=void 0,C=V,v=s.apply(q,H),v}function x(V){return C=V,_=setTimeout(k,l),y?w(V):v}function E(V){var H=V-S,q=V-C,K=l-H;return b?o(K,g-q):K}function T(V){var H=V-S,q=V-C;return S===void 0||H>=l||H<0||b&&q>=g}function k(){var V=t();if(T(V))return D(V);_=setTimeout(k,E(V))}function D(V){return _=void 0,u&&d?w(V):(d=m=void 0,v)}function B(){_!==void 0&&clearTimeout(_),C=0,d=S=m=_=void 0}function A(){return _===void 0?v:D(t())}function O(){var V=t(),H=T(V);if(d=arguments,m=this,S=V,H){if(_===void 0)return x(S);if(b)return clearTimeout(_),_=setTimeout(k,l),w(S)}return _===void 0&&(_=setTimeout(k,l)),v}return O.cancel=B,O.flush=A,O}return debounce_1=a,debounce_1}var throttle_1,hasRequiredThrottle;function requireThrottle(){if(hasRequiredThrottle)return throttle_1;hasRequiredThrottle=1;var e=requireDebounce(),t=requireIsObject(),r="Expected a function";function n(i,o,a){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(r);return t(a)&&(s="leading"in a?!!a.leading:s,l="trailing"in a?!!a.trailing:l),e(i,o,{leading:s,maxWait:o,trailing:l})}return throttle_1=n,throttle_1}var throttleExports=requireThrottle();const throttle=getDefaultExportFromCjs$1(throttleExports),throttles=new Map,cache=ref({});async function checkNpmUpdate(e,t){let r=throttles.get(e);r||(r=throttle(async()=>{const d=await(await fetch(`https://registry.npmjs.org/${e}`)).json();return cache.value[e]=d,d},60*1e3),throttles.set(e,r));const n=await r(),{time:i}=n,o=Object.values(n.versions).sort((c,d)=>semver.compare(c.version,d.version)).reverse();let a,s,l;if(n["dist-tags"]&&(l=n["dist-tags"].latest,t&&semver.gt(l,t))){a=l;try{s=new Date(n.time[l])}catch{s=null}}for(const[c,d]of Object.entries(n["dist-tags"])){const m=o.find(g=>g.version===d);m&&(m.tag=c)}if(l){const c=o.findIndex(m=>m.version===l),[d]=o.splice(c,1);o.unshift(d)}return{updateAvailable:a,updatePublished:s,versions:o.map(c=>({...c,tag:c.tag||"",time:new Date(i[c.version]).toLocaleDateString()}))}}function getPluginMonitors(){const e=createInterval(864e5),t=asyncComputed({async get(){const i=getAllDevices().filter(a=>a.interfaces.includes(distExports.ScryptedInterface.ScryptedPlugin)),o=reactive({});return i.forEach(async a=>{var s,l;try{const c=await checkNpmUpdate(a.pluginId,(s=a.info)==null?void 0:s.version);o[a.id]=(l=c.versions.find(d=>d.tag==="latest"))==null?void 0:l.version}catch{}}),o},default:{},watch:{connectedClient:()=>connectedClient.value,pluginCheckInterval:()=>e.count.value,cache:()=>cache.value}});return{pluginUpdateCount:computed(()=>{var a;if(!connectedClient.value)return 0;const i=getAllDevices().filter(s=>s.interfaces.includes(distExports.ScryptedInterface.ScryptedPlugin));let o=0;for(const s of i){const l=t.value[s.id];hasNewerVersion((a=s.info)==null?void 0:a.version,l)&&o++}return o}),pluginLatestVersions:t}}function hasNewerVersion(e,t){return t&&e&&semver.lt(e,t)}function getServerUpdateMonitor(){return asyncComputed({async get(){const{systemManager:t}=connectedClient.value||await connectPluginClient(),r=await t.getComponent("service-control"),i=await(await t.getComponent("info")).getScryptedEnv();let o;switch(i.SCRYPTED_INSTALL_ENVIRONMENT){case"docker":case"ha":return{updateAvailable:o,SCRYPTED_INSTALL_ENVIRONMENT:i.SCRYPTED_INSTALL_ENVIRONMENT}}try{o=await r.getUpdateAvailable()}catch{const s=await checkNpmUpdate("@scrypted/server",connectedClient.value.serverVersion);s.updateAvailable&&(o=s.updateAvailable)}return{updateAvailable:o,SCRYPTED_INSTALL_ENVIRONMENT:i.SCRYPTED_INSTALL_ENVIRONMENT}}})}const restartPrompt="This action will restart the Scrypted service.",_sfc_main$_=defineComponent$1({__name:"ServerManagement",setup(e){const t=ref(!1),r=getCurrentBaseUrl(),n=isScryptedCloudHostname()?fixupAppDomainLinkUrl("web/component/backup"):combineBaseUrl(r,"web/component/backup"),i=ref(),o=ref();let a;async function s(){o.value="Restarting...";const{systemManager:g}=connectedClient.value||await connectPluginClient(),v=await g.getComponent("service-control");await v.exit().catch(()=>{}),await v.restart()}const l=getServerUpdateMonitor();async function c(){var _;o.value="Restarting...";const{systemManager:g}=connectedClient.value,v=await g.getComponent("service-control");((_=l.value)==null?void 0:_.SCRYPTED_INSTALL_ENVIRONMENT)==="lxc-docker"&&(await g.getDeviceById("@scrypted/core").putSetting("pullImage",void 0),await v.restart()),await v.update()}const d=ref();async function m(){const g=d.value.files[0];if(!g)return;console.log(g);const v=new Blob([g]),_=isScryptedCloudHostname()?fixupAppDomainLinkUrl("web/component/restore"):combineBaseUrl(r,"web/component/restore");await fetch(_,{method:"POST",body:v})}return(g,v)=>(openBlock(),createBlock(VCard,null,{prepend:withCtx(()=>[createVNode(VIcon,{size:"xx-small"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-bars-progress")),1)]),_:1})]),title:withCtx(()=>[createVNode(VCardSubtitle,{class:"pt-1 pl-4",style:{"text-transform":"uppercase"}},{default:withCtx(()=>[...v[6]||(v[6]=[createTextVNode(" Server Management ",-1)])]),_:1})]),append:withCtx(()=>{var _;return[(_=unref(l))!=null&&_.updateAvailable?(openBlock(),createBlock(VBtn,{key:1,size:"x-small","prepend-icon":unref(getFaPrefix)("fa-download"),color:"info",onClick:v[2]||(v[2]=S=>{i.value="Update and Restart Server",o.value=restartPrompt,isRef(a)?a.value=c:a=c,t.value=!0}),class:"mb-1"},{default:withCtx(()=>[...v[7]||(v[7]=[createTextVNode("Update",-1)])]),_:1},8,["prepend-icon"])):(openBlock(),createBlock(VCardSubtitle,{key:0},{default:withCtx(()=>{var S;return[createTextVNode(" v"+toDisplayString((S=unref(connectedClient))==null?void 0:S.serverVersion),1)]}),_:1}))]}),default:withCtx(()=>[createVNode(VDialog,{"max-width":"320",modelValue:t.value,"onUpdate:modelValue":v[1]||(v[1]=_=>t.value=_)},{default:withCtx(({isActive:_})=>[createVNode(VCard,null,{title:withCtx(()=>[createVNode(VCardSubtitle,{class:"mt-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(i.value),1)]),_:1})]),prepend:withCtx(()=>[createVNode(VIcon,{size:"x-small",color:"error"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-power-off")),1)]),_:1})]),default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createTextVNode(toDisplayString(o.value),1)]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{text:"Cancel",onClick:S=>_.value=!1},null,8,["onClick"]),createVNode(VBtn,{color:"error",onClick:v[0]||(v[0]=S=>unref(a)())},{default:withCtx(()=>[...v[5]||(v[5]=[createTextVNode("Restart",-1)])]),_:1})]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"]),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VBtn,{size:"small",color:"info",href:unref(n)},{default:withCtx(()=>[...v[8]||(v[8]=[createTextVNode("Backup",-1)])]),_:1},8,["href"]),createVNode(VBtn,{size:"small",color:"success",onClick:v[3]||(v[3]=_=>d.value.click())},{default:withCtx(()=>[...v[9]||(v[9]=[createTextVNode("Restore",-1)])]),_:1}),createBaseVNode("input",{type:"file",ref_key:"restoreFile",ref:d,style:{display:"none"},onChange:m},null,544),createVNode(VSpacer),createVNode(VBtn,{size:"small",color:"error",onClick:v[4]||(v[4]=_=>{i.value="Restart Server",o.value=restartPrompt,isRef(a)?a.value=s:a=s,t.value=!0})},{default:withCtx(()=>[...v[10]||(v[10]=[createTextVNode("Restart",-1)])]),_:1})]),_:1})]),_:1}))}}),_sfc_main$Z=defineComponent$1({__name:"ResponsiveColumn",setup(e){return(t,r)=>(openBlock(),createBlock(VCol,{class:normalizeClass(unref(isTouchPhone)?"pa-0":void 0)},{default:withCtx(()=>[renderSlot(t.$slots,"default")]),_:3},8,["class"]))}}),_sfc_main$Y=defineComponent$1({__name:"ScryptedSettings",setup(e){function t(){if(!connectedClient.value)return[];const{systemManager:l}=connectedClient.value;return getAllDeviceIds().filter(c=>{const d=l.getDeviceById(c);return d.interfaces.includes(distExports.ScryptedInterface.ScryptedSettings)||d.interfaces.includes("SystemSettings")})}const r=computed(()=>connectedClient.value?t().map(l=>connectedClient.value.systemManager.getDeviceById(l)):[]),n=ref(0),i=ref(!1),o=asyncComputed({async get(){const l=r.value.map(async g=>{var S;const v=((S=g.systemDevice)==null?void 0:S.settings)||g.name;let _;try{_=await timeoutPromise(5e3,g.getSettings())}catch{_=[{title:`${v} Settings Failure`,description:"Settings failed to load."}]}return _.map(C=>({...C,key:`${g.id}:${C.key}`,group:v,subgroup:C.group}))}),d=(await Promise.all(l)).flat();return d.sort((g,v)=>g.group===v.group?d.indexOf(g)-d.indexOf(v):g.group==="General"?-1:v.group==="General"?1:g.group.localeCompare(v.group)).map(trackSetting)},default(l){return l||[]},watch:{refreshSettings:()=>n.value,scryptedSettingsDevices:()=>r.value}}),a=computed(()=>o.value.filter(isDirty).length);registerListeners(()=>t(),{event:distExports.ScryptedInterface.Settings},()=>{a.value?i.value=!0:n.value++}),watch(()=>a.value,async()=>{a.value||!i.value||(i.value=!1,n.value++)}),watch(()=>a.value,async()=>{const{systemManager:l}=connectedClient.value||await connectPluginClient(),c=o.value.filter(isDirty).filter(d=>d.immediate);for(const d of c){const[m,...g]=d.key.split(":");l.getDeviceById(m).putSetting(g.join(":"),d.value)}});async function s(){const{systemManager:l}=connectedClient.value||await connectPluginClient(),c=o.value.filter(isDirty);for(const d of c){const[m,...g]=d.key.split(":");l.getDeviceById(m).putSetting(g.join(":"),d.value)}}return(l,c)=>(openBlock(),createBlock(VContainer,{fluid:""},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(_sfc_main$Z,{cols:"12",md:"6"},{default:withCtx(()=>{var d;return[(d=unref(o))!=null&&d.length?(openBlock(),createBlock(VCard,{key:0,class:"mb-4"},{prepend:withCtx(()=>[createVNode(VIcon,{size:"xx-small"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-gear")),1)]),_:1})]),append:withCtx(()=>[createVNode(VBtn,{variant:a.value?"flat":"text",color:"success",size:"small",disabled:!a.value,onClick:s},{default:withCtx(()=>[...c[1]||(c[1]=[createTextVNode("Save",-1)])]),_:1},8,["variant","disabled"])]),title:withCtx(()=>[createVNode(VCardSubtitle,{class:"pt-1 pl-4",style:{"text-transform":"uppercase"}},{default:withCtx(()=>[...c[2]||(c[2]=[createTextVNode(" Scrypted Settings ",-1)])]),_:1})]),default:withCtx(()=>[createBaseVNode("div",null,[createVNode(_sfc_main$$,{modelValue:unref(o),"onUpdate:modelValue":c[0]||(c[0]=m=>isRef(o)?o.value=m:null)},null,8,["modelValue"])])]),_:1})):createCommentVNode("",!0),createVNode(_sfc_main$_)]}),_:1})]),_:1})]),_:1}))}});class Deferred{constructor(){De(this,"finished",!1);De(this,"resolve");De(this,"reject");De(this,"promise",new Promise((t,r)=>{this.resolve=n=>(this.finished=!0,t(n),this),this.reject=n=>(this.finished=!0,r(n),this)}))}[Symbol.dispose](){this.finished||this.reject(new Error("deferred disposed without being resolved"))}async resolvePromise(t){try{this.resolve(await t)}catch(r){this.reject(r)}}}class EndError extends Error{}function createAsyncQueue(){let e;const t=new Deferred,r=[],n=[],i=async m=>{const g=n[m];if(g)return g.dequeued||(g.dequeued=new Deferred),g.dequeued.promise},o=async()=>{if(n.length){const{item:g,dequeued:v}=n.shift();return v==null||v.resolve(),g}if(e)throw e;const m=new Deferred;return r.push(m),m.promise},a=()=>{if(n.length){const{item:m,dequeued:g}=n.shift();return g==null||g.resolve(),m}if(e)throw e},s=(m,g,v)=>{if(e)return!1;if(r.length){const C=r.shift();return g==null||g.resolve(),C.resolve(m),!0}v&&(g||(g=new Deferred));const _={item:m,dequeued:g};if(n.push(_),!v)return!0;const S=()=>{const C=n.indexOf(_);C!==-1&&(n.splice(C,1),g==null||g.reject(new Error("abort")))};return g==null||g.promise.catch(()=>{}).finally(()=>v.removeEventListener("abort",S)),v.addEventListener("abort",S),!0};function l(m){if(e)return!1;for(e=m||new EndError,t.resolve();r.length;)r.shift().reject(e);return!0}function c(){return async function*(){try{for(;;)try{yield await o()}catch(m){if(l(m),m instanceof EndError)return;throw m}}finally{l()}}()}function d(m){var _;const g=[],v=n.splice(0,n.length);for(const S of v)(_=S.dequeued)==null||_.resolve(void 0),g.push(S.item);return g}return{[Symbol.dispose](){l(new Error("async queue disposed"))},get ended(){return e},endPromise:t.promise,take:a,clear(){return d()},queued:n,async pipe(m){for await(const g of c())m(g)},submit(m,g){return s(m,void 0,g)},end:l,async enqueue(m,g){const v=new Deferred;return s(m,v,g)?(await v.promise,!0):!1},dequeue:o,get queue(){return c()},wait:i}}function createAsyncQueueFromGenerator(e){const t=createAsyncQueue();return(async()=>{try{for await(const r of e)await t.enqueue(r)}catch(r){t.end(r)}t.end()})(),t}var addonFit={exports:{}},hasRequiredAddonFit;function requireAddonFit(){return hasRequiredAddonFit||(hasRequiredAddonFit=1,function(e,t){(function(r,n){e.exports=n()})(self,()=>(()=>{var r={};return(()=>{var n=r;Object.defineProperty(n,"__esModule",{value:!0}),n.FitAddon=void 0,n.FitAddon=class{activate(i){this._terminal=i}dispose(){}fit(){const i=this.proposeDimensions();if(!i||!this._terminal||isNaN(i.cols)||isNaN(i.rows))return;const o=this._terminal._core;this._terminal.rows===i.rows&&this._terminal.cols===i.cols||(o._renderService.clear(),this._terminal.resize(i.cols,i.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const i=this._terminal._core,o=i._renderService.dimensions;if(o.css.cell.width===0||o.css.cell.height===0)return;const a=this._terminal.options.scrollback===0?0:i.viewport.scrollBarWidth,s=window.getComputedStyle(this._terminal.element.parentElement),l=parseInt(s.getPropertyValue("height")),c=Math.max(0,parseInt(s.getPropertyValue("width"))),d=window.getComputedStyle(this._terminal.element),m=l-(parseInt(d.getPropertyValue("padding-top"))+parseInt(d.getPropertyValue("padding-bottom"))),g=c-(parseInt(d.getPropertyValue("padding-right"))+parseInt(d.getPropertyValue("padding-left")))-a;return{cols:Math.max(2,Math.floor(g/o.css.cell.width)),rows:Math.max(1,Math.floor(m/o.css.cell.height))}}}})(),r})())}(addonFit)),addonFit.exports}var addonFitExports=requireAddonFit(),xterm={exports:{}},hasRequiredXterm;function requireXterm(){return hasRequiredXterm||(hasRequiredXterm=1,function(e,t){(function(r,n){e.exports=n()})(globalThis,()=>(()=>{var r={4567:function(a,s,l){var c=this&&this.__decorate||function(b,u,w,x){var E,T=arguments.length,k=T<3?u:x===null?x=Object.getOwnPropertyDescriptor(u,w):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(b,u,w,x);else for(var D=b.length-1;D>=0;D--)(E=b[D])&&(k=(T<3?E(k):T>3?E(u,w,k):E(u,w))||k);return T>3&&k&&Object.defineProperty(u,w,k),k},d=this&&this.__param||function(b,u){return function(w,x){u(w,x,b)}};Object.defineProperty(s,"__esModule",{value:!0}),s.AccessibilityManager=void 0;const m=l(9042),g=l(9924),v=l(844),_=l(4725),S=l(2585),C=l(3656);let y=s.AccessibilityManager=class extends v.Disposable{constructor(b,u,w,x){super(),this._terminal=b,this._coreBrowserService=w,this._renderService=x,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let E=0;E<this._terminal.rows;E++)this._rowElements[E]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[E]);if(this._topBoundaryFocusListener=E=>this._handleBoundaryFocus(E,0),this._bottomBoundaryFocusListener=E=>this._handleBoundaryFocus(E,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new g.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(E=>this._handleResize(E.rows))),this.register(this._terminal.onRender(E=>this._refreshRows(E.start,E.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(E=>this._handleChar(E))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(E=>this._handleTab(E))),this.register(this._terminal.onKey(E=>this._handleKey(E.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this.register((0,C.addDisposableDomListener)(document,"selectionchange",()=>this._handleSelectionChange())),this.register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,v.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(b){for(let u=0;u<b;u++)this._handleChar(" ")}_handleChar(b){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==b&&(this._charsToAnnounce+=b):this._charsToAnnounce+=b,b===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=m.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(b){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(b)||this._charsToConsume.push(b)}_refreshRows(b,u){this._liveRegionDebouncer.refresh(b,u,this._terminal.rows)}_renderRows(b,u){const w=this._terminal.buffer,x=w.lines.length.toString();for(let E=b;E<=u;E++){const T=w.lines.get(w.ydisp+E),k=[],D=(T==null?void 0:T.translateToString(!0,void 0,void 0,k))||"",B=(w.ydisp+E+1).toString(),A=this._rowElements[E];A&&(D.length===0?(A.innerText="",this._rowColumns.set(A,[0,1])):(A.textContent=D,this._rowColumns.set(A,k)),A.setAttribute("aria-posinset",B),A.setAttribute("aria-setsize",x))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(b,u){const w=b.target,x=this._rowElements[u===0?1:this._rowElements.length-2];if(w.getAttribute("aria-posinset")===(u===0?"1":`${this._terminal.buffer.lines.length}`)||b.relatedTarget!==x)return;let E,T;if(u===0?(E=w,T=this._rowElements.pop(),this._rowContainer.removeChild(T)):(E=this._rowElements.shift(),T=w,this._rowContainer.removeChild(E)),E.removeEventListener("focus",this._topBoundaryFocusListener),T.removeEventListener("focus",this._bottomBoundaryFocusListener),u===0){const k=this._createAccessibilityTreeNode();this._rowElements.unshift(k),this._rowContainer.insertAdjacentElement("afterbegin",k)}else{const k=this._createAccessibilityTreeNode();this._rowElements.push(k),this._rowContainer.appendChild(k)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(u===0?-1:1),this._rowElements[u===0?1:this._rowElements.length-2].focus(),b.preventDefault(),b.stopImmediatePropagation()}_handleSelectionChange(){var D;if(this._rowElements.length===0)return;const b=document.getSelection();if(!b)return;if(b.isCollapsed)return void(this._rowContainer.contains(b.anchorNode)&&this._terminal.clearSelection());if(!b.anchorNode||!b.focusNode)return void console.error("anchorNode and/or focusNode are null");let u={node:b.anchorNode,offset:b.anchorOffset},w={node:b.focusNode,offset:b.focusOffset};if((u.node.compareDocumentPosition(w.node)&Node.DOCUMENT_POSITION_PRECEDING||u.node===w.node&&u.offset>w.offset)&&([u,w]=[w,u]),u.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(u={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(u.node))return;const x=this._rowElements.slice(-1)[0];if(w.node.compareDocumentPosition(x)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(w={node:x,offset:((D=x.textContent)==null?void 0:D.length)??0}),!this._rowContainer.contains(w.node))return;const E=({node:B,offset:A})=>{const O=B instanceof Text?B.parentNode:B;let V=parseInt(O==null?void 0:O.getAttribute("aria-posinset"),10)-1;if(isNaN(V))return console.warn("row is invalid. Race condition?"),null;const H=this._rowColumns.get(O);if(!H)return console.warn("columns is null. Race condition?"),null;let q=A<H.length?H[A]:H.slice(-1)[0]+1;return q>=this._terminal.cols&&(++V,q=0),{row:V,column:q}},T=E(u),k=E(w);if(T&&k){if(T.row>k.row||T.row===k.row&&T.column>=k.column)throw new Error("invalid range");this._terminal.select(T.column,T.row,(k.row-T.row)*this._terminal.cols-T.column+k.column)}}_handleResize(b){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let u=this._rowContainer.children.length;u<this._terminal.rows;u++)this._rowElements[u]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[u]);for(;this._rowElements.length>b;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const b=this._coreBrowserService.mainDocument.createElement("div");return b.setAttribute("role","listitem"),b.tabIndex=-1,this._refreshRowDimensions(b),b}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let b=0;b<this._terminal.rows;b++)this._refreshRowDimensions(this._rowElements[b])}}_refreshRowDimensions(b){b.style.height=`${this._renderService.dimensions.css.cell.height}px`}};s.AccessibilityManager=y=c([d(1,S.IInstantiationService),d(2,_.ICoreBrowserService),d(3,_.IRenderService)],y)},3614:(a,s)=>{function l(g){return g.replace(/\r?\n/g,"\r")}function c(g,v){return v?"\x1B[200~"+g+"\x1B[201~":g}function d(g,v,_,S){g=c(g=l(g),_.decPrivateModes.bracketedPasteMode&&S.rawOptions.ignoreBracketedPasteMode!==!0),_.triggerDataEvent(g,!0),v.value=""}function m(g,v,_){const S=_.getBoundingClientRect(),C=g.clientX-S.left-10,y=g.clientY-S.top-10;v.style.width="20px",v.style.height="20px",v.style.left=`${C}px`,v.style.top=`${y}px`,v.style.zIndex="1000",v.focus()}Object.defineProperty(s,"__esModule",{value:!0}),s.rightClickHandler=s.moveTextAreaUnderMouseCursor=s.paste=s.handlePasteEvent=s.copyHandler=s.bracketTextForPaste=s.prepareTextForTerminal=void 0,s.prepareTextForTerminal=l,s.bracketTextForPaste=c,s.copyHandler=function(g,v){g.clipboardData&&g.clipboardData.setData("text/plain",v.selectionText),g.preventDefault()},s.handlePasteEvent=function(g,v,_,S){g.stopPropagation(),g.clipboardData&&d(g.clipboardData.getData("text/plain"),v,_,S)},s.paste=d,s.moveTextAreaUnderMouseCursor=m,s.rightClickHandler=function(g,v,_,S,C){m(g,v,_),C&&S.rightClickSelect(g),v.value=S.selectionText,v.select()}},7239:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorContrastCache=void 0;const c=l(1505);s.ColorContrastCache=class{constructor(){this._color=new c.TwoKeyMap,this._css=new c.TwoKeyMap}setCss(d,m,g){this._css.set(d,m,g)}getCss(d,m){return this._css.get(d,m)}setColor(d,m,g){this._color.set(d,m,g)}getColor(d,m){return this._color.get(d,m)}clear(){this._color.clear(),this._css.clear()}}},3656:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addDisposableDomListener=void 0,s.addDisposableDomListener=function(l,c,d,m){l.addEventListener(c,d,m);let g=!1;return{dispose:()=>{g||(g=!0,l.removeEventListener(c,d,m))}}}},3551:function(a,s,l){var c=this&&this.__decorate||function(y,b,u,w){var x,E=arguments.length,T=E<3?b:w===null?w=Object.getOwnPropertyDescriptor(b,u):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(y,b,u,w);else for(var k=y.length-1;k>=0;k--)(x=y[k])&&(T=(E<3?x(T):E>3?x(b,u,T):x(b,u))||T);return E>3&&T&&Object.defineProperty(b,u,T),T},d=this&&this.__param||function(y,b){return function(u,w){b(u,w,y)}};Object.defineProperty(s,"__esModule",{value:!0}),s.Linkifier=void 0;const m=l(3656),g=l(8460),v=l(844),_=l(2585),S=l(4725);let C=s.Linkifier=class extends v.Disposable{get currentLink(){return this._currentLink}constructor(y,b,u,w,x){super(),this._element=y,this._mouseService=b,this._renderService=u,this._bufferService=w,this._linkProviderService=x,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new g.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new g.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,v.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,v.toDisposable)(()=>{var E;this._lastMouseEvent=void 0,(E=this._activeProviderReplies)==null||E.clear()})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this.register((0,m.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,m.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,m.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,m.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(y){this._lastMouseEvent=y;const b=this._positionFromMouseEvent(y,this._element,this._mouseService);if(!b)return;this._isMouseOut=!1;const u=y.composedPath();for(let w=0;w<u.length;w++){const x=u[w];if(x.classList.contains("xterm"))break;if(x.classList.contains("xterm-hover"))return}this._lastBufferCell&&b.x===this._lastBufferCell.x&&b.y===this._lastBufferCell.y||(this._handleHover(b),this._lastBufferCell=b)}_handleHover(y){if(this._activeLine!==y.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(y,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,y)||(this._clearCurrentLink(),this._askForLink(y,!0))}_askForLink(y,b){var w,x;this._activeProviderReplies&&b||((w=this._activeProviderReplies)==null||w.forEach(E=>{E==null||E.forEach(T=>{T.link.dispose&&T.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=y.y);let u=!1;for(const[E,T]of this._linkProviderService.linkProviders.entries())b?(x=this._activeProviderReplies)!=null&&x.get(E)&&(u=this._checkLinkProviderResult(E,y,u)):T.provideLinks(y.y,k=>{var B,A;if(this._isMouseOut)return;const D=k==null?void 0:k.map(O=>({link:O}));(B=this._activeProviderReplies)==null||B.set(E,D),u=this._checkLinkProviderResult(E,y,u),((A=this._activeProviderReplies)==null?void 0:A.size)===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(y.y,this._activeProviderReplies)})}_removeIntersectingLinks(y,b){const u=new Set;for(let w=0;w<b.size;w++){const x=b.get(w);if(x)for(let E=0;E<x.length;E++){const T=x[E],k=T.link.range.start.y<y?0:T.link.range.start.x,D=T.link.range.end.y>y?this._bufferService.cols:T.link.range.end.x;for(let B=k;B<=D;B++){if(u.has(B)){x.splice(E--,1);break}u.add(B)}}}}_checkLinkProviderResult(y,b,u){var E;if(!this._activeProviderReplies)return u;const w=this._activeProviderReplies.get(y);let x=!1;for(let T=0;T<y;T++)this._activeProviderReplies.has(T)&&!this._activeProviderReplies.get(T)||(x=!0);if(!x&&w){const T=w.find(k=>this._linkAtPosition(k.link,b));T&&(u=!0,this._handleNewLink(T))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!u)for(let T=0;T<this._activeProviderReplies.size;T++){const k=(E=this._activeProviderReplies.get(T))==null?void 0:E.find(D=>this._linkAtPosition(D.link,b));if(k){u=!0,this._handleNewLink(k);break}}return u}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(y){if(!this._currentLink)return;const b=this._positionFromMouseEvent(y,this._element,this._mouseService);b&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,b)&&this._currentLink.link.activate(y,this._currentLink.link.text)}_clearCurrentLink(y,b){this._currentLink&&this._lastMouseEvent&&(!y||!b||this._currentLink.link.range.start.y>=y&&this._currentLink.link.range.end.y<=b)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,v.disposeArray)(this._linkCacheDisposables))}_handleNewLink(y){if(!this._lastMouseEvent)return;const b=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);b&&this._linkAtPosition(y.link,b)&&(this._currentLink=y,this._currentLink.state={decorations:{underline:y.link.decorations===void 0||y.link.decorations.underline,pointerCursor:y.link.decorations===void 0||y.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,y.link,this._lastMouseEvent),y.link.decorations={},Object.defineProperties(y.link.decorations,{pointerCursor:{get:()=>{var u,w;return(w=(u=this._currentLink)==null?void 0:u.state)==null?void 0:w.decorations.pointerCursor},set:u=>{var w;(w=this._currentLink)!=null&&w.state&&this._currentLink.state.decorations.pointerCursor!==u&&(this._currentLink.state.decorations.pointerCursor=u,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",u))}},underline:{get:()=>{var u,w;return(w=(u=this._currentLink)==null?void 0:u.state)==null?void 0:w.decorations.underline},set:u=>{var w,x,E;(w=this._currentLink)!=null&&w.state&&((E=(x=this._currentLink)==null?void 0:x.state)==null?void 0:E.decorations.underline)!==u&&(this._currentLink.state.decorations.underline=u,this._currentLink.state.isHovered&&this._fireUnderlineEvent(y.link,u))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(u=>{if(!this._currentLink)return;const w=u.start===0?0:u.start+1+this._bufferService.buffer.ydisp,x=this._bufferService.buffer.ydisp+1+u.end;if(this._currentLink.link.range.start.y>=w&&this._currentLink.link.range.end.y<=x&&(this._clearCurrentLink(w,x),this._lastMouseEvent)){const E=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);E&&this._askForLink(E,!1)}})))}_linkHover(y,b,u){var w;(w=this._currentLink)!=null&&w.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(b,!0),this._currentLink.state.decorations.pointerCursor&&y.classList.add("xterm-cursor-pointer")),b.hover&&b.hover(u,b.text)}_fireUnderlineEvent(y,b){const u=y.range,w=this._bufferService.buffer.ydisp,x=this._createLinkUnderlineEvent(u.start.x-1,u.start.y-w-1,u.end.x,u.end.y-w-1,void 0);(b?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(x)}_linkLeave(y,b,u){var w;(w=this._currentLink)!=null&&w.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(b,!1),this._currentLink.state.decorations.pointerCursor&&y.classList.remove("xterm-cursor-pointer")),b.leave&&b.leave(u,b.text)}_linkAtPosition(y,b){const u=y.range.start.y*this._bufferService.cols+y.range.start.x,w=y.range.end.y*this._bufferService.cols+y.range.end.x,x=b.y*this._bufferService.cols+b.x;return u<=x&&x<=w}_positionFromMouseEvent(y,b,u){const w=u.getCoords(y,b,this._bufferService.cols,this._bufferService.rows);if(w)return{x:w[0],y:w[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(y,b,u,w,x){return{x1:y,y1:b,x2:u,y2:w,cols:this._bufferService.cols,fg:x}}};s.Linkifier=C=c([d(1,S.IMouseService),d(2,S.IRenderService),d(3,_.IBufferService),d(4,S.ILinkProviderService)],C)},9042:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.tooMuchOutput=s.promptLabel=void 0,s.promptLabel="Terminal input",s.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(a,s,l){var c=this&&this.__decorate||function(S,C,y,b){var u,w=arguments.length,x=w<3?C:b===null?b=Object.getOwnPropertyDescriptor(C,y):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(S,C,y,b);else for(var E=S.length-1;E>=0;E--)(u=S[E])&&(x=(w<3?u(x):w>3?u(C,y,x):u(C,y))||x);return w>3&&x&&Object.defineProperty(C,y,x),x},d=this&&this.__param||function(S,C){return function(y,b){C(y,b,S)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OscLinkProvider=void 0;const m=l(511),g=l(2585);let v=s.OscLinkProvider=class{constructor(S,C,y){this._bufferService=S,this._optionsService=C,this._oscLinkService=y}provideLinks(S,C){var D;const y=this._bufferService.buffer.lines.get(S-1);if(!y)return void C(void 0);const b=[],u=this._optionsService.rawOptions.linkHandler,w=new m.CellData,x=y.getTrimmedLength();let E=-1,T=-1,k=!1;for(let B=0;B<x;B++)if(T!==-1||y.hasContent(B)){if(y.loadCell(B,w),w.hasExtendedAttrs()&&w.extended.urlId){if(T===-1){T=B,E=w.extended.urlId;continue}k=w.extended.urlId!==E}else T!==-1&&(k=!0);if(k||T!==-1&&B===x-1){const A=(D=this._oscLinkService.getLinkData(E))==null?void 0:D.uri;if(A){const O={start:{x:T+1,y:S},end:{x:B+(k||B!==x-1?0:1),y:S}};let V=!1;if(!(u!=null&&u.allowNonHttpProtocols))try{const H=new URL(A);["http:","https:"].includes(H.protocol)||(V=!0)}catch{V=!0}V||b.push({text:A,range:O,activate:(H,q)=>u?u.activate(H,q,O):_(0,q),hover:(H,q)=>{var K;return(K=u==null?void 0:u.hover)==null?void 0:K.call(u,H,q,O)},leave:(H,q)=>{var K;return(K=u==null?void 0:u.leave)==null?void 0:K.call(u,H,q,O)}})}k=!1,w.hasExtendedAttrs()&&w.extended.urlId?(T=B,E=w.extended.urlId):(T=-1,E=-1)}}C(b)}};function _(S,C){if(confirm(`Do you want to navigate to ${C}?

WARNING: This link could potentially be dangerous`)){const y=window.open();if(y){try{y.opener=null}catch{}y.location.href=C}else console.warn("Opening link blocked as opener could not be cleared")}}s.OscLinkProvider=v=c([d(0,g.IBufferService),d(1,g.IOptionsService),d(2,g.IOscLinkService)],v)},6193:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.RenderDebouncer=void 0,s.RenderDebouncer=class{constructor(l,c){this._renderCallback=l,this._coreBrowserService=c,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(l){return this._refreshCallbacks.push(l),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(l,c,d){this._rowCount=d,l=l!==void 0?l:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const l=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,c),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const l of this._refreshCallbacks)l(0);this._refreshCallbacks=[]}}},3236:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Terminal=void 0;const c=l(3614),d=l(3656),m=l(3551),g=l(9042),v=l(3730),_=l(1680),S=l(3107),C=l(5744),y=l(2950),b=l(1296),u=l(428),w=l(4269),x=l(5114),E=l(8934),T=l(3230),k=l(9312),D=l(4725),B=l(6731),A=l(8055),O=l(8969),V=l(8460),H=l(844),q=l(6114),K=l(8437),Q=l(2584),X=l(7399),N=l(5941),I=l(9074),U=l(2585),F=l(5435),ee=l(4567),ue=l(779);class he extends O.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(j={}){super(j),this.browser=q,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new H.MutableDisposable),this._onCursorMove=this.register(new V.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new V.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new V.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new V.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new V.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new V.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new V.EventEmitter),this._onBlur=this.register(new V.EventEmitter),this._onA11yCharEmitter=this.register(new V.EventEmitter),this._onA11yTabEmitter=this.register(new V.EventEmitter),this._onWillOpen=this.register(new V.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(I.DecorationService),this._instantiationService.setService(U.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(ue.LinkProviderService),this._instantiationService.setService(D.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(v.OscLinkProvider)),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((M,ne)=>this.refresh(M,ne))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(M=>this._reportWindowsOptions(M))),this.register(this._inputHandler.onColor(M=>this._handleColorEvent(M))),this.register((0,V.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,V.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,V.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,V.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(M=>this._afterResize(M.cols,M.rows))),this.register((0,H.toDisposable)(()=>{var M,ne;this._customKeyEventHandler=void 0,(ne=(M=this.element)==null?void 0:M.parentNode)==null||ne.removeChild(this.element)}))}_handleColorEvent(j){if(this._themeService)for(const M of j){let ne,Y="";switch(M.index){case 256:ne="foreground",Y="10";break;case 257:ne="background",Y="11";break;case 258:ne="cursor",Y="12";break;default:ne="ansi",Y="4;"+M.index}switch(M.type){case 0:const de=A.color.toColorRGB(ne==="ansi"?this._themeService.colors.ansi[M.index]:this._themeService.colors[ne]);this.coreService.triggerDataEvent(`${Q.C0.ESC}]${Y};${(0,N.toRgbString)(de)}${Q.C1_ESCAPED.ST}`);break;case 1:if(ne==="ansi")this._themeService.modifyColors(L=>L.ansi[M.index]=A.channels.toColor(...M.color));else{const L=ne;this._themeService.modifyColors(W=>W[L]=A.channels.toColor(...M.color))}break;case 2:this._themeService.restoreColor(M.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(j){j?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(ee.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(j){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(Q.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var j;return(j=this.textarea)==null?void 0:j.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(Q.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const j=this.buffer.ybase+this.buffer.y,M=this.buffer.lines.get(j);if(!M)return;const ne=Math.min(this.buffer.x,this.cols-1),Y=this._renderService.dimensions.css.cell.height,de=M.getWidth(ne),L=this._renderService.dimensions.css.cell.width*de,W=this.buffer.y*this._renderService.dimensions.css.cell.height,J=ne*this._renderService.dimensions.css.cell.width;this.textarea.style.left=J+"px",this.textarea.style.top=W+"px",this.textarea.style.width=L+"px",this.textarea.style.height=Y+"px",this.textarea.style.lineHeight=Y+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,d.addDisposableDomListener)(this.element,"copy",M=>{this.hasSelection()&&(0,c.copyHandler)(M,this._selectionService)}));const j=M=>(0,c.handlePasteEvent)(M,this.textarea,this.coreService,this.optionsService);this.register((0,d.addDisposableDomListener)(this.textarea,"paste",j)),this.register((0,d.addDisposableDomListener)(this.element,"paste",j)),q.isFirefox?this.register((0,d.addDisposableDomListener)(this.element,"mousedown",M=>{M.button===2&&(0,c.rightClickHandler)(M,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,d.addDisposableDomListener)(this.element,"contextmenu",M=>{(0,c.rightClickHandler)(M,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),q.isLinux&&this.register((0,d.addDisposableDomListener)(this.element,"auxclick",M=>{M.button===1&&(0,c.moveTextAreaUnderMouseCursor)(M,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,d.addDisposableDomListener)(this.textarea,"keyup",j=>this._keyUp(j),!0)),this.register((0,d.addDisposableDomListener)(this.textarea,"keydown",j=>this._keyDown(j),!0)),this.register((0,d.addDisposableDomListener)(this.textarea,"keypress",j=>this._keyPress(j),!0)),this.register((0,d.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,d.addDisposableDomListener)(this.textarea,"compositionupdate",j=>this._compositionHelper.compositionupdate(j))),this.register((0,d.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,d.addDisposableDomListener)(this.textarea,"input",j=>this._inputEvent(j),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(j){var ne;if(!j)throw new Error("Terminal requires a parent element.");if(j.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),((ne=this.element)==null?void 0:ne.ownerDocument.defaultView)&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=j.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),j.appendChild(this.element);const M=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),M.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,d.addDisposableDomListener)(this.screenElement,"mousemove",Y=>this.updateCursorStyle(Y))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),M.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",g.promptLabel),q.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(x.CoreBrowserService,this.textarea,j.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(D.ICoreBrowserService,this._coreBrowserService),this.register((0,d.addDisposableDomListener)(this.textarea,"focus",Y=>this._handleTextAreaFocus(Y))),this.register((0,d.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(u.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(D.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(B.ThemeService),this._instantiationService.setService(D.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(w.CharacterJoinerService),this._instantiationService.setService(D.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(T.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(D.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(Y=>this._onRender.fire(Y))),this.onResize(Y=>this._renderService.resize(Y.cols,Y.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(y.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(E.MouseService),this._instantiationService.setService(D.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(m.Linkifier,this.screenElement)),this.element.appendChild(M);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(_.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(Y=>this.scrollLines(Y.amount,Y.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(k.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(D.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(Y=>this.scrollLines(Y.amount,Y.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(Y=>this._renderService.handleSelectionChanged(Y.start,Y.end,Y.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(Y=>{this.textarea.value=Y,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(Y=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,d.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.register(this._instantiationService.createInstance(S.BufferDecorationRenderer,this.screenElement)),this.register((0,d.addDisposableDomListener)(this.element,"mousedown",Y=>this._selectionService.handleMouseDown(Y))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(ee.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",Y=>this._handleScreenReaderModeOptionChange(Y))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(C.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",Y=>{!this._overviewRulerRenderer&&Y&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(C.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(b.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const j=this,M=this.element;function ne(L){const W=j._mouseService.getMouseReportCoords(L,j.screenElement);if(!W)return!1;let J,ae;switch(L.overrideType||L.type){case"mousemove":ae=32,L.buttons===void 0?(J=3,L.button!==void 0&&(J=L.button<3?L.button:3)):J=1&L.buttons?0:4&L.buttons?1:2&L.buttons?2:3;break;case"mouseup":ae=0,J=L.button<3?L.button:3;break;case"mousedown":ae=1,J=L.button<3?L.button:3;break;case"wheel":if(j._customWheelEventHandler&&j._customWheelEventHandler(L)===!1||j.viewport.getLinesScrolled(L)===0)return!1;ae=L.deltaY<0?0:1,J=4;break;default:return!1}return!(ae===void 0||J===void 0||J>4)&&j.coreMouseService.triggerMouseEvent({col:W.col,row:W.row,x:W.x,y:W.y,button:J,action:ae,ctrl:L.ctrlKey,alt:L.altKey,shift:L.shiftKey})}const Y={mouseup:null,wheel:null,mousedrag:null,mousemove:null},de={mouseup:L=>(ne(L),L.buttons||(this._document.removeEventListener("mouseup",Y.mouseup),Y.mousedrag&&this._document.removeEventListener("mousemove",Y.mousedrag)),this.cancel(L)),wheel:L=>(ne(L),this.cancel(L,!0)),mousedrag:L=>{L.buttons&&ne(L)},mousemove:L=>{L.buttons||ne(L)}};this.register(this.coreMouseService.onProtocolChange(L=>{L?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(L)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&L?Y.mousemove||(M.addEventListener("mousemove",de.mousemove),Y.mousemove=de.mousemove):(M.removeEventListener("mousemove",Y.mousemove),Y.mousemove=null),16&L?Y.wheel||(M.addEventListener("wheel",de.wheel,{passive:!1}),Y.wheel=de.wheel):(M.removeEventListener("wheel",Y.wheel),Y.wheel=null),2&L?Y.mouseup||(Y.mouseup=de.mouseup):(this._document.removeEventListener("mouseup",Y.mouseup),Y.mouseup=null),4&L?Y.mousedrag||(Y.mousedrag=de.mousedrag):(this._document.removeEventListener("mousemove",Y.mousedrag),Y.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,d.addDisposableDomListener)(M,"mousedown",L=>{if(L.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(L))return ne(L),Y.mouseup&&this._document.addEventListener("mouseup",Y.mouseup),Y.mousedrag&&this._document.addEventListener("mousemove",Y.mousedrag),this.cancel(L)})),this.register((0,d.addDisposableDomListener)(M,"wheel",L=>{if(!Y.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(L)===!1)return!1;if(!this.buffer.hasScrollback){const W=this.viewport.getLinesScrolled(L);if(W===0)return;const J=Q.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(L.deltaY<0?"A":"B");let ae="";for(let me=0;me<Math.abs(W);me++)ae+=J;return this.coreService.triggerDataEvent(ae,!0),this.cancel(L,!0)}return this.viewport.handleWheel(L)?this.cancel(L):void 0}},{passive:!1})),this.register((0,d.addDisposableDomListener)(M,"touchstart",L=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(L),this.cancel(L)},{passive:!0})),this.register((0,d.addDisposableDomListener)(M,"touchmove",L=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(L)?void 0:this.cancel(L)},{passive:!1}))}refresh(j,M){var ne;(ne=this._renderService)==null||ne.refreshRows(j,M)}updateCursorStyle(j){var M;(M=this._selectionService)!=null&&M.shouldColumnSelect(j)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(j,M,ne=0){var Y;ne===1?(super.scrollLines(j,M,ne),this.refresh(0,this.rows-1)):(Y=this.viewport)==null||Y.scrollLines(j)}paste(j){(0,c.paste)(j,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(j){this._customKeyEventHandler=j}attachCustomWheelEventHandler(j){this._customWheelEventHandler=j}registerLinkProvider(j){return this._linkProviderService.registerLinkProvider(j)}registerCharacterJoiner(j){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const M=this._characterJoinerService.register(j);return this.refresh(0,this.rows-1),M}deregisterCharacterJoiner(j){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(j)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(j){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+j)}registerDecoration(j){return this._decorationService.registerDecoration(j)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(j,M,ne){this._selectionService.setSelection(j,M,ne)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var j;(j=this._selectionService)==null||j.clearSelection()}selectAll(){var j;(j=this._selectionService)==null||j.selectAll()}selectLines(j,M){var ne;(ne=this._selectionService)==null||ne.selectLines(j,M)}_keyDown(j){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(j)===!1)return!1;const M=this.browser.isMac&&this.options.macOptionIsMeta&&j.altKey;if(!M&&!this._compositionHelper.keydown(j))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;M||j.key!=="Dead"&&j.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const ne=(0,X.evaluateKeyboardEvent)(j,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(j),ne.type===3||ne.type===2){const Y=this.rows-1;return this.scrollLines(ne.type===2?-Y:Y),this.cancel(j,!0)}return ne.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,j)||(ne.cancel&&this.cancel(j,!0),!ne.key||!!(j.key&&!j.ctrlKey&&!j.altKey&&!j.metaKey&&j.key.length===1&&j.key.charCodeAt(0)>=65&&j.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(ne.key!==Q.C0.ETX&&ne.key!==Q.C0.CR||(this.textarea.value=""),this._onKey.fire({key:ne.key,domEvent:j}),this._showCursor(),this.coreService.triggerDataEvent(ne.key,!0),!this.optionsService.rawOptions.screenReaderMode||j.altKey||j.ctrlKey?this.cancel(j,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(j,M){const ne=j.isMac&&!this.options.macOptionIsMeta&&M.altKey&&!M.ctrlKey&&!M.metaKey||j.isWindows&&M.altKey&&M.ctrlKey&&!M.metaKey||j.isWindows&&M.getModifierState("AltGraph");return M.type==="keypress"?ne:ne&&(!M.keyCode||M.keyCode>47)}_keyUp(j){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(j)===!1||(function(M){return M.keyCode===16||M.keyCode===17||M.keyCode===18}(j)||this.focus(),this.updateCursorStyle(j),this._keyPressHandled=!1)}_keyPress(j){let M;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(j)===!1)return!1;if(this.cancel(j),j.charCode)M=j.charCode;else if(j.which===null||j.which===void 0)M=j.keyCode;else{if(j.which===0||j.charCode===0)return!1;M=j.which}return!(!M||(j.altKey||j.ctrlKey||j.metaKey)&&!this._isThirdLevelShift(this.browser,j)||(M=String.fromCharCode(M),this._onKey.fire({key:M,domEvent:j}),this._showCursor(),this.coreService.triggerDataEvent(M,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(j){if(j.data&&j.inputType==="insertText"&&(!j.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const M=j.data;return this.coreService.triggerDataEvent(M,!0),this.cancel(j),!0}return!1}resize(j,M){j!==this.cols||M!==this.rows?super.resize(j,M):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(j,M){var ne,Y;(ne=this._charSizeService)==null||ne.measure(),(Y=this.viewport)==null||Y.syncScrollArea(!0)}clear(){var j;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let M=1;M<this.rows;M++)this.buffer.lines.push(this.buffer.getBlankLine(K.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(j=this.viewport)==null||j.reset(),this.refresh(0,this.rows-1)}}reset(){var M,ne;this.options.rows=this.rows,this.options.cols=this.cols;const j=this._customKeyEventHandler;this._setup(),super.reset(),(M=this._selectionService)==null||M.reset(),this._decorationService.reset(),(ne=this.viewport)==null||ne.reset(),this._customKeyEventHandler=j,this.refresh(0,this.rows-1)}clearTextureAtlas(){var j;(j=this._renderService)==null||j.clearTextureAtlas()}_reportFocus(){var j;(j=this.element)!=null&&j.classList.contains("focus")?this.coreService.triggerDataEvent(Q.C0.ESC+"[I"):this.coreService.triggerDataEvent(Q.C0.ESC+"[O")}_reportWindowsOptions(j){if(this._renderService)switch(j){case F.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const M=this._renderService.dimensions.css.canvas.width.toFixed(0),ne=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${Q.C0.ESC}[4;${ne};${M}t`);break;case F.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Y=this._renderService.dimensions.css.cell.width.toFixed(0),de=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${Q.C0.ESC}[6;${de};${Y}t`)}}cancel(j,M){if(this.options.cancelEvents||M)return j.preventDefault(),j.stopPropagation(),!1}}s.Terminal=he},9924:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TimeBasedDebouncer=void 0,s.TimeBasedDebouncer=class{constructor(l,c=1e3){this._renderCallback=l,this._debounceThresholdMS=c,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(l,c,d){this._rowCount=d,l=l!==void 0?l:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c;const m=Date.now();if(m-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=m,this._innerRefresh();else if(!this._additionalRefreshRequested){const g=m-this._lastRefreshMs,v=this._debounceThresholdMS-g;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},v)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const l=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,c)}}},1680:function(a,s,l){var c=this&&this.__decorate||function(y,b,u,w){var x,E=arguments.length,T=E<3?b:w===null?w=Object.getOwnPropertyDescriptor(b,u):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(y,b,u,w);else for(var k=y.length-1;k>=0;k--)(x=y[k])&&(T=(E<3?x(T):E>3?x(b,u,T):x(b,u))||T);return E>3&&T&&Object.defineProperty(b,u,T),T},d=this&&this.__param||function(y,b){return function(u,w){b(u,w,y)}};Object.defineProperty(s,"__esModule",{value:!0}),s.Viewport=void 0;const m=l(3656),g=l(4725),v=l(8460),_=l(844),S=l(2585);let C=s.Viewport=class extends _.Disposable{constructor(y,b,u,w,x,E,T,k){super(),this._viewportElement=y,this._scrollArea=b,this._bufferService=u,this._optionsService=w,this._charSizeService=x,this._renderService=E,this._coreBrowserService=T,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new v.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,m.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(D=>this._activeBuffer=D.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(D=>this._renderDimensions=D)),this._handleThemeChange(k.colors),this.register(k.onChangeColors(D=>this._handleThemeChange(D))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(y){this._viewportElement.style.backgroundColor=y.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(y){if(y)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const b=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==b&&(this._lastRecordedBufferHeight=b,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const y=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==y&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=y),this._refreshAnimationFrame=null}syncScrollArea(y=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(y);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(y)}_handleScroll(y){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const b=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:b,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const y=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(y*(this._smoothScrollState.target-this._smoothScrollState.origin)),y<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(y,b){const u=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(b<0&&this._viewportElement.scrollTop!==0||b>0&&u<this._lastRecordedBufferHeight)||(y.cancelable&&y.preventDefault(),!1)}handleWheel(y){const b=this._getPixelsScrolled(y);return b!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+b:this._smoothScrollState.target+=b,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=b,this._bubbleScroll(y,b))}scrollLines(y){if(y!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const b=y*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+b,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:y,suppressScrollEvent:!1})}_getPixelsScrolled(y){if(y.deltaY===0||y.shiftKey)return 0;let b=this._applyScrollModifier(y.deltaY,y);return y.deltaMode===WheelEvent.DOM_DELTA_LINE?b*=this._currentRowHeight:y.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(b*=this._currentRowHeight*this._bufferService.rows),b}getBufferElements(y,b){var k;let u,w="";const x=[],E=b??this._bufferService.buffer.lines.length,T=this._bufferService.buffer.lines;for(let D=y;D<E;D++){const B=T.get(D);if(!B)continue;const A=(k=T.get(D+1))==null?void 0:k.isWrapped;if(w+=B.translateToString(!A),!A||D===T.length-1){const O=document.createElement("div");O.textContent=w,x.push(O),w.length>0&&(u=O),w=""}}return{bufferElements:x,cursorElement:u}}getLinesScrolled(y){if(y.deltaY===0||y.shiftKey)return 0;let b=this._applyScrollModifier(y.deltaY,y);return y.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(b/=this._currentRowHeight+0,this._wheelPartialScroll+=b,b=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):y.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(b*=this._bufferService.rows),b}_applyScrollModifier(y,b){const u=this._optionsService.rawOptions.fastScrollModifier;return u==="alt"&&b.altKey||u==="ctrl"&&b.ctrlKey||u==="shift"&&b.shiftKey?y*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:y*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(y){this._lastTouchY=y.touches[0].pageY}handleTouchMove(y){const b=this._lastTouchY-y.touches[0].pageY;return this._lastTouchY=y.touches[0].pageY,b!==0&&(this._viewportElement.scrollTop+=b,this._bubbleScroll(y,b))}};s.Viewport=C=c([d(2,S.IBufferService),d(3,S.IOptionsService),d(4,g.ICharSizeService),d(5,g.IRenderService),d(6,g.ICoreBrowserService),d(7,g.IThemeService)],C)},3107:function(a,s,l){var c=this&&this.__decorate||function(S,C,y,b){var u,w=arguments.length,x=w<3?C:b===null?b=Object.getOwnPropertyDescriptor(C,y):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(S,C,y,b);else for(var E=S.length-1;E>=0;E--)(u=S[E])&&(x=(w<3?u(x):w>3?u(C,y,x):u(C,y))||x);return w>3&&x&&Object.defineProperty(C,y,x),x},d=this&&this.__param||function(S,C){return function(y,b){C(y,b,S)}};Object.defineProperty(s,"__esModule",{value:!0}),s.BufferDecorationRenderer=void 0;const m=l(4725),g=l(844),v=l(2585);let _=s.BufferDecorationRenderer=class extends g.Disposable{constructor(S,C,y,b,u){super(),this._screenElement=S,this._bufferService=C,this._coreBrowserService=y,this._decorationService=b,this._renderService=u,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(w=>this._removeDecoration(w))),this.register((0,g.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const S of this._decorationService.decorations)this._renderDecoration(S);this._dimensionsChanged=!1}_renderDecoration(S){this._refreshStyle(S),this._dimensionsChanged&&this._refreshXPosition(S)}_createElement(S){var b;const C=this._coreBrowserService.mainDocument.createElement("div");C.classList.add("xterm-decoration"),C.classList.toggle("xterm-decoration-top-layer",((b=S==null?void 0:S.options)==null?void 0:b.layer)==="top"),C.style.width=`${Math.round((S.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,C.style.height=(S.options.height||1)*this._renderService.dimensions.css.cell.height+"px",C.style.top=(S.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",C.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const y=S.options.x??0;return y&&y>this._bufferService.cols&&(C.style.display="none"),this._refreshXPosition(S,C),C}_refreshStyle(S){const C=S.marker.line-this._bufferService.buffers.active.ydisp;if(C<0||C>=this._bufferService.rows)S.element&&(S.element.style.display="none",S.onRenderEmitter.fire(S.element));else{let y=this._decorationElements.get(S);y||(y=this._createElement(S),S.element=y,this._decorationElements.set(S,y),this._container.appendChild(y),S.onDispose(()=>{this._decorationElements.delete(S),y.remove()})),y.style.top=C*this._renderService.dimensions.css.cell.height+"px",y.style.display=this._altBufferIsActive?"none":"block",S.onRenderEmitter.fire(y)}}_refreshXPosition(S,C=S.element){if(!C)return;const y=S.options.x??0;(S.options.anchor||"left")==="right"?C.style.right=y?y*this._renderService.dimensions.css.cell.width+"px":"":C.style.left=y?y*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(S){var C;(C=this._decorationElements.get(S))==null||C.remove(),this._decorationElements.delete(S),S.dispose()}};s.BufferDecorationRenderer=_=c([d(1,v.IBufferService),d(2,m.ICoreBrowserService),d(3,v.IDecorationService),d(4,m.IRenderService)],_)},5871:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorZoneStore=void 0,s.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(l){if(l.options.overviewRulerOptions){for(const c of this._zones)if(c.color===l.options.overviewRulerOptions.color&&c.position===l.options.overviewRulerOptions.position){if(this._lineIntersectsZone(c,l.marker.line))return;if(this._lineAdjacentToZone(c,l.marker.line,l.options.overviewRulerOptions.position))return void this._addLineToZone(c,l.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=l.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=l.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=l.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=l.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:l.options.overviewRulerOptions.color,position:l.options.overviewRulerOptions.position,startBufferLine:l.marker.line,endBufferLine:l.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(l){this._linePadding=l}_lineIntersectsZone(l,c){return c>=l.startBufferLine&&c<=l.endBufferLine}_lineAdjacentToZone(l,c,d){return c>=l.startBufferLine-this._linePadding[d||"full"]&&c<=l.endBufferLine+this._linePadding[d||"full"]}_addLineToZone(l,c){l.startBufferLine=Math.min(l.startBufferLine,c),l.endBufferLine=Math.max(l.endBufferLine,c)}}},5744:function(a,s,l){var c=this&&this.__decorate||function(u,w,x,E){var T,k=arguments.length,D=k<3?w:E===null?E=Object.getOwnPropertyDescriptor(w,x):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(u,w,x,E);else for(var B=u.length-1;B>=0;B--)(T=u[B])&&(D=(k<3?T(D):k>3?T(w,x,D):T(w,x))||D);return k>3&&D&&Object.defineProperty(w,x,D),D},d=this&&this.__param||function(u,w){return function(x,E){w(x,E,u)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OverviewRulerRenderer=void 0;const m=l(5871),g=l(4725),v=l(844),_=l(2585),S={full:0,left:0,center:0,right:0},C={full:0,left:0,center:0,right:0},y={full:0,left:0,center:0,right:0};let b=s.OverviewRulerRenderer=class extends v.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(u,w,x,E,T,k,D){var A;super(),this._viewportElement=u,this._screenElement=w,this._bufferService=x,this._decorationService=E,this._renderService=T,this._optionsService=k,this._coreBrowserService=D,this._colorZoneStore=new m.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(A=this._viewportElement.parentElement)==null||A.insertBefore(this._canvas,this._viewportElement);const B=this._canvas.getContext("2d");if(!B)throw new Error("Ctx cannot be null");this._ctx=B,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,v.toDisposable)(()=>{var O;(O=this._canvas)==null||O.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const u=Math.floor(this._canvas.width/3),w=Math.ceil(this._canvas.width/3);C.full=this._canvas.width,C.left=u,C.center=w,C.right=u,this._refreshDrawHeightConstants(),y.full=0,y.left=0,y.center=C.left,y.right=C.left+C.center}_refreshDrawHeightConstants(){S.full=Math.round(2*this._coreBrowserService.dpr);const u=this._canvas.height/this._bufferService.buffer.lines.length,w=Math.round(Math.max(Math.min(u,12),6)*this._coreBrowserService.dpr);S.left=w,S.center=w,S.right=w}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*S.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*S.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*S.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*S.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const w of this._decorationService.decorations)this._colorZoneStore.addDecoration(w);this._ctx.lineWidth=1;const u=this._colorZoneStore.zones;for(const w of u)w.position!=="full"&&this._renderColorZone(w);for(const w of u)w.position==="full"&&this._renderColorZone(w);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(u){this._ctx.fillStyle=u.color,this._ctx.fillRect(y[u.position||"full"],Math.round((this._canvas.height-1)*(u.startBufferLine/this._bufferService.buffers.active.lines.length)-S[u.position||"full"]/2),C[u.position||"full"],Math.round((this._canvas.height-1)*((u.endBufferLine-u.startBufferLine)/this._bufferService.buffers.active.lines.length)+S[u.position||"full"]))}_queueRefresh(u,w){this._shouldUpdateDimensions=u||this._shouldUpdateDimensions,this._shouldUpdateAnchor=w||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};s.OverviewRulerRenderer=b=c([d(2,_.IBufferService),d(3,_.IDecorationService),d(4,g.IRenderService),d(5,_.IOptionsService),d(6,g.ICoreBrowserService)],b)},2950:function(a,s,l){var c=this&&this.__decorate||function(S,C,y,b){var u,w=arguments.length,x=w<3?C:b===null?b=Object.getOwnPropertyDescriptor(C,y):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(S,C,y,b);else for(var E=S.length-1;E>=0;E--)(u=S[E])&&(x=(w<3?u(x):w>3?u(C,y,x):u(C,y))||x);return w>3&&x&&Object.defineProperty(C,y,x),x},d=this&&this.__param||function(S,C){return function(y,b){C(y,b,S)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CompositionHelper=void 0;const m=l(4725),g=l(2585),v=l(2584);let _=s.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(S,C,y,b,u,w){this._textarea=S,this._compositionView=C,this._bufferService=y,this._optionsService=b,this._coreService=u,this._renderService=w,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(S){this._compositionView.textContent=S.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(S){if(this._isComposing||this._isSendingComposition){if(S.keyCode===229||S.keyCode===16||S.keyCode===17||S.keyCode===18)return!1;this._finalizeComposition(!1)}return S.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(S){if(this._compositionView.classList.remove("active"),this._isComposing=!1,S){const C={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let y;this._isSendingComposition=!1,C.start+=this._dataAlreadySent.length,y=this._isComposing?this._textarea.value.substring(C.start,C.end):this._textarea.value.substring(C.start),y.length>0&&this._coreService.triggerDataEvent(y,!0)}},0)}else{this._isSendingComposition=!1;const C=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(C,!0)}}_handleAnyTextareaChanges(){const S=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const C=this._textarea.value,y=C.replace(S,"");this._dataAlreadySent=y,C.length>S.length?this._coreService.triggerDataEvent(y,!0):C.length<S.length?this._coreService.triggerDataEvent(`${v.C0.DEL}`,!0):C.length===S.length&&C!==S&&this._coreService.triggerDataEvent(C,!0)}},0)}updateCompositionElements(S){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const C=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),y=this._renderService.dimensions.css.cell.height,b=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,u=C*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=u+"px",this._compositionView.style.top=b+"px",this._compositionView.style.height=y+"px",this._compositionView.style.lineHeight=y+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const w=this._compositionView.getBoundingClientRect();this._textarea.style.left=u+"px",this._textarea.style.top=b+"px",this._textarea.style.width=Math.max(w.width,1)+"px",this._textarea.style.height=Math.max(w.height,1)+"px",this._textarea.style.lineHeight=w.height+"px"}S||setTimeout(()=>this.updateCompositionElements(!0),0)}}};s.CompositionHelper=_=c([d(2,g.IBufferService),d(3,g.IOptionsService),d(4,g.ICoreService),d(5,m.IRenderService)],_)},9806:(a,s)=>{function l(c,d,m){const g=m.getBoundingClientRect(),v=c.getComputedStyle(m),_=parseInt(v.getPropertyValue("padding-left")),S=parseInt(v.getPropertyValue("padding-top"));return[d.clientX-g.left-_,d.clientY-g.top-S]}Object.defineProperty(s,"__esModule",{value:!0}),s.getCoords=s.getCoordsRelativeToElement=void 0,s.getCoordsRelativeToElement=l,s.getCoords=function(c,d,m,g,v,_,S,C,y){if(!_)return;const b=l(c,d,m);return b?(b[0]=Math.ceil((b[0]+(y?S/2:0))/S),b[1]=Math.ceil(b[1]/C),b[0]=Math.min(Math.max(b[0],1),g+(y?1:0)),b[1]=Math.min(Math.max(b[1],1),v),b):void 0}},9504:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.moveToCellSequence=void 0;const c=l(2584);function d(C,y,b,u){const w=C-m(C,b),x=y-m(y,b),E=Math.abs(w-x)-function(T,k,D){let B=0;const A=T-m(T,D),O=k-m(k,D);for(let V=0;V<Math.abs(A-O);V++){const H=g(T,k)==="A"?-1:1,q=D.buffer.lines.get(A+H*V);q!=null&&q.isWrapped&&B++}return B}(C,y,b);return S(E,_(g(C,y),u))}function m(C,y){let b=0,u=y.buffer.lines.get(C),w=u==null?void 0:u.isWrapped;for(;w&&C>=0&&C<y.rows;)b++,u=y.buffer.lines.get(--C),w=u==null?void 0:u.isWrapped;return b}function g(C,y){return C>y?"A":"B"}function v(C,y,b,u,w,x){let E=C,T=y,k="";for(;E!==b||T!==u;)E+=w?1:-1,w&&E>x.cols-1?(k+=x.buffer.translateBufferLineToString(T,!1,C,E),E=0,C=0,T++):!w&&E<0&&(k+=x.buffer.translateBufferLineToString(T,!1,0,C+1),E=x.cols-1,C=E,T--);return k+x.buffer.translateBufferLineToString(T,!1,C,E)}function _(C,y){const b=y?"O":"[";return c.C0.ESC+b+C}function S(C,y){C=Math.floor(C);let b="";for(let u=0;u<C;u++)b+=y;return b}s.moveToCellSequence=function(C,y,b,u){const w=b.buffer.x,x=b.buffer.y;if(!b.buffer.hasScrollback)return function(k,D,B,A,O,V){return d(D,A,O,V).length===0?"":S(v(k,D,k,D-m(D,O),!1,O).length,_("D",V))}(w,x,0,y,b,u)+d(x,y,b,u)+function(k,D,B,A,O,V){let H;H=d(D,A,O,V).length>0?A-m(A,O):D;const q=A,K=function(Q,X,N,I,U,F){let ee;return ee=d(N,I,U,F).length>0?I-m(I,U):X,Q<N&&ee<=I||Q>=N&&ee<I?"C":"D"}(k,D,B,A,O,V);return S(v(k,H,B,q,K==="C",O).length,_(K,V))}(w,x,C,y,b,u);let E;if(x===y)return E=w>C?"D":"C",S(Math.abs(w-C),_(E,u));E=x>y?"D":"C";const T=Math.abs(x-y);return S(function(k,D){return D.cols-k}(x>y?C:w,b)+(T-1)*b.cols+1+((x>y?w:C)-1),_(E,u))}},1296:function(a,s,l){var c=this&&this.__decorate||function(V,H,q,K){var Q,X=arguments.length,N=X<3?H:K===null?K=Object.getOwnPropertyDescriptor(H,q):K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(V,H,q,K);else for(var I=V.length-1;I>=0;I--)(Q=V[I])&&(N=(X<3?Q(N):X>3?Q(H,q,N):Q(H,q))||N);return X>3&&N&&Object.defineProperty(H,q,N),N},d=this&&this.__param||function(V,H){return function(q,K){H(q,K,V)}};Object.defineProperty(s,"__esModule",{value:!0}),s.DomRenderer=void 0;const m=l(3787),g=l(2550),v=l(2223),_=l(6171),S=l(6052),C=l(4725),y=l(8055),b=l(8460),u=l(844),w=l(2585),x="xterm-dom-renderer-owner-",E="xterm-rows",T="xterm-fg-",k="xterm-bg-",D="xterm-focus",B="xterm-selection";let A=1,O=s.DomRenderer=class extends u.Disposable{constructor(V,H,q,K,Q,X,N,I,U,F,ee,ue,he){super(),this._terminal=V,this._document=H,this._element=q,this._screenElement=K,this._viewportElement=Q,this._helperContainer=X,this._linkifier2=N,this._charSizeService=U,this._optionsService=F,this._bufferService=ee,this._coreBrowserService=ue,this._themeService=he,this._terminalClass=A++,this._rowElements=[],this._selectionRenderModel=(0,S.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new b.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(E),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(B),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,_.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(ve=>this._injectCss(ve))),this._injectCss(this._themeService.colors),this._rowFactory=I.createInstance(m.DomRendererRowFactory,document),this._element.classList.add(x+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(ve=>this._handleLinkHover(ve))),this.register(this._linkifier2.onHideLinkUnderline(ve=>this._handleLinkLeave(ve))),this.register((0,u.toDisposable)(()=>{this._element.classList.remove(x+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new g.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const V=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*V,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*V),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/V),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/V),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const q of this._rowElements)q.style.width=`${this.dimensions.css.canvas.width}px`,q.style.height=`${this.dimensions.css.cell.height}px`,q.style.lineHeight=`${this.dimensions.css.cell.height}px`,q.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const H=`${this._terminalSelector} .${E} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=H,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(V){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let H=`${this._terminalSelector} .${E} { color: ${V.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;H+=`${this._terminalSelector} .${E} .xterm-dim { color: ${y.color.multiplyOpacity(V.foreground,.5).css};}`,H+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const q=`blink_underline_${this._terminalClass}`,K=`blink_bar_${this._terminalClass}`,Q=`blink_block_${this._terminalClass}`;H+=`@keyframes ${q} { 50% {  border-bottom-style: hidden; }}`,H+=`@keyframes ${K} { 50% {  box-shadow: none; }}`,H+=`@keyframes ${Q} { 0% {  background-color: ${V.cursor.css};  color: ${V.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${V.cursor.css}; }}`,H+=`${this._terminalSelector} .${E}.${D} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${q} 1s step-end infinite;}${this._terminalSelector} .${E}.${D} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${K} 1s step-end infinite;}${this._terminalSelector} .${E}.${D} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${Q} 1s step-end infinite;}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-block { background-color: ${V.cursor.css}; color: ${V.cursorAccent.css};}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${V.cursor.css} !important; color: ${V.cursorAccent.css} !important;}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${V.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${V.cursor.css} inset;}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${V.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,H+=`${this._terminalSelector} .${B} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${B} div { position: absolute; background-color: ${V.selectionBackgroundOpaque.css};}${this._terminalSelector} .${B} div { position: absolute; background-color: ${V.selectionInactiveBackgroundOpaque.css};}`;for(const[X,N]of V.ansi.entries())H+=`${this._terminalSelector} .${T}${X} { color: ${N.css}; }${this._terminalSelector} .${T}${X}.xterm-dim { color: ${y.color.multiplyOpacity(N,.5).css}; }${this._terminalSelector} .${k}${X} { background-color: ${N.css}; }`;H+=`${this._terminalSelector} .${T}${v.INVERTED_DEFAULT_COLOR} { color: ${y.color.opaque(V.background).css}; }${this._terminalSelector} .${T}${v.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${y.color.multiplyOpacity(y.color.opaque(V.background),.5).css}; }${this._terminalSelector} .${k}${v.INVERTED_DEFAULT_COLOR} { background-color: ${V.foreground.css}; }`,this._themeStyleElement.textContent=H}_setDefaultSpacing(){const V=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${V}px`,this._rowFactory.defaultSpacing=V}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(V,H){for(let q=this._rowElements.length;q<=H;q++){const K=this._document.createElement("div");this._rowContainer.appendChild(K),this._rowElements.push(K)}for(;this._rowElements.length>H;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(V,H){this._refreshRowElements(V,H),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(D),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(D),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(V,H,q){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(V,H,q),this.renderRows(0,this._bufferService.rows-1),!V||!H)return;this._selectionRenderModel.update(this._terminal,V,H,q);const K=this._selectionRenderModel.viewportStartRow,Q=this._selectionRenderModel.viewportEndRow,X=this._selectionRenderModel.viewportCappedStartRow,N=this._selectionRenderModel.viewportCappedEndRow;if(X>=this._bufferService.rows||N<0)return;const I=this._document.createDocumentFragment();if(q){const U=V[0]>H[0];I.appendChild(this._createSelectionElement(X,U?H[0]:V[0],U?V[0]:H[0],N-X+1))}else{const U=K===X?V[0]:0,F=X===Q?H[0]:this._bufferService.cols;I.appendChild(this._createSelectionElement(X,U,F));const ee=N-X-1;if(I.appendChild(this._createSelectionElement(X+1,0,this._bufferService.cols,ee)),X!==N){const ue=Q===N?H[0]:this._bufferService.cols;I.appendChild(this._createSelectionElement(N,0,ue))}}this._selectionContainer.appendChild(I)}_createSelectionElement(V,H,q,K=1){const Q=this._document.createElement("div"),X=H*this.dimensions.css.cell.width;let N=this.dimensions.css.cell.width*(q-H);return X+N>this.dimensions.css.canvas.width&&(N=this.dimensions.css.canvas.width-X),Q.style.height=K*this.dimensions.css.cell.height+"px",Q.style.top=V*this.dimensions.css.cell.height+"px",Q.style.left=`${X}px`,Q.style.width=`${N}px`,Q}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const V of this._rowElements)V.replaceChildren()}renderRows(V,H){const q=this._bufferService.buffer,K=q.ybase+q.y,Q=Math.min(q.x,this._bufferService.cols-1),X=this._optionsService.rawOptions.cursorBlink,N=this._optionsService.rawOptions.cursorStyle,I=this._optionsService.rawOptions.cursorInactiveStyle;for(let U=V;U<=H;U++){const F=U+q.ydisp,ee=this._rowElements[U],ue=q.lines.get(F);if(!ee||!ue)break;ee.replaceChildren(...this._rowFactory.createRow(ue,F,F===K,N,I,Q,X,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${x}${this._terminalClass}`}_handleLinkHover(V){this._setCellUnderline(V.x1,V.x2,V.y1,V.y2,V.cols,!0)}_handleLinkLeave(V){this._setCellUnderline(V.x1,V.x2,V.y1,V.y2,V.cols,!1)}_setCellUnderline(V,H,q,K,Q,X){q<0&&(V=0),K<0&&(H=0);const N=this._bufferService.rows-1;q=Math.max(Math.min(q,N),0),K=Math.max(Math.min(K,N),0),Q=Math.min(Q,this._bufferService.cols);const I=this._bufferService.buffer,U=I.ybase+I.y,F=Math.min(I.x,Q-1),ee=this._optionsService.rawOptions.cursorBlink,ue=this._optionsService.rawOptions.cursorStyle,he=this._optionsService.rawOptions.cursorInactiveStyle;for(let ve=q;ve<=K;++ve){const j=ve+I.ydisp,M=this._rowElements[ve],ne=I.lines.get(j);if(!M||!ne)break;M.replaceChildren(...this._rowFactory.createRow(ne,j,j===U,ue,he,F,ee,this.dimensions.css.cell.width,this._widthCache,X?ve===q?V:0:-1,X?(ve===K?H:Q)-1:-1))}}};s.DomRenderer=O=c([d(7,w.IInstantiationService),d(8,C.ICharSizeService),d(9,w.IOptionsService),d(10,w.IBufferService),d(11,C.ICoreBrowserService),d(12,C.IThemeService)],O)},3787:function(a,s,l){var c=this&&this.__decorate||function(E,T,k,D){var B,A=arguments.length,O=A<3?T:D===null?D=Object.getOwnPropertyDescriptor(T,k):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(E,T,k,D);else for(var V=E.length-1;V>=0;V--)(B=E[V])&&(O=(A<3?B(O):A>3?B(T,k,O):B(T,k))||O);return A>3&&O&&Object.defineProperty(T,k,O),O},d=this&&this.__param||function(E,T){return function(k,D){T(k,D,E)}};Object.defineProperty(s,"__esModule",{value:!0}),s.DomRendererRowFactory=void 0;const m=l(2223),g=l(643),v=l(511),_=l(2585),S=l(8055),C=l(4725),y=l(4269),b=l(6171),u=l(3734);let w=s.DomRendererRowFactory=class{constructor(E,T,k,D,B,A,O){this._document=E,this._characterJoinerService=T,this._optionsService=k,this._coreBrowserService=D,this._coreService=B,this._decorationService=A,this._themeService=O,this._workCell=new v.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(E,T,k){this._selectionStart=E,this._selectionEnd=T,this._columnSelectMode=k}createRow(E,T,k,D,B,A,O,V,H,q,K){const Q=[],X=this._characterJoinerService.getJoinedCharacters(T),N=this._themeService.colors;let I,U=E.getNoBgTrimmedLength();k&&U<A+1&&(U=A+1);let F=0,ee="",ue=0,he=0,ve=0,j=!1,M=0,ne=!1,Y=0;const de=[],L=q!==-1&&K!==-1;for(let W=0;W<U;W++){E.loadCell(W,this._workCell);let J=this._workCell.getWidth();if(J===0)continue;let ae=!1,me=W,oe=this._workCell;if(X.length>0&&W===X[0][0]){ae=!0;const fe=X.shift();oe=new y.JoinedCellData(this._workCell,E.translateToString(!0,fe[0],fe[1]),fe[1]-fe[0]),me=fe[1]-1,J=oe.getWidth()}const _e=this._isCellInSelection(W,T),pe=k&&W===A,se=L&&W>=q&&W<=K;let ce=!1;this._decorationService.forEachDecorationAtCell(W,T,void 0,fe=>{ce=!0});let ye=oe.getChars()||g.WHITESPACE_CELL_CHAR;if(ye===" "&&(oe.isUnderline()||oe.isOverline())&&(ye=""),Y=J*V-H.get(ye,oe.isBold(),oe.isItalic()),I){if(F&&(_e&&ne||!_e&&!ne&&oe.bg===ue)&&(_e&&ne&&N.selectionForeground||oe.fg===he)&&oe.extended.ext===ve&&se===j&&Y===M&&!pe&&!ae&&!ce){oe.isInvisible()?ee+=g.WHITESPACE_CELL_CHAR:ee+=ye,F++;continue}F&&(I.textContent=ee),I=this._document.createElement("span"),F=0,ee=""}else I=this._document.createElement("span");if(ue=oe.bg,he=oe.fg,ve=oe.extended.ext,j=se,M=Y,ne=_e,ae&&A>=W&&A<=me&&(A=W),!this._coreService.isCursorHidden&&pe&&this._coreService.isCursorInitialized){if(de.push("xterm-cursor"),this._coreBrowserService.isFocused)O&&de.push("xterm-cursor-blink"),de.push(D==="bar"?"xterm-cursor-bar":D==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(B)switch(B){case"outline":de.push("xterm-cursor-outline");break;case"block":de.push("xterm-cursor-block");break;case"bar":de.push("xterm-cursor-bar");break;case"underline":de.push("xterm-cursor-underline")}}if(oe.isBold()&&de.push("xterm-bold"),oe.isItalic()&&de.push("xterm-italic"),oe.isDim()&&de.push("xterm-dim"),ee=oe.isInvisible()?g.WHITESPACE_CELL_CHAR:oe.getChars()||g.WHITESPACE_CELL_CHAR,oe.isUnderline()&&(de.push(`xterm-underline-${oe.extended.underlineStyle}`),ee===" "&&(ee=""),!oe.isUnderlineColorDefault()))if(oe.isUnderlineColorRGB())I.style.textDecorationColor=`rgb(${u.AttributeData.toColorRGB(oe.getUnderlineColor()).join(",")})`;else{let fe=oe.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&oe.isBold()&&fe<8&&(fe+=8),I.style.textDecorationColor=N.ansi[fe].css}oe.isOverline()&&(de.push("xterm-overline"),ee===" "&&(ee="")),oe.isStrikethrough()&&de.push("xterm-strikethrough"),se&&(I.style.textDecoration="underline");let be=oe.getFgColor(),xe=oe.getFgColorMode(),ke=oe.getBgColor(),Te=oe.getBgColorMode();const z=!!oe.isInverse();if(z){const fe=be;be=ke,ke=fe;const ge=xe;xe=Te,Te=ge}let R,$,G,le=!1;switch(this._decorationService.forEachDecorationAtCell(W,T,void 0,fe=>{fe.options.layer!=="top"&&le||(fe.backgroundColorRGB&&(Te=50331648,ke=fe.backgroundColorRGB.rgba>>8&16777215,R=fe.backgroundColorRGB),fe.foregroundColorRGB&&(xe=50331648,be=fe.foregroundColorRGB.rgba>>8&16777215,$=fe.foregroundColorRGB),le=fe.options.layer==="top")}),!le&&_e&&(R=this._coreBrowserService.isFocused?N.selectionBackgroundOpaque:N.selectionInactiveBackgroundOpaque,ke=R.rgba>>8&16777215,Te=50331648,le=!0,N.selectionForeground&&(xe=50331648,be=N.selectionForeground.rgba>>8&16777215,$=N.selectionForeground)),le&&de.push("xterm-decoration-top"),Te){case 16777216:case 33554432:G=N.ansi[ke],de.push(`xterm-bg-${ke}`);break;case 50331648:G=S.channels.toColor(ke>>16,ke>>8&255,255&ke),this._addStyle(I,`background-color:#${x((ke>>>0).toString(16),"0",6)}`);break;default:z?(G=N.foreground,de.push(`xterm-bg-${m.INVERTED_DEFAULT_COLOR}`)):G=N.background}switch(R||oe.isDim()&&(R=S.color.multiplyOpacity(G,.5)),xe){case 16777216:case 33554432:oe.isBold()&&be<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(be+=8),this._applyMinimumContrast(I,G,N.ansi[be],oe,R,void 0)||de.push(`xterm-fg-${be}`);break;case 50331648:const fe=S.channels.toColor(be>>16&255,be>>8&255,255&be);this._applyMinimumContrast(I,G,fe,oe,R,$)||this._addStyle(I,`color:#${x(be.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(I,G,N.foreground,oe,R,$)||z&&de.push(`xterm-fg-${m.INVERTED_DEFAULT_COLOR}`)}de.length&&(I.className=de.join(" "),de.length=0),pe||ae||ce?I.textContent=ee:F++,Y!==this.defaultSpacing&&(I.style.letterSpacing=`${Y}px`),Q.push(I),W=me}return I&&F&&(I.textContent=ee),Q}_applyMinimumContrast(E,T,k,D,B,A){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,b.treatGlyphAsBackgroundColor)(D.getCode()))return!1;const O=this._getContrastCache(D);let V;if(B||A||(V=O.getColor(T.rgba,k.rgba)),V===void 0){const H=this._optionsService.rawOptions.minimumContrastRatio/(D.isDim()?2:1);V=S.color.ensureContrastRatio(B||T,A||k,H),O.setColor((B||T).rgba,(A||k).rgba,V??null)}return!!V&&(this._addStyle(E,`color:${V.css}`),!0)}_getContrastCache(E){return E.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(E,T){E.setAttribute("style",`${E.getAttribute("style")||""}${T};`)}_isCellInSelection(E,T){const k=this._selectionStart,D=this._selectionEnd;return!(!k||!D)&&(this._columnSelectMode?k[0]<=D[0]?E>=k[0]&&T>=k[1]&&E<D[0]&&T<=D[1]:E<k[0]&&T>=k[1]&&E>=D[0]&&T<=D[1]:T>k[1]&&T<D[1]||k[1]===D[1]&&T===k[1]&&E>=k[0]&&E<D[0]||k[1]<D[1]&&T===D[1]&&E<D[0]||k[1]<D[1]&&T===k[1]&&E>=k[0])}};function x(E,T,k){for(;E.length<k;)E=T+E;return E}s.DomRendererRowFactory=w=c([d(1,C.ICharacterJoinerService),d(2,_.IOptionsService),d(3,C.ICoreBrowserService),d(4,_.ICoreService),d(5,_.IDecorationService),d(6,C.IThemeService)],w)},2550:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WidthCache=void 0,s.WidthCache=class{constructor(l,c){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=l.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const d=l.createElement("span");d.classList.add("xterm-char-measure-element");const m=l.createElement("span");m.classList.add("xterm-char-measure-element"),m.style.fontWeight="bold";const g=l.createElement("span");g.classList.add("xterm-char-measure-element"),g.style.fontStyle="italic";const v=l.createElement("span");v.classList.add("xterm-char-measure-element"),v.style.fontWeight="bold",v.style.fontStyle="italic",this._measureElements=[d,m,g,v],this._container.appendChild(d),this._container.appendChild(m),this._container.appendChild(g),this._container.appendChild(v),c.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(l,c,d,m){l===this._font&&c===this._fontSize&&d===this._weight&&m===this._weightBold||(this._font=l,this._fontSize=c,this._weight=d,this._weightBold=m,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${d}`,this._measureElements[1].style.fontWeight=`${m}`,this._measureElements[2].style.fontWeight=`${d}`,this._measureElements[3].style.fontWeight=`${m}`,this.clear())}get(l,c,d){let m=0;if(!c&&!d&&l.length===1&&(m=l.charCodeAt(0))<256){if(this._flat[m]!==-9999)return this._flat[m];const _=this._measure(l,0);return _>0&&(this._flat[m]=_),_}let g=l;c&&(g+="B"),d&&(g+="I");let v=this._holey.get(g);if(v===void 0){let _=0;c&&(_|=1),d&&(_|=2),v=this._measure(l,_),v>0&&this._holey.set(g,v)}return v}_measure(l,c){const d=this._measureElements[c];return d.textContent=l.repeat(32),d.offsetWidth/32}}},2223:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TEXT_BASELINE=s.DIM_OPACITY=s.INVERTED_DEFAULT_COLOR=void 0;const c=l(6114);s.INVERTED_DEFAULT_COLOR=257,s.DIM_OPACITY=.5,s.TEXT_BASELINE=c.isFirefox||c.isLegacyEdge?"bottom":"ideographic"},6171:(a,s)=>{function l(d){return 57508<=d&&d<=57558}function c(d){return d>=128512&&d<=128591||d>=127744&&d<=128511||d>=128640&&d<=128767||d>=9728&&d<=9983||d>=9984&&d<=10175||d>=65024&&d<=65039||d>=129280&&d<=129535||d>=127462&&d<=127487}Object.defineProperty(s,"__esModule",{value:!0}),s.computeNextVariantOffset=s.createRenderDimensions=s.treatGlyphAsBackgroundColor=s.allowRescaling=s.isEmoji=s.isRestrictedPowerlineGlyph=s.isPowerlineGlyph=s.throwIfFalsy=void 0,s.throwIfFalsy=function(d){if(!d)throw new Error("value must not be falsy");return d},s.isPowerlineGlyph=l,s.isRestrictedPowerlineGlyph=function(d){return 57520<=d&&d<=57527},s.isEmoji=c,s.allowRescaling=function(d,m,g,v){return m===1&&g>Math.ceil(1.5*v)&&d!==void 0&&d>255&&!c(d)&&!l(d)&&!function(_){return 57344<=_&&_<=63743}(d)},s.treatGlyphAsBackgroundColor=function(d){return l(d)||function(m){return 9472<=m&&m<=9631}(d)},s.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},s.computeNextVariantOffset=function(d,m,g=0){return(d-(2*Math.round(m)-g))%(2*Math.round(m))}},6052:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createSelectionRenderModel=void 0;class l{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(d,m,g,v=!1){if(this.selectionStart=m,this.selectionEnd=g,!m||!g||m[0]===g[0]&&m[1]===g[1])return void this.clear();const _=d.buffers.active.ydisp,S=m[1]-_,C=g[1]-_,y=Math.max(S,0),b=Math.min(C,d.rows-1);y>=d.rows||b<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=v,this.viewportStartRow=S,this.viewportEndRow=C,this.viewportCappedStartRow=y,this.viewportCappedEndRow=b,this.startCol=m[0],this.endCol=g[0])}isCellSelected(d,m,g){return!!this.hasSelection&&(g-=d.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?m>=this.startCol&&g>=this.viewportCappedStartRow&&m<this.endCol&&g<=this.viewportCappedEndRow:m<this.startCol&&g>=this.viewportCappedStartRow&&m>=this.endCol&&g<=this.viewportCappedEndRow:g>this.viewportStartRow&&g<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&g===this.viewportStartRow&&m>=this.startCol&&m<this.endCol||this.viewportStartRow<this.viewportEndRow&&g===this.viewportEndRow&&m<this.endCol||this.viewportStartRow<this.viewportEndRow&&g===this.viewportStartRow&&m>=this.startCol)}}s.createSelectionRenderModel=function(){return new l}},456:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SelectionModel=void 0,s.SelectionModel=class{constructor(l){this._bufferService=l,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?l%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)-1]:[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[l,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[Math.max(l,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const l=this.selectionStart,c=this.selectionEnd;return!(!l||!c)&&(l[1]>c[1]||l[1]===c[1]&&l[0]>c[0])}handleTrim(l){return this.selectionStart&&(this.selectionStart[1]-=l),this.selectionEnd&&(this.selectionEnd[1]-=l),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(a,s,l){var c=this&&this.__decorate||function(b,u,w,x){var E,T=arguments.length,k=T<3?u:x===null?x=Object.getOwnPropertyDescriptor(u,w):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(b,u,w,x);else for(var D=b.length-1;D>=0;D--)(E=b[D])&&(k=(T<3?E(k):T>3?E(u,w,k):E(u,w))||k);return T>3&&k&&Object.defineProperty(u,w,k),k},d=this&&this.__param||function(b,u){return function(w,x){u(w,x,b)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CharSizeService=void 0;const m=l(2585),g=l(8460),v=l(844);let _=s.CharSizeService=class extends v.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(b,u,w){super(),this._optionsService=w,this.width=0,this.height=0,this._onCharSizeChange=this.register(new g.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new y(this._optionsService))}catch{this._measureStrategy=this.register(new C(b,u,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const b=this._measureStrategy.measure();b.width===this.width&&b.height===this.height||(this.width=b.width,this.height=b.height,this._onCharSizeChange.fire())}};s.CharSizeService=_=c([d(2,m.IOptionsService)],_);class S extends v.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(u,w){u!==void 0&&u>0&&w!==void 0&&w>0&&(this._result.width=u,this._result.height=w)}}class C extends S{constructor(u,w,x){super(),this._document=u,this._parentElement=w,this._optionsService=x,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class y extends S{constructor(u){super(),this._optionsService=u,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const w=this._ctx.measureText("W");if(!("width"in w&&"fontBoundingBoxAscent"in w&&"fontBoundingBoxDescent"in w))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const u=this._ctx.measureText("W");return this._validateAndSet(u.width,u.fontBoundingBoxAscent+u.fontBoundingBoxDescent),this._result}}},4269:function(a,s,l){var c=this&&this.__decorate||function(y,b,u,w){var x,E=arguments.length,T=E<3?b:w===null?w=Object.getOwnPropertyDescriptor(b,u):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(y,b,u,w);else for(var k=y.length-1;k>=0;k--)(x=y[k])&&(T=(E<3?x(T):E>3?x(b,u,T):x(b,u))||T);return E>3&&T&&Object.defineProperty(b,u,T),T},d=this&&this.__param||function(y,b){return function(u,w){b(u,w,y)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CharacterJoinerService=s.JoinedCellData=void 0;const m=l(3734),g=l(643),v=l(511),_=l(2585);class S extends m.AttributeData{constructor(b,u,w){super(),this.content=0,this.combinedData="",this.fg=b.fg,this.bg=b.bg,this.combinedData=u,this._width=w}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(b){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}s.JoinedCellData=S;let C=s.CharacterJoinerService=class Nt{constructor(b){this._bufferService=b,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new v.CellData}register(b){const u={id:this._nextCharacterJoinerId++,handler:b};return this._characterJoiners.push(u),u.id}deregister(b){for(let u=0;u<this._characterJoiners.length;u++)if(this._characterJoiners[u].id===b)return this._characterJoiners.splice(u,1),!0;return!1}getJoinedCharacters(b){if(this._characterJoiners.length===0)return[];const u=this._bufferService.buffer.lines.get(b);if(!u||u.length===0)return[];const w=[],x=u.translateToString(!0);let E=0,T=0,k=0,D=u.getFg(0),B=u.getBg(0);for(let A=0;A<u.getTrimmedLength();A++)if(u.loadCell(A,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==D||this._workCell.bg!==B){if(A-E>1){const O=this._getJoinedRanges(x,k,T,u,E);for(let V=0;V<O.length;V++)w.push(O[V])}E=A,k=T,D=this._workCell.fg,B=this._workCell.bg}T+=this._workCell.getChars().length||g.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-E>1){const A=this._getJoinedRanges(x,k,T,u,E);for(let O=0;O<A.length;O++)w.push(A[O])}return w}_getJoinedRanges(b,u,w,x,E){const T=b.substring(u,w);let k=[];try{k=this._characterJoiners[0].handler(T)}catch(D){console.error(D)}for(let D=1;D<this._characterJoiners.length;D++)try{const B=this._characterJoiners[D].handler(T);for(let A=0;A<B.length;A++)Nt._mergeRanges(k,B[A])}catch(B){console.error(B)}return this._stringRangesToCellRanges(k,x,E),k}_stringRangesToCellRanges(b,u,w){let x=0,E=!1,T=0,k=b[x];if(k){for(let D=w;D<this._bufferService.cols;D++){const B=u.getWidth(D),A=u.getString(D).length||g.WHITESPACE_CELL_CHAR.length;if(B!==0){if(!E&&k[0]<=T&&(k[0]=D,E=!0),k[1]<=T){if(k[1]=D,k=b[++x],!k)break;k[0]<=T?(k[0]=D,E=!0):E=!1}T+=A}}k&&(k[1]=this._bufferService.cols)}}static _mergeRanges(b,u){let w=!1;for(let x=0;x<b.length;x++){const E=b[x];if(w){if(u[1]<=E[0])return b[x-1][1]=u[1],b;if(u[1]<=E[1])return b[x-1][1]=Math.max(u[1],E[1]),b.splice(x,1),b;b.splice(x,1),x--}else{if(u[1]<=E[0])return b.splice(x,0,u),b;if(u[1]<=E[1])return E[0]=Math.min(u[0],E[0]),b;u[0]<E[1]&&(E[0]=Math.min(u[0],E[0]),w=!0)}}return w?b[b.length-1][1]=u[1]:b.push(u),b}};s.CharacterJoinerService=C=c([d(0,_.IBufferService)],C)},5114:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CoreBrowserService=void 0;const c=l(844),d=l(8460),m=l(3656);class g extends c.Disposable{constructor(S,C,y){super(),this._textarea=S,this._window=C,this.mainDocument=y,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new v(this._window),this._onDprChange=this.register(new d.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new d.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange(b=>this._screenDprMonitor.setWindow(b))),this.register((0,d.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get window(){return this._window}set window(S){this._window!==S&&(this._window=S,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}s.CoreBrowserService=g;class v extends c.Disposable{constructor(S){super(),this._parentWindow=S,this._windowResizeListener=this.register(new c.MutableDisposable),this._onDprChange=this.register(new d.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,c.toDisposable)(()=>this.clearListener()))}setWindow(S){this._parentWindow=S,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,m.addDisposableDomListener)(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){var S;this._outerListener&&((S=this._resolutionMediaMatchList)==null||S.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LinkProviderService=void 0;const c=l(844);class d extends c.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,c.toDisposable)(()=>this.linkProviders.length=0))}registerLinkProvider(g){return this.linkProviders.push(g),{dispose:()=>{const v=this.linkProviders.indexOf(g);v!==-1&&this.linkProviders.splice(v,1)}}}}s.LinkProviderService=d},8934:function(a,s,l){var c=this&&this.__decorate||function(_,S,C,y){var b,u=arguments.length,w=u<3?S:y===null?y=Object.getOwnPropertyDescriptor(S,C):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(_,S,C,y);else for(var x=_.length-1;x>=0;x--)(b=_[x])&&(w=(u<3?b(w):u>3?b(S,C,w):b(S,C))||w);return u>3&&w&&Object.defineProperty(S,C,w),w},d=this&&this.__param||function(_,S){return function(C,y){S(C,y,_)}};Object.defineProperty(s,"__esModule",{value:!0}),s.MouseService=void 0;const m=l(4725),g=l(9806);let v=s.MouseService=class{constructor(_,S){this._renderService=_,this._charSizeService=S}getCoords(_,S,C,y,b){return(0,g.getCoords)(window,_,S,C,y,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,b)}getMouseReportCoords(_,S){const C=(0,g.getCoordsRelativeToElement)(window,_,S);if(this._charSizeService.hasValidSize)return C[0]=Math.min(Math.max(C[0],0),this._renderService.dimensions.css.canvas.width-1),C[1]=Math.min(Math.max(C[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(C[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(C[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(C[0]),y:Math.floor(C[1])}}};s.MouseService=v=c([d(0,m.IRenderService),d(1,m.ICharSizeService)],v)},3230:function(a,s,l){var c=this&&this.__decorate||function(b,u,w,x){var E,T=arguments.length,k=T<3?u:x===null?x=Object.getOwnPropertyDescriptor(u,w):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(b,u,w,x);else for(var D=b.length-1;D>=0;D--)(E=b[D])&&(k=(T<3?E(k):T>3?E(u,w,k):E(u,w))||k);return T>3&&k&&Object.defineProperty(u,w,k),k},d=this&&this.__param||function(b,u){return function(w,x){u(w,x,b)}};Object.defineProperty(s,"__esModule",{value:!0}),s.RenderService=void 0;const m=l(6193),g=l(4725),v=l(8460),_=l(844),S=l(7226),C=l(2585);let y=s.RenderService=class extends _.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(b,u,w,x,E,T,k,D){super(),this._rowCount=b,this._charSizeService=x,this._renderer=this.register(new _.MutableDisposable),this._pausedResizeTask=new S.DebouncedIdleTask,this._observerDisposable=this.register(new _.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new v.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new v.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new v.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new v.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new m.RenderDebouncer((B,A)=>this._renderRows(B,A),k),this.register(this._renderDebouncer),this.register(k.onDprChange(()=>this.handleDevicePixelRatioChange())),this.register(T.onResize(()=>this._fullRefresh())),this.register(T.buffers.onBufferActivate(()=>{var B;return(B=this._renderer.value)==null?void 0:B.clear()})),this.register(w.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(E.onDecorationRegistered(()=>this._fullRefresh())),this.register(E.onDecorationRemoved(()=>this._fullRefresh())),this.register(w.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(T.cols,T.rows),this._fullRefresh()})),this.register(w.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(T.buffer.y,T.buffer.y,!0))),this.register(D.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(k.window,u),this.register(k.onWindowChange(B=>this._registerIntersectionObserver(B,u)))}_registerIntersectionObserver(b,u){if("IntersectionObserver"in b){const w=new b.IntersectionObserver(x=>this._handleIntersectionChange(x[x.length-1]),{threshold:0});w.observe(u),this._observerDisposable.value=(0,_.toDisposable)(()=>w.disconnect())}}_handleIntersectionChange(b){this._isPaused=b.isIntersecting===void 0?b.intersectionRatio===0:!b.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(b,u,w=!1){this._isPaused?this._needsFullRefresh=!0:(w||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(b,u,this._rowCount))}_renderRows(b,u){this._renderer.value&&(b=Math.min(b,this._rowCount-1),u=Math.min(u,this._rowCount-1),this._renderer.value.renderRows(b,u),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:b,end:u}),this._onRender.fire({start:b,end:u}),this._isNextRenderRedrawOnly=!0)}resize(b,u){this._rowCount=u,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(b){this._renderer.value=b,this._renderer.value&&(this._renderer.value.onRequestRedraw(u=>this.refreshRows(u.start,u.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(b){return this._renderDebouncer.addRefreshCallback(b)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var b,u;this._renderer.value&&((u=(b=this._renderer.value).clearTextureAtlas)==null||u.call(b),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(b,u){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>{var w;return(w=this._renderer.value)==null?void 0:w.handleResize(b,u)}):this._renderer.value.handleResize(b,u),this._fullRefresh())}handleCharSizeChanged(){var b;(b=this._renderer.value)==null||b.handleCharSizeChanged()}handleBlur(){var b;(b=this._renderer.value)==null||b.handleBlur()}handleFocus(){var b;(b=this._renderer.value)==null||b.handleFocus()}handleSelectionChanged(b,u,w){var x;this._selectionState.start=b,this._selectionState.end=u,this._selectionState.columnSelectMode=w,(x=this._renderer.value)==null||x.handleSelectionChanged(b,u,w)}handleCursorMove(){var b;(b=this._renderer.value)==null||b.handleCursorMove()}clear(){var b;(b=this._renderer.value)==null||b.clear()}};s.RenderService=y=c([d(2,C.IOptionsService),d(3,g.ICharSizeService),d(4,C.IDecorationService),d(5,C.IBufferService),d(6,g.ICoreBrowserService),d(7,g.IThemeService)],y)},9312:function(a,s,l){var c=this&&this.__decorate||function(k,D,B,A){var O,V=arguments.length,H=V<3?D:A===null?A=Object.getOwnPropertyDescriptor(D,B):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(k,D,B,A);else for(var q=k.length-1;q>=0;q--)(O=k[q])&&(H=(V<3?O(H):V>3?O(D,B,H):O(D,B))||H);return V>3&&H&&Object.defineProperty(D,B,H),H},d=this&&this.__param||function(k,D){return function(B,A){D(B,A,k)}};Object.defineProperty(s,"__esModule",{value:!0}),s.SelectionService=void 0;const m=l(9806),g=l(9504),v=l(456),_=l(4725),S=l(8460),C=l(844),y=l(6114),b=l(4841),u=l(511),w=l(2585),x="",E=new RegExp(x,"g");let T=s.SelectionService=class extends C.Disposable{constructor(k,D,B,A,O,V,H,q,K){super(),this._element=k,this._screenElement=D,this._linkifier=B,this._bufferService=A,this._coreService=O,this._mouseService=V,this._optionsService=H,this._renderService=q,this._coreBrowserService=K,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new u.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new S.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new S.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new S.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new S.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=Q=>this._handleMouseMove(Q),this._mouseUpListener=Q=>this._handleMouseUp(Q),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(Q=>this._handleTrim(Q)),this.register(this._bufferService.buffers.onBufferActivate(Q=>this._handleBufferActivate(Q))),this.enable(),this._model=new v.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,C.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const k=this._model.finalSelectionStart,D=this._model.finalSelectionEnd;return!(!k||!D||k[0]===D[0]&&k[1]===D[1])}get selectionText(){const k=this._model.finalSelectionStart,D=this._model.finalSelectionEnd;if(!k||!D)return"";const B=this._bufferService.buffer,A=[];if(this._activeSelectionMode===3){if(k[0]===D[0])return"";const O=k[0]<D[0]?k[0]:D[0],V=k[0]<D[0]?D[0]:k[0];for(let H=k[1];H<=D[1];H++){const q=B.translateBufferLineToString(H,!0,O,V);A.push(q)}}else{const O=k[1]===D[1]?D[0]:void 0;A.push(B.translateBufferLineToString(k[1],!0,k[0],O));for(let V=k[1]+1;V<=D[1]-1;V++){const H=B.lines.get(V),q=B.translateBufferLineToString(V,!0);H!=null&&H.isWrapped?A[A.length-1]+=q:A.push(q)}if(k[1]!==D[1]){const V=B.lines.get(D[1]),H=B.translateBufferLineToString(D[1],!0,0,D[0]);V&&V.isWrapped?A[A.length-1]+=H:A.push(H)}}return A.map(O=>O.replace(E," ")).join(y.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(k){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),y.isLinux&&k&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(k){const D=this._getMouseBufferCoords(k),B=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;return!!(B&&A&&D)&&this._areCoordsInSelection(D,B,A)}isCellInSelection(k,D){const B=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;return!(!B||!A)&&this._areCoordsInSelection([k,D],B,A)}_areCoordsInSelection(k,D,B){return k[1]>D[1]&&k[1]<B[1]||D[1]===B[1]&&k[1]===D[1]&&k[0]>=D[0]&&k[0]<B[0]||D[1]<B[1]&&k[1]===B[1]&&k[0]<B[0]||D[1]<B[1]&&k[1]===D[1]&&k[0]>=D[0]}_selectWordAtCursor(k,D){var O,V;const B=(V=(O=this._linkifier.currentLink)==null?void 0:O.link)==null?void 0:V.range;if(B)return this._model.selectionStart=[B.start.x-1,B.start.y-1],this._model.selectionStartLength=(0,b.getRangeLength)(B,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const A=this._getMouseBufferCoords(k);return!!A&&(this._selectWordAt(A,D),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(k,D){this._model.clearSelection(),k=Math.max(k,0),D=Math.min(D,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,k],this._model.selectionEnd=[this._bufferService.cols,D],this.refresh(),this._onSelectionChange.fire()}_handleTrim(k){this._model.handleTrim(k)&&this.refresh()}_getMouseBufferCoords(k){const D=this._mouseService.getCoords(k,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(D)return D[0]--,D[1]--,D[1]+=this._bufferService.buffer.ydisp,D}_getMouseEventScrollAmount(k){let D=(0,m.getCoordsRelativeToElement)(this._coreBrowserService.window,k,this._screenElement)[1];const B=this._renderService.dimensions.css.canvas.height;return D>=0&&D<=B?0:(D>B&&(D-=B),D=Math.min(Math.max(D,-50),50),D/=50,D/Math.abs(D)+Math.round(14*D))}shouldForceSelection(k){return y.isMac?k.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:k.shiftKey}handleMouseDown(k){if(this._mouseDownTimeStamp=k.timeStamp,(k.button!==2||!this.hasSelection)&&k.button===0){if(!this._enabled){if(!this.shouldForceSelection(k))return;k.stopPropagation()}k.preventDefault(),this._dragScrollAmount=0,this._enabled&&k.shiftKey?this._handleIncrementalClick(k):k.detail===1?this._handleSingleClick(k):k.detail===2?this._handleDoubleClick(k):k.detail===3&&this._handleTripleClick(k),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(k){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(k))}_handleSingleClick(k){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(k)?3:0,this._model.selectionStart=this._getMouseBufferCoords(k),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const D=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);D&&D.length!==this._model.selectionStart[0]&&D.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(k){this._selectWordAtCursor(k,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(k){const D=this._getMouseBufferCoords(k);D&&(this._activeSelectionMode=2,this._selectLineAt(D[1]))}shouldColumnSelect(k){return k.altKey&&!(y.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(k){if(k.stopImmediatePropagation(),!this._model.selectionStart)return;const D=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(k),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(k),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const B=this._bufferService.buffer;if(this._model.selectionEnd[1]<B.lines.length){const A=B.lines.get(this._model.selectionEnd[1]);A&&A.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}D&&D[0]===this._model.selectionEnd[0]&&D[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const k=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(k.ydisp+this._bufferService.rows,k.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=k.ydisp),this.refresh()}}_handleMouseUp(k){const D=k.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&D<500&&k.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const B=this._mouseService.getCoords(k,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(B&&B[0]!==void 0&&B[1]!==void 0){const A=(0,g.moveToCellSequence)(B[0]-1,B[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(A,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const k=this._model.finalSelectionStart,D=this._model.finalSelectionEnd,B=!(!k||!D||k[0]===D[0]&&k[1]===D[1]);B?k&&D&&(this._oldSelectionStart&&this._oldSelectionEnd&&k[0]===this._oldSelectionStart[0]&&k[1]===this._oldSelectionStart[1]&&D[0]===this._oldSelectionEnd[0]&&D[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(k,D,B)):this._oldHasSelection&&this._fireOnSelectionChange(k,D,B)}_fireOnSelectionChange(k,D,B){this._oldSelectionStart=k,this._oldSelectionEnd=D,this._oldHasSelection=B,this._onSelectionChange.fire()}_handleBufferActivate(k){this.clearSelection(),this._trimListener.dispose(),this._trimListener=k.activeBuffer.lines.onTrim(D=>this._handleTrim(D))}_convertViewportColToCharacterIndex(k,D){let B=D;for(let A=0;D>=A;A++){const O=k.loadCell(A,this._workCell).getChars().length;this._workCell.getWidth()===0?B--:O>1&&D!==A&&(B+=O-1)}return B}setSelection(k,D,B){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[k,D],this._model.selectionStartLength=B,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(k){this._isClickInSelection(k)||(this._selectWordAtCursor(k,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(k,D,B=!0,A=!0){if(k[0]>=this._bufferService.cols)return;const O=this._bufferService.buffer,V=O.lines.get(k[1]);if(!V)return;const H=O.translateBufferLineToString(k[1],!1);let q=this._convertViewportColToCharacterIndex(V,k[0]),K=q;const Q=k[0]-q;let X=0,N=0,I=0,U=0;if(H.charAt(q)===" "){for(;q>0&&H.charAt(q-1)===" ";)q--;for(;K<H.length&&H.charAt(K+1)===" ";)K++}else{let ue=k[0],he=k[0];V.getWidth(ue)===0&&(X++,ue--),V.getWidth(he)===2&&(N++,he++);const ve=V.getString(he).length;for(ve>1&&(U+=ve-1,K+=ve-1);ue>0&&q>0&&!this._isCharWordSeparator(V.loadCell(ue-1,this._workCell));){V.loadCell(ue-1,this._workCell);const j=this._workCell.getChars().length;this._workCell.getWidth()===0?(X++,ue--):j>1&&(I+=j-1,q-=j-1),q--,ue--}for(;he<V.length&&K+1<H.length&&!this._isCharWordSeparator(V.loadCell(he+1,this._workCell));){V.loadCell(he+1,this._workCell);const j=this._workCell.getChars().length;this._workCell.getWidth()===2?(N++,he++):j>1&&(U+=j-1,K+=j-1),K++,he++}}K++;let F=q+Q-X+I,ee=Math.min(this._bufferService.cols,K-q+X+N-I-U);if(D||H.slice(q,K).trim()!==""){if(B&&F===0&&V.getCodePoint(0)!==32){const ue=O.lines.get(k[1]-1);if(ue&&V.isWrapped&&ue.getCodePoint(this._bufferService.cols-1)!==32){const he=this._getWordAt([this._bufferService.cols-1,k[1]-1],!1,!0,!1);if(he){const ve=this._bufferService.cols-he.start;F-=ve,ee+=ve}}}if(A&&F+ee===this._bufferService.cols&&V.getCodePoint(this._bufferService.cols-1)!==32){const ue=O.lines.get(k[1]+1);if(ue!=null&&ue.isWrapped&&ue.getCodePoint(0)!==32){const he=this._getWordAt([0,k[1]+1],!1,!1,!0);he&&(ee+=he.length)}}return{start:F,length:ee}}}_selectWordAt(k,D){const B=this._getWordAt(k,D);if(B){for(;B.start<0;)B.start+=this._bufferService.cols,k[1]--;this._model.selectionStart=[B.start,k[1]],this._model.selectionStartLength=B.length}}_selectToWordAt(k){const D=this._getWordAt(k,!0);if(D){let B=k[1];for(;D.start<0;)D.start+=this._bufferService.cols,B--;if(!this._model.areSelectionValuesReversed())for(;D.start+D.length>this._bufferService.cols;)D.length-=this._bufferService.cols,B++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?D.start:D.start+D.length,B]}}_isCharWordSeparator(k){return k.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(k.getChars())>=0}_selectLineAt(k){const D=this._bufferService.buffer.getWrappedRangeForLine(k),B={start:{x:0,y:D.first},end:{x:this._bufferService.cols-1,y:D.last}};this._model.selectionStart=[0,D.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,b.getRangeLength)(B,this._bufferService.cols)}};s.SelectionService=T=c([d(3,w.IBufferService),d(4,w.ICoreService),d(5,_.IMouseService),d(6,w.IOptionsService),d(7,_.IRenderService),d(8,_.ICoreBrowserService)],T)},4725:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ILinkProviderService=s.IThemeService=s.ICharacterJoinerService=s.ISelectionService=s.IRenderService=s.IMouseService=s.ICoreBrowserService=s.ICharSizeService=void 0;const c=l(8343);s.ICharSizeService=(0,c.createDecorator)("CharSizeService"),s.ICoreBrowserService=(0,c.createDecorator)("CoreBrowserService"),s.IMouseService=(0,c.createDecorator)("MouseService"),s.IRenderService=(0,c.createDecorator)("RenderService"),s.ISelectionService=(0,c.createDecorator)("SelectionService"),s.ICharacterJoinerService=(0,c.createDecorator)("CharacterJoinerService"),s.IThemeService=(0,c.createDecorator)("ThemeService"),s.ILinkProviderService=(0,c.createDecorator)("LinkProviderService")},6731:function(a,s,l){var c=this&&this.__decorate||function(T,k,D,B){var A,O=arguments.length,V=O<3?k:B===null?B=Object.getOwnPropertyDescriptor(k,D):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(T,k,D,B);else for(var H=T.length-1;H>=0;H--)(A=T[H])&&(V=(O<3?A(V):O>3?A(k,D,V):A(k,D))||V);return O>3&&V&&Object.defineProperty(k,D,V),V},d=this&&this.__param||function(T,k){return function(D,B){k(D,B,T)}};Object.defineProperty(s,"__esModule",{value:!0}),s.ThemeService=s.DEFAULT_ANSI_COLORS=void 0;const m=l(7239),g=l(8055),v=l(8460),_=l(844),S=l(2585),C=g.css.toColor("#ffffff"),y=g.css.toColor("#000000"),b=g.css.toColor("#ffffff"),u=g.css.toColor("#000000"),w={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};s.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const T=[g.css.toColor("#2e3436"),g.css.toColor("#cc0000"),g.css.toColor("#4e9a06"),g.css.toColor("#c4a000"),g.css.toColor("#3465a4"),g.css.toColor("#75507b"),g.css.toColor("#06989a"),g.css.toColor("#d3d7cf"),g.css.toColor("#555753"),g.css.toColor("#ef2929"),g.css.toColor("#8ae234"),g.css.toColor("#fce94f"),g.css.toColor("#729fcf"),g.css.toColor("#ad7fa8"),g.css.toColor("#34e2e2"),g.css.toColor("#eeeeec")],k=[0,95,135,175,215,255];for(let D=0;D<216;D++){const B=k[D/36%6|0],A=k[D/6%6|0],O=k[D%6];T.push({css:g.channels.toCss(B,A,O),rgba:g.channels.toRgba(B,A,O)})}for(let D=0;D<24;D++){const B=8+10*D;T.push({css:g.channels.toCss(B,B,B),rgba:g.channels.toRgba(B,B,B)})}return T})());let x=s.ThemeService=class extends _.Disposable{get colors(){return this._colors}constructor(T){super(),this._optionsService=T,this._contrastCache=new m.ColorContrastCache,this._halfContrastCache=new m.ColorContrastCache,this._onChangeColors=this.register(new v.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:C,background:y,cursor:b,cursorAccent:u,selectionForeground:void 0,selectionBackgroundTransparent:w,selectionBackgroundOpaque:g.color.blend(y,w),selectionInactiveBackgroundTransparent:w,selectionInactiveBackgroundOpaque:g.color.blend(y,w),ansi:s.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(T={}){const k=this._colors;if(k.foreground=E(T.foreground,C),k.background=E(T.background,y),k.cursor=E(T.cursor,b),k.cursorAccent=E(T.cursorAccent,u),k.selectionBackgroundTransparent=E(T.selectionBackground,w),k.selectionBackgroundOpaque=g.color.blend(k.background,k.selectionBackgroundTransparent),k.selectionInactiveBackgroundTransparent=E(T.selectionInactiveBackground,k.selectionBackgroundTransparent),k.selectionInactiveBackgroundOpaque=g.color.blend(k.background,k.selectionInactiveBackgroundTransparent),k.selectionForeground=T.selectionForeground?E(T.selectionForeground,g.NULL_COLOR):void 0,k.selectionForeground===g.NULL_COLOR&&(k.selectionForeground=void 0),g.color.isOpaque(k.selectionBackgroundTransparent)&&(k.selectionBackgroundTransparent=g.color.opacity(k.selectionBackgroundTransparent,.3)),g.color.isOpaque(k.selectionInactiveBackgroundTransparent)&&(k.selectionInactiveBackgroundTransparent=g.color.opacity(k.selectionInactiveBackgroundTransparent,.3)),k.ansi=s.DEFAULT_ANSI_COLORS.slice(),k.ansi[0]=E(T.black,s.DEFAULT_ANSI_COLORS[0]),k.ansi[1]=E(T.red,s.DEFAULT_ANSI_COLORS[1]),k.ansi[2]=E(T.green,s.DEFAULT_ANSI_COLORS[2]),k.ansi[3]=E(T.yellow,s.DEFAULT_ANSI_COLORS[3]),k.ansi[4]=E(T.blue,s.DEFAULT_ANSI_COLORS[4]),k.ansi[5]=E(T.magenta,s.DEFAULT_ANSI_COLORS[5]),k.ansi[6]=E(T.cyan,s.DEFAULT_ANSI_COLORS[6]),k.ansi[7]=E(T.white,s.DEFAULT_ANSI_COLORS[7]),k.ansi[8]=E(T.brightBlack,s.DEFAULT_ANSI_COLORS[8]),k.ansi[9]=E(T.brightRed,s.DEFAULT_ANSI_COLORS[9]),k.ansi[10]=E(T.brightGreen,s.DEFAULT_ANSI_COLORS[10]),k.ansi[11]=E(T.brightYellow,s.DEFAULT_ANSI_COLORS[11]),k.ansi[12]=E(T.brightBlue,s.DEFAULT_ANSI_COLORS[12]),k.ansi[13]=E(T.brightMagenta,s.DEFAULT_ANSI_COLORS[13]),k.ansi[14]=E(T.brightCyan,s.DEFAULT_ANSI_COLORS[14]),k.ansi[15]=E(T.brightWhite,s.DEFAULT_ANSI_COLORS[15]),T.extendedAnsi){const D=Math.min(k.ansi.length-16,T.extendedAnsi.length);for(let B=0;B<D;B++)k.ansi[B+16]=E(T.extendedAnsi[B],s.DEFAULT_ANSI_COLORS[B+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(T){this._restoreColor(T),this._onChangeColors.fire(this.colors)}_restoreColor(T){if(T!==void 0)switch(T){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[T]=this._restoreColors.ansi[T]}else for(let k=0;k<this._restoreColors.ansi.length;++k)this._colors.ansi[k]=this._restoreColors.ansi[k]}modifyColors(T){T(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function E(T,k){if(T!==void 0)try{return g.css.toColor(T)}catch{}return k}s.ThemeService=x=c([d(0,S.IOptionsService)],x)},6349:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CircularList=void 0;const c=l(8460),d=l(844);class m extends d.Disposable{constructor(v){super(),this._maxLength=v,this.onDeleteEmitter=this.register(new c.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new c.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new c.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(v){if(this._maxLength===v)return;const _=new Array(v);for(let S=0;S<Math.min(v,this.length);S++)_[S]=this._array[this._getCyclicIndex(S)];this._array=_,this._maxLength=v,this._startIndex=0}get length(){return this._length}set length(v){if(v>this._length)for(let _=this._length;_<v;_++)this._array[_]=void 0;this._length=v}get(v){return this._array[this._getCyclicIndex(v)]}set(v,_){this._array[this._getCyclicIndex(v)]=_}push(v){this._array[this._getCyclicIndex(this._length)]=v,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(v,_,...S){if(_){for(let C=v;C<this._length-_;C++)this._array[this._getCyclicIndex(C)]=this._array[this._getCyclicIndex(C+_)];this._length-=_,this.onDeleteEmitter.fire({index:v,amount:_})}for(let C=this._length-1;C>=v;C--)this._array[this._getCyclicIndex(C+S.length)]=this._array[this._getCyclicIndex(C)];for(let C=0;C<S.length;C++)this._array[this._getCyclicIndex(v+C)]=S[C];if(S.length&&this.onInsertEmitter.fire({index:v,amount:S.length}),this._length+S.length>this._maxLength){const C=this._length+S.length-this._maxLength;this._startIndex+=C,this._length=this._maxLength,this.onTrimEmitter.fire(C)}else this._length+=S.length}trimStart(v){v>this._length&&(v=this._length),this._startIndex+=v,this._length-=v,this.onTrimEmitter.fire(v)}shiftElements(v,_,S){if(!(_<=0)){if(v<0||v>=this._length)throw new Error("start argument out of range");if(v+S<0)throw new Error("Cannot shift elements in list beyond index 0");if(S>0){for(let y=_-1;y>=0;y--)this.set(v+y+S,this.get(v+y));const C=v+_+S-this._length;if(C>0)for(this._length+=C;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let C=0;C<_;C++)this.set(v+C+S,this.get(v+C))}}_getCyclicIndex(v){return(this._startIndex+v)%this._maxLength}}s.CircularList=m},1439:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.clone=void 0,s.clone=function l(c,d=5){if(typeof c!="object")return c;const m=Array.isArray(c)?[]:{};for(const g in c)m[g]=d<=1?c[g]:c[g]&&l(c[g],d-1);return m}},8055:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.contrastRatio=s.toPaddedHex=s.rgba=s.rgb=s.css=s.color=s.channels=s.NULL_COLOR=void 0;let l=0,c=0,d=0,m=0;var g,v,_,S,C;function y(u){const w=u.toString(16);return w.length<2?"0"+w:w}function b(u,w){return u<w?(w+.05)/(u+.05):(u+.05)/(w+.05)}s.NULL_COLOR={css:"#00000000",rgba:0},function(u){u.toCss=function(w,x,E,T){return T!==void 0?`#${y(w)}${y(x)}${y(E)}${y(T)}`:`#${y(w)}${y(x)}${y(E)}`},u.toRgba=function(w,x,E,T=255){return(w<<24|x<<16|E<<8|T)>>>0},u.toColor=function(w,x,E,T){return{css:u.toCss(w,x,E,T),rgba:u.toRgba(w,x,E,T)}}}(g||(s.channels=g={})),function(u){function w(x,E){return m=Math.round(255*E),[l,c,d]=C.toChannels(x.rgba),{css:g.toCss(l,c,d,m),rgba:g.toRgba(l,c,d,m)}}u.blend=function(x,E){if(m=(255&E.rgba)/255,m===1)return{css:E.css,rgba:E.rgba};const T=E.rgba>>24&255,k=E.rgba>>16&255,D=E.rgba>>8&255,B=x.rgba>>24&255,A=x.rgba>>16&255,O=x.rgba>>8&255;return l=B+Math.round((T-B)*m),c=A+Math.round((k-A)*m),d=O+Math.round((D-O)*m),{css:g.toCss(l,c,d),rgba:g.toRgba(l,c,d)}},u.isOpaque=function(x){return(255&x.rgba)==255},u.ensureContrastRatio=function(x,E,T){const k=C.ensureContrastRatio(x.rgba,E.rgba,T);if(k)return g.toColor(k>>24&255,k>>16&255,k>>8&255)},u.opaque=function(x){const E=(255|x.rgba)>>>0;return[l,c,d]=C.toChannels(E),{css:g.toCss(l,c,d),rgba:E}},u.opacity=w,u.multiplyOpacity=function(x,E){return m=255&x.rgba,w(x,m*E/255)},u.toColorRGB=function(x){return[x.rgba>>24&255,x.rgba>>16&255,x.rgba>>8&255]}}(v||(s.color=v={})),function(u){let w,x;try{const E=document.createElement("canvas");E.width=1,E.height=1;const T=E.getContext("2d",{willReadFrequently:!0});T&&(w=T,w.globalCompositeOperation="copy",x=w.createLinearGradient(0,0,1,1))}catch{}u.toColor=function(E){if(E.match(/#[\da-f]{3,8}/i))switch(E.length){case 4:return l=parseInt(E.slice(1,2).repeat(2),16),c=parseInt(E.slice(2,3).repeat(2),16),d=parseInt(E.slice(3,4).repeat(2),16),g.toColor(l,c,d);case 5:return l=parseInt(E.slice(1,2).repeat(2),16),c=parseInt(E.slice(2,3).repeat(2),16),d=parseInt(E.slice(3,4).repeat(2),16),m=parseInt(E.slice(4,5).repeat(2),16),g.toColor(l,c,d,m);case 7:return{css:E,rgba:(parseInt(E.slice(1),16)<<8|255)>>>0};case 9:return{css:E,rgba:parseInt(E.slice(1),16)>>>0}}const T=E.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(T)return l=parseInt(T[1]),c=parseInt(T[2]),d=parseInt(T[3]),m=Math.round(255*(T[5]===void 0?1:parseFloat(T[5]))),g.toColor(l,c,d,m);if(!w||!x)throw new Error("css.toColor: Unsupported css format");if(w.fillStyle=x,w.fillStyle=E,typeof w.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(w.fillRect(0,0,1,1),[l,c,d,m]=w.getImageData(0,0,1,1).data,m!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:g.toRgba(l,c,d,m),css:E}}}(_||(s.css=_={})),function(u){function w(x,E,T){const k=x/255,D=E/255,B=T/255;return .2126*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))+.7152*(D<=.03928?D/12.92:Math.pow((D+.055)/1.055,2.4))+.0722*(B<=.03928?B/12.92:Math.pow((B+.055)/1.055,2.4))}u.relativeLuminance=function(x){return w(x>>16&255,x>>8&255,255&x)},u.relativeLuminance2=w}(S||(s.rgb=S={})),function(u){function w(E,T,k){const D=E>>24&255,B=E>>16&255,A=E>>8&255;let O=T>>24&255,V=T>>16&255,H=T>>8&255,q=b(S.relativeLuminance2(O,V,H),S.relativeLuminance2(D,B,A));for(;q<k&&(O>0||V>0||H>0);)O-=Math.max(0,Math.ceil(.1*O)),V-=Math.max(0,Math.ceil(.1*V)),H-=Math.max(0,Math.ceil(.1*H)),q=b(S.relativeLuminance2(O,V,H),S.relativeLuminance2(D,B,A));return(O<<24|V<<16|H<<8|255)>>>0}function x(E,T,k){const D=E>>24&255,B=E>>16&255,A=E>>8&255;let O=T>>24&255,V=T>>16&255,H=T>>8&255,q=b(S.relativeLuminance2(O,V,H),S.relativeLuminance2(D,B,A));for(;q<k&&(O<255||V<255||H<255);)O=Math.min(255,O+Math.ceil(.1*(255-O))),V=Math.min(255,V+Math.ceil(.1*(255-V))),H=Math.min(255,H+Math.ceil(.1*(255-H))),q=b(S.relativeLuminance2(O,V,H),S.relativeLuminance2(D,B,A));return(O<<24|V<<16|H<<8|255)>>>0}u.blend=function(E,T){if(m=(255&T)/255,m===1)return T;const k=T>>24&255,D=T>>16&255,B=T>>8&255,A=E>>24&255,O=E>>16&255,V=E>>8&255;return l=A+Math.round((k-A)*m),c=O+Math.round((D-O)*m),d=V+Math.round((B-V)*m),g.toRgba(l,c,d)},u.ensureContrastRatio=function(E,T,k){const D=S.relativeLuminance(E>>8),B=S.relativeLuminance(T>>8);if(b(D,B)<k){if(B<D){const V=w(E,T,k),H=b(D,S.relativeLuminance(V>>8));if(H<k){const q=x(E,T,k);return H>b(D,S.relativeLuminance(q>>8))?V:q}return V}const A=x(E,T,k),O=b(D,S.relativeLuminance(A>>8));if(O<k){const V=w(E,T,k);return O>b(D,S.relativeLuminance(V>>8))?A:V}return A}},u.reduceLuminance=w,u.increaseLuminance=x,u.toChannels=function(E){return[E>>24&255,E>>16&255,E>>8&255,255&E]}}(C||(s.rgba=C={})),s.toPaddedHex=y,s.contrastRatio=b},8969:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CoreTerminal=void 0;const c=l(844),d=l(2585),m=l(4348),g=l(7866),v=l(744),_=l(7302),S=l(6975),C=l(8460),y=l(1753),b=l(1480),u=l(7994),w=l(9282),x=l(5435),E=l(5981),T=l(2660);let k=!1;class D extends c.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new C.EventEmitter),this._onScroll.event(A=>{var O;(O=this._onScrollApi)==null||O.fire(A.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(A){for(const O in A)this.optionsService.options[O]=A[O]}constructor(A){super(),this._windowsWrappingHeuristics=this.register(new c.MutableDisposable),this._onBinary=this.register(new C.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new C.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new C.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new C.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new C.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new C.EventEmitter),this._instantiationService=new m.InstantiationService,this.optionsService=this.register(new _.OptionsService(A)),this._instantiationService.setService(d.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(v.BufferService)),this._instantiationService.setService(d.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(g.LogService)),this._instantiationService.setService(d.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(S.CoreService)),this._instantiationService.setService(d.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(y.CoreMouseService)),this._instantiationService.setService(d.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(b.UnicodeService)),this._instantiationService.setService(d.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(u.CharsetService),this._instantiationService.setService(d.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(T.OscLinkService),this._instantiationService.setService(d.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new x.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,C.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,C.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,C.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,C.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(O=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(O=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new E.WriteBuffer((O,V)=>this._inputHandler.parse(O,V))),this.register((0,C.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(A,O){this._writeBuffer.write(A,O)}writeSync(A,O){this._logService.logLevel<=d.LogLevelEnum.WARN&&!k&&(this._logService.warn("writeSync is unreliable and will be removed soon."),k=!0),this._writeBuffer.writeSync(A,O)}input(A,O=!0){this.coreService.triggerDataEvent(A,O)}resize(A,O){isNaN(A)||isNaN(O)||(A=Math.max(A,v.MINIMUM_COLS),O=Math.max(O,v.MINIMUM_ROWS),this._bufferService.resize(A,O))}scroll(A,O=!1){this._bufferService.scroll(A,O)}scrollLines(A,O,V){this._bufferService.scrollLines(A,O,V)}scrollPages(A){this.scrollLines(A*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(A){const O=A-this._bufferService.buffer.ydisp;O!==0&&this.scrollLines(O)}registerEscHandler(A,O){return this._inputHandler.registerEscHandler(A,O)}registerDcsHandler(A,O){return this._inputHandler.registerDcsHandler(A,O)}registerCsiHandler(A,O){return this._inputHandler.registerCsiHandler(A,O)}registerOscHandler(A,O){return this._inputHandler.registerOscHandler(A,O)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let A=!1;const O=this.optionsService.rawOptions.windowsPty;O&&O.buildNumber!==void 0&&O.buildNumber!==void 0?A=O.backend==="conpty"&&O.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(A=!0),A?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const A=[];A.push(this.onLineFeed(w.updateWindowsModeWrappedState.bind(null,this._bufferService))),A.push(this.registerCsiHandler({final:"H"},()=>((0,w.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,c.toDisposable)(()=>{for(const O of A)O.dispose()})}}}s.CoreTerminal=D},8460:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.runAndSubscribe=s.forwardEvent=s.EventEmitter=void 0,s.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let c=0;c<this._listeners.length;c++)if(this._listeners[c]===l)return void this._listeners.splice(c,1)}}})),this._event}fire(l,c){const d=[];for(let m=0;m<this._listeners.length;m++)d.push(this._listeners[m]);for(let m=0;m<d.length;m++)d[m].call(void 0,l,c)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},s.forwardEvent=function(l,c){return l(d=>c.fire(d))},s.runAndSubscribe=function(l,c){return c(void 0),l(d=>c(d))}},5435:function(a,s,l){var c=this&&this.__decorate||function(X,N,I,U){var F,ee=arguments.length,ue=ee<3?N:U===null?U=Object.getOwnPropertyDescriptor(N,I):U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ue=Reflect.decorate(X,N,I,U);else for(var he=X.length-1;he>=0;he--)(F=X[he])&&(ue=(ee<3?F(ue):ee>3?F(N,I,ue):F(N,I))||ue);return ee>3&&ue&&Object.defineProperty(N,I,ue),ue},d=this&&this.__param||function(X,N){return function(I,U){N(I,U,X)}};Object.defineProperty(s,"__esModule",{value:!0}),s.InputHandler=s.WindowsOptionsReportType=void 0;const m=l(2584),g=l(7116),v=l(2015),_=l(844),S=l(482),C=l(8437),y=l(8460),b=l(643),u=l(511),w=l(3734),x=l(2585),E=l(1480),T=l(6242),k=l(6351),D=l(5941),B={"(":0,")":1,"*":2,"+":3,"-":1,".":2},A=131072;function O(X,N){if(X>24)return N.setWinLines||!1;switch(X){case 1:return!!N.restoreWin;case 2:return!!N.minimizeWin;case 3:return!!N.setWinPosition;case 4:return!!N.setWinSizePixels;case 5:return!!N.raiseWin;case 6:return!!N.lowerWin;case 7:return!!N.refreshWin;case 8:return!!N.setWinSizeChars;case 9:return!!N.maximizeWin;case 10:return!!N.fullscreenWin;case 11:return!!N.getWinState;case 13:return!!N.getWinPosition;case 14:return!!N.getWinSizePixels;case 15:return!!N.getScreenSizePixels;case 16:return!!N.getCellSizePixels;case 18:return!!N.getWinSizeChars;case 19:return!!N.getScreenSizeChars;case 20:return!!N.getIconTitle;case 21:return!!N.getWinTitle;case 22:return!!N.pushTitle;case 23:return!!N.popTitle;case 24:return!!N.setWinLines}return!1}var V;(function(X){X[X.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",X[X.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(V||(s.WindowsOptionsReportType=V={}));let H=0;class q extends _.Disposable{getAttrData(){return this._curAttrData}constructor(N,I,U,F,ee,ue,he,ve,j=new v.EscapeSequenceParser){super(),this._bufferService=N,this._charsetService=I,this._coreService=U,this._logService=F,this._optionsService=ee,this._oscLinkService=ue,this._coreMouseService=he,this._unicodeService=ve,this._parser=j,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new S.StringToUtf32,this._utf8Decoder=new S.Utf8ToUtf32,this._workCell=new u.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=C.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=C.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new y.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new y.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new y.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new y.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new y.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new y.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new y.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new y.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new y.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new y.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new y.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new y.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new y.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new K(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(M=>this._activeBuffer=M.activeBuffer)),this._parser.setCsiHandlerFallback((M,ne)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(M),params:ne.toArray()})}),this._parser.setEscHandlerFallback(M=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(M)})}),this._parser.setExecuteHandlerFallback(M=>{this._logService.debug("Unknown EXECUTE code: ",{code:M})}),this._parser.setOscHandlerFallback((M,ne,Y)=>{this._logService.debug("Unknown OSC code: ",{identifier:M,action:ne,data:Y})}),this._parser.setDcsHandlerFallback((M,ne,Y)=>{ne==="HOOK"&&(Y=Y.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(M),action:ne,payload:Y})}),this._parser.setPrintHandler((M,ne,Y)=>this.print(M,ne,Y)),this._parser.registerCsiHandler({final:"@"},M=>this.insertChars(M)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},M=>this.scrollLeft(M)),this._parser.registerCsiHandler({final:"A"},M=>this.cursorUp(M)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},M=>this.scrollRight(M)),this._parser.registerCsiHandler({final:"B"},M=>this.cursorDown(M)),this._parser.registerCsiHandler({final:"C"},M=>this.cursorForward(M)),this._parser.registerCsiHandler({final:"D"},M=>this.cursorBackward(M)),this._parser.registerCsiHandler({final:"E"},M=>this.cursorNextLine(M)),this._parser.registerCsiHandler({final:"F"},M=>this.cursorPrecedingLine(M)),this._parser.registerCsiHandler({final:"G"},M=>this.cursorCharAbsolute(M)),this._parser.registerCsiHandler({final:"H"},M=>this.cursorPosition(M)),this._parser.registerCsiHandler({final:"I"},M=>this.cursorForwardTab(M)),this._parser.registerCsiHandler({final:"J"},M=>this.eraseInDisplay(M,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},M=>this.eraseInDisplay(M,!0)),this._parser.registerCsiHandler({final:"K"},M=>this.eraseInLine(M,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},M=>this.eraseInLine(M,!0)),this._parser.registerCsiHandler({final:"L"},M=>this.insertLines(M)),this._parser.registerCsiHandler({final:"M"},M=>this.deleteLines(M)),this._parser.registerCsiHandler({final:"P"},M=>this.deleteChars(M)),this._parser.registerCsiHandler({final:"S"},M=>this.scrollUp(M)),this._parser.registerCsiHandler({final:"T"},M=>this.scrollDown(M)),this._parser.registerCsiHandler({final:"X"},M=>this.eraseChars(M)),this._parser.registerCsiHandler({final:"Z"},M=>this.cursorBackwardTab(M)),this._parser.registerCsiHandler({final:"`"},M=>this.charPosAbsolute(M)),this._parser.registerCsiHandler({final:"a"},M=>this.hPositionRelative(M)),this._parser.registerCsiHandler({final:"b"},M=>this.repeatPrecedingCharacter(M)),this._parser.registerCsiHandler({final:"c"},M=>this.sendDeviceAttributesPrimary(M)),this._parser.registerCsiHandler({prefix:">",final:"c"},M=>this.sendDeviceAttributesSecondary(M)),this._parser.registerCsiHandler({final:"d"},M=>this.linePosAbsolute(M)),this._parser.registerCsiHandler({final:"e"},M=>this.vPositionRelative(M)),this._parser.registerCsiHandler({final:"f"},M=>this.hVPosition(M)),this._parser.registerCsiHandler({final:"g"},M=>this.tabClear(M)),this._parser.registerCsiHandler({final:"h"},M=>this.setMode(M)),this._parser.registerCsiHandler({prefix:"?",final:"h"},M=>this.setModePrivate(M)),this._parser.registerCsiHandler({final:"l"},M=>this.resetMode(M)),this._parser.registerCsiHandler({prefix:"?",final:"l"},M=>this.resetModePrivate(M)),this._parser.registerCsiHandler({final:"m"},M=>this.charAttributes(M)),this._parser.registerCsiHandler({final:"n"},M=>this.deviceStatus(M)),this._parser.registerCsiHandler({prefix:"?",final:"n"},M=>this.deviceStatusPrivate(M)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},M=>this.softReset(M)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},M=>this.setCursorStyle(M)),this._parser.registerCsiHandler({final:"r"},M=>this.setScrollRegion(M)),this._parser.registerCsiHandler({final:"s"},M=>this.saveCursor(M)),this._parser.registerCsiHandler({final:"t"},M=>this.windowOptions(M)),this._parser.registerCsiHandler({final:"u"},M=>this.restoreCursor(M)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},M=>this.insertColumns(M)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},M=>this.deleteColumns(M)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},M=>this.selectProtected(M)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},M=>this.requestMode(M,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},M=>this.requestMode(M,!1)),this._parser.setExecuteHandler(m.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(m.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(m.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(m.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(m.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(m.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(m.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(m.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(m.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(m.C1.IND,()=>this.index()),this._parser.setExecuteHandler(m.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(m.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new T.OscHandler(M=>(this.setTitle(M),this.setIconName(M),!0))),this._parser.registerOscHandler(1,new T.OscHandler(M=>this.setIconName(M))),this._parser.registerOscHandler(2,new T.OscHandler(M=>this.setTitle(M))),this._parser.registerOscHandler(4,new T.OscHandler(M=>this.setOrReportIndexedColor(M))),this._parser.registerOscHandler(8,new T.OscHandler(M=>this.setHyperlink(M))),this._parser.registerOscHandler(10,new T.OscHandler(M=>this.setOrReportFgColor(M))),this._parser.registerOscHandler(11,new T.OscHandler(M=>this.setOrReportBgColor(M))),this._parser.registerOscHandler(12,new T.OscHandler(M=>this.setOrReportCursorColor(M))),this._parser.registerOscHandler(104,new T.OscHandler(M=>this.restoreIndexedColor(M))),this._parser.registerOscHandler(110,new T.OscHandler(M=>this.restoreFgColor(M))),this._parser.registerOscHandler(111,new T.OscHandler(M=>this.restoreBgColor(M))),this._parser.registerOscHandler(112,new T.OscHandler(M=>this.restoreCursorColor(M))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const M in g.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:M},()=>this.selectCharset("("+M)),this._parser.registerEscHandler({intermediates:")",final:M},()=>this.selectCharset(")"+M)),this._parser.registerEscHandler({intermediates:"*",final:M},()=>this.selectCharset("*"+M)),this._parser.registerEscHandler({intermediates:"+",final:M},()=>this.selectCharset("+"+M)),this._parser.registerEscHandler({intermediates:"-",final:M},()=>this.selectCharset("-"+M)),this._parser.registerEscHandler({intermediates:".",final:M},()=>this.selectCharset("."+M)),this._parser.registerEscHandler({intermediates:"/",final:M},()=>this.selectCharset("/"+M));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(M=>(this._logService.error("Parsing error: ",M),M)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new k.DcsHandler((M,ne)=>this.requestStatusString(M,ne)))}_preserveStack(N,I,U,F){this._parseStack.paused=!0,this._parseStack.cursorStartX=N,this._parseStack.cursorStartY=I,this._parseStack.decodedLength=U,this._parseStack.position=F}_logSlowResolvingAsync(N){this._logService.logLevel<=x.LogLevelEnum.WARN&&Promise.race([N,new Promise((I,U)=>setTimeout(()=>U("#SLOW_TIMEOUT"),5e3))]).catch(I=>{if(I!=="#SLOW_TIMEOUT")throw I;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(N,I){let U,F=this._activeBuffer.x,ee=this._activeBuffer.y,ue=0;const he=this._parseStack.paused;if(he){if(U=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,I))return this._logSlowResolvingAsync(U),U;F=this._parseStack.cursorStartX,ee=this._parseStack.cursorStartY,this._parseStack.paused=!1,N.length>A&&(ue=this._parseStack.position+A)}if(this._logService.logLevel<=x.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof N=="string"?` "${N}"`:` "${Array.prototype.map.call(N,M=>String.fromCharCode(M)).join("")}"`),typeof N=="string"?N.split("").map(M=>M.charCodeAt(0)):N),this._parseBuffer.length<N.length&&this._parseBuffer.length<A&&(this._parseBuffer=new Uint32Array(Math.min(N.length,A))),he||this._dirtyRowTracker.clearRange(),N.length>A)for(let M=ue;M<N.length;M+=A){const ne=M+A<N.length?M+A:N.length,Y=typeof N=="string"?this._stringDecoder.decode(N.substring(M,ne),this._parseBuffer):this._utf8Decoder.decode(N.subarray(M,ne),this._parseBuffer);if(U=this._parser.parse(this._parseBuffer,Y))return this._preserveStack(F,ee,Y,M),this._logSlowResolvingAsync(U),U}else if(!he){const M=typeof N=="string"?this._stringDecoder.decode(N,this._parseBuffer):this._utf8Decoder.decode(N,this._parseBuffer);if(U=this._parser.parse(this._parseBuffer,M))return this._preserveStack(F,ee,M,0),this._logSlowResolvingAsync(U),U}this._activeBuffer.x===F&&this._activeBuffer.y===ee||this._onCursorMove.fire();const ve=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),j=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);j<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(j,this._bufferService.rows-1),Math.min(ve,this._bufferService.rows-1))}print(N,I,U){let F,ee;const ue=this._charsetService.charset,he=this._optionsService.rawOptions.screenReaderMode,ve=this._bufferService.cols,j=this._coreService.decPrivateModes.wraparound,M=this._coreService.modes.insertMode,ne=this._curAttrData;let Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&U-I>0&&Y.getWidth(this._activeBuffer.x-1)===2&&Y.setCellFromCodepoint(this._activeBuffer.x-1,0,1,ne);let de=this._parser.precedingJoinState;for(let L=I;L<U;++L){if(F=N[L],F<127&&ue){const me=ue[String.fromCharCode(F)];me&&(F=me.charCodeAt(0))}const W=this._unicodeService.charProperties(F,de);ee=E.UnicodeService.extractWidth(W);const J=E.UnicodeService.extractShouldJoin(W),ae=J?E.UnicodeService.extractWidth(de):0;if(de=W,he&&this._onA11yChar.fire((0,S.stringFromCodePoint)(F)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+ee-ae>ve){if(j){const me=Y;let oe=this._activeBuffer.x-ae;for(this._activeBuffer.x=ae,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),ae>0&&Y instanceof C.BufferLine&&Y.copyCellsFrom(me,oe,0,ae,!1);oe<ve;)me.setCellFromCodepoint(oe++,0,1,ne)}else if(this._activeBuffer.x=ve-1,ee===2)continue}if(J&&this._activeBuffer.x){const me=Y.getWidth(this._activeBuffer.x-1)?1:2;Y.addCodepointToCell(this._activeBuffer.x-me,F,ee);for(let oe=ee-ae;--oe>=0;)Y.setCellFromCodepoint(this._activeBuffer.x++,0,0,ne)}else if(M&&(Y.insertCells(this._activeBuffer.x,ee-ae,this._activeBuffer.getNullCell(ne)),Y.getWidth(ve-1)===2&&Y.setCellFromCodepoint(ve-1,b.NULL_CELL_CODE,b.NULL_CELL_WIDTH,ne)),Y.setCellFromCodepoint(this._activeBuffer.x++,F,ee,ne),ee>0)for(;--ee;)Y.setCellFromCodepoint(this._activeBuffer.x++,0,0,ne)}this._parser.precedingJoinState=de,this._activeBuffer.x<ve&&U-I>0&&Y.getWidth(this._activeBuffer.x)===0&&!Y.hasContent(this._activeBuffer.x)&&Y.setCellFromCodepoint(this._activeBuffer.x,0,1,ne),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(N,I){return N.final!=="t"||N.prefix||N.intermediates?this._parser.registerCsiHandler(N,I):this._parser.registerCsiHandler(N,U=>!O(U.params[0],this._optionsService.rawOptions.windowOptions)||I(U))}registerDcsHandler(N,I){return this._parser.registerDcsHandler(N,new k.DcsHandler(I))}registerEscHandler(N,I){return this._parser.registerEscHandler(N,I)}registerOscHandler(N,I){return this._parser.registerOscHandler(N,new T.OscHandler(I))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var N;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))!=null&&N.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);I.hasWidth(this._activeBuffer.x)&&!I.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const N=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-N),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(N=this._bufferService.cols-1){this._activeBuffer.x=Math.min(N,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(N,I){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=N,this._activeBuffer.y=this._activeBuffer.scrollTop+I):(this._activeBuffer.x=N,this._activeBuffer.y=I),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(N,I){this._restrictCursor(),this._setCursor(this._activeBuffer.x+N,this._activeBuffer.y+I)}cursorUp(N){const I=this._activeBuffer.y-this._activeBuffer.scrollTop;return I>=0?this._moveCursor(0,-Math.min(I,N.params[0]||1)):this._moveCursor(0,-(N.params[0]||1)),!0}cursorDown(N){const I=this._activeBuffer.scrollBottom-this._activeBuffer.y;return I>=0?this._moveCursor(0,Math.min(I,N.params[0]||1)):this._moveCursor(0,N.params[0]||1),!0}cursorForward(N){return this._moveCursor(N.params[0]||1,0),!0}cursorBackward(N){return this._moveCursor(-(N.params[0]||1),0),!0}cursorNextLine(N){return this.cursorDown(N),this._activeBuffer.x=0,!0}cursorPrecedingLine(N){return this.cursorUp(N),this._activeBuffer.x=0,!0}cursorCharAbsolute(N){return this._setCursor((N.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(N){return this._setCursor(N.length>=2?(N.params[1]||1)-1:0,(N.params[0]||1)-1),!0}charPosAbsolute(N){return this._setCursor((N.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(N){return this._moveCursor(N.params[0]||1,0),!0}linePosAbsolute(N){return this._setCursor(this._activeBuffer.x,(N.params[0]||1)-1),!0}vPositionRelative(N){return this._moveCursor(0,N.params[0]||1),!0}hVPosition(N){return this.cursorPosition(N),!0}tabClear(N){const I=N.params[0];return I===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:I===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(N){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let I=N.params[0]||1;for(;I--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(N){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let I=N.params[0]||1;for(;I--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(N){const I=N.params[0];return I===1&&(this._curAttrData.bg|=536870912),I!==2&&I!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(N,I,U,F=!1,ee=!1){const ue=this._activeBuffer.lines.get(this._activeBuffer.ybase+N);ue.replaceCells(I,U,this._activeBuffer.getNullCell(this._eraseAttrData()),ee),F&&(ue.isWrapped=!1)}_resetBufferLine(N,I=!1){const U=this._activeBuffer.lines.get(this._activeBuffer.ybase+N);U&&(U.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),I),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+N),U.isWrapped=!1)}eraseInDisplay(N,I=!1){let U;switch(this._restrictCursor(this._bufferService.cols),N.params[0]){case 0:for(U=this._activeBuffer.y,this._dirtyRowTracker.markDirty(U),this._eraseInBufferLine(U++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,I);U<this._bufferService.rows;U++)this._resetBufferLine(U,I);this._dirtyRowTracker.markDirty(U);break;case 1:for(U=this._activeBuffer.y,this._dirtyRowTracker.markDirty(U),this._eraseInBufferLine(U,0,this._activeBuffer.x+1,!0,I),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(U+1).isWrapped=!1);U--;)this._resetBufferLine(U,I);this._dirtyRowTracker.markDirty(0);break;case 2:for(U=this._bufferService.rows,this._dirtyRowTracker.markDirty(U-1);U--;)this._resetBufferLine(U,I);this._dirtyRowTracker.markDirty(0);break;case 3:const F=this._activeBuffer.lines.length-this._bufferService.rows;F>0&&(this._activeBuffer.lines.trimStart(F),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-F,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-F,0),this._onScroll.fire(0))}return!0}eraseInLine(N,I=!1){switch(this._restrictCursor(this._bufferService.cols),N.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,I);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,I);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,I)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(N){this._restrictCursor();let I=N.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const U=this._activeBuffer.ybase+this._activeBuffer.y,F=this._bufferService.rows-1-this._activeBuffer.scrollBottom,ee=this._bufferService.rows-1+this._activeBuffer.ybase-F+1;for(;I--;)this._activeBuffer.lines.splice(ee-1,1),this._activeBuffer.lines.splice(U,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(N){this._restrictCursor();let I=N.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const U=this._activeBuffer.ybase+this._activeBuffer.y;let F;for(F=this._bufferService.rows-1-this._activeBuffer.scrollBottom,F=this._bufferService.rows-1+this._activeBuffer.ybase-F;I--;)this._activeBuffer.lines.splice(U,1),this._activeBuffer.lines.splice(F,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(N){this._restrictCursor();const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.insertCells(this._activeBuffer.x,N.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(N){this._restrictCursor();const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.deleteCells(this._activeBuffer.x,N.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(N){let I=N.params[0]||1;for(;I--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(N){let I=N.params[0]||1;for(;I--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(C.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(N){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=N.params[0]||1;for(let U=this._activeBuffer.scrollTop;U<=this._activeBuffer.scrollBottom;++U){const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);F.deleteCells(0,I,this._activeBuffer.getNullCell(this._eraseAttrData())),F.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(N){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=N.params[0]||1;for(let U=this._activeBuffer.scrollTop;U<=this._activeBuffer.scrollBottom;++U){const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);F.insertCells(0,I,this._activeBuffer.getNullCell(this._eraseAttrData())),F.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(N){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=N.params[0]||1;for(let U=this._activeBuffer.scrollTop;U<=this._activeBuffer.scrollBottom;++U){const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);F.insertCells(this._activeBuffer.x,I,this._activeBuffer.getNullCell(this._eraseAttrData())),F.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(N){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=N.params[0]||1;for(let U=this._activeBuffer.scrollTop;U<=this._activeBuffer.scrollBottom;++U){const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);F.deleteCells(this._activeBuffer.x,I,this._activeBuffer.getNullCell(this._eraseAttrData())),F.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(N){this._restrictCursor();const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(N.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(N){const I=this._parser.precedingJoinState;if(!I)return!0;const U=N.params[0]||1,F=E.UnicodeService.extractWidth(I),ee=this._activeBuffer.x-F,ue=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(ee),he=new Uint32Array(ue.length*U);let ve=0;for(let M=0;M<ue.length;){const ne=ue.codePointAt(M)||0;he[ve++]=ne,M+=ne>65535?2:1}let j=ve;for(let M=1;M<U;++M)he.copyWithin(j,0,ve),j+=ve;return this.print(he,0,j),!0}sendDeviceAttributesPrimary(N){return N.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(m.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(m.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(N){return N.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(m.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(m.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(N.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(m.C0.ESC+"[>83;40003;0c")),!0}_is(N){return(this._optionsService.rawOptions.termName+"").indexOf(N)===0}setMode(N){for(let I=0;I<N.length;I++)switch(N.params[I]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(N){for(let I=0;I<N.length;I++)switch(N.params[I]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),this._charsetService.setgCharset(1,g.DEFAULT_CHARSET),this._charsetService.setgCharset(2,g.DEFAULT_CHARSET),this._charsetService.setgCharset(3,g.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(N){for(let I=0;I<N.length;I++)switch(N.params[I]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(N){for(let I=0;I<N.length;I++)switch(N.params[I]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),N.params[I]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(N,I){const U=this._coreService.decPrivateModes,{activeProtocol:F,activeEncoding:ee}=this._coreMouseService,ue=this._coreService,{buffers:he,cols:ve}=this._bufferService,{active:j,alt:M}=he,ne=this._optionsService.rawOptions,Y=J=>J?1:2,de=N.params[0];return L=de,W=I?de===2?4:de===4?Y(ue.modes.insertMode):de===12?3:de===20?Y(ne.convertEol):0:de===1?Y(U.applicationCursorKeys):de===3?ne.windowOptions.setWinLines?ve===80?2:ve===132?1:0:0:de===6?Y(U.origin):de===7?Y(U.wraparound):de===8?3:de===9?Y(F==="X10"):de===12?Y(ne.cursorBlink):de===25?Y(!ue.isCursorHidden):de===45?Y(U.reverseWraparound):de===66?Y(U.applicationKeypad):de===67?4:de===1e3?Y(F==="VT200"):de===1002?Y(F==="DRAG"):de===1003?Y(F==="ANY"):de===1004?Y(U.sendFocus):de===1005?4:de===1006?Y(ee==="SGR"):de===1015?4:de===1016?Y(ee==="SGR_PIXELS"):de===1048?1:de===47||de===1047||de===1049?Y(j===M):de===2004?Y(U.bracketedPasteMode):0,ue.triggerDataEvent(`${m.C0.ESC}[${I?"":"?"}${L};${W}$y`),!0;var L,W}_updateAttrColor(N,I,U,F,ee){return I===2?(N|=50331648,N&=-16777216,N|=w.AttributeData.fromColorRGB([U,F,ee])):I===5&&(N&=-50331904,N|=33554432|255&U),N}_extractColor(N,I,U){const F=[0,0,-1,0,0,0];let ee=0,ue=0;do{if(F[ue+ee]=N.params[I+ue],N.hasSubParams(I+ue)){const he=N.getSubParams(I+ue);let ve=0;do F[1]===5&&(ee=1),F[ue+ve+1+ee]=he[ve];while(++ve<he.length&&ve+ue+1+ee<F.length);break}if(F[1]===5&&ue+ee>=2||F[1]===2&&ue+ee>=5)break;F[1]&&(ee=1)}while(++ue+I<N.length&&ue+ee<F.length);for(let he=2;he<F.length;++he)F[he]===-1&&(F[he]=0);switch(F[0]){case 38:U.fg=this._updateAttrColor(U.fg,F[1],F[3],F[4],F[5]);break;case 48:U.bg=this._updateAttrColor(U.bg,F[1],F[3],F[4],F[5]);break;case 58:U.extended=U.extended.clone(),U.extended.underlineColor=this._updateAttrColor(U.extended.underlineColor,F[1],F[3],F[4],F[5])}return ue}_processUnderline(N,I){I.extended=I.extended.clone(),(!~N||N>5)&&(N=1),I.extended.underlineStyle=N,I.fg|=268435456,N===0&&(I.fg&=-268435457),I.updateExtended()}_processSGR0(N){N.fg=C.DEFAULT_ATTR_DATA.fg,N.bg=C.DEFAULT_ATTR_DATA.bg,N.extended=N.extended.clone(),N.extended.underlineStyle=0,N.extended.underlineColor&=-67108864,N.updateExtended()}charAttributes(N){if(N.length===1&&N.params[0]===0)return this._processSGR0(this._curAttrData),!0;const I=N.length;let U;const F=this._curAttrData;for(let ee=0;ee<I;ee++)U=N.params[ee],U>=30&&U<=37?(F.fg&=-50331904,F.fg|=16777216|U-30):U>=40&&U<=47?(F.bg&=-50331904,F.bg|=16777216|U-40):U>=90&&U<=97?(F.fg&=-50331904,F.fg|=16777224|U-90):U>=100&&U<=107?(F.bg&=-50331904,F.bg|=16777224|U-100):U===0?this._processSGR0(F):U===1?F.fg|=134217728:U===3?F.bg|=67108864:U===4?(F.fg|=268435456,this._processUnderline(N.hasSubParams(ee)?N.getSubParams(ee)[0]:1,F)):U===5?F.fg|=536870912:U===7?F.fg|=67108864:U===8?F.fg|=1073741824:U===9?F.fg|=2147483648:U===2?F.bg|=134217728:U===21?this._processUnderline(2,F):U===22?(F.fg&=-134217729,F.bg&=-134217729):U===23?F.bg&=-67108865:U===24?(F.fg&=-268435457,this._processUnderline(0,F)):U===25?F.fg&=-536870913:U===27?F.fg&=-67108865:U===28?F.fg&=-1073741825:U===29?F.fg&=2147483647:U===39?(F.fg&=-67108864,F.fg|=16777215&C.DEFAULT_ATTR_DATA.fg):U===49?(F.bg&=-67108864,F.bg|=16777215&C.DEFAULT_ATTR_DATA.bg):U===38||U===48||U===58?ee+=this._extractColor(N,ee,F):U===53?F.bg|=1073741824:U===55?F.bg&=-1073741825:U===59?(F.extended=F.extended.clone(),F.extended.underlineColor=-1,F.updateExtended()):U===100?(F.fg&=-67108864,F.fg|=16777215&C.DEFAULT_ATTR_DATA.fg,F.bg&=-67108864,F.bg|=16777215&C.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",U);return!0}deviceStatus(N){switch(N.params[0]){case 5:this._coreService.triggerDataEvent(`${m.C0.ESC}[0n`);break;case 6:const I=this._activeBuffer.y+1,U=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${m.C0.ESC}[${I};${U}R`)}return!0}deviceStatusPrivate(N){if(N.params[0]===6){const I=this._activeBuffer.y+1,U=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${m.C0.ESC}[?${I};${U}R`)}return!0}softReset(N){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=C.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(N){const I=N.params[0]||1;switch(I){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const U=I%2==1;return this._optionsService.options.cursorBlink=U,!0}setScrollRegion(N){const I=N.params[0]||1;let U;return(N.length<2||(U=N.params[1])>this._bufferService.rows||U===0)&&(U=this._bufferService.rows),U>I&&(this._activeBuffer.scrollTop=I-1,this._activeBuffer.scrollBottom=U-1,this._setCursor(0,0)),!0}windowOptions(N){if(!O(N.params[0],this._optionsService.rawOptions.windowOptions))return!0;const I=N.length>1?N.params[1]:0;switch(N.params[0]){case 14:I!==2&&this._onRequestWindowsOptionsReport.fire(V.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(V.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${m.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:I!==0&&I!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),I!==0&&I!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:I!==0&&I!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),I!==0&&I!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(N){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(N){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(N){return this._windowTitle=N,this._onTitleChange.fire(N),!0}setIconName(N){return this._iconName=N,!0}setOrReportIndexedColor(N){const I=[],U=N.split(";");for(;U.length>1;){const F=U.shift(),ee=U.shift();if(/^\d+$/.exec(F)){const ue=parseInt(F);if(Q(ue))if(ee==="?")I.push({type:0,index:ue});else{const he=(0,D.parseColor)(ee);he&&I.push({type:1,index:ue,color:he})}}}return I.length&&this._onColor.fire(I),!0}setHyperlink(N){const I=N.split(";");return!(I.length<2)&&(I[1]?this._createHyperlink(I[0],I[1]):!I[0]&&this._finishHyperlink())}_createHyperlink(N,I){this._getCurrentLinkId()&&this._finishHyperlink();const U=N.split(":");let F;const ee=U.findIndex(ue=>ue.startsWith("id="));return ee!==-1&&(F=U[ee].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:F,uri:I}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(N,I){const U=N.split(";");for(let F=0;F<U.length&&!(I>=this._specialColors.length);++F,++I)if(U[F]==="?")this._onColor.fire([{type:0,index:this._specialColors[I]}]);else{const ee=(0,D.parseColor)(U[F]);ee&&this._onColor.fire([{type:1,index:this._specialColors[I],color:ee}])}return!0}setOrReportFgColor(N){return this._setOrReportSpecialColor(N,0)}setOrReportBgColor(N){return this._setOrReportSpecialColor(N,1)}setOrReportCursorColor(N){return this._setOrReportSpecialColor(N,2)}restoreIndexedColor(N){if(!N)return this._onColor.fire([{type:2}]),!0;const I=[],U=N.split(";");for(let F=0;F<U.length;++F)if(/^\d+$/.exec(U[F])){const ee=parseInt(U[F]);Q(ee)&&I.push({type:2,index:ee})}return I.length&&this._onColor.fire(I),!0}restoreFgColor(N){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(N){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(N){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),!0}selectCharset(N){return N.length!==2?(this.selectDefaultCharset(),!0):(N[0]==="/"||this._charsetService.setgCharset(B[N[0]],g.CHARSETS[N[1]]||g.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const N=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,N,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=C.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=C.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(N){return this._charsetService.setgLevel(N),!0}screenAlignmentPattern(){const N=new u.CellData;N.content=4194373,N.fg=this._curAttrData.fg,N.bg=this._curAttrData.bg,this._setCursor(0,0);for(let I=0;I<this._bufferService.rows;++I){const U=this._activeBuffer.ybase+this._activeBuffer.y+I,F=this._activeBuffer.lines.get(U);F&&(F.fill(N),F.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(N,I){const U=this._bufferService.buffer,F=this._optionsService.rawOptions;return(ee=>(this._coreService.triggerDataEvent(`${m.C0.ESC}${ee}${m.C0.ESC}\\`),!0))(N==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:N==='"p'?'P1$r61;1"p':N==="r"?`P1$r${U.scrollTop+1};${U.scrollBottom+1}r`:N==="m"?"P1$r0m":N===" q"?`P1$r${{block:2,underline:4,bar:6}[F.cursorStyle]-(F.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(N,I){this._dirtyRowTracker.markRangeDirty(N,I)}}s.InputHandler=q;let K=class{constructor(X){this._bufferService=X,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(X){X<this.start?this.start=X:X>this.end&&(this.end=X)}markRangeDirty(X,N){X>N&&(H=X,X=N,N=H),X<this.start&&(this.start=X),N>this.end&&(this.end=N)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function Q(X){return 0<=X&&X<256}K=c([d(0,x.IBufferService)],K)},844:(a,s)=>{function l(c){for(const d of c)d.dispose();c.length=0}Object.defineProperty(s,"__esModule",{value:!0}),s.getDisposeArrayDisposable=s.disposeArray=s.toDisposable=s.MutableDisposable=s.Disposable=void 0,s.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const c of this._disposables)c.dispose();this._disposables.length=0}register(c){return this._disposables.push(c),c}unregister(c){const d=this._disposables.indexOf(c);d!==-1&&this._disposables.splice(d,1)}},s.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(c){var d;this._isDisposed||c===this._value||((d=this._value)==null||d.dispose(),this._value=c)}clear(){this.value=void 0}dispose(){var c;this._isDisposed=!0,(c=this._value)==null||c.dispose(),this._value=void 0}},s.toDisposable=function(c){return{dispose:c}},s.disposeArray=l,s.getDisposeArrayDisposable=function(c){return{dispose:()=>l(c)}}},1505:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FourKeyMap=s.TwoKeyMap=void 0;class l{constructor(){this._data={}}set(d,m,g){this._data[d]||(this._data[d]={}),this._data[d][m]=g}get(d,m){return this._data[d]?this._data[d][m]:void 0}clear(){this._data={}}}s.TwoKeyMap=l,s.FourKeyMap=class{constructor(){this._data=new l}set(c,d,m,g,v){this._data.get(c,d)||this._data.set(c,d,new l),this._data.get(c,d).set(m,g,v)}get(c,d,m,g){var v;return(v=this._data.get(c,d))==null?void 0:v.get(m,g)}clear(){this._data.clear()}}},6114:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isChromeOS=s.isLinux=s.isWindows=s.isIphone=s.isIpad=s.isMac=s.getSafariVersion=s.isSafari=s.isLegacyEdge=s.isFirefox=s.isNode=void 0,s.isNode=typeof process<"u"&&"title"in process;const l=s.isNode?"node":navigator.userAgent,c=s.isNode?"node":navigator.platform;s.isFirefox=l.includes("Firefox"),s.isLegacyEdge=l.includes("Edge"),s.isSafari=/^((?!chrome|android).)*safari/i.test(l),s.getSafariVersion=function(){if(!s.isSafari)return 0;const d=l.match(/Version\/(\d+)/);return d===null||d.length<2?0:parseInt(d[1])},s.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(c),s.isIpad=c==="iPad",s.isIphone=c==="iPhone",s.isWindows=["Windows","Win16","Win32","WinCE"].includes(c),s.isLinux=c.indexOf("Linux")>=0,s.isChromeOS=/\bCrOS\b/.test(l)},6106:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SortedList=void 0;let l=0;s.SortedList=class{constructor(c){this._getKey=c,this._array=[]}clear(){this._array.length=0}insert(c){this._array.length!==0?(l=this._search(this._getKey(c)),this._array.splice(l,0,c)):this._array.push(c)}delete(c){if(this._array.length===0)return!1;const d=this._getKey(c);if(d===void 0||(l=this._search(d),l===-1)||this._getKey(this._array[l])!==d)return!1;do if(this._array[l]===c)return this._array.splice(l,1),!0;while(++l<this._array.length&&this._getKey(this._array[l])===d);return!1}*getKeyIterator(c){if(this._array.length!==0&&(l=this._search(c),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===c))do yield this._array[l];while(++l<this._array.length&&this._getKey(this._array[l])===c)}forEachByKey(c,d){if(this._array.length!==0&&(l=this._search(c),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===c))do d(this._array[l]);while(++l<this._array.length&&this._getKey(this._array[l])===c)}values(){return[...this._array].values()}_search(c){let d=0,m=this._array.length-1;for(;m>=d;){let g=d+m>>1;const v=this._getKey(this._array[g]);if(v>c)m=g-1;else{if(!(v<c)){for(;g>0&&this._getKey(this._array[g-1])===c;)g--;return g}d=g+1}}return d}}},7226:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DebouncedIdleTask=s.IdleTaskQueue=s.PriorityTaskQueue=void 0;const c=l(6114);class d{constructor(){this._tasks=[],this._i=0}enqueue(v){this._tasks.push(v),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(v){this._idleCallback=void 0;let _=0,S=0,C=v.timeRemaining(),y=0;for(;this._i<this._tasks.length;){if(_=Date.now(),this._tasks[this._i]()||this._i++,_=Math.max(1,Date.now()-_),S=Math.max(_,S),y=v.timeRemaining(),1.5*S>y)return C-_<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(C-_))}ms`),void this._start();C=y}this.clear()}}class m extends d{_requestCallback(v){return setTimeout(()=>v(this._createDeadline(16)))}_cancelCallback(v){clearTimeout(v)}_createDeadline(v){const _=Date.now()+v;return{timeRemaining:()=>Math.max(0,_-Date.now())}}}s.PriorityTaskQueue=m,s.IdleTaskQueue=!c.isNode&&"requestIdleCallback"in window?class extends d{_requestCallback(g){return requestIdleCallback(g)}_cancelCallback(g){cancelIdleCallback(g)}}:m,s.DebouncedIdleTask=class{constructor(){this._queue=new s.IdleTaskQueue}set(g){this._queue.clear(),this._queue.enqueue(g)}flush(){this._queue.flush()}}},9282:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateWindowsModeWrappedState=void 0;const c=l(643);s.updateWindowsModeWrappedState=function(d){const m=d.buffer.lines.get(d.buffer.ybase+d.buffer.y-1),g=m==null?void 0:m.get(d.cols-1),v=d.buffer.lines.get(d.buffer.ybase+d.buffer.y);v&&g&&(v.isWrapped=g[c.CHAR_DATA_CODE_INDEX]!==c.NULL_CELL_CODE&&g[c.CHAR_DATA_CODE_INDEX]!==c.WHITESPACE_CELL_CODE)}},3734:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ExtendedAttrs=s.AttributeData=void 0;class l{constructor(){this.fg=0,this.bg=0,this.extended=new c}static toColorRGB(m){return[m>>>16&255,m>>>8&255,255&m]}static fromColorRGB(m){return(255&m[0])<<16|(255&m[1])<<8|255&m[2]}clone(){const m=new l;return m.fg=this.fg,m.bg=this.bg,m.extended=this.extended.clone(),m}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}s.AttributeData=l;class c{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(m){this._ext=m}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(m){this._ext&=-469762049,this._ext|=m<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(m){this._ext&=-67108864,this._ext|=67108863&m}get urlId(){return this._urlId}set urlId(m){this._urlId=m}get underlineVariantOffset(){const m=(3758096384&this._ext)>>29;return m<0?4294967288^m:m}set underlineVariantOffset(m){this._ext&=536870911,this._ext|=m<<29&3758096384}constructor(m=0,g=0){this._ext=0,this._urlId=0,this._ext=m,this._urlId=g}clone(){return new c(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}s.ExtendedAttrs=c},9092:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Buffer=s.MAX_BUFFER_SIZE=void 0;const c=l(6349),d=l(7226),m=l(3734),g=l(8437),v=l(4634),_=l(511),S=l(643),C=l(4863),y=l(7116);s.MAX_BUFFER_SIZE=4294967295,s.Buffer=class{constructor(b,u,w){this._hasScrollback=b,this._optionsService=u,this._bufferService=w,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=g.DEFAULT_ATTR_DATA.clone(),this.savedCharset=y.DEFAULT_CHARSET,this.markers=[],this._nullCell=_.CellData.fromCharData([0,S.NULL_CELL_CHAR,S.NULL_CELL_WIDTH,S.NULL_CELL_CODE]),this._whitespaceCell=_.CellData.fromCharData([0,S.WHITESPACE_CELL_CHAR,S.WHITESPACE_CELL_WIDTH,S.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new d.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(b){return b?(this._nullCell.fg=b.fg,this._nullCell.bg=b.bg,this._nullCell.extended=b.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new m.ExtendedAttrs),this._nullCell}getWhitespaceCell(b){return b?(this._whitespaceCell.fg=b.fg,this._whitespaceCell.bg=b.bg,this._whitespaceCell.extended=b.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new m.ExtendedAttrs),this._whitespaceCell}getBlankLine(b,u){return new g.BufferLine(this._bufferService.cols,this.getNullCell(b),u)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const b=this.ybase+this.y-this.ydisp;return b>=0&&b<this._rows}_getCorrectBufferLength(b){if(!this._hasScrollback)return b;const u=b+this._optionsService.rawOptions.scrollback;return u>s.MAX_BUFFER_SIZE?s.MAX_BUFFER_SIZE:u}fillViewportRows(b){if(this.lines.length===0){b===void 0&&(b=g.DEFAULT_ATTR_DATA);let u=this._rows;for(;u--;)this.lines.push(this.getBlankLine(b))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(b,u){const w=this.getNullCell(g.DEFAULT_ATTR_DATA);let x=0;const E=this._getCorrectBufferLength(u);if(E>this.lines.maxLength&&(this.lines.maxLength=E),this.lines.length>0){if(this._cols<b)for(let k=0;k<this.lines.length;k++)x+=+this.lines.get(k).resize(b,w);let T=0;if(this._rows<u)for(let k=this._rows;k<u;k++)this.lines.length<u+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new g.BufferLine(b,w)):this.ybase>0&&this.lines.length<=this.ybase+this.y+T+1?(this.ybase--,T++,this.ydisp>0&&this.ydisp--):this.lines.push(new g.BufferLine(b,w)));else for(let k=this._rows;k>u;k--)this.lines.length>u+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(E<this.lines.maxLength){const k=this.lines.length-E;k>0&&(this.lines.trimStart(k),this.ybase=Math.max(this.ybase-k,0),this.ydisp=Math.max(this.ydisp-k,0),this.savedY=Math.max(this.savedY-k,0)),this.lines.maxLength=E}this.x=Math.min(this.x,b-1),this.y=Math.min(this.y,u-1),T&&(this.y+=T),this.savedX=Math.min(this.savedX,b-1),this.scrollTop=0}if(this.scrollBottom=u-1,this._isReflowEnabled&&(this._reflow(b,u),this._cols>b))for(let T=0;T<this.lines.length;T++)x+=+this.lines.get(T).resize(b,w);this._cols=b,this._rows=u,this._memoryCleanupQueue.clear(),x>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let b=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,b=!1);let u=0;for(;this._memoryCleanupPosition<this.lines.length;)if(u+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),u>100)return!0;return b}get _isReflowEnabled(){const b=this._optionsService.rawOptions.windowsPty;return b&&b.buildNumber?this._hasScrollback&&b.backend==="conpty"&&b.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(b,u){this._cols!==b&&(b>this._cols?this._reflowLarger(b,u):this._reflowSmaller(b,u))}_reflowLarger(b,u){const w=(0,v.reflowLargerGetLinesToRemove)(this.lines,this._cols,b,this.ybase+this.y,this.getNullCell(g.DEFAULT_ATTR_DATA));if(w.length>0){const x=(0,v.reflowLargerCreateNewLayout)(this.lines,w);(0,v.reflowLargerApplyNewLayout)(this.lines,x.layout),this._reflowLargerAdjustViewport(b,u,x.countRemoved)}}_reflowLargerAdjustViewport(b,u,w){const x=this.getNullCell(g.DEFAULT_ATTR_DATA);let E=w;for(;E-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<u&&this.lines.push(new g.BufferLine(b,x))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-w,0)}_reflowSmaller(b,u){const w=this.getNullCell(g.DEFAULT_ATTR_DATA),x=[];let E=0;for(let T=this.lines.length-1;T>=0;T--){let k=this.lines.get(T);if(!k||!k.isWrapped&&k.getTrimmedLength()<=b)continue;const D=[k];for(;k.isWrapped&&T>0;)k=this.lines.get(--T),D.unshift(k);const B=this.ybase+this.y;if(B>=T&&B<T+D.length)continue;const A=D[D.length-1].getTrimmedLength(),O=(0,v.reflowSmallerGetNewLineLengths)(D,this._cols,b),V=O.length-D.length;let H;H=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+V):Math.max(0,this.lines.length-this.lines.maxLength+V);const q=[];for(let U=0;U<V;U++){const F=this.getBlankLine(g.DEFAULT_ATTR_DATA,!0);q.push(F)}q.length>0&&(x.push({start:T+D.length+E,newLines:q}),E+=q.length),D.push(...q);let K=O.length-1,Q=O[K];Q===0&&(K--,Q=O[K]);let X=D.length-V-1,N=A;for(;X>=0;){const U=Math.min(N,Q);if(D[K]===void 0)break;if(D[K].copyCellsFrom(D[X],N-U,Q-U,U,!0),Q-=U,Q===0&&(K--,Q=O[K]),N-=U,N===0){X--;const F=Math.max(X,0);N=(0,v.getWrappedLineTrimmedLength)(D,F,this._cols)}}for(let U=0;U<D.length;U++)O[U]<b&&D[U].setCell(O[U],w);let I=V-H;for(;I-- >0;)this.ybase===0?this.y<u-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+E)-u&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+V,this.ybase+u-1)}if(x.length>0){const T=[],k=[];for(let K=0;K<this.lines.length;K++)k.push(this.lines.get(K));const D=this.lines.length;let B=D-1,A=0,O=x[A];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+E);let V=0;for(let K=Math.min(this.lines.maxLength-1,D+E-1);K>=0;K--)if(O&&O.start>B+V){for(let Q=O.newLines.length-1;Q>=0;Q--)this.lines.set(K--,O.newLines[Q]);K++,T.push({index:B+1,amount:O.newLines.length}),V+=O.newLines.length,O=x[++A]}else this.lines.set(K,k[B--]);let H=0;for(let K=T.length-1;K>=0;K--)T[K].index+=H,this.lines.onInsertEmitter.fire(T[K]),H+=T[K].amount;const q=Math.max(0,D+E-this.lines.maxLength);q>0&&this.lines.onTrimEmitter.fire(q)}}translateBufferLineToString(b,u,w=0,x){const E=this.lines.get(b);return E?E.translateToString(u,w,x):""}getWrappedRangeForLine(b){let u=b,w=b;for(;u>0&&this.lines.get(u).isWrapped;)u--;for(;w+1<this.lines.length&&this.lines.get(w+1).isWrapped;)w++;return{first:u,last:w}}setupTabStops(b){for(b!=null?this.tabs[b]||(b=this.prevStop(b)):(this.tabs={},b=0);b<this._cols;b+=this._optionsService.rawOptions.tabStopWidth)this.tabs[b]=!0}prevStop(b){for(b==null&&(b=this.x);!this.tabs[--b]&&b>0;);return b>=this._cols?this._cols-1:b<0?0:b}nextStop(b){for(b==null&&(b=this.x);!this.tabs[++b]&&b<this._cols;);return b>=this._cols?this._cols-1:b<0?0:b}clearMarkers(b){this._isClearing=!0;for(let u=0;u<this.markers.length;u++)this.markers[u].line===b&&(this.markers[u].dispose(),this.markers.splice(u--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let b=0;b<this.markers.length;b++)this.markers[b].dispose(),this.markers.splice(b--,1);this._isClearing=!1}addMarker(b){const u=new C.Marker(b);return this.markers.push(u),u.register(this.lines.onTrim(w=>{u.line-=w,u.line<0&&u.dispose()})),u.register(this.lines.onInsert(w=>{u.line>=w.index&&(u.line+=w.amount)})),u.register(this.lines.onDelete(w=>{u.line>=w.index&&u.line<w.index+w.amount&&u.dispose(),u.line>w.index&&(u.line-=w.amount)})),u.register(u.onDispose(()=>this._removeMarker(u))),u}_removeMarker(b){this._isClearing||this.markers.splice(this.markers.indexOf(b),1)}}},8437:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferLine=s.DEFAULT_ATTR_DATA=void 0;const c=l(3734),d=l(511),m=l(643),g=l(482);s.DEFAULT_ATTR_DATA=Object.freeze(new c.AttributeData);let v=0;class _{constructor(C,y,b=!1){this.isWrapped=b,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*C);const u=y||d.CellData.fromCharData([0,m.NULL_CELL_CHAR,m.NULL_CELL_WIDTH,m.NULL_CELL_CODE]);for(let w=0;w<C;++w)this.setCell(w,u);this.length=C}get(C){const y=this._data[3*C+0],b=2097151&y;return[this._data[3*C+1],2097152&y?this._combined[C]:b?(0,g.stringFromCodePoint)(b):"",y>>22,2097152&y?this._combined[C].charCodeAt(this._combined[C].length-1):b]}set(C,y){this._data[3*C+1]=y[m.CHAR_DATA_ATTR_INDEX],y[m.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[C]=y[1],this._data[3*C+0]=2097152|C|y[m.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*C+0]=y[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|y[m.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(C){return this._data[3*C+0]>>22}hasWidth(C){return 12582912&this._data[3*C+0]}getFg(C){return this._data[3*C+1]}getBg(C){return this._data[3*C+2]}hasContent(C){return 4194303&this._data[3*C+0]}getCodePoint(C){const y=this._data[3*C+0];return 2097152&y?this._combined[C].charCodeAt(this._combined[C].length-1):2097151&y}isCombined(C){return 2097152&this._data[3*C+0]}getString(C){const y=this._data[3*C+0];return 2097152&y?this._combined[C]:2097151&y?(0,g.stringFromCodePoint)(2097151&y):""}isProtected(C){return 536870912&this._data[3*C+2]}loadCell(C,y){return v=3*C,y.content=this._data[v+0],y.fg=this._data[v+1],y.bg=this._data[v+2],2097152&y.content&&(y.combinedData=this._combined[C]),268435456&y.bg&&(y.extended=this._extendedAttrs[C]),y}setCell(C,y){2097152&y.content&&(this._combined[C]=y.combinedData),268435456&y.bg&&(this._extendedAttrs[C]=y.extended),this._data[3*C+0]=y.content,this._data[3*C+1]=y.fg,this._data[3*C+2]=y.bg}setCellFromCodepoint(C,y,b,u){268435456&u.bg&&(this._extendedAttrs[C]=u.extended),this._data[3*C+0]=y|b<<22,this._data[3*C+1]=u.fg,this._data[3*C+2]=u.bg}addCodepointToCell(C,y,b){let u=this._data[3*C+0];2097152&u?this._combined[C]+=(0,g.stringFromCodePoint)(y):2097151&u?(this._combined[C]=(0,g.stringFromCodePoint)(2097151&u)+(0,g.stringFromCodePoint)(y),u&=-2097152,u|=2097152):u=y|4194304,b&&(u&=-12582913,u|=b<<22),this._data[3*C+0]=u}insertCells(C,y,b){if((C%=this.length)&&this.getWidth(C-1)===2&&this.setCellFromCodepoint(C-1,0,1,b),y<this.length-C){const u=new d.CellData;for(let w=this.length-C-y-1;w>=0;--w)this.setCell(C+y+w,this.loadCell(C+w,u));for(let w=0;w<y;++w)this.setCell(C+w,b)}else for(let u=C;u<this.length;++u)this.setCell(u,b);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,b)}deleteCells(C,y,b){if(C%=this.length,y<this.length-C){const u=new d.CellData;for(let w=0;w<this.length-C-y;++w)this.setCell(C+w,this.loadCell(C+y+w,u));for(let w=this.length-y;w<this.length;++w)this.setCell(w,b)}else for(let u=C;u<this.length;++u)this.setCell(u,b);C&&this.getWidth(C-1)===2&&this.setCellFromCodepoint(C-1,0,1,b),this.getWidth(C)!==0||this.hasContent(C)||this.setCellFromCodepoint(C,0,1,b)}replaceCells(C,y,b,u=!1){if(u)for(C&&this.getWidth(C-1)===2&&!this.isProtected(C-1)&&this.setCellFromCodepoint(C-1,0,1,b),y<this.length&&this.getWidth(y-1)===2&&!this.isProtected(y)&&this.setCellFromCodepoint(y,0,1,b);C<y&&C<this.length;)this.isProtected(C)||this.setCell(C,b),C++;else for(C&&this.getWidth(C-1)===2&&this.setCellFromCodepoint(C-1,0,1,b),y<this.length&&this.getWidth(y-1)===2&&this.setCellFromCodepoint(y,0,1,b);C<y&&C<this.length;)this.setCell(C++,b)}resize(C,y){if(C===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const b=3*C;if(C>this.length){if(this._data.buffer.byteLength>=4*b)this._data=new Uint32Array(this._data.buffer,0,b);else{const u=new Uint32Array(b);u.set(this._data),this._data=u}for(let u=this.length;u<C;++u)this.setCell(u,y)}else{this._data=this._data.subarray(0,b);const u=Object.keys(this._combined);for(let x=0;x<u.length;x++){const E=parseInt(u[x],10);E>=C&&delete this._combined[E]}const w=Object.keys(this._extendedAttrs);for(let x=0;x<w.length;x++){const E=parseInt(w[x],10);E>=C&&delete this._extendedAttrs[E]}}return this.length=C,4*b*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const C=new Uint32Array(this._data.length);return C.set(this._data),this._data=C,1}return 0}fill(C,y=!1){if(y)for(let b=0;b<this.length;++b)this.isProtected(b)||this.setCell(b,C);else{this._combined={},this._extendedAttrs={};for(let b=0;b<this.length;++b)this.setCell(b,C)}}copyFrom(C){this.length!==C.length?this._data=new Uint32Array(C._data):this._data.set(C._data),this.length=C.length,this._combined={};for(const y in C._combined)this._combined[y]=C._combined[y];this._extendedAttrs={};for(const y in C._extendedAttrs)this._extendedAttrs[y]=C._extendedAttrs[y];this.isWrapped=C.isWrapped}clone(){const C=new _(0);C._data=new Uint32Array(this._data),C.length=this.length;for(const y in this._combined)C._combined[y]=this._combined[y];for(const y in this._extendedAttrs)C._extendedAttrs[y]=this._extendedAttrs[y];return C.isWrapped=this.isWrapped,C}getTrimmedLength(){for(let C=this.length-1;C>=0;--C)if(4194303&this._data[3*C+0])return C+(this._data[3*C+0]>>22);return 0}getNoBgTrimmedLength(){for(let C=this.length-1;C>=0;--C)if(4194303&this._data[3*C+0]||50331648&this._data[3*C+2])return C+(this._data[3*C+0]>>22);return 0}copyCellsFrom(C,y,b,u,w){const x=C._data;if(w)for(let T=u-1;T>=0;T--){for(let k=0;k<3;k++)this._data[3*(b+T)+k]=x[3*(y+T)+k];268435456&x[3*(y+T)+2]&&(this._extendedAttrs[b+T]=C._extendedAttrs[y+T])}else for(let T=0;T<u;T++){for(let k=0;k<3;k++)this._data[3*(b+T)+k]=x[3*(y+T)+k];268435456&x[3*(y+T)+2]&&(this._extendedAttrs[b+T]=C._extendedAttrs[y+T])}const E=Object.keys(C._combined);for(let T=0;T<E.length;T++){const k=parseInt(E[T],10);k>=y&&(this._combined[k-y+b]=C._combined[k])}}translateToString(C,y,b,u){y=y??0,b=b??this.length,C&&(b=Math.min(b,this.getTrimmedLength())),u&&(u.length=0);let w="";for(;y<b;){const x=this._data[3*y+0],E=2097151&x,T=2097152&x?this._combined[y]:E?(0,g.stringFromCodePoint)(E):m.WHITESPACE_CELL_CHAR;if(w+=T,u)for(let k=0;k<T.length;++k)u.push(y);y+=x>>22||1}return u&&u.push(y),w}}s.BufferLine=_},4841:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getRangeLength=void 0,s.getRangeLength=function(l,c){if(l.start.y>l.end.y)throw new Error(`Buffer range end (${l.end.x}, ${l.end.y}) cannot be before start (${l.start.x}, ${l.start.y})`);return c*(l.end.y-l.start.y)+(l.end.x-l.start.x+1)}},4634:(a,s)=>{function l(c,d,m){if(d===c.length-1)return c[d].getTrimmedLength();const g=!c[d].hasContent(m-1)&&c[d].getWidth(m-1)===1,v=c[d+1].getWidth(0)===2;return g&&v?m-1:m}Object.defineProperty(s,"__esModule",{value:!0}),s.getWrappedLineTrimmedLength=s.reflowSmallerGetNewLineLengths=s.reflowLargerApplyNewLayout=s.reflowLargerCreateNewLayout=s.reflowLargerGetLinesToRemove=void 0,s.reflowLargerGetLinesToRemove=function(c,d,m,g,v){const _=[];for(let S=0;S<c.length-1;S++){let C=S,y=c.get(++C);if(!y.isWrapped)continue;const b=[c.get(S)];for(;C<c.length&&y.isWrapped;)b.push(y),y=c.get(++C);if(g>=S&&g<C){S+=b.length-1;continue}let u=0,w=l(b,u,d),x=1,E=0;for(;x<b.length;){const k=l(b,x,d),D=k-E,B=m-w,A=Math.min(D,B);b[u].copyCellsFrom(b[x],E,w,A,!1),w+=A,w===m&&(u++,w=0),E+=A,E===k&&(x++,E=0),w===0&&u!==0&&b[u-1].getWidth(m-1)===2&&(b[u].copyCellsFrom(b[u-1],m-1,w++,1,!1),b[u-1].setCell(m-1,v))}b[u].replaceCells(w,m,v);let T=0;for(let k=b.length-1;k>0&&(k>u||b[k].getTrimmedLength()===0);k--)T++;T>0&&(_.push(S+b.length-T),_.push(T)),S+=b.length-1}return _},s.reflowLargerCreateNewLayout=function(c,d){const m=[];let g=0,v=d[g],_=0;for(let S=0;S<c.length;S++)if(v===S){const C=d[++g];c.onDeleteEmitter.fire({index:S-_,amount:C}),S+=C-1,_+=C,v=d[++g]}else m.push(S);return{layout:m,countRemoved:_}},s.reflowLargerApplyNewLayout=function(c,d){const m=[];for(let g=0;g<d.length;g++)m.push(c.get(d[g]));for(let g=0;g<m.length;g++)c.set(g,m[g]);c.length=d.length},s.reflowSmallerGetNewLineLengths=function(c,d,m){const g=[],v=c.map((y,b)=>l(c,b,d)).reduce((y,b)=>y+b);let _=0,S=0,C=0;for(;C<v;){if(v-C<m){g.push(v-C);break}_+=m;const y=l(c,S,d);_>y&&(_-=y,S++);const b=c[S].getWidth(_-1)===2;b&&_--;const u=b?m-1:m;g.push(u),C+=u}return g},s.getWrappedLineTrimmedLength=l},5295:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferSet=void 0;const c=l(8460),d=l(844),m=l(9092);class g extends d.Disposable{constructor(_,S){super(),this._optionsService=_,this._bufferService=S,this._onBufferActivate=this.register(new c.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new m.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new m.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(_){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(_),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(_,S){this._normal.resize(_,S),this._alt.resize(_,S),this.setupTabStops(_)}setupTabStops(_){this._normal.setupTabStops(_),this._alt.setupTabStops(_)}}s.BufferSet=g},511:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CellData=void 0;const c=l(482),d=l(643),m=l(3734);class g extends m.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new m.ExtendedAttrs,this.combinedData=""}static fromCharData(_){const S=new g;return S.setFromCharData(_),S}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,c.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(_){this.fg=_[d.CHAR_DATA_ATTR_INDEX],this.bg=0;let S=!1;if(_[d.CHAR_DATA_CHAR_INDEX].length>2)S=!0;else if(_[d.CHAR_DATA_CHAR_INDEX].length===2){const C=_[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=C&&C<=56319){const y=_[d.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=y&&y<=57343?this.content=1024*(C-55296)+y-56320+65536|_[d.CHAR_DATA_WIDTH_INDEX]<<22:S=!0}else S=!0}else this.content=_[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|_[d.CHAR_DATA_WIDTH_INDEX]<<22;S&&(this.combinedData=_[d.CHAR_DATA_CHAR_INDEX],this.content=2097152|_[d.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}s.CellData=g},643:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WHITESPACE_CELL_CODE=s.WHITESPACE_CELL_WIDTH=s.WHITESPACE_CELL_CHAR=s.NULL_CELL_CODE=s.NULL_CELL_WIDTH=s.NULL_CELL_CHAR=s.CHAR_DATA_CODE_INDEX=s.CHAR_DATA_WIDTH_INDEX=s.CHAR_DATA_CHAR_INDEX=s.CHAR_DATA_ATTR_INDEX=s.DEFAULT_EXT=s.DEFAULT_ATTR=s.DEFAULT_COLOR=void 0,s.DEFAULT_COLOR=0,s.DEFAULT_ATTR=256|s.DEFAULT_COLOR<<9,s.DEFAULT_EXT=0,s.CHAR_DATA_ATTR_INDEX=0,s.CHAR_DATA_CHAR_INDEX=1,s.CHAR_DATA_WIDTH_INDEX=2,s.CHAR_DATA_CODE_INDEX=3,s.NULL_CELL_CHAR="",s.NULL_CELL_WIDTH=1,s.NULL_CELL_CODE=0,s.WHITESPACE_CELL_CHAR=" ",s.WHITESPACE_CELL_WIDTH=1,s.WHITESPACE_CELL_CODE=32},4863:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Marker=void 0;const c=l(8460),d=l(844);class m{get id(){return this._id}constructor(v){this.line=v,this.isDisposed=!1,this._disposables=[],this._id=m._nextId++,this._onDispose=this.register(new c.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,d.disposeArray)(this._disposables),this._disposables.length=0)}register(v){return this._disposables.push(v),v}}s.Marker=m,m._nextId=1},7116:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_CHARSET=s.CHARSETS=void 0,s.CHARSETS={},s.DEFAULT_CHARSET=s.CHARSETS.B,s.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},s.CHARSETS.A={"#":""},s.CHARSETS.B=void 0,s.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},s.CHARSETS.C=s.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},s.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},s.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},s.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},s.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},s.CHARSETS.E=s.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},s.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},s.CHARSETS.H=s.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},s.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(a,s)=>{var l,c,d;Object.defineProperty(s,"__esModule",{value:!0}),s.C1_ESCAPED=s.C1=s.C0=void 0,function(m){m.NUL="\0",m.SOH="",m.STX="",m.ETX="",m.EOT="",m.ENQ="",m.ACK="",m.BEL="\x07",m.BS="\b",m.HT="	",m.LF=`
`,m.VT="\v",m.FF="\f",m.CR="\r",m.SO="",m.SI="",m.DLE="",m.DC1="",m.DC2="",m.DC3="",m.DC4="",m.NAK="",m.SYN="",m.ETB="",m.CAN="",m.EM="",m.SUB="",m.ESC="\x1B",m.FS="",m.GS="",m.RS="",m.US="",m.SP=" ",m.DEL=""}(l||(s.C0=l={})),function(m){m.PAD="",m.HOP="",m.BPH="",m.NBH="",m.IND="",m.NEL="",m.SSA="",m.ESA="",m.HTS="",m.HTJ="",m.VTS="",m.PLD="",m.PLU="",m.RI="",m.SS2="",m.SS3="",m.DCS="",m.PU1="",m.PU2="",m.STS="",m.CCH="",m.MW="",m.SPA="",m.EPA="",m.SOS="",m.SGCI="",m.SCI="",m.CSI="",m.ST="",m.OSC="",m.PM="",m.APC=""}(c||(s.C1=c={})),function(m){m.ST=`${l.ESC}\\`}(d||(s.C1_ESCAPED=d={}))},7399:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.evaluateKeyboardEvent=void 0;const c=l(2584),d={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};s.evaluateKeyboardEvent=function(m,g,v,_){const S={type:0,cancel:!1,key:void 0},C=(m.shiftKey?1:0)|(m.altKey?2:0)|(m.ctrlKey?4:0)|(m.metaKey?8:0);switch(m.keyCode){case 0:m.key==="UIKeyInputUpArrow"?S.key=g?c.C0.ESC+"OA":c.C0.ESC+"[A":m.key==="UIKeyInputLeftArrow"?S.key=g?c.C0.ESC+"OD":c.C0.ESC+"[D":m.key==="UIKeyInputRightArrow"?S.key=g?c.C0.ESC+"OC":c.C0.ESC+"[C":m.key==="UIKeyInputDownArrow"&&(S.key=g?c.C0.ESC+"OB":c.C0.ESC+"[B");break;case 8:S.key=m.ctrlKey?"\b":c.C0.DEL,m.altKey&&(S.key=c.C0.ESC+S.key);break;case 9:if(m.shiftKey){S.key=c.C0.ESC+"[Z";break}S.key=c.C0.HT,S.cancel=!0;break;case 13:S.key=m.altKey?c.C0.ESC+c.C0.CR:c.C0.CR,S.cancel=!0;break;case 27:S.key=c.C0.ESC,m.altKey&&(S.key=c.C0.ESC+c.C0.ESC),S.cancel=!0;break;case 37:if(m.metaKey)break;C?(S.key=c.C0.ESC+"[1;"+(C+1)+"D",S.key===c.C0.ESC+"[1;3D"&&(S.key=c.C0.ESC+(v?"b":"[1;5D"))):S.key=g?c.C0.ESC+"OD":c.C0.ESC+"[D";break;case 39:if(m.metaKey)break;C?(S.key=c.C0.ESC+"[1;"+(C+1)+"C",S.key===c.C0.ESC+"[1;3C"&&(S.key=c.C0.ESC+(v?"f":"[1;5C"))):S.key=g?c.C0.ESC+"OC":c.C0.ESC+"[C";break;case 38:if(m.metaKey)break;C?(S.key=c.C0.ESC+"[1;"+(C+1)+"A",v||S.key!==c.C0.ESC+"[1;3A"||(S.key=c.C0.ESC+"[1;5A")):S.key=g?c.C0.ESC+"OA":c.C0.ESC+"[A";break;case 40:if(m.metaKey)break;C?(S.key=c.C0.ESC+"[1;"+(C+1)+"B",v||S.key!==c.C0.ESC+"[1;3B"||(S.key=c.C0.ESC+"[1;5B")):S.key=g?c.C0.ESC+"OB":c.C0.ESC+"[B";break;case 45:m.shiftKey||m.ctrlKey||(S.key=c.C0.ESC+"[2~");break;case 46:S.key=C?c.C0.ESC+"[3;"+(C+1)+"~":c.C0.ESC+"[3~";break;case 36:S.key=C?c.C0.ESC+"[1;"+(C+1)+"H":g?c.C0.ESC+"OH":c.C0.ESC+"[H";break;case 35:S.key=C?c.C0.ESC+"[1;"+(C+1)+"F":g?c.C0.ESC+"OF":c.C0.ESC+"[F";break;case 33:m.shiftKey?S.type=2:m.ctrlKey?S.key=c.C0.ESC+"[5;"+(C+1)+"~":S.key=c.C0.ESC+"[5~";break;case 34:m.shiftKey?S.type=3:m.ctrlKey?S.key=c.C0.ESC+"[6;"+(C+1)+"~":S.key=c.C0.ESC+"[6~";break;case 112:S.key=C?c.C0.ESC+"[1;"+(C+1)+"P":c.C0.ESC+"OP";break;case 113:S.key=C?c.C0.ESC+"[1;"+(C+1)+"Q":c.C0.ESC+"OQ";break;case 114:S.key=C?c.C0.ESC+"[1;"+(C+1)+"R":c.C0.ESC+"OR";break;case 115:S.key=C?c.C0.ESC+"[1;"+(C+1)+"S":c.C0.ESC+"OS";break;case 116:S.key=C?c.C0.ESC+"[15;"+(C+1)+"~":c.C0.ESC+"[15~";break;case 117:S.key=C?c.C0.ESC+"[17;"+(C+1)+"~":c.C0.ESC+"[17~";break;case 118:S.key=C?c.C0.ESC+"[18;"+(C+1)+"~":c.C0.ESC+"[18~";break;case 119:S.key=C?c.C0.ESC+"[19;"+(C+1)+"~":c.C0.ESC+"[19~";break;case 120:S.key=C?c.C0.ESC+"[20;"+(C+1)+"~":c.C0.ESC+"[20~";break;case 121:S.key=C?c.C0.ESC+"[21;"+(C+1)+"~":c.C0.ESC+"[21~";break;case 122:S.key=C?c.C0.ESC+"[23;"+(C+1)+"~":c.C0.ESC+"[23~";break;case 123:S.key=C?c.C0.ESC+"[24;"+(C+1)+"~":c.C0.ESC+"[24~";break;default:if(!m.ctrlKey||m.shiftKey||m.altKey||m.metaKey)if(v&&!_||!m.altKey||m.metaKey)!v||m.altKey||m.ctrlKey||m.shiftKey||!m.metaKey?m.key&&!m.ctrlKey&&!m.altKey&&!m.metaKey&&m.keyCode>=48&&m.key.length===1?S.key=m.key:m.key&&m.ctrlKey&&(m.key==="_"&&(S.key=c.C0.US),m.key==="@"&&(S.key=c.C0.NUL)):m.keyCode===65&&(S.type=1);else{const y=d[m.keyCode],b=y==null?void 0:y[m.shiftKey?1:0];if(b)S.key=c.C0.ESC+b;else if(m.keyCode>=65&&m.keyCode<=90){const u=m.ctrlKey?m.keyCode-64:m.keyCode+32;let w=String.fromCharCode(u);m.shiftKey&&(w=w.toUpperCase()),S.key=c.C0.ESC+w}else if(m.keyCode===32)S.key=c.C0.ESC+(m.ctrlKey?c.C0.NUL:" ");else if(m.key==="Dead"&&m.code.startsWith("Key")){let u=m.code.slice(3,4);m.shiftKey||(u=u.toLowerCase()),S.key=c.C0.ESC+u,S.cancel=!0}}else m.keyCode>=65&&m.keyCode<=90?S.key=String.fromCharCode(m.keyCode-64):m.keyCode===32?S.key=c.C0.NUL:m.keyCode>=51&&m.keyCode<=55?S.key=String.fromCharCode(m.keyCode-51+27):m.keyCode===56?S.key=c.C0.DEL:m.keyCode===219?S.key=c.C0.ESC:m.keyCode===220?S.key=c.C0.FS:m.keyCode===221&&(S.key=c.C0.GS)}return S}},482:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Utf8ToUtf32=s.StringToUtf32=s.utf32ToString=s.stringFromCodePoint=void 0,s.stringFromCodePoint=function(l){return l>65535?(l-=65536,String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):String.fromCharCode(l)},s.utf32ToString=function(l,c=0,d=l.length){let m="";for(let g=c;g<d;++g){let v=l[g];v>65535?(v-=65536,m+=String.fromCharCode(55296+(v>>10))+String.fromCharCode(v%1024+56320)):m+=String.fromCharCode(v)}return m},s.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(l,c){const d=l.length;if(!d)return 0;let m=0,g=0;if(this._interim){const v=l.charCodeAt(g++);56320<=v&&v<=57343?c[m++]=1024*(this._interim-55296)+v-56320+65536:(c[m++]=this._interim,c[m++]=v),this._interim=0}for(let v=g;v<d;++v){const _=l.charCodeAt(v);if(55296<=_&&_<=56319){if(++v>=d)return this._interim=_,m;const S=l.charCodeAt(v);56320<=S&&S<=57343?c[m++]=1024*(_-55296)+S-56320+65536:(c[m++]=_,c[m++]=S)}else _!==65279&&(c[m++]=_)}return m}},s.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(l,c){const d=l.length;if(!d)return 0;let m,g,v,_,S=0,C=0,y=0;if(this.interim[0]){let w=!1,x=this.interim[0];x&=(224&x)==192?31:(240&x)==224?15:7;let E,T=0;for(;(E=63&this.interim[++T])&&T<4;)x<<=6,x|=E;const k=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,D=k-T;for(;y<D;){if(y>=d)return 0;if(E=l[y++],(192&E)!=128){y--,w=!0;break}this.interim[T++]=E,x<<=6,x|=63&E}w||(k===2?x<128?y--:c[S++]=x:k===3?x<2048||x>=55296&&x<=57343||x===65279||(c[S++]=x):x<65536||x>1114111||(c[S++]=x)),this.interim.fill(0)}const b=d-4;let u=y;for(;u<d;){for(;!(!(u<b)||128&(m=l[u])||128&(g=l[u+1])||128&(v=l[u+2])||128&(_=l[u+3]));)c[S++]=m,c[S++]=g,c[S++]=v,c[S++]=_,u+=4;if(m=l[u++],m<128)c[S++]=m;else if((224&m)==192){if(u>=d)return this.interim[0]=m,S;if(g=l[u++],(192&g)!=128){u--;continue}if(C=(31&m)<<6|63&g,C<128){u--;continue}c[S++]=C}else if((240&m)==224){if(u>=d)return this.interim[0]=m,S;if(g=l[u++],(192&g)!=128){u--;continue}if(u>=d)return this.interim[0]=m,this.interim[1]=g,S;if(v=l[u++],(192&v)!=128){u--;continue}if(C=(15&m)<<12|(63&g)<<6|63&v,C<2048||C>=55296&&C<=57343||C===65279)continue;c[S++]=C}else if((248&m)==240){if(u>=d)return this.interim[0]=m,S;if(g=l[u++],(192&g)!=128){u--;continue}if(u>=d)return this.interim[0]=m,this.interim[1]=g,S;if(v=l[u++],(192&v)!=128){u--;continue}if(u>=d)return this.interim[0]=m,this.interim[1]=g,this.interim[2]=v,S;if(_=l[u++],(192&_)!=128){u--;continue}if(C=(7&m)<<18|(63&g)<<12|(63&v)<<6|63&_,C<65536||C>1114111)continue;c[S++]=C}}return S}}},225:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeV6=void 0;const c=l(1480),d=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],m=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let g;s.UnicodeV6=class{constructor(){if(this.version="6",!g){g=new Uint8Array(65536),g.fill(1),g[0]=0,g.fill(0,1,32),g.fill(0,127,160),g.fill(2,4352,4448),g[9001]=2,g[9002]=2,g.fill(2,11904,42192),g[12351]=1,g.fill(2,44032,55204),g.fill(2,63744,64256),g.fill(2,65040,65050),g.fill(2,65072,65136),g.fill(2,65280,65377),g.fill(2,65504,65511);for(let v=0;v<d.length;++v)g.fill(0,d[v][0],d[v][1]+1)}}wcwidth(v){return v<32?0:v<127?1:v<65536?g[v]:function(_,S){let C,y=0,b=S.length-1;if(_<S[0][0]||_>S[b][1])return!1;for(;b>=y;)if(C=y+b>>1,_>S[C][1])y=C+1;else{if(!(_<S[C][0]))return!0;b=C-1}return!1}(v,m)?0:v>=131072&&v<=196605||v>=196608&&v<=262141?2:1}charProperties(v,_){let S=this.wcwidth(v),C=S===0&&_!==0;if(C){const y=c.UnicodeService.extractWidth(_);y===0?C=!1:y>S&&(S=y)}return c.UnicodeService.createPropertyValue(0,S,C)}}},5981:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WriteBuffer=void 0;const c=l(8460),d=l(844);class m extends d.Disposable{constructor(v){super(),this._action=v,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new c.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(v,_){if(_!==void 0&&this._syncCalls>_)return void(this._syncCalls=0);if(this._pendingData+=v.length,this._writeBuffer.push(v),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let S;for(this._isSyncWriting=!0;S=this._writeBuffer.shift();){this._action(S);const C=this._callbacks.shift();C&&C()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(v,_){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=v.length,this._writeBuffer.push(v),this._callbacks.push(_),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=v.length,this._writeBuffer.push(v),this._callbacks.push(_)}_innerWrite(v=0,_=!0){const S=v||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const C=this._writeBuffer[this._bufferOffset],y=this._action(C,_);if(y){const u=w=>Date.now()-S>=12?setTimeout(()=>this._innerWrite(0,w)):this._innerWrite(S,w);return void y.catch(w=>(queueMicrotask(()=>{throw w}),Promise.resolve(!1))).then(u)}const b=this._callbacks[this._bufferOffset];if(b&&b(),this._bufferOffset++,this._pendingData-=C.length,Date.now()-S>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}s.WriteBuffer=m},5941:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.toRgbString=s.parseColor=void 0;const l=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,c=/^[\da-f]+$/;function d(m,g){const v=m.toString(16),_=v.length<2?"0"+v:v;switch(g){case 4:return v[0];case 8:return _;case 12:return(_+_).slice(0,3);default:return _+_}}s.parseColor=function(m){if(!m)return;let g=m.toLowerCase();if(g.indexOf("rgb:")===0){g=g.slice(4);const v=l.exec(g);if(v){const _=v[1]?15:v[4]?255:v[7]?4095:65535;return[Math.round(parseInt(v[1]||v[4]||v[7]||v[10],16)/_*255),Math.round(parseInt(v[2]||v[5]||v[8]||v[11],16)/_*255),Math.round(parseInt(v[3]||v[6]||v[9]||v[12],16)/_*255)]}}else if(g.indexOf("#")===0&&(g=g.slice(1),c.exec(g)&&[3,6,9,12].includes(g.length))){const v=g.length/3,_=[0,0,0];for(let S=0;S<3;++S){const C=parseInt(g.slice(v*S,v*S+v),16);_[S]=v===1?C<<4:v===2?C:v===3?C>>4:C>>8}return _}},s.toRgbString=function(m,g=16){const[v,_,S]=m;return`rgb:${d(v,g)}/${d(_,g)}/${d(S,g)}`}},5770:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PAYLOAD_LIMIT=void 0,s.PAYLOAD_LIMIT=1e7},6351:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DcsHandler=s.DcsParser=void 0;const c=l(482),d=l(8742),m=l(5770),g=[];s.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=g,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=g}registerHandler(_,S){this._handlers[_]===void 0&&(this._handlers[_]=[]);const C=this._handlers[_];return C.push(S),{dispose:()=>{const y=C.indexOf(S);y!==-1&&C.splice(y,1)}}}clearHandler(_){this._handlers[_]&&delete this._handlers[_]}setHandlerFallback(_){this._handlerFb=_}reset(){if(this._active.length)for(let _=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;_>=0;--_)this._active[_].unhook(!1);this._stack.paused=!1,this._active=g,this._ident=0}hook(_,S){if(this.reset(),this._ident=_,this._active=this._handlers[_]||g,this._active.length)for(let C=this._active.length-1;C>=0;C--)this._active[C].hook(S);else this._handlerFb(this._ident,"HOOK",S)}put(_,S,C){if(this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].put(_,S,C);else this._handlerFb(this._ident,"PUT",(0,c.utf32ToString)(_,S,C))}unhook(_,S=!0){if(this._active.length){let C=!1,y=this._active.length-1,b=!1;if(this._stack.paused&&(y=this._stack.loopPosition-1,C=S,b=this._stack.fallThrough,this._stack.paused=!1),!b&&C===!1){for(;y>=0&&(C=this._active[y].unhook(_),C!==!0);y--)if(C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!1,C;y--}for(;y>=0;y--)if(C=this._active[y].unhook(!1),C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!0,C}else this._handlerFb(this._ident,"UNHOOK",_);this._active=g,this._ident=0}};const v=new d.Params;v.addParam(0),s.DcsHandler=class{constructor(_){this._handler=_,this._data="",this._params=v,this._hitLimit=!1}hook(_){this._params=_.length>1||_.params[0]?_.clone():v,this._data="",this._hitLimit=!1}put(_,S,C){this._hitLimit||(this._data+=(0,c.utf32ToString)(_,S,C),this._data.length>m.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(_){let S=!1;if(this._hitLimit)S=!1;else if(_&&(S=this._handler(this._data,this._params),S instanceof Promise))return S.then(C=>(this._params=v,this._data="",this._hitLimit=!1,C));return this._params=v,this._data="",this._hitLimit=!1,S}}},2015:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.EscapeSequenceParser=s.VT500_TRANSITION_TABLE=s.TransitionTable=void 0;const c=l(844),d=l(8742),m=l(6242),g=l(6351);class v{constructor(y){this.table=new Uint8Array(y)}setDefault(y,b){this.table.fill(y<<4|b)}add(y,b,u,w){this.table[b<<8|y]=u<<4|w}addMany(y,b,u,w){for(let x=0;x<y.length;x++)this.table[b<<8|y[x]]=u<<4|w}}s.TransitionTable=v;const _=160;s.VT500_TRANSITION_TABLE=function(){const C=new v(4095),y=Array.apply(null,Array(256)).map((T,k)=>k),b=(T,k)=>y.slice(T,k),u=b(32,127),w=b(0,24);w.push(25),w.push.apply(w,b(28,32));const x=b(0,14);let E;for(E in C.setDefault(1,0),C.addMany(u,0,2,0),x)C.addMany([24,26,153,154],E,3,0),C.addMany(b(128,144),E,3,0),C.addMany(b(144,152),E,3,0),C.add(156,E,0,0),C.add(27,E,11,1),C.add(157,E,4,8),C.addMany([152,158,159],E,0,7),C.add(155,E,11,3),C.add(144,E,11,9);return C.addMany(w,0,3,0),C.addMany(w,1,3,1),C.add(127,1,0,1),C.addMany(w,8,0,8),C.addMany(w,3,3,3),C.add(127,3,0,3),C.addMany(w,4,3,4),C.add(127,4,0,4),C.addMany(w,6,3,6),C.addMany(w,5,3,5),C.add(127,5,0,5),C.addMany(w,2,3,2),C.add(127,2,0,2),C.add(93,1,4,8),C.addMany(u,8,5,8),C.add(127,8,5,8),C.addMany([156,27,24,26,7],8,6,0),C.addMany(b(28,32),8,0,8),C.addMany([88,94,95],1,0,7),C.addMany(u,7,0,7),C.addMany(w,7,0,7),C.add(156,7,0,0),C.add(127,7,0,7),C.add(91,1,11,3),C.addMany(b(64,127),3,7,0),C.addMany(b(48,60),3,8,4),C.addMany([60,61,62,63],3,9,4),C.addMany(b(48,60),4,8,4),C.addMany(b(64,127),4,7,0),C.addMany([60,61,62,63],4,0,6),C.addMany(b(32,64),6,0,6),C.add(127,6,0,6),C.addMany(b(64,127),6,0,0),C.addMany(b(32,48),3,9,5),C.addMany(b(32,48),5,9,5),C.addMany(b(48,64),5,0,6),C.addMany(b(64,127),5,7,0),C.addMany(b(32,48),4,9,5),C.addMany(b(32,48),1,9,2),C.addMany(b(32,48),2,9,2),C.addMany(b(48,127),2,10,0),C.addMany(b(48,80),1,10,0),C.addMany(b(81,88),1,10,0),C.addMany([89,90,92],1,10,0),C.addMany(b(96,127),1,10,0),C.add(80,1,11,9),C.addMany(w,9,0,9),C.add(127,9,0,9),C.addMany(b(28,32),9,0,9),C.addMany(b(32,48),9,9,12),C.addMany(b(48,60),9,8,10),C.addMany([60,61,62,63],9,9,10),C.addMany(w,11,0,11),C.addMany(b(32,128),11,0,11),C.addMany(b(28,32),11,0,11),C.addMany(w,10,0,10),C.add(127,10,0,10),C.addMany(b(28,32),10,0,10),C.addMany(b(48,60),10,8,10),C.addMany([60,61,62,63],10,0,11),C.addMany(b(32,48),10,9,12),C.addMany(w,12,0,12),C.add(127,12,0,12),C.addMany(b(28,32),12,0,12),C.addMany(b(32,48),12,9,12),C.addMany(b(48,64),12,0,11),C.addMany(b(64,127),12,12,13),C.addMany(b(64,127),10,12,13),C.addMany(b(64,127),9,12,13),C.addMany(w,13,13,13),C.addMany(u,13,13,13),C.add(127,13,0,13),C.addMany([27,156,24,26],13,14,0),C.add(_,0,2,0),C.add(_,8,5,8),C.add(_,6,0,6),C.add(_,11,0,11),C.add(_,13,13,13),C}();class S extends c.Disposable{constructor(y=s.VT500_TRANSITION_TABLE){super(),this._transitions=y,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new d.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(b,u,w)=>{},this._executeHandlerFb=b=>{},this._csiHandlerFb=(b,u)=>{},this._escHandlerFb=b=>{},this._errorHandlerFb=b=>b,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,c.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new m.OscParser),this._dcsParser=this.register(new g.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(y,b=[64,126]){let u=0;if(y.prefix){if(y.prefix.length>1)throw new Error("only one byte as prefix supported");if(u=y.prefix.charCodeAt(0),u&&60>u||u>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(y.intermediates){if(y.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let x=0;x<y.intermediates.length;++x){const E=y.intermediates.charCodeAt(x);if(32>E||E>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");u<<=8,u|=E}}if(y.final.length!==1)throw new Error("final must be a single byte");const w=y.final.charCodeAt(0);if(b[0]>w||w>b[1])throw new Error(`final must be in range ${b[0]} .. ${b[1]}`);return u<<=8,u|=w,u}identToString(y){const b=[];for(;y;)b.push(String.fromCharCode(255&y)),y>>=8;return b.reverse().join("")}setPrintHandler(y){this._printHandler=y}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(y,b){const u=this._identifier(y,[48,126]);this._escHandlers[u]===void 0&&(this._escHandlers[u]=[]);const w=this._escHandlers[u];return w.push(b),{dispose:()=>{const x=w.indexOf(b);x!==-1&&w.splice(x,1)}}}clearEscHandler(y){this._escHandlers[this._identifier(y,[48,126])]&&delete this._escHandlers[this._identifier(y,[48,126])]}setEscHandlerFallback(y){this._escHandlerFb=y}setExecuteHandler(y,b){this._executeHandlers[y.charCodeAt(0)]=b}clearExecuteHandler(y){this._executeHandlers[y.charCodeAt(0)]&&delete this._executeHandlers[y.charCodeAt(0)]}setExecuteHandlerFallback(y){this._executeHandlerFb=y}registerCsiHandler(y,b){const u=this._identifier(y);this._csiHandlers[u]===void 0&&(this._csiHandlers[u]=[]);const w=this._csiHandlers[u];return w.push(b),{dispose:()=>{const x=w.indexOf(b);x!==-1&&w.splice(x,1)}}}clearCsiHandler(y){this._csiHandlers[this._identifier(y)]&&delete this._csiHandlers[this._identifier(y)]}setCsiHandlerFallback(y){this._csiHandlerFb=y}registerDcsHandler(y,b){return this._dcsParser.registerHandler(this._identifier(y),b)}clearDcsHandler(y){this._dcsParser.clearHandler(this._identifier(y))}setDcsHandlerFallback(y){this._dcsParser.setHandlerFallback(y)}registerOscHandler(y,b){return this._oscParser.registerHandler(y,b)}clearOscHandler(y){this._oscParser.clearHandler(y)}setOscHandlerFallback(y){this._oscParser.setHandlerFallback(y)}setErrorHandler(y){this._errorHandler=y}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(y,b,u,w,x){this._parseStack.state=y,this._parseStack.handlers=b,this._parseStack.handlerPos=u,this._parseStack.transition=w,this._parseStack.chunkPos=x}parse(y,b,u){let w,x=0,E=0,T=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,T=this._parseStack.chunkPos+1;else{if(u===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const k=this._parseStack.handlers;let D=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(u===!1&&D>-1){for(;D>=0&&(w=k[D](this._params),w!==!0);D--)if(w instanceof Promise)return this._parseStack.handlerPos=D,w}this._parseStack.handlers=[];break;case 4:if(u===!1&&D>-1){for(;D>=0&&(w=k[D](),w!==!0);D--)if(w instanceof Promise)return this._parseStack.handlerPos=D,w}this._parseStack.handlers=[];break;case 6:if(x=y[this._parseStack.chunkPos],w=this._dcsParser.unhook(x!==24&&x!==26,u),w)return w;x===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(x=y[this._parseStack.chunkPos],w=this._oscParser.end(x!==24&&x!==26,u),w)return w;x===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,T=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let k=T;k<b;++k){switch(x=y[k],E=this._transitions.table[this.currentState<<8|(x<160?x:_)],E>>4){case 2:for(let V=k+1;;++V){if(V>=b||(x=y[V])<32||x>126&&x<_){this._printHandler(y,k,V),k=V-1;break}if(++V>=b||(x=y[V])<32||x>126&&x<_){this._printHandler(y,k,V),k=V-1;break}if(++V>=b||(x=y[V])<32||x>126&&x<_){this._printHandler(y,k,V),k=V-1;break}if(++V>=b||(x=y[V])<32||x>126&&x<_){this._printHandler(y,k,V),k=V-1;break}}break;case 3:this._executeHandlers[x]?this._executeHandlers[x]():this._executeHandlerFb(x),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:k,code:x,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const D=this._csiHandlers[this._collect<<8|x];let B=D?D.length-1:-1;for(;B>=0&&(w=D[B](this._params),w!==!0);B--)if(w instanceof Promise)return this._preserveStack(3,D,B,E,k),w;B<0&&this._csiHandlerFb(this._collect<<8|x,this._params),this.precedingJoinState=0;break;case 8:do switch(x){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(x-48)}while(++k<b&&(x=y[k])>47&&x<60);k--;break;case 9:this._collect<<=8,this._collect|=x;break;case 10:const A=this._escHandlers[this._collect<<8|x];let O=A?A.length-1:-1;for(;O>=0&&(w=A[O](),w!==!0);O--)if(w instanceof Promise)return this._preserveStack(4,A,O,E,k),w;O<0&&this._escHandlerFb(this._collect<<8|x),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|x,this._params);break;case 13:for(let V=k+1;;++V)if(V>=b||(x=y[V])===24||x===26||x===27||x>127&&x<_){this._dcsParser.put(y,k,V),k=V-1;break}break;case 14:if(w=this._dcsParser.unhook(x!==24&&x!==26),w)return this._preserveStack(6,[],0,E,k),w;x===27&&(E|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let V=k+1;;V++)if(V>=b||(x=y[V])<32||x>127&&x<_){this._oscParser.put(y,k,V),k=V-1;break}break;case 6:if(w=this._oscParser.end(x!==24&&x!==26),w)return this._preserveStack(5,[],0,E,k),w;x===27&&(E|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&E}}}s.EscapeSequenceParser=S},6242:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OscHandler=s.OscParser=void 0;const c=l(5770),d=l(482),m=[];s.OscParser=class{constructor(){this._state=0,this._active=m,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(g,v){this._handlers[g]===void 0&&(this._handlers[g]=[]);const _=this._handlers[g];return _.push(v),{dispose:()=>{const S=_.indexOf(v);S!==-1&&_.splice(S,1)}}}clearHandler(g){this._handlers[g]&&delete this._handlers[g]}setHandlerFallback(g){this._handlerFb=g}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=m}reset(){if(this._state===2)for(let g=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;g>=0;--g)this._active[g].end(!1);this._stack.paused=!1,this._active=m,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||m,this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].start();else this._handlerFb(this._id,"START")}_put(g,v,_){if(this._active.length)for(let S=this._active.length-1;S>=0;S--)this._active[S].put(g,v,_);else this._handlerFb(this._id,"PUT",(0,d.utf32ToString)(g,v,_))}start(){this.reset(),this._state=1}put(g,v,_){if(this._state!==3){if(this._state===1)for(;v<_;){const S=g[v++];if(S===59){this._state=2,this._start();break}if(S<48||57<S)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+S-48}this._state===2&&_-v>0&&this._put(g,v,_)}}end(g,v=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let _=!1,S=this._active.length-1,C=!1;if(this._stack.paused&&(S=this._stack.loopPosition-1,_=v,C=this._stack.fallThrough,this._stack.paused=!1),!C&&_===!1){for(;S>=0&&(_=this._active[S].end(g),_!==!0);S--)if(_ instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=S,this._stack.fallThrough=!1,_;S--}for(;S>=0;S--)if(_=this._active[S].end(!1),_ instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=S,this._stack.fallThrough=!0,_}else this._handlerFb(this._id,"END",g);this._active=m,this._id=-1,this._state=0}}},s.OscHandler=class{constructor(g){this._handler=g,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(g,v,_){this._hitLimit||(this._data+=(0,d.utf32ToString)(g,v,_),this._data.length>c.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(g){let v=!1;if(this._hitLimit)v=!1;else if(g&&(v=this._handler(this._data),v instanceof Promise))return v.then(_=>(this._data="",this._hitLimit=!1,_));return this._data="",this._hitLimit=!1,v}}},8742:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Params=void 0;const l=2147483647;class c{static fromArray(m){const g=new c;if(!m.length)return g;for(let v=Array.isArray(m[0])?1:0;v<m.length;++v){const _=m[v];if(Array.isArray(_))for(let S=0;S<_.length;++S)g.addSubParam(_[S]);else g.addParam(_)}return g}constructor(m=32,g=32){if(this.maxLength=m,this.maxSubParamsLength=g,g>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(m),this.length=0,this._subParams=new Int32Array(g),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(m),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const m=new c(this.maxLength,this.maxSubParamsLength);return m.params.set(this.params),m.length=this.length,m._subParams.set(this._subParams),m._subParamsLength=this._subParamsLength,m._subParamsIdx.set(this._subParamsIdx),m._rejectDigits=this._rejectDigits,m._rejectSubDigits=this._rejectSubDigits,m._digitIsSub=this._digitIsSub,m}toArray(){const m=[];for(let g=0;g<this.length;++g){m.push(this.params[g]);const v=this._subParamsIdx[g]>>8,_=255&this._subParamsIdx[g];_-v>0&&m.push(Array.prototype.slice.call(this._subParams,v,_))}return m}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(m){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(m<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=m>l?l:m}}addSubParam(m){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(m<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=m>l?l:m,this._subParamsIdx[this.length-1]++}}hasSubParams(m){return(255&this._subParamsIdx[m])-(this._subParamsIdx[m]>>8)>0}getSubParams(m){const g=this._subParamsIdx[m]>>8,v=255&this._subParamsIdx[m];return v-g>0?this._subParams.subarray(g,v):null}getSubParamsAll(){const m={};for(let g=0;g<this.length;++g){const v=this._subParamsIdx[g]>>8,_=255&this._subParamsIdx[g];_-v>0&&(m[g]=this._subParams.slice(v,_))}return m}addDigit(m){let g;if(this._rejectDigits||!(g=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const v=this._digitIsSub?this._subParams:this.params,_=v[g-1];v[g-1]=~_?Math.min(10*_+m,l):m}}s.Params=c},5741:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AddonManager=void 0,s.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let l=this._addons.length-1;l>=0;l--)this._addons[l].instance.dispose()}loadAddon(l,c){const d={instance:c,dispose:c.dispose,isDisposed:!1};this._addons.push(d),c.dispose=()=>this._wrappedAddonDispose(d),c.activate(l)}_wrappedAddonDispose(l){if(l.isDisposed)return;let c=-1;for(let d=0;d<this._addons.length;d++)if(this._addons[d]===l){c=d;break}if(c===-1)throw new Error("Could not dispose an addon that has not been loaded");l.isDisposed=!0,l.dispose.apply(l.instance),this._addons.splice(c,1)}}},8771:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferApiView=void 0;const c=l(3785),d=l(511);s.BufferApiView=class{constructor(m,g){this._buffer=m,this.type=g}init(m){return this._buffer=m,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(m){const g=this._buffer.lines.get(m);if(g)return new c.BufferLineApiView(g)}getNullCell(){return new d.CellData}}},3785:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferLineApiView=void 0;const c=l(511);s.BufferLineApiView=class{constructor(d){this._line=d}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(d,m){if(!(d<0||d>=this._line.length))return m?(this._line.loadCell(d,m),m):this._line.loadCell(d,new c.CellData)}translateToString(d,m,g){return this._line.translateToString(d,m,g)}}},8285:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferNamespaceApi=void 0;const c=l(8771),d=l(8460),m=l(844);class g extends m.Disposable{constructor(_){super(),this._core=_,this._onBufferChange=this.register(new d.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new c.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new c.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}s.BufferNamespaceApi=g},7975:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ParserApi=void 0,s.ParserApi=class{constructor(l){this._core=l}registerCsiHandler(l,c){return this._core.registerCsiHandler(l,d=>c(d.toArray()))}addCsiHandler(l,c){return this.registerCsiHandler(l,c)}registerDcsHandler(l,c){return this._core.registerDcsHandler(l,(d,m)=>c(d,m.toArray()))}addDcsHandler(l,c){return this.registerDcsHandler(l,c)}registerEscHandler(l,c){return this._core.registerEscHandler(l,c)}addEscHandler(l,c){return this.registerEscHandler(l,c)}registerOscHandler(l,c){return this._core.registerOscHandler(l,c)}addOscHandler(l,c){return this.registerOscHandler(l,c)}}},7090:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeApi=void 0,s.UnicodeApi=class{constructor(l){this._core=l}register(l){this._core.unicodeService.register(l)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(l){this._core.unicodeService.activeVersion=l}}},744:function(a,s,l){var c=this&&this.__decorate||function(C,y,b,u){var w,x=arguments.length,E=x<3?y:u===null?u=Object.getOwnPropertyDescriptor(y,b):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(C,y,b,u);else for(var T=C.length-1;T>=0;T--)(w=C[T])&&(E=(x<3?w(E):x>3?w(y,b,E):w(y,b))||E);return x>3&&E&&Object.defineProperty(y,b,E),E},d=this&&this.__param||function(C,y){return function(b,u){y(b,u,C)}};Object.defineProperty(s,"__esModule",{value:!0}),s.BufferService=s.MINIMUM_ROWS=s.MINIMUM_COLS=void 0;const m=l(8460),g=l(844),v=l(5295),_=l(2585);s.MINIMUM_COLS=2,s.MINIMUM_ROWS=1;let S=s.BufferService=class extends g.Disposable{get buffer(){return this.buffers.active}constructor(C){super(),this.isUserScrolling=!1,this._onResize=this.register(new m.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new m.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(C.rawOptions.cols||0,s.MINIMUM_COLS),this.rows=Math.max(C.rawOptions.rows||0,s.MINIMUM_ROWS),this.buffers=this.register(new v.BufferSet(C,this))}resize(C,y){this.cols=C,this.rows=y,this.buffers.resize(C,y),this._onResize.fire({cols:C,rows:y})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(C,y=!1){const b=this.buffer;let u;u=this._cachedBlankLine,u&&u.length===this.cols&&u.getFg(0)===C.fg&&u.getBg(0)===C.bg||(u=b.getBlankLine(C,y),this._cachedBlankLine=u),u.isWrapped=y;const w=b.ybase+b.scrollTop,x=b.ybase+b.scrollBottom;if(b.scrollTop===0){const E=b.lines.isFull;x===b.lines.length-1?E?b.lines.recycle().copyFrom(u):b.lines.push(u.clone()):b.lines.splice(x+1,0,u.clone()),E?this.isUserScrolling&&(b.ydisp=Math.max(b.ydisp-1,0)):(b.ybase++,this.isUserScrolling||b.ydisp++)}else{const E=x-w+1;b.lines.shiftElements(w+1,E-1,-1),b.lines.set(x,u.clone())}this.isUserScrolling||(b.ydisp=b.ybase),this._onScroll.fire(b.ydisp)}scrollLines(C,y,b){const u=this.buffer;if(C<0){if(u.ydisp===0)return;this.isUserScrolling=!0}else C+u.ydisp>=u.ybase&&(this.isUserScrolling=!1);const w=u.ydisp;u.ydisp=Math.max(Math.min(u.ydisp+C,u.ybase),0),w!==u.ydisp&&(y||this._onScroll.fire(u.ydisp))}};s.BufferService=S=c([d(0,_.IOptionsService)],S)},7994:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CharsetService=void 0,s.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(l){this.glevel=l,this.charset=this._charsets[l]}setgCharset(l,c){this._charsets[l]=c,this.glevel===l&&(this.charset=c)}}},1753:function(a,s,l){var c=this&&this.__decorate||function(u,w,x,E){var T,k=arguments.length,D=k<3?w:E===null?E=Object.getOwnPropertyDescriptor(w,x):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(u,w,x,E);else for(var B=u.length-1;B>=0;B--)(T=u[B])&&(D=(k<3?T(D):k>3?T(w,x,D):T(w,x))||D);return k>3&&D&&Object.defineProperty(w,x,D),D},d=this&&this.__param||function(u,w){return function(x,E){w(x,E,u)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CoreMouseService=void 0;const m=l(2585),g=l(8460),v=l(844),_={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:u=>u.button!==4&&u.action===1&&(u.ctrl=!1,u.alt=!1,u.shift=!1,!0)},VT200:{events:19,restrict:u=>u.action!==32},DRAG:{events:23,restrict:u=>u.action!==32||u.button!==3},ANY:{events:31,restrict:u=>!0}};function S(u,w){let x=(u.ctrl?16:0)|(u.shift?4:0)|(u.alt?8:0);return u.button===4?(x|=64,x|=u.action):(x|=3&u.button,4&u.button&&(x|=64),8&u.button&&(x|=128),u.action===32?x|=32:u.action!==0||w||(x|=3)),x}const C=String.fromCharCode,y={DEFAULT:u=>{const w=[S(u,!1)+32,u.col+32,u.row+32];return w[0]>255||w[1]>255||w[2]>255?"":`\x1B[M${C(w[0])}${C(w[1])}${C(w[2])}`},SGR:u=>{const w=u.action===0&&u.button!==4?"m":"M";return`\x1B[<${S(u,!0)};${u.col};${u.row}${w}`},SGR_PIXELS:u=>{const w=u.action===0&&u.button!==4?"m":"M";return`\x1B[<${S(u,!0)};${u.x};${u.y}${w}`}};let b=s.CoreMouseService=class extends v.Disposable{constructor(u,w){super(),this._bufferService=u,this._coreService=w,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new g.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const x of Object.keys(_))this.addProtocol(x,_[x]);for(const x of Object.keys(y))this.addEncoding(x,y[x]);this.reset()}addProtocol(u,w){this._protocols[u]=w}addEncoding(u,w){this._encodings[u]=w}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(u){if(!this._protocols[u])throw new Error(`unknown protocol "${u}"`);this._activeProtocol=u,this._onProtocolChange.fire(this._protocols[u].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(u){if(!this._encodings[u])throw new Error(`unknown encoding "${u}"`);this._activeEncoding=u}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(u){if(u.col<0||u.col>=this._bufferService.cols||u.row<0||u.row>=this._bufferService.rows||u.button===4&&u.action===32||u.button===3&&u.action!==32||u.button!==4&&(u.action===2||u.action===3)||(u.col++,u.row++,u.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,u,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(u))return!1;const w=this._encodings[this._activeEncoding](u);return w&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(w):this._coreService.triggerDataEvent(w,!0)),this._lastEvent=u,!0}explainEvents(u){return{down:!!(1&u),up:!!(2&u),drag:!!(4&u),move:!!(8&u),wheel:!!(16&u)}}_equalEvents(u,w,x){if(x){if(u.x!==w.x||u.y!==w.y)return!1}else if(u.col!==w.col||u.row!==w.row)return!1;return u.button===w.button&&u.action===w.action&&u.ctrl===w.ctrl&&u.alt===w.alt&&u.shift===w.shift}};s.CoreMouseService=b=c([d(0,m.IBufferService),d(1,m.ICoreService)],b)},6975:function(a,s,l){var c=this&&this.__decorate||function(b,u,w,x){var E,T=arguments.length,k=T<3?u:x===null?x=Object.getOwnPropertyDescriptor(u,w):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(b,u,w,x);else for(var D=b.length-1;D>=0;D--)(E=b[D])&&(k=(T<3?E(k):T>3?E(u,w,k):E(u,w))||k);return T>3&&k&&Object.defineProperty(u,w,k),k},d=this&&this.__param||function(b,u){return function(w,x){u(w,x,b)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CoreService=void 0;const m=l(1439),g=l(8460),v=l(844),_=l(2585),S=Object.freeze({insertMode:!1}),C=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let y=s.CoreService=class extends v.Disposable{constructor(b,u,w){super(),this._bufferService=b,this._logService=u,this._optionsService=w,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new g.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new g.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new g.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new g.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,m.clone)(S),this.decPrivateModes=(0,m.clone)(C)}reset(){this.modes=(0,m.clone)(S),this.decPrivateModes=(0,m.clone)(C)}triggerDataEvent(b,u=!1){if(this._optionsService.rawOptions.disableStdin)return;const w=this._bufferService.buffer;u&&this._optionsService.rawOptions.scrollOnUserInput&&w.ybase!==w.ydisp&&this._onRequestScrollToBottom.fire(),u&&this._onUserInput.fire(),this._logService.debug(`sending data "${b}"`,()=>b.split("").map(x=>x.charCodeAt(0))),this._onData.fire(b)}triggerBinaryEvent(b){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${b}"`,()=>b.split("").map(u=>u.charCodeAt(0))),this._onBinary.fire(b))}};s.CoreService=y=c([d(0,_.IBufferService),d(1,_.ILogService),d(2,_.IOptionsService)],y)},9074:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DecorationService=void 0;const c=l(8055),d=l(8460),m=l(844),g=l(6106);let v=0,_=0;class S extends m.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new g.SortedList(b=>b==null?void 0:b.marker.line),this._onDecorationRegistered=this.register(new d.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new d.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,m.toDisposable)(()=>this.reset()))}registerDecoration(b){if(b.marker.isDisposed)return;const u=new C(b);if(u){const w=u.marker.onDispose(()=>u.dispose());u.onDispose(()=>{u&&(this._decorations.delete(u)&&this._onDecorationRemoved.fire(u),w.dispose())}),this._decorations.insert(u),this._onDecorationRegistered.fire(u)}return u}reset(){for(const b of this._decorations.values())b.dispose();this._decorations.clear()}*getDecorationsAtCell(b,u,w){let x=0,E=0;for(const T of this._decorations.getKeyIterator(u))x=T.options.x??0,E=x+(T.options.width??1),b>=x&&b<E&&(!w||(T.options.layer??"bottom")===w)&&(yield T)}forEachDecorationAtCell(b,u,w,x){this._decorations.forEachByKey(u,E=>{v=E.options.x??0,_=v+(E.options.width??1),b>=v&&b<_&&(!w||(E.options.layer??"bottom")===w)&&x(E)})}}s.DecorationService=S;class C extends m.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=c.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=c.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(b){super(),this.options=b,this.onRenderEmitter=this.register(new d.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new d.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=b.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.InstantiationService=s.ServiceCollection=void 0;const c=l(2585),d=l(8343);class m{constructor(...v){this._entries=new Map;for(const[_,S]of v)this.set(_,S)}set(v,_){const S=this._entries.get(v);return this._entries.set(v,_),S}forEach(v){for(const[_,S]of this._entries.entries())v(_,S)}has(v){return this._entries.has(v)}get(v){return this._entries.get(v)}}s.ServiceCollection=m,s.InstantiationService=class{constructor(){this._services=new m,this._services.set(c.IInstantiationService,this)}setService(g,v){this._services.set(g,v)}getService(g){return this._services.get(g)}createInstance(g,...v){const _=(0,d.getServiceDependencies)(g).sort((y,b)=>y.index-b.index),S=[];for(const y of _){const b=this._services.get(y.id);if(!b)throw new Error(`[createInstance] ${g.name} depends on UNKNOWN service ${y.id}.`);S.push(b)}const C=_.length>0?_[0].index:v.length;if(v.length!==C)throw new Error(`[createInstance] First service dependency of ${g.name} at position ${C+1} conflicts with ${v.length} static arguments`);return new g(...v,...S)}}},7866:function(a,s,l){var c=this&&this.__decorate||function(C,y,b,u){var w,x=arguments.length,E=x<3?y:u===null?u=Object.getOwnPropertyDescriptor(y,b):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(C,y,b,u);else for(var T=C.length-1;T>=0;T--)(w=C[T])&&(E=(x<3?w(E):x>3?w(y,b,E):w(y,b))||E);return x>3&&E&&Object.defineProperty(y,b,E),E},d=this&&this.__param||function(C,y){return function(b,u){y(b,u,C)}};Object.defineProperty(s,"__esModule",{value:!0}),s.traceCall=s.setTraceLogger=s.LogService=void 0;const m=l(844),g=l(2585),v={trace:g.LogLevelEnum.TRACE,debug:g.LogLevelEnum.DEBUG,info:g.LogLevelEnum.INFO,warn:g.LogLevelEnum.WARN,error:g.LogLevelEnum.ERROR,off:g.LogLevelEnum.OFF};let _,S=s.LogService=class extends m.Disposable{get logLevel(){return this._logLevel}constructor(C){super(),this._optionsService=C,this._logLevel=g.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),_=this}_updateLogLevel(){this._logLevel=v[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(C){for(let y=0;y<C.length;y++)typeof C[y]=="function"&&(C[y]=C[y]())}_log(C,y,b){this._evalLazyOptionalParams(b),C.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+y,...b)}trace(C,...y){var b;this._logLevel<=g.LogLevelEnum.TRACE&&this._log(((b=this._optionsService.options.logger)==null?void 0:b.trace.bind(this._optionsService.options.logger))??console.log,C,y)}debug(C,...y){var b;this._logLevel<=g.LogLevelEnum.DEBUG&&this._log(((b=this._optionsService.options.logger)==null?void 0:b.debug.bind(this._optionsService.options.logger))??console.log,C,y)}info(C,...y){var b;this._logLevel<=g.LogLevelEnum.INFO&&this._log(((b=this._optionsService.options.logger)==null?void 0:b.info.bind(this._optionsService.options.logger))??console.info,C,y)}warn(C,...y){var b;this._logLevel<=g.LogLevelEnum.WARN&&this._log(((b=this._optionsService.options.logger)==null?void 0:b.warn.bind(this._optionsService.options.logger))??console.warn,C,y)}error(C,...y){var b;this._logLevel<=g.LogLevelEnum.ERROR&&this._log(((b=this._optionsService.options.logger)==null?void 0:b.error.bind(this._optionsService.options.logger))??console.error,C,y)}};s.LogService=S=c([d(0,g.IOptionsService)],S),s.setTraceLogger=function(C){_=C},s.traceCall=function(C,y,b){if(typeof b.value!="function")throw new Error("not supported");const u=b.value;b.value=function(...w){if(_.logLevel!==g.LogLevelEnum.TRACE)return u.apply(this,w);_.trace(`GlyphRenderer#${u.name}(${w.map(E=>JSON.stringify(E)).join(", ")})`);const x=u.apply(this,w);return _.trace(`GlyphRenderer#${u.name} return`,x),x}}},7302:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OptionsService=s.DEFAULT_OPTIONS=void 0;const c=l(8460),d=l(844),m=l(6114);s.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:m.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const g=["normal","bold","100","200","300","400","500","600","700","800","900"];class v extends d.Disposable{constructor(S){super(),this._onOptionChange=this.register(new c.EventEmitter),this.onOptionChange=this._onOptionChange.event;const C={...s.DEFAULT_OPTIONS};for(const y in S)if(y in C)try{const b=S[y];C[y]=this._sanitizeAndValidateOption(y,b)}catch(b){console.error(b)}this.rawOptions=C,this.options={...C},this._setupOptions(),this.register((0,d.toDisposable)(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(S,C){return this.onOptionChange(y=>{y===S&&C(this.rawOptions[S])})}onMultipleOptionChange(S,C){return this.onOptionChange(y=>{S.indexOf(y)!==-1&&C()})}_setupOptions(){const S=y=>{if(!(y in s.DEFAULT_OPTIONS))throw new Error(`No option with key "${y}"`);return this.rawOptions[y]},C=(y,b)=>{if(!(y in s.DEFAULT_OPTIONS))throw new Error(`No option with key "${y}"`);b=this._sanitizeAndValidateOption(y,b),this.rawOptions[y]!==b&&(this.rawOptions[y]=b,this._onOptionChange.fire(y))};for(const y in this.rawOptions){const b={get:S.bind(this,y),set:C.bind(this,y)};Object.defineProperty(this.options,y,b)}}_sanitizeAndValidateOption(S,C){switch(S){case"cursorStyle":if(C||(C=s.DEFAULT_OPTIONS[S]),!function(y){return y==="block"||y==="underline"||y==="bar"}(C))throw new Error(`"${C}" is not a valid value for ${S}`);break;case"wordSeparator":C||(C=s.DEFAULT_OPTIONS[S]);break;case"fontWeight":case"fontWeightBold":if(typeof C=="number"&&1<=C&&C<=1e3)break;C=g.includes(C)?C:s.DEFAULT_OPTIONS[S];break;case"cursorWidth":C=Math.floor(C);case"lineHeight":case"tabStopWidth":if(C<1)throw new Error(`${S} cannot be less than 1, value: ${C}`);break;case"minimumContrastRatio":C=Math.max(1,Math.min(21,Math.round(10*C)/10));break;case"scrollback":if((C=Math.min(C,4294967295))<0)throw new Error(`${S} cannot be less than 0, value: ${C}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(C<=0)throw new Error(`${S} cannot be less than or equal to 0, value: ${C}`);break;case"rows":case"cols":if(!C&&C!==0)throw new Error(`${S} must be numeric, value: ${C}`);break;case"windowsPty":C=C??{}}return C}}s.OptionsService=v},2660:function(a,s,l){var c=this&&this.__decorate||function(v,_,S,C){var y,b=arguments.length,u=b<3?_:C===null?C=Object.getOwnPropertyDescriptor(_,S):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(v,_,S,C);else for(var w=v.length-1;w>=0;w--)(y=v[w])&&(u=(b<3?y(u):b>3?y(_,S,u):y(_,S))||u);return b>3&&u&&Object.defineProperty(_,S,u),u},d=this&&this.__param||function(v,_){return function(S,C){_(S,C,v)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OscLinkService=void 0;const m=l(2585);let g=s.OscLinkService=class{constructor(v){this._bufferService=v,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(v){const _=this._bufferService.buffer;if(v.id===void 0){const w=_.addMarker(_.ybase+_.y),x={data:v,id:this._nextId++,lines:[w]};return w.onDispose(()=>this._removeMarkerFromLink(x,w)),this._dataByLinkId.set(x.id,x),x.id}const S=v,C=this._getEntryIdKey(S),y=this._entriesWithId.get(C);if(y)return this.addLineToLink(y.id,_.ybase+_.y),y.id;const b=_.addMarker(_.ybase+_.y),u={id:this._nextId++,key:this._getEntryIdKey(S),data:S,lines:[b]};return b.onDispose(()=>this._removeMarkerFromLink(u,b)),this._entriesWithId.set(u.key,u),this._dataByLinkId.set(u.id,u),u.id}addLineToLink(v,_){const S=this._dataByLinkId.get(v);if(S&&S.lines.every(C=>C.line!==_)){const C=this._bufferService.buffer.addMarker(_);S.lines.push(C),C.onDispose(()=>this._removeMarkerFromLink(S,C))}}getLinkData(v){var _;return(_=this._dataByLinkId.get(v))==null?void 0:_.data}_getEntryIdKey(v){return`${v.id};;${v.uri}`}_removeMarkerFromLink(v,_){const S=v.lines.indexOf(_);S!==-1&&(v.lines.splice(S,1),v.lines.length===0&&(v.data.id!==void 0&&this._entriesWithId.delete(v.key),this._dataByLinkId.delete(v.id)))}};s.OscLinkService=g=c([d(0,m.IBufferService)],g)},8343:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDecorator=s.getServiceDependencies=s.serviceRegistry=void 0;const l="di$target",c="di$dependencies";s.serviceRegistry=new Map,s.getServiceDependencies=function(d){return d[c]||[]},s.createDecorator=function(d){if(s.serviceRegistry.has(d))return s.serviceRegistry.get(d);const m=function(g,v,_){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(S,C,y){C[l]===C?C[c].push({id:S,index:y}):(C[c]=[{id:S,index:y}],C[l]=C)})(m,g,_)};return m.toString=()=>d,s.serviceRegistry.set(d,m),m}},2585:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.IDecorationService=s.IUnicodeService=s.IOscLinkService=s.IOptionsService=s.ILogService=s.LogLevelEnum=s.IInstantiationService=s.ICharsetService=s.ICoreService=s.ICoreMouseService=s.IBufferService=void 0;const c=l(8343);var d;s.IBufferService=(0,c.createDecorator)("BufferService"),s.ICoreMouseService=(0,c.createDecorator)("CoreMouseService"),s.ICoreService=(0,c.createDecorator)("CoreService"),s.ICharsetService=(0,c.createDecorator)("CharsetService"),s.IInstantiationService=(0,c.createDecorator)("InstantiationService"),function(m){m[m.TRACE=0]="TRACE",m[m.DEBUG=1]="DEBUG",m[m.INFO=2]="INFO",m[m.WARN=3]="WARN",m[m.ERROR=4]="ERROR",m[m.OFF=5]="OFF"}(d||(s.LogLevelEnum=d={})),s.ILogService=(0,c.createDecorator)("LogService"),s.IOptionsService=(0,c.createDecorator)("OptionsService"),s.IOscLinkService=(0,c.createDecorator)("OscLinkService"),s.IUnicodeService=(0,c.createDecorator)("UnicodeService"),s.IDecorationService=(0,c.createDecorator)("DecorationService")},1480:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeService=void 0;const c=l(8460),d=l(225);class m{static extractShouldJoin(v){return(1&v)!=0}static extractWidth(v){return v>>1&3}static extractCharKind(v){return v>>3}static createPropertyValue(v,_,S=!1){return(16777215&v)<<3|(3&_)<<1|(S?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new c.EventEmitter,this.onChange=this._onChange.event;const v=new d.UnicodeV6;this.register(v),this._active=v.version,this._activeProvider=v}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(v){if(!this._providers[v])throw new Error(`unknown Unicode version "${v}"`);this._active=v,this._activeProvider=this._providers[v],this._onChange.fire(v)}register(v){this._providers[v.version]=v}wcwidth(v){return this._activeProvider.wcwidth(v)}getStringCellWidth(v){let _=0,S=0;const C=v.length;for(let y=0;y<C;++y){let b=v.charCodeAt(y);if(55296<=b&&b<=56319){if(++y>=C)return _+this.wcwidth(b);const x=v.charCodeAt(y);56320<=x&&x<=57343?b=1024*(b-55296)+x-56320+65536:_+=this.wcwidth(x)}const u=this.charProperties(b,S);let w=m.extractWidth(u);m.extractShouldJoin(u)&&(w-=m.extractWidth(S)),_+=w,S=u}return _}charProperties(v,_){return this._activeProvider.charProperties(v,_)}}s.UnicodeService=m}},n={};function i(a){var s=n[a];if(s!==void 0)return s.exports;var l=n[a]={exports:{}};return r[a].call(l.exports,l,l.exports,i),l.exports}var o={};return(()=>{var a=o;Object.defineProperty(a,"__esModule",{value:!0}),a.Terminal=void 0;const s=i(9042),l=i(3236),c=i(844),d=i(5741),m=i(8285),g=i(7975),v=i(7090),_=["cols","rows"];class S extends c.Disposable{constructor(y){super(),this._core=this.register(new l.Terminal(y)),this._addonManager=this.register(new d.AddonManager),this._publicOptions={...this._core.options};const b=w=>this._core.options[w],u=(w,x)=>{this._checkReadonlyOptions(w),this._core.options[w]=x};for(const w in this._core.options){const x={get:b.bind(this,w),set:u.bind(this,w)};Object.defineProperty(this._publicOptions,w,x)}}_checkReadonlyOptions(y){if(_.includes(y))throw new Error(`Option "${y}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new g.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new v.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new m.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const y=this._core.coreService.decPrivateModes;let b="none";switch(this._core.coreMouseService.activeProtocol){case"X10":b="x10";break;case"VT200":b="vt200";break;case"DRAG":b="drag";break;case"ANY":b="any"}return{applicationCursorKeysMode:y.applicationCursorKeys,applicationKeypadMode:y.applicationKeypad,bracketedPasteMode:y.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:b,originMode:y.origin,reverseWraparoundMode:y.reverseWraparound,sendFocusMode:y.sendFocus,wraparoundMode:y.wraparound}}get options(){return this._publicOptions}set options(y){for(const b in y)this._publicOptions[b]=y[b]}blur(){this._core.blur()}focus(){this._core.focus()}input(y,b=!0){this._core.input(y,b)}resize(y,b){this._verifyIntegers(y,b),this._core.resize(y,b)}open(y){this._core.open(y)}attachCustomKeyEventHandler(y){this._core.attachCustomKeyEventHandler(y)}attachCustomWheelEventHandler(y){this._core.attachCustomWheelEventHandler(y)}registerLinkProvider(y){return this._core.registerLinkProvider(y)}registerCharacterJoiner(y){return this._checkProposedApi(),this._core.registerCharacterJoiner(y)}deregisterCharacterJoiner(y){this._checkProposedApi(),this._core.deregisterCharacterJoiner(y)}registerMarker(y=0){return this._verifyIntegers(y),this._core.registerMarker(y)}registerDecoration(y){return this._checkProposedApi(),this._verifyPositiveIntegers(y.x??0,y.width??0,y.height??0),this._core.registerDecoration(y)}hasSelection(){return this._core.hasSelection()}select(y,b,u){this._verifyIntegers(y,b,u),this._core.select(y,b,u)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(y,b){this._verifyIntegers(y,b),this._core.selectLines(y,b)}dispose(){super.dispose()}scrollLines(y){this._verifyIntegers(y),this._core.scrollLines(y)}scrollPages(y){this._verifyIntegers(y),this._core.scrollPages(y)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(y){this._verifyIntegers(y),this._core.scrollToLine(y)}clear(){this._core.clear()}write(y,b){this._core.write(y,b)}writeln(y,b){this._core.write(y),this._core.write(`\r
`,b)}paste(y){this._core.paste(y)}refresh(y,b){this._verifyIntegers(y,b),this._core.refresh(y,b)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(y){this._addonManager.loadAddon(this,y)}static get strings(){return s}_verifyIntegers(...y){for(const b of y)if(b===1/0||isNaN(b)||b%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...y){for(const b of y)if(b&&(b===1/0||isNaN(b)||b%1!=0||b<0))throw new Error("This API only accepts positive integers")}}a.Terminal=S})(),o})())}(xterm)),xterm.exports}var xtermExports=requireXterm(),debounceExports=requireDebounce();const debounce$1=getDefaultExportFromCjs$1(debounceExports),_sfc_main$X=defineComponent$1({__name:"ToolbarTooltipButton",props:{forceIcon:{type:Boolean},rawIcon:{type:Boolean},icon:{},tooltip:{},color:{}},setup(e){return(t,r)=>(openBlock(),createBlock(VBtn,{icon:t.forceIcon,class:"ma-0",size:"small",color:t.color},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[createTextVNode(toDisplayString(t.rawIcon?t.icon:unref(getFaPrefix)(t.icon)),1)]),_:1}),createVNode(VTooltip,{activator:"parent",location:"end"},{default:withCtx(()=>[createTextVNode(toDisplayString(t.tooltip),1)]),_:1})]),_:1},8,["icon","color"]))}}),_sfc_main$W=defineComponent$1({__name:"PtyComponent",props:{title:{},pluginId:{},nativeId:{},hello:{},control:{type:Boolean},reconnect:{type:Boolean},expandButton:{type:Boolean},copyButton:{type:Boolean},options:{},icon:{},close:{type:Boolean}},emits:["clear","close"],setup(e,{emit:t}){const r=e,n=t,i=ref(!1);function o(){i.value=!0,m.resize(m.cols,m.rows*2.5)}function a(){i.value=!1,m.resize(m.cols,m.rows/2.5)}function s(){m.clear(),S=[],n("clear")}const l=ref(),c=isDark();function d(){return c.value?void 0:{selectionBackground:"#0000ff55",foreground:"black",background:"white",cursor:"black"}}const m=new xtermExports.Terminal({theme:d(),convertEol:!0,fontSize:12});watch(()=>c.value,()=>{m.options.theme=d()});const g=new addonFitExports.FitAddon;m.loadAddon(g);const v=debounce$1(()=>g.fit(),50),_=observeResize(l);watch(()=>_.value,v),watch(()=>l.value,()=>{l.value&&(m.open(l.value),g.fit(),u())});let S=[];const C=new Deferred;onUnmounted(()=>C.resolve()),C.promise.then(()=>{window.removeEventListener("resize",v)});let y;function b(){y==null||y.end(),y=void 0,r.reconnect||u()}watch(()=>r.hello,b),watch(()=>r.pluginId,b),watch(()=>r.nativeId,b);async function u(){S=[];const x=createAsyncQueue();if(C.promise.then(()=>x.end()),r.hello){const A=Buffer.from(r.hello,"utf8");x.enqueue(A)}const E=createAsyncQueue();r.control||E.end(),E.enqueue({interactive:!0}),E.enqueue({dim:{cols:m.cols,rows:m.rows}});let T=0;const k=64e3;async function D(A){T+=A.length;const O=x.enqueue(A).then(()=>T-=A.length);T>=k&&(m.options.disableStdin=!0,await O,T<k&&(m.options.disableStdin=!1))}m.onData(A=>D(Buffer.from(A,"utf8"))),m.onBinary(A=>D(Buffer.from(A,"binary"))),m.onResize(A=>{E.enqueue({dim:A}),x.enqueue(Buffer.alloc(0))});async function*B(){for(;;){const A=E.clear();if(A.length){for(const H of A)yield JSON.stringify(H);continue}const O=x.clear();if(O.length===0){const H=await x.dequeue();H.length&&(yield H);continue}const V=Buffer.concat(O);V.length&&(yield V)}}y=createAsyncQueueFromGenerator(B());try{await connectPluginClient();const{systemManager:A,connectRPCObject:O}=connectedClient.value,V=A.getDeviceByName(r.pluginId||"@scrypted/core"),H=r.nativeId?await V.getDevice(r.nativeId):V,K=await(await O(H)).connectStream(y.queue,r.options);for await(const Q of K){if(!Q)break;const X=Buffer.from(Q);r.copyButton&&S.push(X),m.write(new Uint8Array(Q))}}finally{if(!r.reconnect||(await sleep(1e3),C.finished))return;u()}}function w(){const x=Buffer.concat(S).toString();if(navigator.clipboard)navigator.clipboard.writeText(x);else{const E=document.createElement("textarea");E.value=x,document.body.appendChild(E),E.select(),document.execCommand("copy"),document.body.removeChild(E)}}return(x,E)=>(openBlock(),createBlock(VCard,null,createSlots({append:withCtx(()=>[x.copyButton?(openBlock(),createBlock(_sfc_main$X,{key:0,icon:"fa-copy",tooltip:"Copy Log",variant:"text",onClick:w})):createCommentVNode("",!0),x.copyButton?(openBlock(),createBlock(_sfc_main$X,{key:1,icon:"fa-broom-wide",tooltip:"Clear Log",color:"error",variant:"text",onClick:s})):createCommentVNode("",!0),x.expandButton!==!1?(openBlock(),createElementBlock(Fragment,{key:2},[i.value?(openBlock(),createBlock(_sfc_main$X,{key:1,icon:"fa-chevrons-up",tooltip:"Shrink",variant:"text",onClick:a})):(openBlock(),createBlock(_sfc_main$X,{key:0,icon:"fa-chevrons-down",tooltip:"Expand",variant:"text",onClick:o}))],64)):createCommentVNode("",!0),x.close?(openBlock(),createBlock(_sfc_main$X,{key:3,icon:"fa-close",tooltip:"Close",variant:"text",onClick:E[0]||(E[0]=T=>n("close"))})):createCommentVNode("",!0)]),title:withCtx(()=>[createVNode(VCardSubtitle,{class:"pt-1 pl-4",style:{"text-transform":"uppercase"}},{default:withCtx(()=>[createTextVNode(toDisplayString(x.title),1)]),_:1})]),default:withCtx(()=>[createBaseVNode("div",{class:"ml-3 mr-3",ref_key:"terminal",ref:l,style:{height:"100%"}},null,512)]),_:2},[x.icon?{name:"prepend",fn:withCtx(()=>[createVNode(VIcon,{size:"small",icon:unref(getFaPrefix)(x.icon)},null,8,["icon"])]),key:"0"}:void 0]),1024))}}),_sfc_main$V=defineComponent$1({__name:"Terminal",setup(e){return(t,r)=>(openBlock(),createBlock(VContainer,{fluid:""},{default:withCtx(()=>[createVNode(_sfc_main$W,{title:"Terminal","native-id":"terminalservice",control:"","expand-button":!1,style:{display:"flex",flexDirection:"column",height:"100%"}})]),_:1}))}}),_hoisted_1$v={style:{position:"relative",width:"100%",height:"100%"}},_hoisted_2$p={style:{position:"absolute"},width:"100%",height:"100%",viewBox:"0 0 1 1",preserveAspectRatio:"none"},_hoisted_3$i=["points","fill"],_hoisted_4$a={style:{position:"absolute"},width:"100%",height:"100%"},_hoisted_5$8=["cx","cy","fill"],_sfc_main$U=defineComponent$1({__name:"ClipPathEditor",props:mergeModels({scale:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=useModel(e,"modelValue"),r=computed(()=>{var c;return((c=t.value)==null?void 0:c.color)||"red"}),n=e,i=computed(()=>n.scale||1),o=computed(()=>n.scale?(1-n.scale)/2:0);function a(c){return o.value+c*i.value}function s(c){return(c-o.value)/i.value}function l(c){t.value||(t.value={points:[]});const d=c.currentTarget;t.value.points.push([s(c.offsetX/d.offsetWidth),s(c.offsetY/d.offsetHeight)]),t.value.dimensions=[d.offsetWidth,d.offsetHeight]}return(c,d)=>{var m,g;return openBlock(),createElementBlock("div",{onClick:l},[createBaseVNode("div",_hoisted_1$v,[(openBlock(),createElementBlock("svg",_hoisted_2$p,[createBaseVNode("polygon",{points:(m=t.value)==null?void 0:m.points.map(v=>a(v[0])+","+a(v[1])).join(" "),fill:r.value,style:{opacity:"50%"}},null,8,_hoisted_3$i)])),(openBlock(),createElementBlock("svg",_hoisted_4$a,[(openBlock(!0),createElementBlock(Fragment,null,renderList((g=t.value)==null?void 0:g.points,v=>(openBlock(),createElementBlock("circle",{cx:`${a(v[0])*100}%`,cy:`${a(v[1])*100}%`,r:"5",fill:r.value},null,8,_hoisted_5$8))),256))]))])])}}});async function installPlugin(e,t){const{systemManager:r}=connectedClient.value||await connectPluginClient();await(await r.getComponent("plugins")).installNpm(e,t)}async function restartPlugin(e){const{systemManager:t}=connectedClient.value||await connectPluginClient();await(await t.getComponent("plugins")).reload(e)}async function clearConsole(e){(await connectedClient.value.systemManager.getComponent("plugins")).clearConsole(e)}async function getPluginInfo(e){return await(await connectedClient.value.systemManager.getComponent("plugins")).getPluginInfo(e)}async function getAlerts(){return await(await connectedClient.value.systemManager.getComponent("alerts")).getAlerts()}async function removeAlert(e){await(await connectedClient.value.systemManager.getComponent("alerts")).removeAlert(e)}const alertListener=computed(e=>{if(e==null||e.removeListener(),!!connectedClient.value)return connectedClient.value.systemManager.listen((t,r,n)=>{if(r.eventInterface==="Logger"){alertRefresh.value++;return}})}),alertRefresh=ref(0),scryptedAlerts=asyncComputed({async get({},e){return connectedClient.value?await getAlerts():e},default(e){return e||[]},watch:{alertListener:()=>alertListener.value,alertRefresh:()=>alertRefresh.value}}),_sfc_main$T=defineComponent$1({__name:"DeleteDeviceDialog",props:{id:{}},emits:["delete"],setup(e,{emit:t}){const r=e,n=t,i=computed(()=>{var s;return(s=connectedClient.value)==null?void 0:s.systemManager.getDeviceById(r.id).name}),o=useRouter$1();async function a(){var d,m;n("delete");const s=(d=connectedClient.value)==null?void 0:d.systemManager.getDeviceById(r.id),l=(s==null?void 0:s.providerId)===r.id||s==null?void 0:s.providerId,c=r.id;o.replace(l?getDeviceRoute(l):"/component/plugin"),await nextTick$1(),await((m=connectedClient.value)==null?void 0:m.systemManager.removeDevice(c))}return(s,l)=>(openBlock(),createBlock(VDialog,{"max-width":"320"},{activator:withCtx(({props:c})=>[renderSlot(s.$slots,"activator",{activatorProps:c})]),default:withCtx(({isActive:c})=>[createVNode(VCard,null,{title:withCtx(()=>[createVNode(VCardSubtitle,{class:"mt-1"},{default:withCtx(()=>[createTextVNode("Delete "+toDisplayString(i.value),1)]),_:1})]),prepend:withCtx(()=>[createVNode(VIcon,{size:"x-small",color:"error"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-trash")),1)]),_:1})]),default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createTextVNode(" This action will remove "+toDisplayString(i.value)+" and all provided devices from the system. This action can not be undone. ",1)]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{text:"Cancel",onClick:d=>c.value=!1},null,8,["onClick"]),createVNode(VBtn,{color:"error",onClick:d=>{c.value=!1,a()}},{default:withCtx(()=>[...l[0]||(l[0]=[createTextVNode("Delete",-1)])]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:3}))}}),_sfc_main$S=defineComponent$1({__name:"DeviceLayout",props:{hideDefault:{type:Boolean},hideExtra:{type:Boolean}},setup(e){const{xlAndUp:t}=useDisplay();return(r,n)=>(openBlock(),createElementBlock(Fragment,null,[!r.hideDefault||!unref(t)&&!r.hideExtra?(openBlock(),createBlock(_sfc_main$Z,{key:0,cols:"12",md:"6",xl:r.hideExtra?8:6},{default:withCtx(()=>[r.hideDefault?createCommentVNode("",!0):renderSlot(r.$slots,"default",{key:0}),!unref(t)&&!r.hideExtra?renderSlot(r.$slots,"extra",{key:1}):createCommentVNode("",!0)]),_:3},8,["xl"])):createCommentVNode("",!0),unref(t)&&!r.hideExtra?(openBlock(),createBlock(_sfc_main$Z,{key:1,cols:r.hideDefault?6:3},{default:withCtx(()=>[renderSlot(r.$slots,"extra")]),_:3},8,["cols"])):createCommentVNode("",!0)],64))}}),_hoisted_1$u={class:"ml-4",style:{"font-size":"1.5rem"}},_hoisted_2$o={key:1},_sfc_main$R=defineComponent$1({__name:"Extensions",props:{id:{}},setup(e){const t=useRouter$1(),r=e,n=getDeviceFromId(()=>r.id);async function i(c,d){var g;c.value=d;const m=((g=n.value.mixins)==null?void 0:g.filter(v=>v!==c.device.id))||[];d&&m.push(c.device.id),await n.value.setMixins(m)}const o=computed(()=>{var c;return(((c=n.value)==null?void 0:c.mixins)||[]).map(d=>connectedClient.value.systemManager.getDeviceById(d)).filter(d=>!!d)}),a=asyncComputed({async get(){const d=getAllDevices().filter(v=>v.interfaces.includes(distExports.ScryptedInterface.MixinProvider)).map(async v=>await v.canMixin(n.value.type,n.value.interfaces)?v:void 0);return(await Promise.allSettled(d.map(v=>timeoutPromise(2e3,v)))).map(v=>v.status==="fulfilled"&&v.value).filter(v=>!!v)},default:[],watch:{device:()=>n.value}});let s;watch(()=>r.id,()=>s=void 0);const l=computed(()=>{const c=new Map;for(const m of o.value)c.set(m.id,m);for(const m of a.value)c.set(m.id,m);const d=[...c.values()].map(m=>({device:m,value:!!o.value.find(g=>g.id===m.id)}));return s?(d.sort((m,g)=>{const v=s.findIndex(S=>S.device.id===m.device.id),_=s.findIndex(S=>S.device.id===g.device.id);return v===-1&&_===-1?m.device.name.localeCompare(g.device.name):v===-1?1:_===-1?-1:v-_}),d):(s=d,d)});return(c,d)=>(openBlock(),createElementBlock("div",null,[l.value.length?(openBlock(),createBlock(VList,{key:0,density:"compact",style:{overflow:"hidden"}},{default:withCtx(()=>[createVNode(VListSubheader,null,{default:withCtx(()=>[...d[0]||(d[0]=[createTextVNode("Modify and extend devices capabilities.",-1)])]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(l.value,m=>(openBlock(),createElementBlock(Fragment,null,[createVNode(VListItem,{style:{height:"36px"}},{title:withCtx(()=>[createVNode(VSwitch,{inset:"",density:"compact",class:"shrink",color:unref(chipColor),"hide-details":"","model-value":m.value,"onUpdate:modelValue":g=>i(m,g)},{label:withCtx(()=>[createBaseVNode("div",_hoisted_1$u,toDisplayString(m.device.name),1)]),_:2},1032,["color","model-value","onUpdate:modelValue"])]),append:withCtx(()=>[createVNode(VBtn,{size:"x-small",variant:"text",onClick:g=>unref(goDevice)(unref(t),m.device)},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-arrow-up-right-from-square")),1)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),createVNode(VDivider)],64))),256))]),_:1})):(openBlock(),createElementBlock("div",_hoisted_2$o,[createVNode(VCardText,null,{default:withCtx(()=>[...d[1]||(d[1]=[createTextVNode("No extensions available.",-1)])]),_:1})]))]))}}),Extensions=_export_sfc$1(_sfc_main$R,[["__scopeId","data-v-d557dccf"]]),_sfc_main$Q=defineComponent$1({__name:"DeviceSettings",props:{id:{},inline:{}},emits:["click-button-setting","show-console","save","cancel","delete"],setup(e,{emit:t}){const r=e,n=t,i=getDeviceFromId(()=>r.id),o={title:"Extensions",subgroups:[]},a=computed(()=>i.value.interfaces.includes(distExports.ScryptedInterface.ScryptedPlugin)),s=computed(()=>{var v;if(a.value)return!1;switch((v=i.value)==null?void 0:v.providedType){case distExports.ScryptedDeviceType.Internal:case distExports.ScryptedDeviceType.Builtin:case distExports.ScryptedDeviceType.API:case distExports.ScryptedDeviceType.Person:return!1}return!0}),l=computed(()=>!isAdmin.value||r.inline?[]:["Extensions"]),c=ref(0);registerListener(i,{event:distExports.ScryptedInterface.Settings},()=>{c.value++});const d=asyncComputed({async get(){let v;if(i.value.interfaces.includes(distExports.ScryptedInterface.Settings)?v=await i.value.getSettings():v=[],!r.inline&&s.value&&isAdmin.value){const S=new Set(getAllDevices().map(C=>C.room).filter(C=>C));v.push({group:"Edit",title:"Name",key:"ui:name",value:i.value.name},{group:"Edit",title:"Type",key:"ui:type",value:i.value.type,choices:Object.keys(distExports.ScryptedDeviceType),combobox:!0},{group:"Edit",title:"Room",key:"ui:room",value:i.value.room,choices:[...S],combobox:!0})}return v.map(trackSetting)},default(v){return v||[]},watch:{device:()=>i.value,refreshSettings:()=>c.value}}),m=computed(()=>d.value.filter(isDirty).length);watch(()=>m.value,()=>{const v=d.value.filter(isDirty).filter(_=>_.immediate);for(const _ of v)_.console&&n("show-console"),i.value.putSetting(_.key,_.value)});function g(){var _,S,C;const v=d.value.filter(isDirty);for(const y of v)if(y.console&&n("show-console"),y.key.startsWith("ui:")){const b=y.key.substring(3);y.originalValue=y.value,b==="name"?i.value.setName((_=y.value)==null?void 0:_.toString()):b==="type"?i.value.setType((S=y.value)==null?void 0:S.toString()):b==="room"&&i.value.setRoom(((C=y.value)==null?void 0:C.toString())||void 0)}else i.value.putSetting(y.key,y.value);n("save")}return(v,_)=>unref(isAdmin)||unref(d).length?(openBlock(),createBlock(VCard,{key:0},createSlots({prepend:withCtx(()=>[createVNode(VIcon,{size:"xx-small"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-gear")),1)]),_:1})]),title:withCtx(()=>[v.inline?(openBlock(),createBlock(VCardSubtitle,{key:0,class:"pt-1 pl-4",style:{"text-transform":"uppercase"}},{default:withCtx(()=>[createTextVNode(toDisplayString(v.inline),1)]),_:1})):(openBlock(),createBlock(VCardSubtitle,{key:1,class:"pt-1 pl-4",style:{"text-transform":"uppercase"}},{default:withCtx(()=>[..._[4]||(_[4]=[createTextVNode(" Settings ",-1)])]),_:1}))]),default:withCtx(()=>[createBaseVNode("div",null,[createVNode(_sfc_main$$,{modelValue:unref(d),"onUpdate:modelValue":_[0]||(_[0]=S=>isRef(d)?d.value=S:null),"extra-groups":l.value,onClickButtonSetting:_[1]||(_[1]=S=>n("click-button-setting",S))},createSlots({_:2},[unref(isAdmin)&&!v.inline?{name:"settings-expansion-panels",fn:withCtx(S=>[createVNode(VExpansionPanel,{value:o,"collapse-icon":unref(getFaPrefix)("fa-caret-up"),"expand-icon":unref(getFaPrefix)("fa-caret-down")},{default:withCtx(()=>{var C;return[createVNode(VExpansionPanelTitle,{style:{"min-height":"unset",height:"24px","font-size":".8rem","font-weight":"450","text-transform":"uppercase"},color:((C=S.selectedSettingGroup)==null?void 0:C.title)==="Extensions"?"deep-purple":void 0},{default:withCtx(()=>[..._[6]||(_[6]=[createTextVNode("Extensions",-1)])]),_:2},1032,["color"]),createVNode(VExpansionPanelText,null,{default:withCtx(()=>{var y;return[((y=S.selectedSettingGroup)==null?void 0:y.title)==="Extensions"?(openBlock(),createBlock(Extensions,{key:0,id:v.id},null,8,["id"])):createCommentVNode("",!0)]}),_:2},1024)]}),_:2},1032,["collapse-icon","expand-icon"]),createVNode(VDivider)]),key:"0"}:void 0]),1032,["modelValue","extra-groups"])]),v.inline?(openBlock(),createBlock(VCardActions,{key:0},{default:withCtx(()=>[unref(isAdmin)?(openBlock(),createBlock(_sfc_main$T,{key:0,id:v.id,onDelete:_[2]||(_[2]=S=>n("delete"))},{activator:withCtx(({activatorProps:S})=>[createVNode(VBtn,mergeProps(S,{variant:"text",size:"small",color:"error"}),{default:withCtx(()=>[..._[7]||(_[7]=[createTextVNode("Delete",-1)])]),_:2},1040)]),_:1},8,["id"])):createCommentVNode("",!0),createVNode(VSpacer),createVNode(VBtn,{variant:"text",size:"small",onClick:_[3]||(_[3]=S=>n("cancel"))},{default:withCtx(()=>[..._[8]||(_[8]=[createTextVNode("Cancel",-1)])]),_:1}),createVNode(VBtn,{variant:m.value?"flat":"text",size:"small",disabled:!m.value,onClick:g,color:"success"},{default:withCtx(()=>[..._[9]||(_[9]=[createTextVNode("Save",-1)])]),_:1},8,["variant","disabled"])]),_:1})):createCommentVNode("",!0)]),_:2},[v.inline?void 0:{name:"append",fn:withCtx(()=>[createVNode(VBtn,{variant:m.value?"flat":"text",size:"small",disabled:!m.value,onClick:g,color:"success"},{default:withCtx(()=>[..._[5]||(_[5]=[createTextVNode("Save",-1)])]),_:1},8,["variant","disabled"])]),key:"0"}]),1024)):createCommentVNode("",!0)}}),_sfc_main$P=defineComponent$1({__name:"KvmComponent",props:{id:{},reconnect:{type:Boolean}},setup(e){const t=e,r=ref(),n=getDeviceFromId(()=>t.id),i=asyncComputed({async get(v,_){_==null||_.end();const S=createAsyncQueue();return g.promise.then(()=>{S.end()}),n.value&&await n.value.connectStream(S.queue),S},watch:{id:()=>t.id}});function o(v){if(!r.value)return;const _=i.value;_&&(_.queued.length?_.queued[0].item.push(v):_.submit([v]))}function a(v){const{x:_,y:S,button:C}=v;if(!r.value)return;const{width:y,height:b}=r.value.getBoundingClientRect();o({event:"mousedown",button:C,x:(_-r.value.offsetLeft)/y,y:(S-r.value.offsetTop)/b})}function s(v){const{x:_,y:S,button:C}=v;if(!r.value)return;const{width:y,height:b}=r.value.getBoundingClientRect();o({event:"mousemove",button:C,x:(_-r.value.offsetLeft)/y,y:(S-r.value.offsetTop)/b})}function l(v){const{x:_,y:S,button:C}=v;if(!r.value)return;const{width:y,height:b}=r.value.getBoundingClientRect();o({event:"mouseup",button:C,x:(_-r.value.offsetLeft)/y,y:(S-r.value.offsetTop)/b})}function c(v){o({event:"keydown",key:v.key,code:v.code})}function d(v){o({event:"keyup",key:v.key,code:v.code})}function m(v){o({event:"keypress",key:v.key,code:v.code})}const g=new Deferred;return onUnmounted(()=>{g.resolve()}),(v,_)=>(openBlock(),createElementBlock("div",{ref_key:"kvm",ref:r,tabindex:"0",onMousedown:a,onMousemove:s,onMouseup:l,onKeydown:c,onKeyup:d,onKeypress:m},null,544))}}),_hoisted_1$t={style:{display:"flex",position:"relative"}},_hoisted_2$n=["src"],_sfc_main$O=defineComponent$1({__name:"Camera",props:{id:{},hideRefresh:{type:Boolean},clickable:{type:Boolean},imgStyle:{type:[Boolean,null,String,Object,Array]}},emits:["img:click"],setup(e,{emit:t}){const r=e,n=t,i=getDeviceFromId(()=>r.id),o=ref(0),a=asyncComputed({async get({clearOldValue:l},c,d,m,g){const v=i.value;if(!v)return l(),"img/scrypted/240x135-000000ff.png";g==="device"&&l();const _=await v.takePicture({reason:"event"}),{mediaManager:S}=connectedClient.value||await connectPluginClient(),C=await S.convertMediaObjectToLocalUrl(_,"image/jpeg");return fixupAppDomainImageUrl(new URL(C).pathname)},default(l){return l||"img/scrypted/240x135-000000ff.png"},watch:{device:()=>i.value,counter:()=>o.value}}),s=debounce$1(()=>o.value++,500,{leading:!1,trailing:!0});return registerListener(i,{event:distExports.ScryptedInterface.Settings},()=>{s()}),(l,c)=>(openBlock(),createBlock(VCard,null,createSlots({default:withCtx(()=>[createBaseVNode("div",_hoisted_1$t,[renderSlot(l.$slots,"default",{},void 0,!0),createBaseVNode("img",{src:unref(a),class:normalizeClass(["image",l.clickable?"image-clickable":void 0]),style:normalizeStyle(l.imgStyle),onClick:c[1]||(c[1]=d=>n("img:click"))},null,14,_hoisted_2$n)])]),_:2},[l.$slots.prepend?{name:"prepend",fn:withCtx(()=>[renderSlot(l.$slots,"prepend",{},void 0,!0)]),key:"0"}:void 0,l.$slots.append?{name:"append",fn:withCtx(()=>[renderSlot(l.$slots,"append",{},void 0,!0)]),key:"1"}:void 0,l.hideRefresh?void 0:{name:"append",fn:withCtx(()=>[createVNode(_sfc_main$X,{icon:unref(getFaPrefix)("fa-refresh"),variant:"text",size:"small",onClick:c[0]||(c[0]=d=>o.value++),tooltip:"Refresh"},null,8,["icon"])]),key:"2"}]),1024))}}),Camera=_export_sfc$1(_sfc_main$O,[["__scopeId","data-v-b87a99d5"]]);async function createDevice(e,t,r){const n=connectedClient.value.systemManager.getDeviceById(t),i={};for(const a of r)i[a.key]=a.value;const o=await n.createDevice(i);goDeviceId(e,o)}async function adoptDevice(e,t,r,n){const i=connectedClient.value.systemManager.getDeviceById(t),o={};for(const s of n)o[s.key]=s.value;const a=await i.adoptDevice({nativeId:r,settings:o});goDeviceId(e,a)}const _sfc_main$N=defineComponent$1({__name:"DeviceCreator",props:{id:{},discoveredDevice:{},title:{}},emits:["click:cancel","created"],setup(e,{emit:t}){const r=e,n=t,i=ref(r.id),o=getDeviceFromId(()=>i.value),a=computed(()=>{var v,_;return((_=(v=o.value)==null?void 0:v.systemDevice)==null?void 0:_.deviceCreator)||"Device"}),s=ref([{title:"Device Type",description:"The type of device to create.",placeholder:"Select a device type",type:"device",key:"deviceType",deviceFilter:`interfaces.includes('${distExports.ScryptedInterface.DeviceCreator}') && interfaces.includes('${distExports.ScryptedInterface.ScryptedDeviceCreator}')`,getDeviceTitle(v){var S;const _=connectedClient.value.systemManager.getDeviceById(v);return _?((S=_.systemDevice)==null?void 0:S.deviceCreator)||_.name:""}}]);watch(()=>{var v,_;return(_=(v=s.value)==null?void 0:v[0])==null?void 0:_.value},async()=>{var v,_;(_=(v=s.value)==null?void 0:v[0])!=null&&_.value&&(i.value=s.value[0].value)});const l=asyncComputed({async get(){var S;return r.discoveredDevice?((S=r.discoveredDevice)==null?void 0:S.settings)||[]:o.value.interfaces.includes(distExports.ScryptedInterface.DeviceCreator)?(await o.value.getCreateDeviceSettings()).map(C=>(C.type==="boolean"?C.value=normalizeBoolean(C.value):C.type==="number"&&(C.value=normalizeNumber(C.value)),{...C,originalValue:C.value})):void 0},default(v){return v||[]},watch:{device:()=>o.value}}),c=useRouter$1(),d=ref(),m=ref(!1);async function g(){m.value=!0,d.value=void 0;try{r.discoveredDevice?await adoptDevice(c,i.value,r.discoveredDevice.nativeId,l.value):await createDevice(c,i.value,l.value)}catch(v){d.value=v.message;return}finally{m.value=!1}n("created")}return(v,_)=>{const S=resolveComponent("router-link");return openBlock(),createBlock(VCard,{title:`Add ${r.title||a.value}`},{default:withCtx(()=>[v.id?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(VCardText,null,{default:withCtx(()=>[_[4]||(_[4]=createTextVNode("Add a device by choosing the device type below. If the device type is not available, supported devices can be extended by ",-1)),createVNode(S,{variant:"text",to:"/component/plugin/install"},{default:withCtx(()=>[..._[3]||(_[3]=[createTextVNode("installing Plugins",-1)])]),_:1}),_[5]||(_[5]=createTextVNode(".",-1))]),_:1}),createVNode(_sfc_main$$,{modelValue:s.value,"onUpdate:modelValue":_[0]||(_[0]=C=>s.value=C),"hide-border":""},null,8,["modelValue"])],64)),i.value?(openBlock(),createBlock(_sfc_main$$,{key:1,modelValue:unref(l),"onUpdate:modelValue":_[1]||(_[1]=C=>isRef(l)?l.value=C:null),"hide-border":""},null,8,["modelValue"])):createCommentVNode("",!0),d.value?(openBlock(),createBlock(VAlert,{key:2,class:"ml-4 mr-4",color:"error"},{default:withCtx(()=>[createTextVNode(toDisplayString(d.value),1)]),_:1})):createCommentVNode("",!0),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{disabled:m.value,text:"Cancel",onClick:_[2]||(_[2]=C=>n("click:cancel"))},null,8,["disabled"]),i.value?(openBlock(),createBlock(VBtn,{key:0,disabled:m.value,text:"Add",onClick:g,color:"success"},null,8,["disabled"])):createCommentVNode("",!0)]),_:1})]),_:1},8,["title"])}}}),other="Other";function createDeviceGroups(e){return computed(()=>{if(!connectedClient.value)return connectPluginClient(),[];let r=!1;const n=new Set;for(const o of e())hasFixedPhysicalLocation(o.type)?n.add(o.type):r=!0;const i=[...n];return i.sort((o,a)=>hasFixedPhysicalLocation(o)&&!hasFixedPhysicalLocation(a)?-1:!hasFixedPhysicalLocation(o)&&hasFixedPhysicalLocation(a)?1:o.localeCompare(a)),r&&i.push(other),i.length===1?[]:i})}const _hoisted_1$s={key:0,class:"text-left"},_hoisted_2$m={key:1,class:"text-left"},_hoisted_3$h={key:2,class:"text-left"},_hoisted_4$9={key:3,class:"text-left"},_hoisted_5$7={key:4,class:"text-left"},_hoisted_6$3={key:0},_hoisted_7$1={key:1},_hoisted_8$1={key:2},_hoisted_9$1={key:3},_hoisted_10={key:4},pageSize=20,_sfc_main$M=defineComponent$1({__name:"DevicePagination",props:{devices:{},deviceGroups:{},hidePluginColumn:{type:Boolean},showPhysicalOnly:{type:Boolean}},emits:["click:device"],setup(e,{emit:t}){const{lgAndUp:r,mdAndUp:n}=useDisplay(),i=ref(!0),o=e,a=t;function s(E,T){const k=o.deviceGroups.indexOf(E);if(i.value){d.value=[],i.value=!1,d.value=[k];return}d.value.includes(k)?d.value=d.value.filter(D=>D!==k):d.value=[...d.value,k],d.value.length||(i.value=!0,m())}function l(E){var k,D;const T=(D=(k=connectedClient.value)==null?void 0:k.systemManager.getDeviceById(E.pluginId))==null?void 0:D.id;if(T)return getDeviceRoute(T)}function c(E){var k;const T=(k=connectedClient.value)==null?void 0:k.systemManager.getDeviceById(E.pluginId);return T?T.name:""}const d=ref([]);function m(){d.value=[];for(let E=0;E<o.deviceGroups.length;E++){const T=o.deviceGroups[E];(!o.showPhysicalOnly||T!==other&&hasFixedPhysicalLocation(T))&&d.value.push(E)}}m(),watch(()=>o.deviceGroups,()=>{m()});const g=ref(""),v=computed(()=>o.devices.filter(E=>{if(!d.value.length)return!0;const T=hasFixedPhysicalLocation(E.type)?E.type:other,k=o.deviceGroups.indexOf(T);return d.value.includes(k)})),_=computed(()=>{const E=g.value.toLocaleLowerCase(),T=k=>k==null?void 0:k.toLocaleLowerCase().includes(E);return v.value.filter(k=>{var D,B,A,O,V;return T(k.name)||T((D=k.info)==null?void 0:D.ip)||T((B=k.info)==null?void 0:B.description)||T((A=k.info)==null?void 0:A.manufacturer)||T((O=k.info)==null?void 0:O.model)||((V=k.interfaces)==null?void 0:V.find(H=>T(H)))})}),S=ref(1);watch(()=>d.value,()=>S.value=1);const C=computed(()=>{const E=[];for(let T=0;T<_.value.length;T+=pageSize)E.push(_.value.slice(T,T+pageSize));return E}),y=computed(()=>C.value[S.value-1]),b=computed(()=>{var E;return(E=y.value)==null?void 0:E.some(T=>{var k;return(k=T.info)==null?void 0:k.ip})}),u=computed(()=>{var E;return(E=y.value)==null?void 0:E.some(T=>{var k;return(k=T.info)==null?void 0:k.manufacturer})}),w=computed(()=>{var E;return(E=y.value)==null?void 0:E.some(T=>{var k;return(k=T.info)==null?void 0:k.model})}),x=computed(()=>{var E;return(!w.value||!u.value||!b.value)&&((E=y.value)==null?void 0:E.some(T=>{var k;return(k=T.info)==null?void 0:k.description}))});return(E,T)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(VChipGroup,{class:"ma-4","model-value":d.value,multiple:"",column:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(E.deviceGroups,k=>(openBlock(),createBlock(VChip,{key:k,"prepend-icon":k===unref(other)?unref(typeToIcon)(unref(distExports.ScryptedDeviceType).Unknown):unref(typeToIcon)(k),size:"small",color:i.value?"deep-purple-accent-4":"info",onClick:D=>s(k,D),variant:"flat",rounded:0,class:"pl-3 ma-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(k)+" ("+toDisplayString(E.devices.filter(D=>(unref(hasFixedPhysicalLocation)(D.type)?D.type:unref(other))===k).length)+")",1)]),_:2},1032,["prepend-icon","color","onClick"]))),128))]),_:1},8,["model-value"]),v.value.length>pageSize?(openBlock(),createBlock(VTextField,{key:0,modelValue:g.value,"onUpdate:modelValue":T[0]||(T[0]=k=>g.value=k),style:{transform:"scale(.75, .75)"},title:"Search",label:"Search",density:"compact"},null,8,["modelValue"])):createCommentVNode("",!0),createVNode(VTable,{density:"compact",hover:""},{default:withCtx(()=>[createBaseVNode("thead",null,[createBaseVNode("tr",null,[T[3]||(T[3]=createBaseVNode("th",{style:{width:"32px"}},null,-1)),T[4]||(T[4]=createBaseVNode("th",{class:"text-left"}," Name ",-1)),unref(n)&&x.value?(openBlock(),createElementBlock("th",_hoisted_1$s,"Description")):createCommentVNode("",!0),unref(n)&&w.value?(openBlock(),createElementBlock("th",_hoisted_2$m,"Model")):createCommentVNode("",!0),unref(r)&&u.value?(openBlock(),createElementBlock("th",_hoisted_3$h,"Manufacturer")):createCommentVNode("",!0),unref(n)&&b.value?(openBlock(),createElementBlock("th",_hoisted_4$9,"IP")):createCommentVNode("",!0),unref(n)&&!E.hidePluginColumn?(openBlock(),createElementBlock("th",_hoisted_5$7," Plugin ")):createCommentVNode("",!0)])]),createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(y.value,k=>{var D,B,A,O;return openBlock(),createElementBlock("tr",{key:k.id||k.nativeId},[createBaseVNode("td",null,[createVNode(VIcon,{size:"x-small"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(typeToIcon)(k.type)),1)]),_:2},1024)]),createBaseVNode("td",null,[createVNode(VBtn,{style:{width:"100%","justify-content":"start"},size:"small",variant:"text",to:k.id?unref(getDeviceRoute)(k.id):void 0,onClick:V=>k.id?void 0:a("click:device",k)},{default:withCtx(()=>[createTextVNode(toDisplayString(k.name),1)]),_:2},1032,["to","onClick"])]),unref(n)&&x.value?(openBlock(),createElementBlock("td",_hoisted_6$3,toDisplayString((D=k.info)==null?void 0:D.description),1)):createCommentVNode("",!0),unref(n)&&w.value?(openBlock(),createElementBlock("td",_hoisted_7$1,toDisplayString((B=k.info)==null?void 0:B.model),1)):createCommentVNode("",!0),unref(r)&&u.value?(openBlock(),createElementBlock("td",_hoisted_8$1,toDisplayString((A=k.info)==null?void 0:A.manufacturer),1)):createCommentVNode("",!0),unref(n)&&b.value?(openBlock(),createElementBlock("td",_hoisted_9$1,toDisplayString((O=k.info)==null?void 0:O.ip),1)):createCommentVNode("",!0),unref(n)&&!E.hidePluginColumn?(openBlock(),createElementBlock("td",_hoisted_10,[c(k)?(openBlock(),createBlock(VBtn,{key:0,color:"info",size:"small",variant:"text",onClick:T[1]||(T[1]=withModifiers(()=>{},["stop"])),to:l(k)},{default:withCtx(()=>[createTextVNode(toDisplayString(c(k)),1)]),_:2},1032,["to"])):createCommentVNode("",!0)])):createCommentVNode("",!0)])}),128))])]),_:1}),createVNode(VPagination,{length:C.value.length,modelValue:S.value,"onUpdate:modelValue":T[2]||(T[2]=k=>S.value=k),rounded:"",density:"compact"},null,8,["length","modelValue"])],64))}}),_sfc_main$L=defineComponent$1({__name:"DeviceDiscovery",props:{id:{},discoveredDevices:{}},setup(e){const t=ref(!1),r=ref(),n=e,i=getDeviceFromId(()=>n.id),o=createDeviceGroups(()=>n.discoveredDevices),a=computed(()=>{var l,c;return((c=(l=i.value)==null?void 0:l.systemDevice)==null?void 0:c.deviceDiscovery)||"Discovered Device"});async function s(l){r.value=l,t.value=!0}return(l,c)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(VCardSubtitle,{class:"mt-8"},{default:withCtx(()=>[createTextVNode(toDisplayString(a.value)+"s ",1)]),_:1}),createVNode(VDialog,{"max-width":"500",modelValue:t.value,"onUpdate:modelValue":c[2]||(c[2]=d=>t.value=d)},{default:withCtx(()=>{var d;return[createVNode(_sfc_main$N,{id:l.id,"discovered-device":r.value,title:(d=r.value)==null?void 0:d.name,onCreated:c[0]||(c[0]=m=>t.value=!1),"onClick:cancel":c[1]||(c[1]=m=>t.value=!1)},null,8,["id","discovered-device","title"])]}),_:1},8,["modelValue"]),createVNode(_sfc_main$M,{devices:l.discoveredDevices,"device-groups":unref(o),"onClick:device":c[3]||(c[3]=d=>s(d)),"hide-plugin-column":""},null,8,["devices","device-groups"])],64))}}),_hoisted_1$r={key:0,class:"text-left"},_hoisted_2$l={key:1,class:"text-left"},_hoisted_3$g={key:2,class:"text-left"},_hoisted_4$8={key:0},_hoisted_5$6={key:1},_hoisted_6$2={key:2},_sfc_main$K=defineComponent$1({__name:"DeviceProvider",props:{id:{}},setup(e){const{mdAndUp:t}=useDisplay(),r=e,n=getDeviceFromId(()=>r.id),i=computed(()=>{var u,w;return((w=(u=n.value)==null?void 0:u.systemDevice)==null?void 0:w.deviceCreator)||"Device"}),o=computed(()=>{var u,w;return((w=(u=n.value)==null?void 0:u.systemDevice)==null?void 0:w.deviceCreator)||"device"}),a=computed(()=>getAllDevices().filter(u=>u.providerId===r.id&&u.id!==r.id&&u.type!==distExports.ScryptedDeviceType.Internal)),s=computed(()=>a.value.some(u=>{var w;return(w=u.info)==null?void 0:w.description})),l=computed(()=>a.value.some(u=>{var w;return(w=u.info)==null?void 0:w.model})),c=computed(()=>a.value.some(u=>{var w;return(w=u.info)==null?void 0:w.ip})),d=computed(()=>{var u;return(u=n.value)==null?void 0:u.interfaces.includes(distExports.ScryptedInterface.DeviceCreator)}),m=computed(()=>{var u;return(u=n.value)==null?void 0:u.interfaces.includes(distExports.ScryptedInterface.DeviceDiscovery)}),g=ref();async function v(){n.value.interfaces.includes(distExports.ScryptedInterface.DeviceDiscovery)&&(g.value=[],g.value=await n.value.discoverDevices(!0))}watch(()=>r.id,()=>{v()}),registerListener(n,{event:distExports.ScryptedInterface.DeviceDiscovery},async()=>{v()}),v();const _=ref(!1);function S(u){return isTouchDevice.value?!1:u.interfaces.length===1&&u.interfaces.includes(distExports.ScryptedInterface.Settings)||u.interfaces.includes("InlineSettings")}const C=ref(),y=computed(()=>{var u;return((u=connectedClient.value.systemManager.getDeviceById(C.value))==null?void 0:u.name)||"Device"});function b(u){C.value=u.id,_.value=!0}return(u,w)=>(openBlock(),createBlock(VCard,null,{prepend:withCtx(()=>[createVNode(VIcon,{size:"xx-small"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-database")),1)]),_:1})]),title:withCtx(()=>[createVNode(VCardSubtitle,{class:"pt-1 pl-4",style:{"text-transform":"uppercase"}},{default:withCtx(()=>[createTextVNode(toDisplayString(i.value)+"s ",1)]),_:1})]),default:withCtx(()=>[createVNode(VDialog,{modelValue:_.value,"onUpdate:modelValue":w[0]||(w[0]=x=>_.value=x),"max-width":"500"},{default:withCtx(({isActive:x})=>[createVNode(_sfc_main$Q,{id:C.value,"onClick:cancel":E=>x.value=!1,onCreated:E=>x.value=!1,inline:y.value,onSave:E=>x.value=!1,onCancel:E=>x.value=!1,onDelete:E=>x.value=!1},null,8,["id","onClick:cancel","onCreated","inline","onSave","onCancel","onDelete"])]),_:1},8,["modelValue"]),createVNode(VCardSubtitle,null,{default:withCtx(()=>[createTextVNode(" These "+toDisplayString(o.value)+"s are managed by "+toDisplayString(unref(n).name)+". ",1)]),_:1}),createVNode(VTable,{density:"compact",hover:""},{default:withCtx(()=>[createBaseVNode("thead",null,[createBaseVNode("tr",null,[w[1]||(w[1]=createBaseVNode("th",{style:{width:"32px"}},null,-1)),w[2]||(w[2]=createBaseVNode("th",{class:"text-left"}," Name ",-1)),unref(t)&&s.value?(openBlock(),createElementBlock("th",_hoisted_1$r,"Description")):createCommentVNode("",!0),unref(t)&&l.value?(openBlock(),createElementBlock("th",_hoisted_2$l,"Model")):createCommentVNode("",!0),unref(t)&&c.value?(openBlock(),createElementBlock("th",_hoisted_3$g,"IP")):createCommentVNode("",!0)])]),createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.value,x=>{var E,T,k;return openBlock(),createElementBlock("tr",{key:x.id},[createBaseVNode("td",null,[createVNode(VIcon,{size:"x-small"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(typeToIcon)(x.type)),1)]),_:2},1024)]),createBaseVNode("td",null,[createVNode(VBtn,{variant:"text",size:"small",to:S(x)?void 0:unref(getDeviceRoute)(x.id),onClick:D=>S(x)?b(x):void 0},{default:withCtx(()=>[createTextVNode(toDisplayString(x.name),1)]),_:2},1032,["to","onClick"])]),unref(t)&&s.value?(openBlock(),createElementBlock("td",_hoisted_4$8,toDisplayString((E=x.info)==null?void 0:E.description),1)):createCommentVNode("",!0),unref(t)&&l.value?(openBlock(),createElementBlock("td",_hoisted_5$6,toDisplayString((T=x.info)==null?void 0:T.model),1)):createCommentVNode("",!0),unref(t)&&c.value?(openBlock(),createElementBlock("td",_hoisted_6$2,toDisplayString((k=x.info)==null?void 0:k.ip),1)):createCommentVNode("",!0)])}),128))])]),_:1}),m.value&&g.value?(openBlock(),createBlock(_sfc_main$L,{key:0,id:u.id,"discovered-devices":g.value},null,8,["id","discovered-devices"])):createCommentVNode("",!0),d.value||m.value?(openBlock(),createBlock(VCardActions,{key:1},{default:withCtx(()=>[d.value?(openBlock(),createBlock(VDialog,{key:0,"max-width":"500"},{activator:withCtx(({props:x})=>[createVNode(VBtn,mergeProps(x,{variant:"flat",color:"success",class:"ml-4",size:"small"}),{default:withCtx(()=>[createTextVNode("Add "+toDisplayString(i.value),1)]),_:2},1040)]),default:withCtx(({isActive:x})=>[createVNode(_sfc_main$N,{id:u.id,"onClick:cancel":E=>x.value=!1,onCreated:E=>x.value=!1},null,8,["id","onClick:cancel","onCreated"])]),_:1})):createCommentVNode("",!0),m.value?(openBlock(),createBlock(VBtn,{key:1,variant:"outlined",color:"info",class:"ml-4",size:"small",onClick:v},{default:withCtx(()=>[...w[3]||(w[3]=[createTextVNode("Refresh",-1)])]),_:1})):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0)]),_:1}))}}),_hoisted_1$q={key:0,class:"text-left"},_hoisted_2$k={key:1,class:"text-left"},_hoisted_3$f={class:"ml-4",style:{"font-size":"1.5rem"}},_hoisted_4$7={key:0},_hoisted_5$5={key:1},_sfc_main$J=defineComponent$1({__name:"MixinProvider",props:{id:{}},setup(e){const{mdAndUp:t}=useDisplay(),r=e,n=getDeviceFromId(()=>r.id),i=computed(()=>getAllDevices().filter(m=>{var g;return(g=m.mixins)==null?void 0:g.includes(r.id)})),o=asyncComputed({async get(){const m=getAllDevices().map(async _=>await n.value.canMixin(_.type,_.interfaces)?_:void 0);return(await Promise.allSettled(m.map(_=>timeoutPromise(2e3,_)))).map(_=>_.status==="fulfilled"&&_.value).filter(_=>!!_)},default:[],watch:{device:()=>n.value}});let a;watch(()=>r.id,()=>a=void 0);const s=computed(()=>{const m=new Map;for(const v of i.value)m.set(v.id,v);for(const v of o.value)m.set(v.id,v);const g=[...m.values()].map(v=>({device:v,value:!!i.value.find(_=>_.id===v.id)}));return a?(g.sort((v,_)=>{const S=a.findIndex(y=>y.device.id===v.device.id),C=a.findIndex(y=>y.device.id===_.device.id);return S===-1&&C===-1?v.device.name.localeCompare(_.device.name):S===-1?1:C===-1?-1:S-C}),g):(a=g,g)});async function l(m,g){var _;m.value=g;const v=((_=m.device.mixins)==null?void 0:_.filter(S=>S!==r.id))||[];g&&v.push(r.id),await m.device.setMixins(v)}const c=computed(()=>s.value.some(m=>{var g;return(g=m.device.info)==null?void 0:g.model})),d=computed(()=>s.value.some(m=>{var g;return(g=m.device.info)==null?void 0:g.ip}));return(m,g)=>(openBlock(),createBlock(VCard,null,{prepend:withCtx(()=>[createVNode(VIcon,{size:"xx-small"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-bolt")),1)]),_:1})]),title:withCtx(()=>[createVNode(VCardSubtitle,{class:"pt-1 pl-4",style:{"text-transform":"uppercase"}},{default:withCtx(()=>[...g[0]||(g[0]=[createTextVNode(" Extending Devices ",-1)])]),_:1})]),default:withCtx(()=>[createVNode(VCardSubtitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(unref(n).name)+" can be enabled on these devices. ",1)]),_:1}),createVNode(VTable,{density:"compact",hover:""},{default:withCtx(()=>[createBaseVNode("thead",null,[createBaseVNode("tr",null,[g[1]||(g[1]=createBaseVNode("th",{class:"text-left"}," Name ",-1)),unref(t)&&c.value?(openBlock(),createElementBlock("th",_hoisted_1$q,"Model")):createCommentVNode("",!0),unref(t)&&d.value?(openBlock(),createElementBlock("th",_hoisted_2$k,"IP")):createCommentVNode("",!0),g[2]||(g[2]=createBaseVNode("th",{style:{width:"32px"}},null,-1))])]),createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.value,v=>{var _,S;return openBlock(),createElementBlock("tr",{key:v.device.id},[createBaseVNode("td",null,[createVNode(VSwitch,{inset:"",density:"compact",class:"shrink",color:unref(chipColor),"hide-details":"","model-value":v.value,"onUpdate:modelValue":C=>l(v,C)},{label:withCtx(()=>[createBaseVNode("div",_hoisted_3$f,toDisplayString(v.device.name),1)]),_:2},1032,["color","model-value","onUpdate:modelValue"])]),unref(t)&&c.value?(openBlock(),createElementBlock("td",_hoisted_4$7,toDisplayString((_=v.device.info)==null?void 0:_.model),1)):createCommentVNode("",!0),unref(t)&&d.value?(openBlock(),createElementBlock("td",_hoisted_5$5,toDisplayString((S=v.device.info)==null?void 0:S.ip),1)):createCommentVNode("",!0),createBaseVNode("td",null,[createVNode(VBtn,{variant:"text",size:"x-small",to:unref(getDeviceRoute)(v.device.id),icon:unref(typeToIcon)(v.device.type)},null,8,["to","icon"])])])}),128))])]),_:1})]),_:1}))}}),MixinProvider=_export_sfc$1(_sfc_main$J,[["__scopeId","data-v-0f45c866"]]),_hoisted_1$p={class:"mr-8 ml-8"},_sfc_main$I=defineComponent$1({__name:"Notifier",props:{id:{}},setup(e){const t=e,r=getDeviceFromId(()=>t.id),n=ref({title:"Device Media Source",description:"Select a device to use as the media source.",type:"interface",deviceFilter:`deviceInterface === '${distExports.ScryptedInterface.VideoCamera}' || deviceInterface === '${distExports.ScryptedInterface.Camera}'`}),i=ref("url"),o=ref("Scrypted"),a=ref("Test Notification"),s=ref("This is a message from the Scrypted Management Console."),l=ref("https://home.scrypted.app/_punch/web_hi_res_512.png"),c=ref();async function d(){var m;try{c.value=void 0;let g;if(i.value==="url")g=l.value||void 0;else{const v=(m=n.value.value)==null?void 0:m.toString();if(v){const[_,S]=v.split("#"),C=connectedClient.value.systemManager.getDeviceById(_);S===distExports.ScryptedInterface.Camera?g=await C.takePicture({reason:"event"}):S===distExports.ScryptedInterface.VideoCamera&&(g=await C.getVideoStream())}}await r.value.sendNotification(o.value||void 0,{subtitle:a.value||void 0,body:s.value||void 0},g)}catch(g){console.error("notification send error",g),c.value=g.message}}return(m,g)=>(openBlock(),createBlock(VCard,null,{prepend:withCtx(()=>[createVNode(VIcon,{size:"xx-small"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-message")),1)]),_:1})]),title:withCtx(()=>[createVNode(VCardSubtitle,{class:"pt-1 pl-4",style:{"text-transform":"uppercase"}},{default:withCtx(()=>[...g[6]||(g[6]=[createTextVNode(" Send Notification ",-1)])]),_:1})]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$p,[createVNode(VTextField,{modelValue:o.value,"onUpdate:modelValue":g[0]||(g[0]=v=>o.value=v),class:"mb-4 shrink",density:"compact","hide-details":"","persistent-placeholder":"",label:"Title",variant:"outlined"},null,8,["modelValue"]),createVNode(VTextField,{modelValue:a.value,"onUpdate:modelValue":g[1]||(g[1]=v=>a.value=v),class:"mb-4 shrink",density:"compact","hide-details":"","persistent-placeholder":"",label:"Subtitle",variant:"outlined"},null,8,["modelValue"]),createVNode(VTextField,{modelValue:s.value,"onUpdate:modelValue":g[2]||(g[2]=v=>s.value=v),class:"mb-4 shrink",density:"compact","hide-details":"","persistent-placeholder":"",label:"Body",variant:"outlined"},null,8,["modelValue"]),createVNode(VRadioGroup,{class:"shrink",modelValue:i.value,"onUpdate:modelValue":g[3]||(g[3]=v=>i.value=v),inline:"",color:"info"},{label:withCtx(()=>[...g[7]||(g[7]=[createBaseVNode("div",null,"MediaSource",-1)])]),default:withCtx(()=>[createVNode(VRadio,{value:"url",label:"URL"}),createVNode(VRadio,{value:"media",label:"Device Media Source"})]),_:1},8,["modelValue"]),i.value==="url"?(openBlock(),createBlock(VTextField,{key:0,modelValue:l.value,"onUpdate:modelValue":g[4]||(g[4]=v=>l.value=v),class:"shrink mb-4",density:"compact","persistent-placeholder":"",label:"Media URL",variant:"outlined","persistent-hint":"",hint:"The URL that contains an image or video."},null,8,["modelValue"])):(openBlock(),createBlock(DeviceInterfaceSetting,{key:1,"persistent-hint":"",hint:"The camera or media source used to send an image or video.",modelValue:n.value,"onUpdate:modelValue":g[5]||(g[5]=v=>n.value=v),class:"mb-4"},null,8,["modelValue"]))]),c.value?(openBlock(),createBlock(VAlert,{key:0,color:"error",class:"ma-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(c.value),1)]),_:1})):createCommentVNode("",!0),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{size:"small",color:"info","prepend-icon":unref(getFaPrefix)("fa-paper-plane-top"),onClick:d},{default:withCtx(()=>[...g[8]||(g[8]=[createTextVNode("Send",-1)])]),_:1},8,["prepend-icon"])]),_:1})]),_:1}))}}),Notifier=_export_sfc$1(_sfc_main$I,[["__scopeId","data-v-413bd51e"]]),_sfc_main$H=defineComponent$1({__name:"OauthClient",props:{id:{}},setup(e){const t=e,r=getDeviceFromId(()=>t.id),n=ref(!1),i=computed(()=>{try{return window.self!==window.top}catch{return!0}});async function o(){if(i.value||isInstalledApp||navigator.userAgent.includes("Scrypted")){n.value=!0;return}const s=await r.value.getOauthUrl();var l=new URL(s);let c=l.searchParams.get("redirect_uri");if(c){let d;try{d=new URL(c)}catch{const g=new URL(document.baseURI),v=new URL("../../../../",g);d=new URL("."+c,v),d.hostname="localhost"}d.hostname==="localhost"&&(d.hostname=new URL(window.location.href).hostname,c=d.toString())}else c="https://home.scrypted.app/web/oauth/callback";l.searchParams.set("redirect_uri",c),l.searchParams.set("state",JSON.stringify({d:t.id,s:l.searchParams.get("state"),r:window.location.toString()})),window.location.href=l.toString()}async function a(){const{endpointManager:s}=connectedClient.value,l=await s.getPublicLocalEndpoint(),c=new URL(l);c.hash=window.location.hash,c.pathname="/endpoint/@scrypted/core/public/",window.open(c.toString(),"_blank")}return(s,l)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(VDialog,{modelValue:n.value,"onUpdate:modelValue":l[1]||(l[1]=c=>n.value=c),"max-width":"300px"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[...l[2]||(l[2]=[createTextVNode("Login Required",-1)])]),_:1}),i.value?(openBlock(),createBlock(VCardText,{key:0},{default:withCtx(()=>[...l[3]||(l[3]=[createTextVNode("Scrypted Management Console is currently inside a browser iframe. For web security, a new tab will be opened, and the browser may prompt to log into this server again. ",-1),createBaseVNode("br",null,null,-1),createBaseVNode("br",null,null,-1),createBaseVNode("b",null,"Home Assistant Addon installations must create a new Administrator user",-1),createTextVNode(" within the Scrypted Users sidebar menu to log in from outside of Home Assistant. ",-1)])]),_:1})):(openBlock(),createBlock(VCardText,{key:1},{default:withCtx(()=>[...l[4]||(l[4]=[createTextVNode("Scrypted Management Console needs to log in using the browser. A new browser window will be opened, and the browser may prompt to log into this server again. ",-1)])]),_:1})),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{icon:"",onClick:l[0]||(l[0]=c=>n.value=!1)},{default:withCtx(()=>[...l[5]||(l[5]=[createTextVNode("Cancel",-1)])]),_:1}),createVNode(VBtn,{icon:"",onClick:a},{default:withCtx(()=>[...l[6]||(l[6]=[createTextVNode("OK",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(VBtn,{size:"x-small",color:"info",onClick:o},{prepend:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-arrow-left-to-bracket")),1)]),_:1})]),default:withCtx(()=>[l[7]||(l[7]=createTextVNode(" Login ",-1))]),_:1})],64))}}),attribution='&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',prefix='<a target="blank" href="https://leafletjs.com/">Leaflet</a>',_sfc_main$G=defineComponent$1({__name:"PositionSensor",props:{id:{}},async setup(e){let t,r;const n=([t,r]=withAsyncContext(()=>__vitePreload(()=>import("./vue-leaflet.es-BBdZG5i2.js"),[],import.meta.url)),t=await t,r(),t);[t,r]=withAsyncContext(()=>__vitePreload(()=>import("./leaflet-src-BlD-OX0x.js").then(g=>g.l),[],import.meta.url)),t=await t,r();const{LMap:i,LTileLayer:o,LMarker:a,LControlAttribution:s}=n,l=e,c=getDeviceFromId(()=>l.id),d=()=>c.value.position?16:2;function m(){return[c.value.position.latitude,c.value.position.longitude]}return(g,v)=>(openBlock(),createBlock(VCard,{style:{height:"300px",width:"100%"}},{default:withCtx(()=>[createVNode(unref(i),{ref:"map",zoom:d(),center:m(),options:{zoomControl:!1,attributionControl:!1,dragging:!1,doubleClickZoom:!1,boxZoom:!1,scrollWheelZoom:!1,touchZoom:!1}},{default:withCtx(()=>[createVNode(unref(o),{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png","layer-type":"base",name:"OpenStreetMap",attribution}),createVNode(unref(a),{"lat-lng":m()},null,8,["lat-lng"]),createVNode(unref(s),{position:"bottomright",prefix})]),_:1},8,["zoom","center"])]),_:1}))}});function getUserAgent(){try{return navigator.userAgent}catch{}}function isPeerConnectionClosed(e){return e.iceConnectionState==="disconnected"||e.iceConnectionState==="failed"||e.iceConnectionState==="closed"}function createOptions(){var t,r;return{userAgent:getUserAgent(),capabilities:{audio:((t=RTCRtpReceiver.getCapabilities)==null?void 0:t.call(RTCRtpReceiver,"audio"))||{codecs:void 0,headerExtensions:void 0},video:((r=RTCRtpReceiver.getCapabilities)==null?void 0:r.call(RTCRtpReceiver,"video"))||{codecs:void 0,headerExtensions:void 0}},screen:{devicePixelRatio:window.devicePixelRatio,width:screen.width,height:screen.height}}}async function getPacketsLost(e){return[...(await e.getStats()).values()].filter(i=>"packetsLost"in i).map(i=>i.packetsLost).reduce((i,o)=>i+o,0)}class BrowserSignalingSession{constructor(){De(this,"pc");De(this,"pcDeferred",new Deferred);De(this,"dcDeferred",new Deferred);De(this,"microphone");De(this,"micEnabled",!1);De(this,"onPeerConnection");De(this,"__proxy_props",{options:createOptions()});De(this,"options",createOptions())}async getOptions(){return this.options}async getPacketsLost(){return getPacketsLost(this.pc)}async setMicrophone(t){var r;if(this.microphone&&t&&!this.micEnabled){this.micEnabled=!0;const n=await navigator.mediaDevices.getUserMedia({video:!1,audio:!0});await this.microphone.replaceTrack(n.getTracks()[0])}(r=this.microphone)!=null&&r.track&&(this.microphone.track.enabled=t)}close(){var t;this.pcDeferred.promise.then(r=>{var n,i,o;for(const a of r.getTransceivers()||[])try{(o=(i=(n=a.sender)==null?void 0:n.track)==null?void 0:i.stop)==null||o.call(i)}catch{}r.close()}).catch(()=>{}),this.pcDeferred.reject(new Error("iceConnectionState "+((t=this.pc)==null?void 0:t.iceConnectionState)))}async createPeerConnection(t){var i;if(this.pc)return;const r=()=>{console.log("iceConnectionState",n.iceConnectionState),console.log("connectionState",n.connectionState),isPeerConnectionClosed(n)&&this.close()},n=this.pc=new RTCPeerConnection(t.configuration);if(this.pcDeferred.resolve(n),await((i=this.onPeerConnection)==null?void 0:i.call(this,n)),n.addEventListener("iceconnectionstatechange",r),t.datachannel){const o=n.createDataChannel(t.datachannel.label,t.datachannel.dict);o.binaryType="arraybuffer",this.dcDeferred.resolve(o)}if(t.audio){let o;t.getUserMediaSafariHack&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")?o=n.addTransceiver("audio",{...t.audio,streams:[await navigator.mediaDevices.getUserMedia({audio:!0})]}):o=n.addTransceiver("audio",t.audio),(t.audio.direction==="sendrecv"||t.audio.direction==="sendonly")&&(this.microphone=o.sender)}if(t.video)if(t.video.direction==="sendrecv"||t.video.direction==="sendonly")try{const o=await navigator.mediaDevices.getUserMedia({video:!0});for(const a of o.getTracks())n.addTrack(a)}catch{}else n.addTransceiver("video",t.video)}async createLocalDescription(t,r,n){await this.createPeerConnection(r);const i=new Promise(a=>{this.pc.onicecandidate=s=>{s.candidate?n==null||n(JSON.parse(JSON.stringify(s.candidate))):a(void 0)},this.pc.onicegatheringstatechange=()=>{this.pc.iceGatheringState==="complete"&&a(void 0)}}),o=a=>({type:a.type,sdp:a.sdp});if(t==="offer"){let a=this.pc.localDescription;if(a)return o(this.pc.localDescription);a=await this.pc.createOffer({offerToReceiveAudio:!!r.audio,offerToReceiveVideo:!!r.video});const s=this.pc.setLocalDescription(a);return n||(await s,await i,a=this.pc.localDescription||await this.pc.createOffer({offerToReceiveAudio:!!r.audio,offerToReceiveVideo:!!r.video})),o(a)}else{let a=await this.pc.createAnswer();const s=this.pc.setLocalDescription(a);return n||(await s,await i,a=this.pc.currentLocalDescription||a),o(a)}}async setRemoteDescription(t,r){await this.createPeerConnection(r),await this.pc.setRemoteDescription(t)}async addIceCandidate(t){await this.pc.addIceCandidate(t)}async endSession(){}}const _sfc_main$F=defineComponent$1({__name:"RTCSignalingChannel",props:{id:{},destination:{},microphone:{type:Boolean}},setup(e){const t=e,r=getDeviceFromId(()=>t.id);watch(()=>t.id,()=>a());let n,i,o;function a(){o==null||o.endSession(),o=void 0,i==null||i.close(),i=void 0,s.value=!1,n==null||n.then(m=>m.close()).catch(()=>{}),n=void 0}onUnmounted(()=>a());const s=ref(!1),l=ref();async function c(){if(!s.value||!r.value||!l.value)return;a(),s.value=!0,i=new BrowserSignalingSession,n=i.pcDeferred.promise;const m=new MediaStream;if(i.onPeerConnection=async g=>{g.ontrack=v=>{console.log("add track",v.track),m.addTrack(v.track)}},t.destination==="Default")o=await r.value.startRTCSignalingSession(i);else{const g=await r.value.getVideoStream({destination:t.destination,destinationId:"management",video:{codec:"h264"}}),{mediaManager:v}=connectedClient.value||await connectPluginClient();o=await(await v.convertMediaObject(g,distExports.ScryptedMimeTypes.RTCSignalingChannel)).startRTCSignalingSession(i)}i.pcDeferred.promise.then(g=>{g.addEventListener("iceconnectionstatechange",()=>{console.log("iceConnectionStateChange",g.iceConnectionState),(g.iceConnectionState==="disconnected"||g.iceConnectionState==="failed"||g.iceConnectionState==="closed")&&o.endSession()})}),l.value.srcObject=m}watch(()=>l.value,()=>{l.value&&s.value&&c()}),watch(()=>t.destination,()=>{t.destination?(s.value=!0,c()):a()}),t.destination&&(s.value=!0,c());function d(){o&&(o.setPlayback({audio:!!t.microphone,video:!0}),i==null||i.setMicrophone(!!t.microphone))}return d(),watch(()=>t.microphone,()=>d()),(m,g)=>(openBlock(),createElementBlock("video",{autoplay:"",ref_key:"video",ref:l,playsinline:"",style:{background:"black","object-fit":"fill"}},null,512))}}),decodeCache={};function getDecodeCache(e){let t=decodeCache[e];if(t)return t;t=decodeCache[e]=[];for(let r=0;r<128;r++){const n=String.fromCharCode(r);t.push(n)}for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2)}return t}function decode$1(e,t){typeof t!="string"&&(t=decode$1.defaultChars);const r=getDecodeCache(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(n){let i="";for(let o=0,a=n.length;o<a;o+=3){const s=parseInt(n.slice(o+1,o+3),16);if(s<128){i+=r[s];continue}if((s&224)===192&&o+3<a){const l=parseInt(n.slice(o+4,o+6),16);if((l&192)===128){const c=s<<6&1984|l&63;c<128?i+="":i+=String.fromCharCode(c),o+=3;continue}}if((s&240)===224&&o+6<a){const l=parseInt(n.slice(o+4,o+6),16),c=parseInt(n.slice(o+7,o+9),16);if((l&192)===128&&(c&192)===128){const d=s<<12&61440|l<<6&4032|c&63;d<2048||d>=55296&&d<=57343?i+="":i+=String.fromCharCode(d),o+=6;continue}}if((s&248)===240&&o+9<a){const l=parseInt(n.slice(o+4,o+6),16),c=parseInt(n.slice(o+7,o+9),16),d=parseInt(n.slice(o+10,o+12),16);if((l&192)===128&&(c&192)===128&&(d&192)===128){let m=s<<18&1835008|l<<12&258048|c<<6&4032|d&63;m<65536||m>1114111?i+="":(m-=65536,i+=String.fromCharCode(55296+(m>>10),56320+(m&1023))),o+=9;continue}}i+=""}return i})}decode$1.defaultChars=";/?:@&=+$,#";decode$1.componentChars="";const encodeCache={};function getEncodeCache(e){let t=encodeCache[e];if(t)return t;t=encodeCache[e]=[];for(let r=0;r<128;r++){const n=String.fromCharCode(r);/^[0-9a-z]$/i.test(n)?t.push(n):t.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2))}for(let r=0;r<e.length;r++)t[e.charCodeAt(r)]=e[r];return t}function encode$1(e,t,r){typeof t!="string"&&(r=t,t=encode$1.defaultChars),typeof r>"u"&&(r=!0);const n=getEncodeCache(t);let i="";for(let o=0,a=e.length;o<a;o++){const s=e.charCodeAt(o);if(r&&s===37&&o+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3))){i+=e.slice(o,o+3),o+=2;continue}if(s<128){i+=n[s];continue}if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&o+1<a){const l=e.charCodeAt(o+1);if(l>=56320&&l<=57343){i+=encodeURIComponent(e[o]+e[o+1]),o++;continue}}i+="%EF%BF%BD";continue}i+=encodeURIComponent(e[o])}return i}encode$1.defaultChars=";/?:@&=+$,-_.!~*'()#";encode$1.componentChars="-_.!~*'()";function format(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function urlParse(e,t){if(e&&e instanceof Url)return e;const r=new Url;return r.parse(e,t),r}Url.prototype.parse=function(e,t){let r,n,i,o=e;if(o=o.trim(),!t&&e.split("#").length===1){const c=simplePathPattern.exec(o);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}let a=protocolPattern.exec(o);if(a&&(a=a[0],r=a.toLowerCase(),this.protocol=a,o=o.substr(a.length)),(t||a||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i=o.substr(0,2)==="//",i&&!(a&&hostlessProtocol[a])&&(o=o.substr(2),this.slashes=!0)),!hostlessProtocol[a]&&(i||a&&!slashedProtocol[a])){let c=-1;for(let _=0;_<hostEndingChars.length;_++)n=o.indexOf(hostEndingChars[_]),n!==-1&&(c===-1||n<c)&&(c=n);let d,m;c===-1?m=o.lastIndexOf("@"):m=o.lastIndexOf("@",c),m!==-1&&(d=o.slice(0,m),o=o.slice(m+1),this.auth=d),c=-1;for(let _=0;_<nonHostChars.length;_++)n=o.indexOf(nonHostChars[_]),n!==-1&&(c===-1||n<c)&&(c=n);c===-1&&(c=o.length),o[c-1]===":"&&c--;const g=o.slice(0,c);o=o.slice(c),this.parseHost(g),this.hostname=this.hostname||"";const v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v){const _=this.hostname.split(/\./);for(let S=0,C=_.length;S<C;S++){const y=_[S];if(y&&!y.match(hostnamePartPattern)){let b="";for(let u=0,w=y.length;u<w;u++)y.charCodeAt(u)>127?b+="x":b+=y[u];if(!b.match(hostnamePartPattern)){const u=_.slice(0,S),w=_.slice(S+1),x=y.match(hostnamePartStart);x&&(u.push(x[1]),w.unshift(x[2])),w.length&&(o=w.join(".")+o),this.hostname=u.join(".");break}}}}this.hostname.length>hostnameMaxLen&&(this.hostname=""),v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const s=o.indexOf("#");s!==-1&&(this.hash=o.substr(s),o=o.slice(0,s));const l=o.indexOf("?");return l!==-1&&(this.search=o.substr(l),o=o.slice(0,l)),o&&(this.pathname=o),slashedProtocol[r]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Url.prototype.parseHost=function(e){let t=portPattern.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const mdurl=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$1,encode:encode$1,format,parse:urlParse},Symbol.toStringTag,{value:"Module"})),Any=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Cc=/[\0-\x1F\x7F-\x9F]/,regex$1=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,regex=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Z=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,ucmicro=Object.freeze(Object.defineProperty({__proto__:null,Any,Cc,Cf:regex$1,P,S:regex,Z},Symbol.toStringTag,{value:"Module"})),htmlDecodeTree=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),xmlDecodeTree=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var _a;const decodeMap=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),fromCodePoint$1=(_a=String.fromCodePoint)!==null&&_a!==void 0?_a:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function replaceCodePoint(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=decodeMap.get(e))!==null&&t!==void 0?t:e}var CharCodes;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(CharCodes||(CharCodes={}));const TO_LOWER_BIT=32;var BinTrieFlags;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(BinTrieFlags||(BinTrieFlags={}));function isNumber$1(e){return e>=CharCodes.ZERO&&e<=CharCodes.NINE}function isHexadecimalCharacter(e){return e>=CharCodes.UPPER_A&&e<=CharCodes.UPPER_F||e>=CharCodes.LOWER_A&&e<=CharCodes.LOWER_F}function isAsciiAlphaNumeric(e){return e>=CharCodes.UPPER_A&&e<=CharCodes.UPPER_Z||e>=CharCodes.LOWER_A&&e<=CharCodes.LOWER_Z||isNumber$1(e)}function isEntityInAttributeInvalidEnd(e){return e===CharCodes.EQUALS||isAsciiAlphaNumeric(e)}var EntityDecoderState;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(EntityDecoderState||(EntityDecoderState={}));var DecodingMode;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(DecodingMode||(DecodingMode={}));class EntityDecoder{constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=EntityDecoderState.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=DecodingMode.Strict}startEntity(t){this.decodeMode=t,this.state=EntityDecoderState.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case EntityDecoderState.EntityStart:return t.charCodeAt(r)===CharCodes.NUM?(this.state=EntityDecoderState.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=EntityDecoderState.NamedEntity,this.stateNamedEntity(t,r));case EntityDecoderState.NumericStart:return this.stateNumericStart(t,r);case EntityDecoderState.NumericDecimal:return this.stateNumericDecimal(t,r);case EntityDecoderState.NumericHex:return this.stateNumericHex(t,r);case EntityDecoderState.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|TO_LOWER_BIT)===CharCodes.LOWER_X?(this.state=EntityDecoderState.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=EntityDecoderState.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,i){if(r!==n){const o=n-r;this.result=this.result*Math.pow(i,o)+parseInt(t.substr(r,o),i),this.consumed+=o}}stateNumericHex(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if(isNumber$1(i)||isHexadecimalCharacter(i))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if(isNumber$1(i))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===CharCodes.SEMI)this.consumed+=1;else if(this.decodeMode===DecodingMode.Strict)return 0;return this.emitCodePoint(replaceCodePoint(this.result),this.consumed),this.errors&&(t!==CharCodes.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){const{decodeTree:n}=this;let i=n[this.treeIndex],o=(i&BinTrieFlags.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){const a=t.charCodeAt(r);if(this.treeIndex=determineBranch(n,i,this.treeIndex+Math.max(1,o),a),this.treeIndex<0)return this.result===0||this.decodeMode===DecodingMode.Attribute&&(o===0||isEntityInAttributeInvalidEnd(a))?0:this.emitNotTerminatedNamedEntity();if(i=n[this.treeIndex],o=(i&BinTrieFlags.VALUE_LENGTH)>>14,o!==0){if(a===CharCodes.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==DecodingMode.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:r,decodeTree:n}=this,i=(n[r]&BinTrieFlags.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){const{decodeTree:i}=this;return this.emitCodePoint(r===1?i[t]&~BinTrieFlags.VALUE_LENGTH:i[t+1],n),r===3&&this.emitCodePoint(i[t+2],n),n}end(){var t;switch(this.state){case EntityDecoderState.NamedEntity:return this.result!==0&&(this.decodeMode!==DecodingMode.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case EntityDecoderState.NumericDecimal:return this.emitNumericEntity(0,2);case EntityDecoderState.NumericHex:return this.emitNumericEntity(0,3);case EntityDecoderState.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case EntityDecoderState.EntityStart:return 0}}}function getDecoder(e){let t="";const r=new EntityDecoder(e,n=>t+=fromCodePoint$1(n));return function(i,o){let a=0,s=0;for(;(s=i.indexOf("&",s))>=0;){t+=i.slice(a,s),r.startEntity(o);const c=r.write(i,s+1);if(c<0){a=s+r.end();break}a=s+c,s=c===0?a+1:a}const l=t+i.slice(a);return t="",l}}function determineBranch(e,t,r,n){const i=(t&BinTrieFlags.BRANCH_LENGTH)>>7,o=t&BinTrieFlags.JUMP_TABLE;if(i===0)return o!==0&&n===o?r:-1;if(o){const l=n-o;return l<0||l>=i?-1:e[r+l]-1}let a=r,s=a+i-1;for(;a<=s;){const l=a+s>>>1,c=e[l];if(c<n)a=l+1;else if(c>n)s=l-1;else return e[l+i]}return-1}const htmlDecoder=getDecoder(htmlDecodeTree);getDecoder(xmlDecodeTree);function decodeHTML(e,t=DecodingMode.Legacy){return htmlDecoder(e,t)}function _class$1(e){return Object.prototype.toString.call(e)}function isString$2(e){return _class$1(e)==="[object String]"}const _hasOwnProperty=Object.prototype.hasOwnProperty;function has$2(e,t){return _hasOwnProperty.call(e,t)}function assign$1(e){return Array.prototype.slice.call(arguments,1).forEach(function(r){if(r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(n){e[n]=r[n]})}}),e}function arrayReplaceAt(e,t,r){return[].concat(e.slice(0,t),r,e.slice(t+1))}function isValidEntityCode(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function fromCodePoint(e){if(e>65535){e-=65536;const t=55296+(e>>10),r=56320+(e&1023);return String.fromCharCode(t,r)}return String.fromCharCode(e)}const UNESCAPE_MD_RE=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,ENTITY_RE=/&([a-z#][a-z0-9]{1,31});/gi,UNESCAPE_ALL_RE=new RegExp(UNESCAPE_MD_RE.source+"|"+ENTITY_RE.source,"gi"),DIGITAL_ENTITY_TEST_RE=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function replaceEntityPattern(e,t){if(t.charCodeAt(0)===35&&DIGITAL_ENTITY_TEST_RE.test(t)){const n=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return isValidEntityCode(n)?fromCodePoint(n):e}const r=decodeHTML(e);return r!==e?r:e}function unescapeMd(e){return e.indexOf("\\")<0?e:e.replace(UNESCAPE_MD_RE,"$1")}function unescapeAll(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(UNESCAPE_ALL_RE,function(t,r,n){return r||replaceEntityPattern(t,n)})}const HTML_ESCAPE_TEST_RE=/[&<>"]/,HTML_ESCAPE_REPLACE_RE=/[&<>"]/g,HTML_REPLACEMENTS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function replaceUnsafeChar(e){return HTML_REPLACEMENTS[e]}function escapeHtml(e){return HTML_ESCAPE_TEST_RE.test(e)?e.replace(HTML_ESCAPE_REPLACE_RE,replaceUnsafeChar):e}const REGEXP_ESCAPE_RE=/[.?*+^$[\]\\(){}|-]/g;function escapeRE$1(e){return e.replace(REGEXP_ESCAPE_RE,"\\$&")}function isSpace(e){switch(e){case 9:case 32:return!0}return!1}function isWhiteSpace(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function isPunctChar(e){return P.test(e)||regex.test(e)}function isMdAsciiPunct(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function normalizeReference(e){return e=e.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}const lib={mdurl,ucmicro},utils=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt,assign:assign$1,escapeHtml,escapeRE:escapeRE$1,fromCodePoint,has:has$2,isMdAsciiPunct,isPunctChar,isSpace,isString:isString$2,isValidEntityCode,isWhiteSpace,lib,normalizeReference,unescapeAll,unescapeMd},Symbol.toStringTag,{value:"Module"}));function parseLinkLabel(e,t,r){let n,i,o,a;const s=e.posMax,l=e.pos;for(e.pos=t+1,n=1;e.pos<s;){if(o=e.src.charCodeAt(e.pos),o===93&&(n--,n===0)){i=!0;break}if(a=e.pos,e.md.inline.skipToken(e),o===91){if(a===e.pos-1)n++;else if(r)return e.pos=l,-1}}let c=-1;return i&&(c=e.pos),e.pos=l,c}function parseLinkDestination(e,t,r){let n,i=t;const o={ok:!1,pos:0,str:""};if(e.charCodeAt(i)===60){for(i++;i<r;){if(n=e.charCodeAt(i),n===10||n===60)return o;if(n===62)return o.pos=i+1,o.str=unescapeAll(e.slice(t+1,i)),o.ok=!0,o;if(n===92&&i+1<r){i+=2;continue}i++}return o}let a=0;for(;i<r&&(n=e.charCodeAt(i),!(n===32||n<32||n===127));){if(n===92&&i+1<r){if(e.charCodeAt(i+1)===32)break;i+=2;continue}if(n===40&&(a++,a>32))return o;if(n===41){if(a===0)break;a--}i++}return t===i||a!==0||(o.str=unescapeAll(e.slice(t,i)),o.pos=i,o.ok=!0),o}function parseLinkTitle(e,t,r,n){let i,o=t;const a={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(n)a.str=n.str,a.marker=n.marker;else{if(o>=r)return a;let s=e.charCodeAt(o);if(s!==34&&s!==39&&s!==40)return a;t++,o++,s===40&&(s=41),a.marker=s}for(;o<r;){if(i=e.charCodeAt(o),i===a.marker)return a.pos=o+1,a.str+=unescapeAll(e.slice(t,o)),a.ok=!0,a;if(i===40&&a.marker===41)return a;i===92&&o+1<r&&o++,o++}return a.can_continue=!0,a.str+=unescapeAll(e.slice(t,o)),a}const helpers=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination,parseLinkLabel,parseLinkTitle},Symbol.toStringTag,{value:"Module"})),default_rules={};default_rules.code_inline=function(e,t,r,n,i){const o=e[t];return"<code"+i.renderAttrs(o)+">"+escapeHtml(o.content)+"</code>"};default_rules.code_block=function(e,t,r,n,i){const o=e[t];return"<pre"+i.renderAttrs(o)+"><code>"+escapeHtml(e[t].content)+`</code></pre>
`};default_rules.fence=function(e,t,r,n,i){const o=e[t],a=o.info?unescapeAll(o.info).trim():"";let s="",l="";if(a){const d=a.split(/(\s+)/g);s=d[0],l=d.slice(2).join("")}let c;if(r.highlight?c=r.highlight(o.content,s,l)||escapeHtml(o.content):c=escapeHtml(o.content),c.indexOf("<pre")===0)return c+`
`;if(a){const d=o.attrIndex("class"),m=o.attrs?o.attrs.slice():[];d<0?m.push(["class",r.langPrefix+s]):(m[d]=m[d].slice(),m[d][1]+=" "+r.langPrefix+s);const g={attrs:m};return`<pre><code${i.renderAttrs(g)}>${c}</code></pre>
`}return`<pre><code${i.renderAttrs(o)}>${c}</code></pre>
`};default_rules.image=function(e,t,r,n,i){const o=e[t];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,r,n),i.renderToken(e,t,r)};default_rules.hardbreak=function(e,t,r){return r.xhtmlOut?`<br />
`:`<br>
`};default_rules.softbreak=function(e,t,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};default_rules.text=function(e,t){return escapeHtml(e[t].content)};default_rules.html_block=function(e,t){return e[t].content};default_rules.html_inline=function(e,t){return e[t].content};function Renderer(){this.rules=assign$1({},default_rules)}Renderer.prototype.renderAttrs=function e(t){let r,n,i;if(!t.attrs)return"";for(i="",r=0,n=t.attrs.length;r<n;r++)i+=" "+escapeHtml(t.attrs[r][0])+'="'+escapeHtml(t.attrs[r][1])+'"';return i};Renderer.prototype.renderToken=function e(t,r,n){const i=t[r];let o="";if(i.hidden)return"";i.block&&i.nesting!==-1&&r&&t[r-1].hidden&&(o+=`
`),o+=(i.nesting===-1?"</":"<")+i.tag,o+=this.renderAttrs(i),i.nesting===0&&n.xhtmlOut&&(o+=" /");let a=!1;if(i.block&&(a=!0,i.nesting===1&&r+1<t.length)){const s=t[r+1];(s.type==="inline"||s.hidden||s.nesting===-1&&s.tag===i.tag)&&(a=!1)}return o+=a?`>
`:">",o};Renderer.prototype.renderInline=function(e,t,r){let n="";const i=this.rules;for(let o=0,a=e.length;o<a;o++){const s=e[o].type;typeof i[s]<"u"?n+=i[s](e,o,t,r,this):n+=this.renderToken(e,o,t)}return n};Renderer.prototype.renderInlineAsText=function(e,t,r){let n="";for(let i=0,o=e.length;i<o;i++)switch(e[i].type){case"text":n+=e[i].content;break;case"image":n+=this.renderInlineAsText(e[i].children,t,r);break;case"html_inline":case"html_block":n+=e[i].content;break;case"softbreak":case"hardbreak":n+=`
`;break}return n};Renderer.prototype.render=function(e,t,r){let n="";const i=this.rules;for(let o=0,a=e.length;o<a;o++){const s=e[o].type;s==="inline"?n+=this.renderInline(e[o].children,t,r):typeof i[s]<"u"?n+=i[s](e,o,t,r,this):n+=this.renderToken(e,o,t,r)}return n};function Ruler(){this.__rules__=[],this.__cache__=null}Ruler.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};Ruler.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(r){r.enabled&&r.alt.forEach(function(n){t.indexOf(n)<0&&t.push(n)})}),e.__cache__={},t.forEach(function(r){e.__cache__[r]=[],e.__rules__.forEach(function(n){n.enabled&&(r&&n.alt.indexOf(r)<0||e.__cache__[r].push(n.fn))})})};Ruler.prototype.at=function(e,t,r){const n=this.__find__(e),i=r||{};if(n===-1)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=t,this.__rules__[n].alt=i.alt||[],this.__cache__=null};Ruler.prototype.before=function(e,t,r,n){const i=this.__find__(e),o=n||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};Ruler.prototype.after=function(e,t,r,n){const i=this.__find__(e),o=n||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};Ruler.prototype.push=function(e,t,r){const n=r||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:n.alt||[]}),this.__cache__=null};Ruler.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const r=[];return e.forEach(function(n){const i=this.__find__(n);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[i].enabled=!0,r.push(n)},this),this.__cache__=null,r};Ruler.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(r){r.enabled=!1}),this.enable(e,t)};Ruler.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const r=[];return e.forEach(function(n){const i=this.__find__(n);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[i].enabled=!1,r.push(n)},this),this.__cache__=null,r};Ruler.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function Token(e,t,r){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Token.prototype.attrIndex=function e(t){if(!this.attrs)return-1;const r=this.attrs;for(let n=0,i=r.length;n<i;n++)if(r[n][0]===t)return n;return-1};Token.prototype.attrPush=function e(t){this.attrs?this.attrs.push(t):this.attrs=[t]};Token.prototype.attrSet=function e(t,r){const n=this.attrIndex(t),i=[t,r];n<0?this.attrPush(i):this.attrs[n]=i};Token.prototype.attrGet=function e(t){const r=this.attrIndex(t);let n=null;return r>=0&&(n=this.attrs[r][1]),n};Token.prototype.attrJoin=function e(t,r){const n=this.attrIndex(t);n<0?this.attrPush([t,r]):this.attrs[n][1]=this.attrs[n][1]+" "+r};function StateCore(e,t,r){this.src=e,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=t}StateCore.prototype.Token=Token;const NEWLINES_RE=/\r\n?|\n/g,NULL_RE=/\0/g;function normalize(e){let t;t=e.src.replace(NEWLINES_RE,`
`),t=t.replace(NULL_RE,""),e.src=t}function block(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function inline(e){const t=e.tokens;for(let r=0,n=t.length;r<n;r++){const i=t[r];i.type==="inline"&&e.md.inline.parse(i.content,e.md,e.env,i.children)}}function isLinkOpen$1(e){return/^<a[>\s]/i.test(e)}function isLinkClose$1(e){return/^<\/a\s*>/i.test(e)}function linkify$1(e){const t=e.tokens;if(e.md.options.linkify)for(let r=0,n=t.length;r<n;r++){if(t[r].type!=="inline"||!e.md.linkify.pretest(t[r].content))continue;let i=t[r].children,o=0;for(let a=i.length-1;a>=0;a--){const s=i[a];if(s.type==="link_close"){for(a--;i[a].level!==s.level&&i[a].type!=="link_open";)a--;continue}if(s.type==="html_inline"&&(isLinkOpen$1(s.content)&&o>0&&o--,isLinkClose$1(s.content)&&o++),!(o>0)&&s.type==="text"&&e.md.linkify.test(s.content)){const l=s.content;let c=e.md.linkify.match(l);const d=[];let m=s.level,g=0;c.length>0&&c[0].index===0&&a>0&&i[a-1].type==="text_special"&&(c=c.slice(1));for(let v=0;v<c.length;v++){const _=c[v].url,S=e.md.normalizeLink(_);if(!e.md.validateLink(S))continue;let C=c[v].text;c[v].schema?c[v].schema==="mailto:"&&!/^mailto:/i.test(C)?C=e.md.normalizeLinkText("mailto:"+C).replace(/^mailto:/,""):C=e.md.normalizeLinkText(C):C=e.md.normalizeLinkText("http://"+C).replace(/^http:\/\//,"");const y=c[v].index;if(y>g){const x=new e.Token("text","",0);x.content=l.slice(g,y),x.level=m,d.push(x)}const b=new e.Token("link_open","a",1);b.attrs=[["href",S]],b.level=m++,b.markup="linkify",b.info="auto",d.push(b);const u=new e.Token("text","",0);u.content=C,u.level=m,d.push(u);const w=new e.Token("link_close","a",-1);w.level=--m,w.markup="linkify",w.info="auto",d.push(w),g=c[v].lastIndex}if(g<l.length){const v=new e.Token("text","",0);v.content=l.slice(g),v.level=m,d.push(v)}t[r].children=i=arrayReplaceAt(i,a,d)}}}}const RARE_RE=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,SCOPED_ABBR_TEST_RE=/\((c|tm|r)\)/i,SCOPED_ABBR_RE=/\((c|tm|r)\)/ig,SCOPED_ABBR={c:"",r:"",tm:""};function replaceFn(e,t){return SCOPED_ABBR[t.toLowerCase()]}function replace_scoped(e){let t=0;for(let r=e.length-1;r>=0;r--){const n=e[r];n.type==="text"&&!t&&(n.content=n.content.replace(SCOPED_ABBR_RE,replaceFn)),n.type==="link_open"&&n.info==="auto"&&t--,n.type==="link_close"&&n.info==="auto"&&t++}}function replace_rare(e){let t=0;for(let r=e.length-1;r>=0;r--){const n=e[r];n.type==="text"&&!t&&RARE_RE.test(n.content)&&(n.content=n.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),n.type==="link_open"&&n.info==="auto"&&t--,n.type==="link_close"&&n.info==="auto"&&t++}}function replace(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)e.tokens[t].type==="inline"&&(SCOPED_ABBR_TEST_RE.test(e.tokens[t].content)&&replace_scoped(e.tokens[t].children),RARE_RE.test(e.tokens[t].content)&&replace_rare(e.tokens[t].children))}const QUOTE_TEST_RE=/['"]/,QUOTE_RE=/['"]/g,APOSTROPHE="";function replaceAt(e,t,r){return e.slice(0,t)+r+e.slice(t+1)}function process_inlines(e,t){let r;const n=[];for(let i=0;i<e.length;i++){const o=e[i],a=e[i].level;for(r=n.length-1;r>=0&&!(n[r].level<=a);r--);if(n.length=r+1,o.type!=="text")continue;let s=o.content,l=0,c=s.length;e:for(;l<c;){QUOTE_RE.lastIndex=l;const d=QUOTE_RE.exec(s);if(!d)break;let m=!0,g=!0;l=d.index+1;const v=d[0]==="'";let _=32;if(d.index-1>=0)_=s.charCodeAt(d.index-1);else for(r=i-1;r>=0&&!(e[r].type==="softbreak"||e[r].type==="hardbreak");r--)if(e[r].content){_=e[r].content.charCodeAt(e[r].content.length-1);break}let S=32;if(l<c)S=s.charCodeAt(l);else for(r=i+1;r<e.length&&!(e[r].type==="softbreak"||e[r].type==="hardbreak");r++)if(e[r].content){S=e[r].content.charCodeAt(0);break}const C=isMdAsciiPunct(_)||isPunctChar(String.fromCharCode(_)),y=isMdAsciiPunct(S)||isPunctChar(String.fromCharCode(S)),b=isWhiteSpace(_),u=isWhiteSpace(S);if(u?m=!1:y&&(b||C||(m=!1)),b?g=!1:C&&(u||y||(g=!1)),S===34&&d[0]==='"'&&_>=48&&_<=57&&(g=m=!1),m&&g&&(m=C,g=y),!m&&!g){v&&(o.content=replaceAt(o.content,d.index,APOSTROPHE));continue}if(g)for(r=n.length-1;r>=0;r--){let w=n[r];if(n[r].level<a)break;if(w.single===v&&n[r].level===a){w=n[r];let x,E;v?(x=t.md.options.quotes[2],E=t.md.options.quotes[3]):(x=t.md.options.quotes[0],E=t.md.options.quotes[1]),o.content=replaceAt(o.content,d.index,E),e[w.token].content=replaceAt(e[w.token].content,w.pos,x),l+=E.length-1,w.token===i&&(l+=x.length-1),s=o.content,c=s.length,n.length=r;continue e}}m?n.push({token:i,pos:d.index,single:v,level:a}):g&&v&&(o.content=replaceAt(o.content,d.index,APOSTROPHE))}}}function smartquotes(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)e.tokens[t].type!=="inline"||!QUOTE_TEST_RE.test(e.tokens[t].content)||process_inlines(e.tokens[t].children,e)}function text_join(e){let t,r;const n=e.tokens,i=n.length;for(let o=0;o<i;o++){if(n[o].type!=="inline")continue;const a=n[o].children,s=a.length;for(t=0;t<s;t++)a[t].type==="text_special"&&(a[t].type="text");for(t=r=0;t<s;t++)a[t].type==="text"&&t+1<s&&a[t+1].type==="text"?a[t+1].content=a[t].content+a[t+1].content:(t!==r&&(a[r]=a[t]),r++);t!==r&&(a.length=r)}}const _rules$2=[["normalize",normalize],["block",block],["inline",inline],["linkify",linkify$1],["replacements",replace],["smartquotes",smartquotes],["text_join",text_join]];function Core(){this.ruler=new Ruler;for(let e=0;e<_rules$2.length;e++)this.ruler.push(_rules$2[e][0],_rules$2[e][1])}Core.prototype.process=function(e){const t=this.ruler.getRules("");for(let r=0,n=t.length;r<n;r++)t[r](e)};Core.prototype.State=StateCore;function StateBlock(e,t,r,n){this.src=e,this.md=t,this.env=r,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let o=0,a=0,s=0,l=0,c=i.length,d=!1;a<c;a++){const m=i.charCodeAt(a);if(!d)if(isSpace(m)){s++,m===9?l+=4-l%4:l++;continue}else d=!0;(m===10||a===c-1)&&(m!==10&&a++,this.bMarks.push(o),this.eMarks.push(a),this.tShift.push(s),this.sCount.push(l),this.bsCount.push(0),d=!1,s=0,l=0,o=a+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}StateBlock.prototype.push=function(e,t,r){const n=new Token(e,t,r);return n.block=!0,r<0&&this.level--,n.level=this.level,r>0&&this.level++,this.tokens.push(n),n};StateBlock.prototype.isEmpty=function e(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};StateBlock.prototype.skipEmptyLines=function e(t){for(let r=this.lineMax;t<r&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};StateBlock.prototype.skipSpaces=function e(t){for(let r=this.src.length;t<r;t++){const n=this.src.charCodeAt(t);if(!isSpace(n))break}return t};StateBlock.prototype.skipSpacesBack=function e(t,r){if(t<=r)return t;for(;t>r;)if(!isSpace(this.src.charCodeAt(--t)))return t+1;return t};StateBlock.prototype.skipChars=function e(t,r){for(let n=this.src.length;t<n&&this.src.charCodeAt(t)===r;t++);return t};StateBlock.prototype.skipCharsBack=function e(t,r,n){if(t<=n)return t;for(;t>n;)if(r!==this.src.charCodeAt(--t))return t+1;return t};StateBlock.prototype.getLines=function e(t,r,n,i){if(t>=r)return"";const o=new Array(r-t);for(let a=0,s=t;s<r;s++,a++){let l=0;const c=this.bMarks[s];let d=c,m;for(s+1<r||i?m=this.eMarks[s]+1:m=this.eMarks[s];d<m&&l<n;){const g=this.src.charCodeAt(d);if(isSpace(g))g===9?l+=4-(l+this.bsCount[s])%4:l++;else if(d-c<this.tShift[s])l++;else break;d++}l>n?o[a]=new Array(l-n+1).join(" ")+this.src.slice(d,m):o[a]=this.src.slice(d,m)}return o.join("")};StateBlock.prototype.Token=Token;const MAX_AUTOCOMPLETED_CELLS=65536;function getLine(e,t){const r=e.bMarks[t]+e.tShift[t],n=e.eMarks[t];return e.src.slice(r,n)}function escapedSplit(e){const t=[],r=e.length;let n=0,i=e.charCodeAt(n),o=!1,a=0,s="";for(;n<r;)i===124&&(o?(s+=e.substring(a,n-1),a=n):(t.push(s+e.substring(a,n)),s="",a=n+1)),o=i===92,n++,i=e.charCodeAt(n);return t.push(s+e.substring(a)),t}function table(e,t,r,n){if(t+2>r)return!1;let i=t+1;if(e.sCount[i]<e.blkIndent||e.sCount[i]-e.blkIndent>=4)return!1;let o=e.bMarks[i]+e.tShift[i];if(o>=e.eMarks[i])return!1;const a=e.src.charCodeAt(o++);if(a!==124&&a!==45&&a!==58||o>=e.eMarks[i])return!1;const s=e.src.charCodeAt(o++);if(s!==124&&s!==45&&s!==58&&!isSpace(s)||a===45&&isSpace(s))return!1;for(;o<e.eMarks[i];){const w=e.src.charCodeAt(o);if(w!==124&&w!==45&&w!==58&&!isSpace(w))return!1;o++}let l=getLine(e,t+1),c=l.split("|");const d=[];for(let w=0;w<c.length;w++){const x=c[w].trim();if(!x){if(w===0||w===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(x))return!1;x.charCodeAt(x.length-1)===58?d.push(x.charCodeAt(0)===58?"center":"right"):x.charCodeAt(0)===58?d.push("left"):d.push("")}if(l=getLine(e,t).trim(),l.indexOf("|")===-1||e.sCount[t]-e.blkIndent>=4)return!1;c=escapedSplit(l),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop();const m=c.length;if(m===0||m!==d.length)return!1;if(n)return!0;const g=e.parentType;e.parentType="table";const v=e.md.block.ruler.getRules("blockquote"),_=e.push("table_open","table",1),S=[t,0];_.map=S;const C=e.push("thead_open","thead",1);C.map=[t,t+1];const y=e.push("tr_open","tr",1);y.map=[t,t+1];for(let w=0;w<c.length;w++){const x=e.push("th_open","th",1);d[w]&&(x.attrs=[["style","text-align:"+d[w]]]);const E=e.push("inline","",0);E.content=c[w].trim(),E.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let b,u=0;for(i=t+2;i<r&&!(e.sCount[i]<e.blkIndent);i++){let w=!1;for(let E=0,T=v.length;E<T;E++)if(v[E](e,i,r,!0)){w=!0;break}if(w||(l=getLine(e,i).trim(),!l)||e.sCount[i]-e.blkIndent>=4||(c=escapedSplit(l),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop(),u+=m-c.length,u>MAX_AUTOCOMPLETED_CELLS))break;if(i===t+2){const E=e.push("tbody_open","tbody",1);E.map=b=[t+2,0]}const x=e.push("tr_open","tr",1);x.map=[i,i+1];for(let E=0;E<m;E++){const T=e.push("td_open","td",1);d[E]&&(T.attrs=[["style","text-align:"+d[E]]]);const k=e.push("inline","",0);k.content=c[E]?c[E].trim():"",k.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return b&&(e.push("tbody_close","tbody",-1),b[1]=i),e.push("table_close","table",-1),S[1]=i,e.parentType=g,e.line=i,!0}function code(e,t,r){if(e.sCount[t]-e.blkIndent<4)return!1;let n=t+1,i=n;for(;n<r;){if(e.isEmpty(n)){n++;continue}if(e.sCount[n]-e.blkIndent>=4){n++,i=n;continue}break}e.line=i;const o=e.push("code_block","code",0);return o.content=e.getLines(t,i,4+e.blkIndent,!1)+`
`,o.map=[t,e.line],!0}function fence(e,t,r,n){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||i+3>o)return!1;const a=e.src.charCodeAt(i);if(a!==126&&a!==96)return!1;let s=i;i=e.skipChars(i,a);let l=i-s;if(l<3)return!1;const c=e.src.slice(s,i),d=e.src.slice(i,o);if(a===96&&d.indexOf(String.fromCharCode(a))>=0)return!1;if(n)return!0;let m=t,g=!1;for(;m++,!(m>=r||(i=s=e.bMarks[m]+e.tShift[m],o=e.eMarks[m],i<o&&e.sCount[m]<e.blkIndent));)if(e.src.charCodeAt(i)===a&&!(e.sCount[m]-e.blkIndent>=4)&&(i=e.skipChars(i,a),!(i-s<l)&&(i=e.skipSpaces(i),!(i<o)))){g=!0;break}l=e.sCount[t],e.line=m+(g?1:0);const v=e.push("fence","code",0);return v.info=d,v.content=e.getLines(t+1,m,l,!0),v.markup=c,v.map=[t,e.line],!0}function blockquote(e,t,r,n){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];const a=e.lineMax;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(i)!==62)return!1;if(n)return!0;const s=[],l=[],c=[],d=[],m=e.md.block.ruler.getRules("blockquote"),g=e.parentType;e.parentType="blockquote";let v=!1,_;for(_=t;_<r;_++){const u=e.sCount[_]<e.blkIndent;if(i=e.bMarks[_]+e.tShift[_],o=e.eMarks[_],i>=o)break;if(e.src.charCodeAt(i++)===62&&!u){let x=e.sCount[_]+1,E,T;e.src.charCodeAt(i)===32?(i++,x++,T=!1,E=!0):e.src.charCodeAt(i)===9?(E=!0,(e.bsCount[_]+x)%4===3?(i++,x++,T=!1):T=!0):E=!1;let k=x;for(s.push(e.bMarks[_]),e.bMarks[_]=i;i<o;){const D=e.src.charCodeAt(i);if(isSpace(D))D===9?k+=4-(k+e.bsCount[_]+(T?1:0))%4:k++;else break;i++}v=i>=o,l.push(e.bsCount[_]),e.bsCount[_]=e.sCount[_]+1+(E?1:0),c.push(e.sCount[_]),e.sCount[_]=k-x,d.push(e.tShift[_]),e.tShift[_]=i-e.bMarks[_];continue}if(v)break;let w=!1;for(let x=0,E=m.length;x<E;x++)if(m[x](e,_,r,!0)){w=!0;break}if(w){e.lineMax=_,e.blkIndent!==0&&(s.push(e.bMarks[_]),l.push(e.bsCount[_]),d.push(e.tShift[_]),c.push(e.sCount[_]),e.sCount[_]-=e.blkIndent);break}s.push(e.bMarks[_]),l.push(e.bsCount[_]),d.push(e.tShift[_]),c.push(e.sCount[_]),e.sCount[_]=-1}const S=e.blkIndent;e.blkIndent=0;const C=e.push("blockquote_open","blockquote",1);C.markup=">";const y=[t,0];C.map=y,e.md.block.tokenize(e,t,_);const b=e.push("blockquote_close","blockquote",-1);b.markup=">",e.lineMax=a,e.parentType=g,y[1]=e.line;for(let u=0;u<d.length;u++)e.bMarks[u+t]=s[u],e.tShift[u+t]=d[u],e.sCount[u+t]=c[u],e.bsCount[u+t]=l[u];return e.blkIndent=S,!0}function hr(e,t,r,n){const i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let o=e.bMarks[t]+e.tShift[t];const a=e.src.charCodeAt(o++);if(a!==42&&a!==45&&a!==95)return!1;let s=1;for(;o<i;){const c=e.src.charCodeAt(o++);if(c!==a&&!isSpace(c))return!1;c===a&&s++}if(s<3)return!1;if(n)return!0;e.line=t+1;const l=e.push("hr","hr",0);return l.map=[t,e.line],l.markup=Array(s+1).join(String.fromCharCode(a)),!0}function skipBulletListMarker(e,t){const r=e.eMarks[t];let n=e.bMarks[t]+e.tShift[t];const i=e.src.charCodeAt(n++);if(i!==42&&i!==45&&i!==43)return-1;if(n<r){const o=e.src.charCodeAt(n);if(!isSpace(o))return-1}return n}function skipOrderedListMarker(e,t){const r=e.bMarks[t]+e.tShift[t],n=e.eMarks[t];let i=r;if(i+1>=n)return-1;let o=e.src.charCodeAt(i++);if(o<48||o>57)return-1;for(;;){if(i>=n)return-1;if(o=e.src.charCodeAt(i++),o>=48&&o<=57){if(i-r>=10)return-1;continue}if(o===41||o===46)break;return-1}return i<n&&(o=e.src.charCodeAt(i),!isSpace(o))?-1:i}function markTightParagraphs(e,t){const r=e.level+2;for(let n=t+2,i=e.tokens.length-2;n<i;n++)e.tokens[n].level===r&&e.tokens[n].type==="paragraph_open"&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}function list(e,t,r,n){let i,o,a,s,l=t,c=!0;if(e.sCount[l]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[l]-e.listIndent>=4&&e.sCount[l]<e.blkIndent)return!1;let d=!1;n&&e.parentType==="paragraph"&&e.sCount[l]>=e.blkIndent&&(d=!0);let m,g,v;if((v=skipOrderedListMarker(e,l))>=0){if(m=!0,a=e.bMarks[l]+e.tShift[l],g=Number(e.src.slice(a,v-1)),d&&g!==1)return!1}else if((v=skipBulletListMarker(e,l))>=0)m=!1;else return!1;if(d&&e.skipSpaces(v)>=e.eMarks[l])return!1;if(n)return!0;const _=e.src.charCodeAt(v-1),S=e.tokens.length;m?(s=e.push("ordered_list_open","ol",1),g!==1&&(s.attrs=[["start",g]])):s=e.push("bullet_list_open","ul",1);const C=[l,0];s.map=C,s.markup=String.fromCharCode(_);let y=!1;const b=e.md.block.ruler.getRules("list"),u=e.parentType;for(e.parentType="list";l<r;){o=v,i=e.eMarks[l];const w=e.sCount[l]+v-(e.bMarks[l]+e.tShift[l]);let x=w;for(;o<i;){const q=e.src.charCodeAt(o);if(q===9)x+=4-(x+e.bsCount[l])%4;else if(q===32)x++;else break;o++}const E=o;let T;E>=i?T=1:T=x-w,T>4&&(T=1);const k=w+T;s=e.push("list_item_open","li",1),s.markup=String.fromCharCode(_);const D=[l,0];s.map=D,m&&(s.info=e.src.slice(a,v-1));const B=e.tight,A=e.tShift[l],O=e.sCount[l],V=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=k,e.tight=!0,e.tShift[l]=E-e.bMarks[l],e.sCount[l]=x,E>=i&&e.isEmpty(l+1)?e.line=Math.min(e.line+2,r):e.md.block.tokenize(e,l,r,!0),(!e.tight||y)&&(c=!1),y=e.line-l>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=V,e.tShift[l]=A,e.sCount[l]=O,e.tight=B,s=e.push("list_item_close","li",-1),s.markup=String.fromCharCode(_),l=e.line,D[1]=l,l>=r||e.sCount[l]<e.blkIndent||e.sCount[l]-e.blkIndent>=4)break;let H=!1;for(let q=0,K=b.length;q<K;q++)if(b[q](e,l,r,!0)){H=!0;break}if(H)break;if(m){if(v=skipOrderedListMarker(e,l),v<0)break;a=e.bMarks[l]+e.tShift[l]}else if(v=skipBulletListMarker(e,l),v<0)break;if(_!==e.src.charCodeAt(v-1))break}return m?s=e.push("ordered_list_close","ol",-1):s=e.push("bullet_list_close","ul",-1),s.markup=String.fromCharCode(_),C[1]=l,e.line=l,e.parentType=u,c&&markTightParagraphs(e,S),!0}function reference$1(e,t,r,n){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t],a=t+1;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(i)!==91)return!1;function s(b){const u=e.lineMax;if(b>=u||e.isEmpty(b))return null;let w=!1;if(e.sCount[b]-e.blkIndent>3&&(w=!0),e.sCount[b]<0&&(w=!0),!w){const T=e.md.block.ruler.getRules("reference"),k=e.parentType;e.parentType="reference";let D=!1;for(let B=0,A=T.length;B<A;B++)if(T[B](e,b,u,!0)){D=!0;break}if(e.parentType=k,D)return null}const x=e.bMarks[b]+e.tShift[b],E=e.eMarks[b];return e.src.slice(x,E+1)}let l=e.src.slice(i,o+1);o=l.length;let c=-1;for(i=1;i<o;i++){const b=l.charCodeAt(i);if(b===91)return!1;if(b===93){c=i;break}else if(b===10){const u=s(a);u!==null&&(l+=u,o=l.length,a++)}else if(b===92&&(i++,i<o&&l.charCodeAt(i)===10)){const u=s(a);u!==null&&(l+=u,o=l.length,a++)}}if(c<0||l.charCodeAt(c+1)!==58)return!1;for(i=c+2;i<o;i++){const b=l.charCodeAt(i);if(b===10){const u=s(a);u!==null&&(l+=u,o=l.length,a++)}else if(!isSpace(b))break}const d=e.md.helpers.parseLinkDestination(l,i,o);if(!d.ok)return!1;const m=e.md.normalizeLink(d.str);if(!e.md.validateLink(m))return!1;i=d.pos;const g=i,v=a,_=i;for(;i<o;i++){const b=l.charCodeAt(i);if(b===10){const u=s(a);u!==null&&(l+=u,o=l.length,a++)}else if(!isSpace(b))break}let S=e.md.helpers.parseLinkTitle(l,i,o);for(;S.can_continue;){const b=s(a);if(b===null)break;l+=b,i=o,o=l.length,a++,S=e.md.helpers.parseLinkTitle(l,i,o,S)}let C;for(i<o&&_!==i&&S.ok?(C=S.str,i=S.pos):(C="",i=g,a=v);i<o;){const b=l.charCodeAt(i);if(!isSpace(b))break;i++}if(i<o&&l.charCodeAt(i)!==10&&C)for(C="",i=g,a=v;i<o;){const b=l.charCodeAt(i);if(!isSpace(b))break;i++}if(i<o&&l.charCodeAt(i)!==10)return!1;const y=normalizeReference(l.slice(1,c));return y?(n||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[y]>"u"&&(e.env.references[y]={title:C,href:m}),e.line=a),!0):!1}const block_names=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],attr_name="[a-zA-Z_:][a-zA-Z0-9:._-]*",unquoted="[^\"'=<>`\\x00-\\x20]+",single_quoted="'[^']*'",double_quoted='"[^"]*"',attr_value="(?:"+unquoted+"|"+single_quoted+"|"+double_quoted+")",attribute="(?:\\s+"+attr_name+"(?:\\s*=\\s*"+attr_value+")?)",open_tag="<[A-Za-z][A-Za-z0-9\\-]*"+attribute+"*\\s*\\/?>",close_tag="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",comment="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",processing="<[?][\\s\\S]*?[?]>",declaration="<![A-Za-z][^>]*>",cdata="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",HTML_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+"|"+comment+"|"+processing+"|"+declaration+"|"+cdata+")"),HTML_OPEN_CLOSE_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+")"),HTML_SEQUENCES=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+block_names.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(HTML_OPEN_CLOSE_TAG_RE.source+"\\s*$"),/^$/,!1]];function html_block(e,t,r,n){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(i)!==60)return!1;let a=e.src.slice(i,o),s=0;for(;s<HTML_SEQUENCES.length&&!HTML_SEQUENCES[s][0].test(a);s++);if(s===HTML_SEQUENCES.length)return!1;if(n)return HTML_SEQUENCES[s][2];let l=t+1;if(!HTML_SEQUENCES[s][1].test(a)){for(;l<r&&!(e.sCount[l]<e.blkIndent);l++)if(i=e.bMarks[l]+e.tShift[l],o=e.eMarks[l],a=e.src.slice(i,o),HTML_SEQUENCES[s][1].test(a)){a.length!==0&&l++;break}}e.line=l;const c=e.push("html_block","",0);return c.map=[t,l],c.content=e.getLines(t,l,e.blkIndent,!0),!0}function heading(e,t,r,n){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let a=e.src.charCodeAt(i);if(a!==35||i>=o)return!1;let s=1;for(a=e.src.charCodeAt(++i);a===35&&i<o&&s<=6;)s++,a=e.src.charCodeAt(++i);if(s>6||i<o&&!isSpace(a))return!1;if(n)return!0;o=e.skipSpacesBack(o,i);const l=e.skipCharsBack(o,35,i);l>i&&isSpace(e.src.charCodeAt(l-1))&&(o=l),e.line=t+1;const c=e.push("heading_open","h"+String(s),1);c.markup="########".slice(0,s),c.map=[t,e.line];const d=e.push("inline","",0);d.content=e.src.slice(i,o).trim(),d.map=[t,e.line],d.children=[];const m=e.push("heading_close","h"+String(s),-1);return m.markup="########".slice(0,s),!0}function lheading(e,t,r){const n=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const i=e.parentType;e.parentType="paragraph";let o=0,a,s=t+1;for(;s<r&&!e.isEmpty(s);s++){if(e.sCount[s]-e.blkIndent>3)continue;if(e.sCount[s]>=e.blkIndent){let v=e.bMarks[s]+e.tShift[s];const _=e.eMarks[s];if(v<_&&(a=e.src.charCodeAt(v),(a===45||a===61)&&(v=e.skipChars(v,a),v=e.skipSpaces(v),v>=_))){o=a===61?1:2;break}}if(e.sCount[s]<0)continue;let g=!1;for(let v=0,_=n.length;v<_;v++)if(n[v](e,s,r,!0)){g=!0;break}if(g)break}if(!o)return!1;const l=e.getLines(t,s,e.blkIndent,!1).trim();e.line=s+1;const c=e.push("heading_open","h"+String(o),1);c.markup=String.fromCharCode(a),c.map=[t,e.line];const d=e.push("inline","",0);d.content=l,d.map=[t,e.line-1],d.children=[];const m=e.push("heading_close","h"+String(o),-1);return m.markup=String.fromCharCode(a),e.parentType=i,!0}function paragraph(e,t,r){const n=e.md.block.ruler.getRules("paragraph"),i=e.parentType;let o=t+1;for(e.parentType="paragraph";o<r&&!e.isEmpty(o);o++){if(e.sCount[o]-e.blkIndent>3||e.sCount[o]<0)continue;let c=!1;for(let d=0,m=n.length;d<m;d++)if(n[d](e,o,r,!0)){c=!0;break}if(c)break}const a=e.getLines(t,o,e.blkIndent,!1).trim();e.line=o;const s=e.push("paragraph_open","p",1);s.map=[t,e.line];const l=e.push("inline","",0);return l.content=a,l.map=[t,e.line],l.children=[],e.push("paragraph_close","p",-1),e.parentType=i,!0}const _rules$1=[["table",table,["paragraph","reference"]],["code",code],["fence",fence,["paragraph","reference","blockquote","list"]],["blockquote",blockquote,["paragraph","reference","blockquote","list"]],["hr",hr,["paragraph","reference","blockquote","list"]],["list",list,["paragraph","reference","blockquote"]],["reference",reference$1],["html_block",html_block,["paragraph","reference","blockquote"]],["heading",heading,["paragraph","reference","blockquote"]],["lheading",lheading],["paragraph",paragraph]];function ParserBlock(){this.ruler=new Ruler;for(let e=0;e<_rules$1.length;e++)this.ruler.push(_rules$1[e][0],_rules$1[e][1],{alt:(_rules$1[e][2]||[]).slice()})}ParserBlock.prototype.tokenize=function(e,t,r){const n=this.ruler.getRules(""),i=n.length,o=e.md.options.maxNesting;let a=t,s=!1;for(;a<r&&(e.line=a=e.skipEmptyLines(a),!(a>=r||e.sCount[a]<e.blkIndent));){if(e.level>=o){e.line=r;break}const l=e.line;let c=!1;for(let d=0;d<i;d++)if(c=n[d](e,a,r,!1),c){if(l>=e.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");e.tight=!s,e.isEmpty(e.line-1)&&(s=!0),a=e.line,a<r&&e.isEmpty(a)&&(s=!0,a++,e.line=a)}};ParserBlock.prototype.parse=function(e,t,r,n){if(!e)return;const i=new this.State(e,t,r,n);this.tokenize(i,i.line,i.lineMax)};ParserBlock.prototype.State=StateBlock;function StateInline(e,t,r,n){this.src=e,this.env=r,this.md=t,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}StateInline.prototype.pushPending=function(){const e=new Token("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};StateInline.prototype.push=function(e,t,r){this.pending&&this.pushPending();const n=new Token(e,t,r);let i=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),n.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(n),this.tokens_meta.push(i),n};StateInline.prototype.scanDelims=function(e,t){const r=this.posMax,n=this.src.charCodeAt(e),i=e>0?this.src.charCodeAt(e-1):32;let o=e;for(;o<r&&this.src.charCodeAt(o)===n;)o++;const a=o-e,s=o<r?this.src.charCodeAt(o):32,l=isMdAsciiPunct(i)||isPunctChar(String.fromCharCode(i)),c=isMdAsciiPunct(s)||isPunctChar(String.fromCharCode(s)),d=isWhiteSpace(i),m=isWhiteSpace(s),g=!m&&(!c||d||l),v=!d&&(!l||m||c);return{can_open:g&&(t||!v||l),can_close:v&&(t||!g||c),length:a}};StateInline.prototype.Token=Token;function isTerminatorChar(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function text(e,t){let r=e.pos;for(;r<e.posMax&&!isTerminatorChar(e.src.charCodeAt(r));)r++;return r===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}const SCHEME_RE=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function linkify(e,t){if(!e.md.options.linkify||e.linkLevel>0)return!1;const r=e.pos,n=e.posMax;if(r+3>n||e.src.charCodeAt(r)!==58||e.src.charCodeAt(r+1)!==47||e.src.charCodeAt(r+2)!==47)return!1;const i=e.pending.match(SCHEME_RE);if(!i)return!1;const o=i[1],a=e.md.linkify.matchAtStart(e.src.slice(r-o.length));if(!a)return!1;let s=a.url;if(s.length<=o.length)return!1;s=s.replace(/\*+$/,"");const l=e.md.normalizeLink(s);if(!e.md.validateLink(l))return!1;if(!t){e.pending=e.pending.slice(0,-o.length);const c=e.push("link_open","a",1);c.attrs=[["href",l]],c.markup="linkify",c.info="auto";const d=e.push("text","",0);d.content=e.md.normalizeLinkText(s);const m=e.push("link_close","a",-1);m.markup="linkify",m.info="auto"}return e.pos+=s.length-o.length,!0}function newline(e,t){let r=e.pos;if(e.src.charCodeAt(r)!==10)return!1;const n=e.pending.length-1,i=e.posMax;if(!t)if(n>=0&&e.pending.charCodeAt(n)===32)if(n>=1&&e.pending.charCodeAt(n-1)===32){let o=n-1;for(;o>=1&&e.pending.charCodeAt(o-1)===32;)o--;e.pending=e.pending.slice(0,o),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(r++;r<i&&isSpace(e.src.charCodeAt(r));)r++;return e.pos=r,!0}const ESCAPED=[];for(let e=0;e<256;e++)ESCAPED.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){ESCAPED[e.charCodeAt(0)]=1});function escape(e,t){let r=e.pos;const n=e.posMax;if(e.src.charCodeAt(r)!==92||(r++,r>=n))return!1;let i=e.src.charCodeAt(r);if(i===10){for(t||e.push("hardbreak","br",0),r++;r<n&&(i=e.src.charCodeAt(r),!!isSpace(i));)r++;return e.pos=r,!0}let o=e.src[r];if(i>=55296&&i<=56319&&r+1<n){const s=e.src.charCodeAt(r+1);s>=56320&&s<=57343&&(o+=e.src[r+1],r++)}const a="\\"+o;if(!t){const s=e.push("text_special","",0);i<256&&ESCAPED[i]!==0?s.content=o:s.content=a,s.markup=a,s.info="escape"}return e.pos=r+1,!0}function backtick(e,t){let r=e.pos;if(e.src.charCodeAt(r)!==96)return!1;const i=r;r++;const o=e.posMax;for(;r<o&&e.src.charCodeAt(r)===96;)r++;const a=e.src.slice(i,r),s=a.length;if(e.backticksScanned&&(e.backticks[s]||0)<=i)return t||(e.pending+=a),e.pos+=s,!0;let l=r,c;for(;(c=e.src.indexOf("`",l))!==-1;){for(l=c+1;l<o&&e.src.charCodeAt(l)===96;)l++;const d=l-c;if(d===s){if(!t){const m=e.push("code_inline","code",0);m.markup=a,m.content=e.src.slice(r,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=l,!0}e.backticks[d]=c}return e.backticksScanned=!0,t||(e.pending+=a),e.pos+=s,!0}function strikethrough_tokenize(e,t){const r=e.pos,n=e.src.charCodeAt(r);if(t||n!==126)return!1;const i=e.scanDelims(e.pos,!0);let o=i.length;const a=String.fromCharCode(n);if(o<2)return!1;let s;o%2&&(s=e.push("text","",0),s.content=a,o--);for(let l=0;l<o;l+=2)s=e.push("text","",0),s.content=a+a,e.delimiters.push({marker:n,length:0,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0}function postProcess$1(e,t){let r;const n=[],i=t.length;for(let o=0;o<i;o++){const a=t[o];if(a.marker!==126||a.end===-1)continue;const s=t[a.end];r=e.tokens[a.token],r.type="s_open",r.tag="s",r.nesting=1,r.markup="~~",r.content="",r=e.tokens[s.token],r.type="s_close",r.tag="s",r.nesting=-1,r.markup="~~",r.content="",e.tokens[s.token-1].type==="text"&&e.tokens[s.token-1].content==="~"&&n.push(s.token-1)}for(;n.length;){const o=n.pop();let a=o+1;for(;a<e.tokens.length&&e.tokens[a].type==="s_close";)a++;a--,o!==a&&(r=e.tokens[a],e.tokens[a]=e.tokens[o],e.tokens[o]=r)}}function strikethrough_postProcess(e){const t=e.tokens_meta,r=e.tokens_meta.length;postProcess$1(e,e.delimiters);for(let n=0;n<r;n++)t[n]&&t[n].delimiters&&postProcess$1(e,t[n].delimiters)}const r_strikethrough={tokenize:strikethrough_tokenize,postProcess:strikethrough_postProcess};function emphasis_tokenize(e,t){const r=e.pos,n=e.src.charCodeAt(r);if(t||n!==95&&n!==42)return!1;const i=e.scanDelims(e.pos,n===42);for(let o=0;o<i.length;o++){const a=e.push("text","",0);a.content=String.fromCharCode(n),e.delimiters.push({marker:n,length:i.length,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return e.pos+=i.length,!0}function postProcess(e,t){const r=t.length;for(let n=r-1;n>=0;n--){const i=t[n];if(i.marker!==95&&i.marker!==42||i.end===-1)continue;const o=t[i.end],a=n>0&&t[n-1].end===i.end+1&&t[n-1].marker===i.marker&&t[n-1].token===i.token-1&&t[i.end+1].token===o.token+1,s=String.fromCharCode(i.marker),l=e.tokens[i.token];l.type=a?"strong_open":"em_open",l.tag=a?"strong":"em",l.nesting=1,l.markup=a?s+s:s,l.content="";const c=e.tokens[o.token];c.type=a?"strong_close":"em_close",c.tag=a?"strong":"em",c.nesting=-1,c.markup=a?s+s:s,c.content="",a&&(e.tokens[t[n-1].token].content="",e.tokens[t[i.end+1].token].content="",n--)}}function emphasis_post_process(e){const t=e.tokens_meta,r=e.tokens_meta.length;postProcess(e,e.delimiters);for(let n=0;n<r;n++)t[n]&&t[n].delimiters&&postProcess(e,t[n].delimiters)}const r_emphasis={tokenize:emphasis_tokenize,postProcess:emphasis_post_process};function link(e,t){let r,n,i,o,a="",s="",l=e.pos,c=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const d=e.pos,m=e.posMax,g=e.pos+1,v=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(v<0)return!1;let _=v+1;if(_<m&&e.src.charCodeAt(_)===40){for(c=!1,_++;_<m&&(r=e.src.charCodeAt(_),!(!isSpace(r)&&r!==10));_++);if(_>=m)return!1;if(l=_,i=e.md.helpers.parseLinkDestination(e.src,_,e.posMax),i.ok){for(a=e.md.normalizeLink(i.str),e.md.validateLink(a)?_=i.pos:a="",l=_;_<m&&(r=e.src.charCodeAt(_),!(!isSpace(r)&&r!==10));_++);if(i=e.md.helpers.parseLinkTitle(e.src,_,e.posMax),_<m&&l!==_&&i.ok)for(s=i.str,_=i.pos;_<m&&(r=e.src.charCodeAt(_),!(!isSpace(r)&&r!==10));_++);}(_>=m||e.src.charCodeAt(_)!==41)&&(c=!0),_++}if(c){if(typeof e.env.references>"u")return!1;if(_<m&&e.src.charCodeAt(_)===91?(l=_+1,_=e.md.helpers.parseLinkLabel(e,_),_>=0?n=e.src.slice(l,_++):_=v+1):_=v+1,n||(n=e.src.slice(g,v)),o=e.env.references[normalizeReference(n)],!o)return e.pos=d,!1;a=o.href,s=o.title}if(!t){e.pos=g,e.posMax=v;const S=e.push("link_open","a",1),C=[["href",a]];S.attrs=C,s&&C.push(["title",s]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=_,e.posMax=m,!0}function image(e,t){let r,n,i,o,a,s,l,c,d="";const m=e.pos,g=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const v=e.pos+2,_=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(_<0)return!1;if(o=_+1,o<g&&e.src.charCodeAt(o)===40){for(o++;o<g&&(r=e.src.charCodeAt(o),!(!isSpace(r)&&r!==10));o++);if(o>=g)return!1;for(c=o,s=e.md.helpers.parseLinkDestination(e.src,o,e.posMax),s.ok&&(d=e.md.normalizeLink(s.str),e.md.validateLink(d)?o=s.pos:d=""),c=o;o<g&&(r=e.src.charCodeAt(o),!(!isSpace(r)&&r!==10));o++);if(s=e.md.helpers.parseLinkTitle(e.src,o,e.posMax),o<g&&c!==o&&s.ok)for(l=s.str,o=s.pos;o<g&&(r=e.src.charCodeAt(o),!(!isSpace(r)&&r!==10));o++);else l="";if(o>=g||e.src.charCodeAt(o)!==41)return e.pos=m,!1;o++}else{if(typeof e.env.references>"u")return!1;if(o<g&&e.src.charCodeAt(o)===91?(c=o+1,o=e.md.helpers.parseLinkLabel(e,o),o>=0?i=e.src.slice(c,o++):o=_+1):o=_+1,i||(i=e.src.slice(v,_)),a=e.env.references[normalizeReference(i)],!a)return e.pos=m,!1;d=a.href,l=a.title}if(!t){n=e.src.slice(v,_);const S=[];e.md.inline.parse(n,e.md,e.env,S);const C=e.push("image","img",0),y=[["src",d],["alt",""]];C.attrs=y,C.children=S,C.content=n,l&&y.push(["title",l])}return e.pos=o,e.posMax=g,!0}const EMAIL_RE=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,AUTOLINK_RE=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function autolink(e,t){let r=e.pos;if(e.src.charCodeAt(r)!==60)return!1;const n=e.pos,i=e.posMax;for(;;){if(++r>=i)return!1;const a=e.src.charCodeAt(r);if(a===60)return!1;if(a===62)break}const o=e.src.slice(n+1,r);if(AUTOLINK_RE.test(o)){const a=e.md.normalizeLink(o);if(!e.md.validateLink(a))return!1;if(!t){const s=e.push("link_open","a",1);s.attrs=[["href",a]],s.markup="autolink",s.info="auto";const l=e.push("text","",0);l.content=e.md.normalizeLinkText(o);const c=e.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return e.pos+=o.length+2,!0}if(EMAIL_RE.test(o)){const a=e.md.normalizeLink("mailto:"+o);if(!e.md.validateLink(a))return!1;if(!t){const s=e.push("link_open","a",1);s.attrs=[["href",a]],s.markup="autolink",s.info="auto";const l=e.push("text","",0);l.content=e.md.normalizeLinkText(o);const c=e.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return e.pos+=o.length+2,!0}return!1}function isLinkOpen(e){return/^<a[>\s]/i.test(e)}function isLinkClose(e){return/^<\/a\s*>/i.test(e)}function isLetter(e){const t=e|32;return t>=97&&t<=122}function html_inline(e,t){if(!e.md.options.html)return!1;const r=e.posMax,n=e.pos;if(e.src.charCodeAt(n)!==60||n+2>=r)return!1;const i=e.src.charCodeAt(n+1);if(i!==33&&i!==63&&i!==47&&!isLetter(i))return!1;const o=e.src.slice(n).match(HTML_TAG_RE);if(!o)return!1;if(!t){const a=e.push("html_inline","",0);a.content=o[0],isLinkOpen(a.content)&&e.linkLevel++,isLinkClose(a.content)&&e.linkLevel--}return e.pos+=o[0].length,!0}const DIGITAL_RE=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,NAMED_RE=/^&([a-z][a-z0-9]{1,31});/i;function entity(e,t){const r=e.pos,n=e.posMax;if(e.src.charCodeAt(r)!==38||r+1>=n)return!1;if(e.src.charCodeAt(r+1)===35){const o=e.src.slice(r).match(DIGITAL_RE);if(o){if(!t){const a=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),s=e.push("text_special","",0);s.content=isValidEntityCode(a)?fromCodePoint(a):fromCodePoint(65533),s.markup=o[0],s.info="entity"}return e.pos+=o[0].length,!0}}else{const o=e.src.slice(r).match(NAMED_RE);if(o){const a=decodeHTML(o[0]);if(a!==o[0]){if(!t){const s=e.push("text_special","",0);s.content=a,s.markup=o[0],s.info="entity"}return e.pos+=o[0].length,!0}}}return!1}function processDelimiters(e){const t={},r=e.length;if(!r)return;let n=0,i=-2;const o=[];for(let a=0;a<r;a++){const s=e[a];if(o.push(0),(e[n].marker!==s.marker||i!==s.token-1)&&(n=a),i=s.token,s.length=s.length||0,!s.close)continue;t.hasOwnProperty(s.marker)||(t[s.marker]=[-1,-1,-1,-1,-1,-1]);const l=t[s.marker][(s.open?3:0)+s.length%3];let c=n-o[n]-1,d=c;for(;c>l;c-=o[c]+1){const m=e[c];if(m.marker===s.marker&&m.open&&m.end<0){let g=!1;if((m.close||s.open)&&(m.length+s.length)%3===0&&(m.length%3!==0||s.length%3!==0)&&(g=!0),!g){const v=c>0&&!e[c-1].open?o[c-1]+1:0;o[a]=a-c+v,o[c]=v,s.open=!1,m.end=a,m.close=!1,d=-1,i=-2;break}}}d!==-1&&(t[s.marker][(s.open?3:0)+(s.length||0)%3]=d)}}function link_pairs(e){const t=e.tokens_meta,r=e.tokens_meta.length;processDelimiters(e.delimiters);for(let n=0;n<r;n++)t[n]&&t[n].delimiters&&processDelimiters(t[n].delimiters)}function fragments_join(e){let t,r,n=0;const i=e.tokens,o=e.tokens.length;for(t=r=0;t<o;t++)i[t].nesting<0&&n--,i[t].level=n,i[t].nesting>0&&n++,i[t].type==="text"&&t+1<o&&i[t+1].type==="text"?i[t+1].content=i[t].content+i[t+1].content:(t!==r&&(i[r]=i[t]),r++);t!==r&&(i.length=r)}const _rules=[["text",text],["linkify",linkify],["newline",newline],["escape",escape],["backticks",backtick],["strikethrough",r_strikethrough.tokenize],["emphasis",r_emphasis.tokenize],["link",link],["image",image],["autolink",autolink],["html_inline",html_inline],["entity",entity]],_rules2=[["balance_pairs",link_pairs],["strikethrough",r_strikethrough.postProcess],["emphasis",r_emphasis.postProcess],["fragments_join",fragments_join]];function ParserInline(){this.ruler=new Ruler;for(let e=0;e<_rules.length;e++)this.ruler.push(_rules[e][0],_rules[e][1]);this.ruler2=new Ruler;for(let e=0;e<_rules2.length;e++)this.ruler2.push(_rules2[e][0],_rules2[e][1])}ParserInline.prototype.skipToken=function(e){const t=e.pos,r=this.ruler.getRules(""),n=r.length,i=e.md.options.maxNesting,o=e.cache;if(typeof o[t]<"u"){e.pos=o[t];return}let a=!1;if(e.level<i){for(let s=0;s<n;s++)if(e.level++,a=r[s](e,!0),e.level--,a){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;a||e.pos++,o[t]=e.pos};ParserInline.prototype.tokenize=function(e){const t=this.ruler.getRules(""),r=t.length,n=e.posMax,i=e.md.options.maxNesting;for(;e.pos<n;){const o=e.pos;let a=!1;if(e.level<i){for(let s=0;s<r;s++)if(a=t[s](e,!1),a){if(o>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(a){if(e.pos>=n)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};ParserInline.prototype.parse=function(e,t,r,n){const i=new this.State(e,t,r,n);this.tokenize(i);const o=this.ruler2.getRules(""),a=o.length;for(let s=0;s<a;s++)o[s](i)};ParserInline.prototype.State=StateInline;function reFactory(e){const t={};e=e||{},t.src_Any=Any.source,t.src_Cc=Cc.source,t.src_Z=Z.source,t.src_P=P.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const r="[><]";return t.src_pseudo_letter="(?:(?!"+r+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+r+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+r+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+r+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function assign(e){return Array.prototype.slice.call(arguments,1).forEach(function(r){r&&Object.keys(r).forEach(function(n){e[n]=r[n]})}),e}function _class(e){return Object.prototype.toString.call(e)}function isString$1(e){return _class(e)==="[object String]"}function isObject$b(e){return _class(e)==="[object Object]"}function isRegExp(e){return _class(e)==="[object RegExp]"}function isFunction$4(e){return _class(e)==="[object Function]"}function escapeRE(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const defaultOptions$1={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function isOptionsObj(e){return Object.keys(e||{}).reduce(function(t,r){return t||defaultOptions$1.hasOwnProperty(r)},!1)}const defaultSchemas={"http:":{validate:function(e,t,r){const n=e.slice(t);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,r){const n=e.slice(t);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,r){const n=e.slice(t);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},tlds_2ch_src_re="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",tlds_default="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function resetScanCache(e){e.__index__=-1,e.__text_cache__=""}function createValidator(e){return function(t,r){const n=t.slice(r);return e.test(n)?n.match(e)[0].length:0}}function createNormalizer(){return function(e,t){t.normalize(e)}}function compile(e){const t=e.re=reFactory(e.__opts__),r=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||r.push(tlds_2ch_src_re),r.push(t.src_xn),t.src_tlds=r.join("|");function n(s){return s.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(n(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(n(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(n(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(n(t.tpl_host_fuzzy_test),"i");const i=[];e.__compiled__={};function o(s,l){throw new Error('(LinkifyIt) Invalid schema "'+s+'": '+l)}Object.keys(e.__schemas__).forEach(function(s){const l=e.__schemas__[s];if(l===null)return;const c={validate:null,link:null};if(e.__compiled__[s]=c,isObject$b(l)){isRegExp(l.validate)?c.validate=createValidator(l.validate):isFunction$4(l.validate)?c.validate=l.validate:o(s,l),isFunction$4(l.normalize)?c.normalize=l.normalize:l.normalize?o(s,l):c.normalize=createNormalizer();return}if(isString$1(l)){i.push(s);return}o(s,l)}),i.forEach(function(s){e.__compiled__[e.__schemas__[s]]&&(e.__compiled__[s].validate=e.__compiled__[e.__schemas__[s]].validate,e.__compiled__[s].normalize=e.__compiled__[e.__schemas__[s]].normalize)}),e.__compiled__[""]={validate:null,normalize:createNormalizer()};const a=Object.keys(e.__compiled__).filter(function(s){return s.length>0&&e.__compiled__[s]}).map(escapeRE).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+a+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+a+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),resetScanCache(e)}function Match(e,t){const r=e.__index__,n=e.__last_index__,i=e.__text_cache__.slice(r,n);this.schema=e.__schema__.toLowerCase(),this.index=r+t,this.lastIndex=n+t,this.raw=i,this.text=i,this.url=i}function createMatch(e,t){const r=new Match(e,t);return e.__compiled__[r.schema].normalize(r,e),r}function LinkifyIt(e,t){if(!(this instanceof LinkifyIt))return new LinkifyIt(e,t);t||isOptionsObj(e)&&(t=e,e={}),this.__opts__=assign({},defaultOptions$1,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=assign({},defaultSchemas,e),this.__compiled__={},this.__tlds__=tlds_default,this.__tlds_replaced__=!1,this.re={},compile(this)}LinkifyIt.prototype.add=function e(t,r){return this.__schemas__[t]=r,compile(this),this};LinkifyIt.prototype.set=function e(t){return this.__opts__=assign(this.__opts__,t),this};LinkifyIt.prototype.test=function e(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let r,n,i,o,a,s,l,c,d;if(this.re.schema_test.test(t)){for(l=this.re.schema_search,l.lastIndex=0;(r=l.exec(t))!==null;)if(o=this.testSchemaAt(t,r[2],l.lastIndex),o){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+o;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=t.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(a=n.index+n[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(d=t.indexOf("@"),d>=0&&(i=t.match(this.re.email_fuzzy))!==null&&(a=i.index+i[1].length,s=i.index+i[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=s))),this.__index__>=0};LinkifyIt.prototype.pretest=function e(t){return this.re.pretest.test(t)};LinkifyIt.prototype.testSchemaAt=function e(t,r,n){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(t,n,this):0};LinkifyIt.prototype.match=function e(t){const r=[];let n=0;this.__index__>=0&&this.__text_cache__===t&&(r.push(createMatch(this,n)),n=this.__last_index__);let i=n?t.slice(n):t;for(;this.test(i);)r.push(createMatch(this,n)),i=i.slice(this.__last_index__),n+=this.__last_index__;return r.length?r:null};LinkifyIt.prototype.matchAtStart=function e(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const r=this.re.schema_at_start.exec(t);if(!r)return null;const n=this.testSchemaAt(t,r[2],r[0].length);return n?(this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+n,createMatch(this,0)):null};LinkifyIt.prototype.tlds=function e(t,r){return t=Array.isArray(t)?t:[t],r?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(n,i,o){return n!==o[i-1]}).reverse(),compile(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,compile(this),this)};LinkifyIt.prototype.normalize=function e(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};LinkifyIt.prototype.onCompile=function e(){};const maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\0-\x7F]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(e){throw new RangeError(errors[e])}function map(e,t){const r=[];let n=e.length;for(;n--;)r[n]=t(e[n]);return r}function mapDomain(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(regexSeparators,".");const i=e.split("."),o=map(i,t).join(".");return n+o}function ucs2decode(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const o=e.charCodeAt(r++);(o&64512)==56320?t.push(((i&1023)<<10)+(o&1023)+65536):(t.push(i),r--)}else t.push(i)}return t}const ucs2encode=e=>String.fromCodePoint(...e),basicToDigit=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:base},digitToBasic=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},adapt=function(e,t,r){let n=0;for(e=r?floor(e/damp):e>>1,e+=floor(e/t);e>baseMinusTMin*tMax>>1;n+=base)e=floor(e/baseMinusTMin);return floor(n+(baseMinusTMin+1)*e/(e+skew))},decode=function(e){const t=[],r=e.length;let n=0,i=initialN,o=initialBias,a=e.lastIndexOf(delimiter);a<0&&(a=0);for(let s=0;s<a;++s)e.charCodeAt(s)>=128&&error("not-basic"),t.push(e.charCodeAt(s));for(let s=a>0?a+1:0;s<r;){const l=n;for(let d=1,m=base;;m+=base){s>=r&&error("invalid-input");const g=basicToDigit(e.charCodeAt(s++));g>=base&&error("invalid-input"),g>floor((maxInt-n)/d)&&error("overflow"),n+=g*d;const v=m<=o?tMin:m>=o+tMax?tMax:m-o;if(g<v)break;const _=base-v;d>floor(maxInt/_)&&error("overflow"),d*=_}const c=t.length+1;o=adapt(n-l,c,l==0),floor(n/c)>maxInt-i&&error("overflow"),i+=floor(n/c),n%=c,t.splice(n++,0,i)}return String.fromCodePoint(...t)},encode=function(e){const t=[];e=ucs2decode(e);const r=e.length;let n=initialN,i=0,o=initialBias;for(const l of e)l<128&&t.push(stringFromCharCode(l));const a=t.length;let s=a;for(a&&t.push(delimiter);s<r;){let l=maxInt;for(const d of e)d>=n&&d<l&&(l=d);const c=s+1;l-n>floor((maxInt-i)/c)&&error("overflow"),i+=(l-n)*c,n=l;for(const d of e)if(d<n&&++i>maxInt&&error("overflow"),d===n){let m=i;for(let g=base;;g+=base){const v=g<=o?tMin:g>=o+tMax?tMax:g-o;if(m<v)break;const _=m-v,S=base-v;t.push(stringFromCharCode(digitToBasic(v+_%S,0))),m=floor(_/S)}t.push(stringFromCharCode(digitToBasic(m,0))),o=adapt(i,c,s===a),i=0,++s}++i,++n}return t.join("")},toUnicode=function(e){return mapDomain(e,function(t){return regexPunycode.test(t)?decode(t.slice(4).toLowerCase()):t})},toASCII=function(e){return mapDomain(e,function(t){return regexNonASCII.test(t)?"xn--"+encode(t):t})},punycode={version:"2.3.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode,encode,toASCII,toUnicode},cfg_default={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},cfg_zero={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},cfg_commonmark={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},config={default:cfg_default,zero:cfg_zero,commonmark:cfg_commonmark},BAD_PROTO_RE=/^(vbscript|javascript|file|data):/,GOOD_DATA_RE=/^data:image\/(gif|png|jpeg|webp);/;function validateLink(e){const t=e.trim().toLowerCase();return BAD_PROTO_RE.test(t)?GOOD_DATA_RE.test(t):!0}const RECODE_HOSTNAME_FOR=["http:","https:","mailto:"];function normalizeLink(e){const t=urlParse(e,!0);if(t.hostname&&(!t.protocol||RECODE_HOSTNAME_FOR.indexOf(t.protocol)>=0))try{t.hostname=punycode.toASCII(t.hostname)}catch{}return encode$1(format(t))}function normalizeLinkText(e){const t=urlParse(e,!0);if(t.hostname&&(!t.protocol||RECODE_HOSTNAME_FOR.indexOf(t.protocol)>=0))try{t.hostname=punycode.toUnicode(t.hostname)}catch{}return decode$1(format(t),decode$1.defaultChars+"%")}function MarkdownIt(e,t){if(!(this instanceof MarkdownIt))return new MarkdownIt(e,t);t||isString$2(e)||(t=e||{},e="default"),this.inline=new ParserInline,this.block=new ParserBlock,this.core=new Core,this.renderer=new Renderer,this.linkify=new LinkifyIt,this.validateLink=validateLink,this.normalizeLink=normalizeLink,this.normalizeLinkText=normalizeLinkText,this.utils=utils,this.helpers=assign$1({},helpers),this.options={},this.configure(e),t&&this.set(t)}MarkdownIt.prototype.set=function(e){return assign$1(this.options,e),this};MarkdownIt.prototype.configure=function(e){const t=this;if(isString$2(e)){const r=e;if(e=config[r],!e)throw new Error('Wrong `markdown-it` preset "'+r+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(r){e.components[r].rules&&t[r].ruler.enableOnly(e.components[r].rules),e.components[r].rules2&&t[r].ruler2.enableOnly(e.components[r].rules2)}),this};MarkdownIt.prototype.enable=function(e,t){let r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(i){r=r.concat(this[i].ruler.enable(e,!0))},this),r=r.concat(this.inline.ruler2.enable(e,!0));const n=e.filter(function(i){return r.indexOf(i)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this};MarkdownIt.prototype.disable=function(e,t){let r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(i){r=r.concat(this[i].ruler.disable(e,!0))},this),r=r.concat(this.inline.ruler2.disable(e,!0));const n=e.filter(function(i){return r.indexOf(i)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this};MarkdownIt.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};MarkdownIt.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");const r=new this.core.State(e,this,t);return this.core.process(r),r.tokens};MarkdownIt.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};MarkdownIt.prototype.parseInline=function(e,t){const r=new this.core.State(e,this,t);return r.inlineMode=!0,this.core.process(r),r.tokens};MarkdownIt.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};var core,hasRequiredCore;function requireCore(){if(hasRequiredCore)return core;hasRequiredCore=1;function e(ie){return ie instanceof Map?ie.clear=ie.delete=ie.set=function(){throw new Error("map is read-only")}:ie instanceof Set&&(ie.add=ie.clear=ie.delete=function(){throw new Error("set is read-only")}),Object.freeze(ie),Object.getOwnPropertyNames(ie).forEach(Se=>{const Re=ie[Se],Fe=typeof Re;(Fe==="object"||Fe==="function")&&!Object.isFrozen(Re)&&e(Re)}),ie}class t{constructor(Se){Se.data===void 0&&(Se.data={}),this.data=Se.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function r(ie){return ie.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function n(ie,...Se){const Re=Object.create(null);for(const Fe in ie)Re[Fe]=ie[Fe];return Se.forEach(function(Fe){for(const qe in Fe)Re[qe]=Fe[qe]}),Re}const i="</span>",o=ie=>!!ie.scope,a=(ie,{prefix:Se})=>{if(ie.startsWith("language:"))return ie.replace("language:","language-");if(ie.includes(".")){const Re=ie.split(".");return[`${Se}${Re.shift()}`,...Re.map((Fe,qe)=>`${Fe}${"_".repeat(qe+1)}`)].join(" ")}return`${Se}${ie}`};class s{constructor(Se,Re){this.buffer="",this.classPrefix=Re.classPrefix,Se.walk(this)}addText(Se){this.buffer+=r(Se)}openNode(Se){if(!o(Se))return;const Re=a(Se.scope,{prefix:this.classPrefix});this.span(Re)}closeNode(Se){o(Se)&&(this.buffer+=i)}value(){return this.buffer}span(Se){this.buffer+=`<span class="${Se}">`}}const l=(ie={})=>{const Se={children:[]};return Object.assign(Se,ie),Se};class c{constructor(){this.rootNode=l(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(Se){this.top.children.push(Se)}openNode(Se){const Re=l({scope:Se});this.add(Re),this.stack.push(Re)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(Se){return this.constructor._walk(Se,this.rootNode)}static _walk(Se,Re){return typeof Re=="string"?Se.addText(Re):Re.children&&(Se.openNode(Re),Re.children.forEach(Fe=>this._walk(Se,Fe)),Se.closeNode(Re)),Se}static _collapse(Se){typeof Se!="string"&&Se.children&&(Se.children.every(Re=>typeof Re=="string")?Se.children=[Se.children.join("")]:Se.children.forEach(Re=>{c._collapse(Re)}))}}class d extends c{constructor(Se){super(),this.options=Se}addText(Se){Se!==""&&this.add(Se)}startScope(Se){this.openNode(Se)}endScope(){this.closeNode()}__addSublanguage(Se,Re){const Fe=Se.root;Re&&(Fe.scope=`language:${Re}`),this.add(Fe)}toHTML(){return new s(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function m(ie){return ie?typeof ie=="string"?ie:ie.source:null}function g(ie){return S("(?=",ie,")")}function v(ie){return S("(?:",ie,")*")}function _(ie){return S("(?:",ie,")?")}function S(...ie){return ie.map(Re=>m(Re)).join("")}function C(ie){const Se=ie[ie.length-1];return typeof Se=="object"&&Se.constructor===Object?(ie.splice(ie.length-1,1),Se):{}}function y(...ie){return"("+(C(ie).capture?"":"?:")+ie.map(Fe=>m(Fe)).join("|")+")"}function b(ie){return new RegExp(ie.toString()+"|").exec("").length-1}function u(ie,Se){const Re=ie&&ie.exec(Se);return Re&&Re.index===0}const w=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function x(ie,{joinWith:Se}){let Re=0;return ie.map(Fe=>{Re+=1;const qe=Re;let Ze=m(Fe),Be="";for(;Ze.length>0;){const Ve=w.exec(Ze);if(!Ve){Be+=Ze;break}Be+=Ze.substring(0,Ve.index),Ze=Ze.substring(Ve.index+Ve[0].length),Ve[0][0]==="\\"&&Ve[1]?Be+="\\"+String(Number(Ve[1])+qe):(Be+=Ve[0],Ve[0]==="("&&Re++)}return Be}).map(Fe=>`(${Fe})`).join(Se)}const E=/\b\B/,T="[a-zA-Z]\\w*",k="[a-zA-Z_]\\w*",D="\\b\\d+(\\.\\d+)?",B="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",A="\\b(0b[01]+)",O="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",V=(ie={})=>{const Se=/^#![ ]*\//;return ie.binary&&(ie.begin=S(Se,/.*\b/,ie.binary,/\b.*/)),n({scope:"meta",begin:Se,end:/$/,relevance:0,"on:begin":(Re,Fe)=>{Re.index!==0&&Fe.ignoreMatch()}},ie)},H={begin:"\\\\[\\s\\S]",relevance:0},q={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[H]},K={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[H]},Q={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},X=function(ie,Se,Re={}){const Fe=n({scope:"comment",begin:ie,end:Se,contains:[]},Re);Fe.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const qe=y("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return Fe.contains.push({begin:S(/[ ]+/,"(",qe,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),Fe},N=X("//","$"),I=X("/\\*","\\*/"),U=X("#","$"),F={scope:"number",begin:D,relevance:0},ee={scope:"number",begin:B,relevance:0},ue={scope:"number",begin:A,relevance:0},he={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[H,{begin:/\[/,end:/\]/,relevance:0,contains:[H]}]},ve={scope:"title",begin:T,relevance:0},j={scope:"title",begin:k,relevance:0},M={begin:"\\.\\s*"+k,relevance:0};var Y=Object.freeze({__proto__:null,APOS_STRING_MODE:q,BACKSLASH_ESCAPE:H,BINARY_NUMBER_MODE:ue,BINARY_NUMBER_RE:A,COMMENT:X,C_BLOCK_COMMENT_MODE:I,C_LINE_COMMENT_MODE:N,C_NUMBER_MODE:ee,C_NUMBER_RE:B,END_SAME_AS_BEGIN:function(ie){return Object.assign(ie,{"on:begin":(Se,Re)=>{Re.data._beginMatch=Se[1]},"on:end":(Se,Re)=>{Re.data._beginMatch!==Se[1]&&Re.ignoreMatch()}})},HASH_COMMENT_MODE:U,IDENT_RE:T,MATCH_NOTHING_RE:E,METHOD_GUARD:M,NUMBER_MODE:F,NUMBER_RE:D,PHRASAL_WORDS_MODE:Q,QUOTE_STRING_MODE:K,REGEXP_MODE:he,RE_STARTERS_RE:O,SHEBANG:V,TITLE_MODE:ve,UNDERSCORE_IDENT_RE:k,UNDERSCORE_TITLE_MODE:j});function de(ie,Se){ie.input[ie.index-1]==="."&&Se.ignoreMatch()}function L(ie,Se){ie.className!==void 0&&(ie.scope=ie.className,delete ie.className)}function W(ie,Se){Se&&ie.beginKeywords&&(ie.begin="\\b("+ie.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",ie.__beforeBegin=de,ie.keywords=ie.keywords||ie.beginKeywords,delete ie.beginKeywords,ie.relevance===void 0&&(ie.relevance=0))}function J(ie,Se){Array.isArray(ie.illegal)&&(ie.illegal=y(...ie.illegal))}function ae(ie,Se){if(ie.match){if(ie.begin||ie.end)throw new Error("begin & end are not supported with match");ie.begin=ie.match,delete ie.match}}function me(ie,Se){ie.relevance===void 0&&(ie.relevance=1)}const oe=(ie,Se)=>{if(!ie.beforeMatch)return;if(ie.starts)throw new Error("beforeMatch cannot be used with starts");const Re=Object.assign({},ie);Object.keys(ie).forEach(Fe=>{delete ie[Fe]}),ie.keywords=Re.keywords,ie.begin=S(Re.beforeMatch,g(Re.begin)),ie.starts={relevance:0,contains:[Object.assign(Re,{endsParent:!0})]},ie.relevance=0,delete Re.beforeMatch},_e=["of","and","for","in","not","or","if","then","parent","list","value"],pe="keyword";function se(ie,Se,Re=pe){const Fe=Object.create(null);return typeof ie=="string"?qe(Re,ie.split(" ")):Array.isArray(ie)?qe(Re,ie):Object.keys(ie).forEach(function(Ze){Object.assign(Fe,se(ie[Ze],Se,Ze))}),Fe;function qe(Ze,Be){Se&&(Be=Be.map(Ve=>Ve.toLowerCase())),Be.forEach(function(Ve){const Ie=Ve.split("|");Fe[Ie[0]]=[Ze,ce(Ie[0],Ie[1])]})}}function ce(ie,Se){return Se?Number(Se):ye(ie)?0:1}function ye(ie){return _e.includes(ie.toLowerCase())}const be={},xe=ie=>{console.error(ie)},ke=(ie,...Se)=>{console.log(`WARN: ${ie}`,...Se)},Te=(ie,Se)=>{be[`${ie}/${Se}`]||(console.log(`Deprecated as of ${ie}. ${Se}`),be[`${ie}/${Se}`]=!0)},z=new Error;function R(ie,Se,{key:Re}){let Fe=0;const qe=ie[Re],Ze={},Be={};for(let Ve=1;Ve<=Se.length;Ve++)Be[Ve+Fe]=qe[Ve],Ze[Ve+Fe]=!0,Fe+=b(Se[Ve-1]);ie[Re]=Be,ie[Re]._emit=Ze,ie[Re]._multi=!0}function $(ie){if(Array.isArray(ie.begin)){if(ie.skip||ie.excludeBegin||ie.returnBegin)throw xe("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),z;if(typeof ie.beginScope!="object"||ie.beginScope===null)throw xe("beginScope must be object"),z;R(ie,ie.begin,{key:"beginScope"}),ie.begin=x(ie.begin,{joinWith:""})}}function G(ie){if(Array.isArray(ie.end)){if(ie.skip||ie.excludeEnd||ie.returnEnd)throw xe("skip, excludeEnd, returnEnd not compatible with endScope: {}"),z;if(typeof ie.endScope!="object"||ie.endScope===null)throw xe("endScope must be object"),z;R(ie,ie.end,{key:"endScope"}),ie.end=x(ie.end,{joinWith:""})}}function le(ie){ie.scope&&typeof ie.scope=="object"&&ie.scope!==null&&(ie.beginScope=ie.scope,delete ie.scope)}function fe(ie){le(ie),typeof ie.beginScope=="string"&&(ie.beginScope={_wrap:ie.beginScope}),typeof ie.endScope=="string"&&(ie.endScope={_wrap:ie.endScope}),$(ie),G(ie)}function ge(ie){function Se(Be,Ve){return new RegExp(m(Be),"m"+(ie.case_insensitive?"i":"")+(ie.unicodeRegex?"u":"")+(Ve?"g":""))}class Re{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(Ve,Ie){Ie.position=this.position++,this.matchIndexes[this.matchAt]=Ie,this.regexes.push([Ie,Ve]),this.matchAt+=b(Ve)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const Ve=this.regexes.map(Ie=>Ie[1]);this.matcherRe=Se(x(Ve,{joinWith:"|"}),!0),this.lastIndex=0}exec(Ve){this.matcherRe.lastIndex=this.lastIndex;const Ie=this.matcherRe.exec(Ve);if(!Ie)return null;const Qe=Ie.findIndex((mt,Ct)=>Ct>0&&mt!==void 0),et=this.matchIndexes[Qe];return Ie.splice(0,Qe),Object.assign(Ie,et)}}class Fe{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(Ve){if(this.multiRegexes[Ve])return this.multiRegexes[Ve];const Ie=new Re;return this.rules.slice(Ve).forEach(([Qe,et])=>Ie.addRule(Qe,et)),Ie.compile(),this.multiRegexes[Ve]=Ie,Ie}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(Ve,Ie){this.rules.push([Ve,Ie]),Ie.type==="begin"&&this.count++}exec(Ve){const Ie=this.getMatcher(this.regexIndex);Ie.lastIndex=this.lastIndex;let Qe=Ie.exec(Ve);if(this.resumingScanAtSamePosition()&&!(Qe&&Qe.index===this.lastIndex)){const et=this.getMatcher(0);et.lastIndex=this.lastIndex+1,Qe=et.exec(Ve)}return Qe&&(this.regexIndex+=Qe.position+1,this.regexIndex===this.count&&this.considerAll()),Qe}}function qe(Be){const Ve=new Fe;return Be.contains.forEach(Ie=>Ve.addRule(Ie.begin,{rule:Ie,type:"begin"})),Be.terminatorEnd&&Ve.addRule(Be.terminatorEnd,{type:"end"}),Be.illegal&&Ve.addRule(Be.illegal,{type:"illegal"}),Ve}function Ze(Be,Ve){const Ie=Be;if(Be.isCompiled)return Ie;[L,ae,fe,oe].forEach(et=>et(Be,Ve)),ie.compilerExtensions.forEach(et=>et(Be,Ve)),Be.__beforeBegin=null,[W,J,me].forEach(et=>et(Be,Ve)),Be.isCompiled=!0;let Qe=null;return typeof Be.keywords=="object"&&Be.keywords.$pattern&&(Be.keywords=Object.assign({},Be.keywords),Qe=Be.keywords.$pattern,delete Be.keywords.$pattern),Qe=Qe||/\w+/,Be.keywords&&(Be.keywords=se(Be.keywords,ie.case_insensitive)),Ie.keywordPatternRe=Se(Qe,!0),Ve&&(Be.begin||(Be.begin=/\B|\b/),Ie.beginRe=Se(Ie.begin),!Be.end&&!Be.endsWithParent&&(Be.end=/\B|\b/),Be.end&&(Ie.endRe=Se(Ie.end)),Ie.terminatorEnd=m(Ie.end)||"",Be.endsWithParent&&Ve.terminatorEnd&&(Ie.terminatorEnd+=(Be.end?"|":"")+Ve.terminatorEnd)),Be.illegal&&(Ie.illegalRe=Se(Be.illegal)),Be.contains||(Be.contains=[]),Be.contains=[].concat(...Be.contains.map(function(et){return Ne(et==="self"?Be:et)})),Be.contains.forEach(function(et){Ze(et,Ie)}),Be.starts&&Ze(Be.starts,Ve),Ie.matcher=qe(Ie),Ie}if(ie.compilerExtensions||(ie.compilerExtensions=[]),ie.contains&&ie.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return ie.classNameAliases=n(ie.classNameAliases||{}),Ze(ie)}function Le(ie){return ie?ie.endsWithParent||Le(ie.starts):!1}function Ne(ie){return ie.variants&&!ie.cachedVariants&&(ie.cachedVariants=ie.variants.map(function(Se){return n(ie,{variants:null},Se)})),ie.cachedVariants?ie.cachedVariants:Le(ie)?n(ie,{starts:ie.starts?n(ie.starts):null}):Object.isFrozen(ie)?n(ie):ie}var Me="11.11.1";class Ce extends Error{constructor(Se,Re){super(Se),this.name="HTMLInjectionError",this.html=Re}}const te=r,we=n,Pe=Symbol("nomatch"),Ue=7,Ge=function(ie){const Se=Object.create(null),Re=Object.create(null),Fe=[];let qe=!0;const Ze="Could not find the language '{}', did you forget to load/include a language module?",Be={disableAutodetect:!0,name:"Plain text",contains:[]};let Ve={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:d};function Ie(Ee){return Ve.noHighlightRe.test(Ee)}function Qe(Ee){let Oe=Ee.className+" ";Oe+=Ee.parentNode?Ee.parentNode.className:"";const We=Ve.languageDetectRe.exec(Oe);if(We){const Ke=ct(We[1]);return Ke||(ke(Ze.replace("{}",We[1])),ke("Falling back to no-highlight mode for this block.",Ee)),Ke?We[1]:"no-highlight"}return Oe.split(/\s+/).find(Ke=>Ie(Ke)||ct(Ke))}function et(Ee,Oe,We){let Ke="",rt="";typeof Oe=="object"?(Ke=Ee,We=Oe.ignoreIllegals,rt=Oe.language):(Te("10.7.0","highlight(lang, code, ...args) has been deprecated."),Te("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),rt=Ee,Ke=Oe),We===void 0&&(We=!0);const ot={code:Ke,language:rt};vt("before:highlight",ot);const dt=ot.result?ot.result:mt(ot.language,ot.code,We);return dt.code=ot.code,vt("after:highlight",dt),dt}function mt(Ee,Oe,We,Ke){const rt=Object.create(null);function ot(Ae,$e){return Ae.keywords[$e]}function dt(){if(!ze.keywords){nt.addText(Xe);return}let Ae=0;ze.keywordPatternRe.lastIndex=0;let $e=ze.keywordPatternRe.exec(Xe),je="";for(;$e;){je+=Xe.substring(Ae,$e.index);const Ye=lt.case_insensitive?$e[0].toLowerCase():$e[0],it=ot(ze,Ye);if(it){const[ut,er]=it;if(nt.addText(je),je="",rt[Ye]=(rt[Ye]||0)+1,rt[Ye]<=Ue&&(yt+=er),ut.startsWith("_"))je+=$e[0];else{const tr=lt.classNameAliases[ut]||ut;at($e[0],tr)}}else je+=$e[0];Ae=ze.keywordPatternRe.lastIndex,$e=ze.keywordPatternRe.exec(Xe)}je+=Xe.substring(Ae),nt.addText(je)}function gt(){if(Xe==="")return;let Ae=null;if(typeof ze.subLanguage=="string"){if(!Se[ze.subLanguage]){nt.addText(Xe);return}Ae=mt(ze.subLanguage,Xe,!0,$t[ze.subLanguage]),$t[ze.subLanguage]=Ae._top}else Ae=St(Xe,ze.subLanguage.length?ze.subLanguage:null);ze.relevance>0&&(yt+=Ae.relevance),nt.__addSublanguage(Ae._emitter,Ae.language)}function st(){ze.subLanguage!=null?gt():dt(),Xe=""}function at(Ae,$e){Ae!==""&&(nt.startScope($e),nt.addText(Ae),nt.endScope())}function Pt(Ae,$e){let je=1;const Ye=$e.length-1;for(;je<=Ye;){if(!Ae._emit[je]){je++;continue}const it=lt.classNameAliases[Ae[je]]||Ae[je],ut=$e[je];it?at(ut,it):(Xe=ut,dt(),Xe=""),je++}}function At(Ae,$e){return Ae.scope&&typeof Ae.scope=="string"&&nt.openNode(lt.classNameAliases[Ae.scope]||Ae.scope),Ae.beginScope&&(Ae.beginScope._wrap?(at(Xe,lt.classNameAliases[Ae.beginScope._wrap]||Ae.beginScope._wrap),Xe=""):Ae.beginScope._multi&&(Pt(Ae.beginScope,$e),Xe="")),ze=Object.create(Ae,{parent:{value:ze}}),ze}function Vt(Ae,$e,je){let Ye=u(Ae.endRe,je);if(Ye){if(Ae["on:end"]){const it=new t(Ae);Ae["on:end"]($e,it),it.isMatchIgnored&&(Ye=!1)}if(Ye){for(;Ae.endsParent&&Ae.parent;)Ae=Ae.parent;return Ae}}if(Ae.endsWithParent)return Vt(Ae.parent,$e,je)}function Kt(Ae){return ze.matcher.regexIndex===0?(Xe+=Ae[0],1):(Et=!0,0)}function Xt(Ae){const $e=Ae[0],je=Ae.rule,Ye=new t(je),it=[je.__beforeBegin,je["on:begin"]];for(const ut of it)if(ut&&(ut(Ae,Ye),Ye.isMatchIgnored))return Kt($e);return je.skip?Xe+=$e:(je.excludeBegin&&(Xe+=$e),st(),!je.returnBegin&&!je.excludeBegin&&(Xe=$e)),At(je,Ae),je.returnBegin?0:$e.length}function Zt(Ae){const $e=Ae[0],je=Oe.substring(Ae.index),Ye=Vt(ze,Ae,je);if(!Ye)return Pe;const it=ze;ze.endScope&&ze.endScope._wrap?(st(),at($e,ze.endScope._wrap)):ze.endScope&&ze.endScope._multi?(st(),Pt(ze.endScope,Ae)):it.skip?Xe+=$e:(it.returnEnd||it.excludeEnd||(Xe+=$e),st(),it.excludeEnd&&(Xe=$e));do ze.scope&&nt.closeNode(),!ze.skip&&!ze.subLanguage&&(yt+=ze.relevance),ze=ze.parent;while(ze!==Ye.parent);return Ye.starts&&At(Ye.starts,Ae),it.returnEnd?0:$e.length}function Jt(){const Ae=[];for(let $e=ze;$e!==lt;$e=$e.parent)$e.scope&&Ae.unshift($e.scope);Ae.forEach($e=>nt.openNode($e))}let _t={};function Bt(Ae,$e){const je=$e&&$e[0];if(Xe+=Ae,je==null)return st(),0;if(_t.type==="begin"&&$e.type==="end"&&_t.index===$e.index&&je===""){if(Xe+=Oe.slice($e.index,$e.index+1),!qe){const Ye=new Error(`0 width match regex (${Ee})`);throw Ye.languageName=Ee,Ye.badRule=_t.rule,Ye}return 1}if(_t=$e,$e.type==="begin")return Xt($e);if($e.type==="illegal"&&!We){const Ye=new Error('Illegal lexeme "'+je+'" for mode "'+(ze.scope||"<unnamed>")+'"');throw Ye.mode=ze,Ye}else if($e.type==="end"){const Ye=Zt($e);if(Ye!==Pe)return Ye}if($e.type==="illegal"&&je==="")return Xe+=`
`,1;if(xt>1e5&&xt>$e.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Xe+=je,je.length}const lt=ct(Ee);if(!lt)throw xe(Ze.replace("{}",Ee)),new Error('Unknown language: "'+Ee+'"');const Qt=ge(lt);let kt="",ze=Ke||Qt;const $t={},nt=new Ve.__emitter(Ve);Jt();let Xe="",yt=0,ft=0,xt=0,Et=!1;try{if(lt.__emitTokens)lt.__emitTokens(Oe,nt);else{for(ze.matcher.considerAll();;){xt++,Et?Et=!1:ze.matcher.considerAll(),ze.matcher.lastIndex=ft;const Ae=ze.matcher.exec(Oe);if(!Ae)break;const $e=Oe.substring(ft,Ae.index),je=Bt($e,Ae);ft=Ae.index+je}Bt(Oe.substring(ft))}return nt.finalize(),kt=nt.toHTML(),{language:Ee,value:kt,relevance:yt,illegal:!1,_emitter:nt,_top:ze}}catch(Ae){if(Ae.message&&Ae.message.includes("Illegal"))return{language:Ee,value:te(Oe),illegal:!0,relevance:0,_illegalBy:{message:Ae.message,index:ft,context:Oe.slice(ft-100,ft+100),mode:Ae.mode,resultSoFar:kt},_emitter:nt};if(qe)return{language:Ee,value:te(Oe),illegal:!1,relevance:0,errorRaised:Ae,_emitter:nt,_top:ze};throw Ae}}function Ct(Ee){const Oe={value:te(Ee),illegal:!1,relevance:0,_top:Be,_emitter:new Ve.__emitter(Ve)};return Oe._emitter.addText(Ee),Oe}function St(Ee,Oe){Oe=Oe||Ve.languages||Object.keys(Se);const We=Ct(Ee),Ke=Oe.filter(ct).filter(Rt).map(st=>mt(st,Ee,!1));Ke.unshift(We);const rt=Ke.sort((st,at)=>{if(st.relevance!==at.relevance)return at.relevance-st.relevance;if(st.language&&at.language){if(ct(st.language).supersetOf===at.language)return 1;if(ct(at.language).supersetOf===st.language)return-1}return 0}),[ot,dt]=rt,gt=ot;return gt.secondBest=dt,gt}function Lt(Ee,Oe,We){const Ke=Oe&&Re[Oe]||We;Ee.classList.add("hljs"),Ee.classList.add(`language-${Ke}`)}function wt(Ee){let Oe=null;const We=Qe(Ee);if(Ie(We))return;if(vt("before:highlightElement",{el:Ee,language:We}),Ee.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",Ee);return}if(Ee.children.length>0&&(Ve.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(Ee)),Ve.throwUnescapedHTML))throw new Ce("One of your code blocks includes unescaped HTML.",Ee.innerHTML);Oe=Ee;const Ke=Oe.textContent,rt=We?et(Ke,{language:We,ignoreIllegals:!0}):St(Ke);Ee.innerHTML=rt.value,Ee.dataset.highlighted="yes",Lt(Ee,We,rt.language),Ee.result={language:rt.language,re:rt.relevance,relevance:rt.relevance},rt.secondBest&&(Ee.secondBest={language:rt.secondBest.language,relevance:rt.secondBest.relevance}),vt("after:highlightElement",{el:Ee,result:rt,text:Ke})}function Mt(Ee){Ve=we(Ve,Ee)}const Ft=()=>{pt(),Te("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Ht(){pt(),Te("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let Tt=!1;function pt(){function Ee(){pt()}if(document.readyState==="loading"){Tt||window.addEventListener("DOMContentLoaded",Ee,!1),Tt=!0;return}document.querySelectorAll(Ve.cssSelector).forEach(wt)}function Ut(Ee,Oe){let We=null;try{We=Oe(ie)}catch(Ke){if(xe("Language definition for '{}' could not be registered.".replace("{}",Ee)),qe)xe(Ke);else throw Ke;We=Be}We.name||(We.name=Ee),Se[Ee]=We,We.rawDefinition=Oe.bind(null,ie),We.aliases&&Dt(We.aliases,{languageName:Ee})}function zt(Ee){delete Se[Ee];for(const Oe of Object.keys(Re))Re[Oe]===Ee&&delete Re[Oe]}function jt(){return Object.keys(Se)}function ct(Ee){return Ee=(Ee||"").toLowerCase(),Se[Ee]||Se[Re[Ee]]}function Dt(Ee,{languageName:Oe}){typeof Ee=="string"&&(Ee=[Ee]),Ee.forEach(We=>{Re[We.toLowerCase()]=Oe})}function Rt(Ee){const Oe=ct(Ee);return Oe&&!Oe.disableAutodetect}function qt(Ee){Ee["before:highlightBlock"]&&!Ee["before:highlightElement"]&&(Ee["before:highlightElement"]=Oe=>{Ee["before:highlightBlock"](Object.assign({block:Oe.el},Oe))}),Ee["after:highlightBlock"]&&!Ee["after:highlightElement"]&&(Ee["after:highlightElement"]=Oe=>{Ee["after:highlightBlock"](Object.assign({block:Oe.el},Oe))})}function Wt(Ee){qt(Ee),Fe.push(Ee)}function Yt(Ee){const Oe=Fe.indexOf(Ee);Oe!==-1&&Fe.splice(Oe,1)}function vt(Ee,Oe){const We=Ee;Fe.forEach(function(Ke){Ke[We]&&Ke[We](Oe)})}function Gt(Ee){return Te("10.7.0","highlightBlock will be removed entirely in v12.0"),Te("10.7.0","Please use highlightElement now."),wt(Ee)}Object.assign(ie,{highlight:et,highlightAuto:St,highlightAll:pt,highlightElement:wt,highlightBlock:Gt,configure:Mt,initHighlighting:Ft,initHighlightingOnLoad:Ht,registerLanguage:Ut,unregisterLanguage:zt,listLanguages:jt,getLanguage:ct,registerAliases:Dt,autoDetection:Rt,inherit:we,addPlugin:Wt,removePlugin:Yt}),ie.debugMode=function(){qe=!1},ie.safeMode=function(){qe=!0},ie.versionString=Me,ie.regex={concat:S,lookahead:g,either:y,optional:_,anyNumberOfTimes:v};for(const Ee in Y)typeof Y[Ee]=="object"&&e(Y[Ee]);return Object.assign(ie,Y),ie},Je=Ge({});return Je.newInstance=()=>Ge({}),core=Je,Je.HighlightJS=Je,Je.default=Je,core}var coreExports=requireCore();const HighlightJS=getDefaultExportFromCjs$1(coreExports),IDENT_RE="[A-Za-z$_][0-9A-Za-z$_]*",KEYWORDS=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],LITERALS=["true","false","null","undefined","NaN","Infinity"],TYPES=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],ERROR_TYPES=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],BUILT_IN_GLOBALS=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],BUILT_IN_VARIABLES=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],BUILT_INS=[].concat(BUILT_IN_GLOBALS,TYPES,ERROR_TYPES);function javascript(e){const t=e.regex,r=(X,{after:N})=>{const I="</"+X[0].slice(1);return X.input.indexOf(I,N)!==-1},n=IDENT_RE,i={begin:"<>",end:"</>"},o=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(X,N)=>{const I=X[0].length+X.index,U=X.input[I];if(U==="<"||U===","){N.ignoreMatch();return}U===">"&&(r(X,{after:I})||N.ignoreMatch());let F;const ee=X.input.substring(I);if(F=ee.match(/^\s*=/)){N.ignoreMatch();return}if((F=ee.match(/^\s+extends\s+/))&&F.index===0){N.ignoreMatch();return}}},s={$pattern:IDENT_RE,keyword:KEYWORDS,literal:LITERALS,built_in:BUILT_INS,"variable.language":BUILT_IN_VARIABLES},l="[0-9](_?[0-9])*",c=`\\.(${l})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",m={className:"number",variants:[{begin:`(\\b(${d})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${d})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},g={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},v={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"xml"}},_={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"css"}},S={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"graphql"}},C={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,g]},b={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},u=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,v,_,S,C,{match:/\$\d+/},m];g.contains=u.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(u)});const w=[].concat(b,g.contains),x=w.concat([{begin:/(\s*)\(/,end:/\)/,keywords:s,contains:["self"].concat(w)}]),E={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:x},T={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},k={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...TYPES,...ERROR_TYPES]}},D={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},B={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[E],illegal:/%/},A={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function O(X){return t.concat("(?!",X.join("|"),")")}const V={match:t.concat(/\b/,O([...BUILT_IN_GLOBALS,"super","import"].map(X=>`${X}\\s*\\(`)),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},H={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},q={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},E]},K="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",Q={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(K)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[E]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:x,CLASS_REFERENCE:k},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),D,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,v,_,S,C,b,{match:/\$\d+/},m,k,{scope:"attr",match:n+t.lookahead(":"),relevance:0},Q,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[b,e.REGEXP_MODE,{className:"function",begin:K,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:x}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:o},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},B,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[E,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},H,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[E]},V,A,T,q,{match:/\$[(.]/}]}}function typescript(e){const t=e.regex,r=javascript(e),n=IDENT_RE,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],o={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[r.exports.CLASS_REFERENCE]},s={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},l=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],c={$pattern:IDENT_RE,keyword:KEYWORDS.concat(l),literal:LITERALS,built_in:BUILT_INS.concat(i),"variable.language":BUILT_IN_VARIABLES},d={className:"meta",begin:"@"+n},m=(S,C,y)=>{const b=S.contains.findIndex(u=>u.label===C);if(b===-1)throw new Error("can not find mode to replace");S.contains.splice(b,1,y)};Object.assign(r.keywords,c),r.exports.PARAMS_CONTAINS.push(d);const g=r.contains.find(S=>S.scope==="attr"),v=Object.assign({},g,{match:t.concat(n,t.lookahead(/\s*\?:/))});r.exports.PARAMS_CONTAINS.push([r.exports.CLASS_REFERENCE,g,v]),r.contains=r.contains.concat([d,o,a,v]),m(r,"shebang",e.SHEBANG()),m(r,"use_strict",s);const _=r.contains.find(S=>S.label==="func.def");return _.relevance=0,Object.assign(r,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),r}const _hoisted_1$o=["innerHTML"],_sfc_main$E=defineComponent$1({__name:"Readme",props:{id:{}},emits:["close"],setup(e,{emit:t}){useCssVars(l=>({"5e52d16e":unref(s)})),HighlightJS.registerLanguage("typescript",typescript);const r=e,n=t,i=getDeviceFromId(()=>r.id),o=MarkdownIt("commonmark",{html:!0,linkify:!0,typographer:!0,highlight(l,c,d){if(c&&HighlightJS.getLanguage(c))try{return'<pre><code class="hljs">'+HighlightJS.highlight(l,{language:c,ignoreIllegals:!0}).value+"</code></pre>"}catch{}return'<pre><code class="hljs">'+o.utils.escapeHtml(l)+"</code></pre>"}}),a=asyncComputed({async get(){const l=await i.value.getReadmeMarkdown();return o.render(l)},default:"",watch:{device:()=>i.value}}),s=getLineHintColor();return(l,c)=>{const d=_sfc_main$X;return openBlock(),createBlock(VCard,null,{prepend:withCtx(()=>[createVNode(VIcon,{size:"xx-small"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-database")),1)]),_:1})]),append:withCtx(()=>[createVNode(d,{icon:"fa-close",tooltip:"Close",variant:"text",onClick:c[0]||(c[0]=m=>n("close"))})]),title:withCtx(()=>[createVNode(VCardSubtitle,{class:"pt-1 pl-4",style:{"text-transform":"uppercase"}},{default:withCtx(()=>[...c[1]||(c[1]=[createTextVNode(" Readme ",-1)])]),_:1})]),default:withCtx(()=>[createBaseVNode("div",{class:"ml-8 mr-8 mb-8",innerHTML:unref(a)},null,8,_hoisted_1$o)]),_:1})}}}),Readme=_export_sfc$1(_sfc_main$E,[["__scopeId","data-v-ebd8381d"]]),_hoisted_1$n={style:{display:"flex"}};window.MonacoEnvironment={getWorkerUrl:function(e,t){const r=new URL(document.baseURI);r.search="",r.hash="";const n=new URL("vs/base/worker/workerMain.js",r);return`data:text/javascript;charset=utf-8,${encodeURIComponent(`
              self.MonacoEnvironment = { baseUrl: '${r}' };
              importScripts('${n}');
          `)}`}};const _sfc_main$D=defineComponent$1({__name:"Scriptable",props:{id:{}},emits:["run"],async setup(__props,{emit:__emit}){let __temp,__restore;const monaco=([__temp,__restore]=withAsyncContext(()=>__vitePreload(()=>import("./editor.main-Dl_0F1jJ.js").then(e=>e.e),__vite__mapDeps([0,1]),import.meta.url)),__temp=await __temp,__restore(),__temp),props=__props,emits=__emit,device=getDeviceFromId(()=>props.id);function run(){!device.value||!currentEditor||(emits("run"),scriptsSource.script=currentEditor.getValue(),device.value.eval(scriptsSource))}async function save(){!device.value||!currentEditor||(scriptsSource.script=currentEditor.getValue(),device.value.saveScript(scriptsSource))}const container=ref();let currentEditor,model;onUnmounted(()=>{currentEditor==null||currentEditor.dispose(),model==null||model.dispose()});let scriptsSource;async function loadScript(){var t;const e=await((t=device.value)==null?void 0:t.loadScripts());return scriptsSource={filename:Object.keys(e)[0],...e[Object.keys(e)[0]]},scriptsSource}const dark=isDark();watch(()=>dark.value,()=>{currentEditor.updateOptions({theme:dark.value?"vs-dark":"vs"})});async function createEditor(){var e;if(!container.value||!device.value)return;const scriptSource=await loadScript();currentEditor==null||currentEditor.dispose(),currentEditor=void 0,model==null||model.dispose(),model=monaco.editor.createModel(scriptSource.script,scriptSource.language,monaco.Uri.parse(`${props.id}-${scriptSource.filename}`)),currentEditor=monaco.editor.create(container.value,{theme:dark.value?"vs-dark":"vs",automaticLayout:!0,minimap:{enabled:!1},fontSize:10,model});const f=eval(((e=scriptSource.monacoEvalDefaults)==null?void 0:e.toString())||"");f(monaco)}return watch(()=>container.value,createEditor),watch(()=>device.value,createEditor),(e,t)=>(openBlock(),createBlock(VCard,null,{title:withCtx(()=>[createBaseVNode("div",_hoisted_1$n,[createVNode(VCardSubtitle,{class:"mr-4"},{default:withCtx(()=>[...t[0]||(t[0]=[createTextVNode("Script",-1)])]),_:1}),createVNode(_sfc_main$X,{icon:"fa-play",tooltip:"Run",variant:"text",size:"x-small",onClick:run}),createVNode(_sfc_main$X,{icon:"fa-save",tooltip:"Save",variant:"text",size:"x-small",onClick:save})])]),default:withCtx(()=>[createBaseVNode("div",{ref_key:"container",ref:container,style:{height:"640px",width:"100%"}},null,512)]),_:1}))}}),_sfc_main$C=defineComponent$1({__name:"Pagination",props:{items:{},pageSize:{}},setup(e){const t=e,r=ref(1),n=computed(()=>{const o=[];for(let a=0;a<(t.items||[]).length;a+=t.pageSize)o.push(t.items.slice(a,a+t.pageSize));return o}),i=computed(()=>n.value[r.value-1]);return(o,a)=>(openBlock(),createElementBlock(Fragment,null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.value,(s,l)=>renderSlot(o.$slots,"item",{item:s,index:l})),256)),createVNode(VDivider),createVNode(VPagination,{length:n.value.length,modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=s=>r.value=s),rounded:"",density:"compact"},null,8,["length","modelValue"])],64))}}),_hoisted_1$m={style:{display:"flex","font-size":".75rem"},class:"mb-2"},_hoisted_2$j={style:{width:"80px",display:"flex","justify-content":"end"},class:"mr-2"},_hoisted_3$e={style:{flex:"1"}},_sfc_main$B=defineComponent$1({__name:"ScryptedLogger",props:{id:{}},emits:["close"],setup(e,{emit:t}){const r=e,n=t;function i(c){switch(c){case"e":return"error";case"w":return"warning";case"a":return"info"}return"transparent"}let o,a;function s(){o==null||o.removeListener("log",a),o=void 0,a=void 0}onUnmounted(s);const l=asyncComputed({async get({clearOldValue:c},d,m,g,v){if(s(),!connectedClient.value)return d;v==="id"&&c(),o=await(await(await connectedClient.value.systemManager.getComponent("logger")).getLogger("device")).getLogger(r.id);const C=reactive(await o.getLogs());return C.reverse(),a=y=>{C.unshift(y)},o.on("log",a),C},watch:{id:()=>r.id,connectedClient:()=>connectedClient.value},default(c){return c||[]}});return(c,d)=>{const m=_sfc_main$X;return openBlock(),createBlock(VCard,null,{title:withCtx(()=>[createVNode(VCardSubtitle,{class:"pt-1 pl-4",style:{"text-transform":"uppercase"}},{default:withCtx(()=>[...d[1]||(d[1]=[createTextVNode(" Events ",-1)])]),_:1})]),append:withCtx(()=>[createVNode(m,{icon:"fa-close",tooltip:"Close",variant:"text",onClick:d[0]||(d[0]=g=>n("close"))})]),default:withCtx(()=>[createVNode(_sfc_main$C,{items:unref(l),"page-size":20},{item:withCtx(({item:g})=>[createBaseVNode("div",_hoisted_1$m,[createBaseVNode("div",_hoisted_2$j,[createVNode(VChip,{size:"x-small",variant:"flat",style:{width:"64px"},color:i(g.level)},{default:withCtx(()=>[createTextVNode(toDisplayString(new Date(g.timestamp).toLocaleTimeString()),1)]),_:2},1032,["color"])]),createBaseVNode("div",_hoisted_3$e,toDisplayString(g.message),1)])]),_:1},8,["items"])]),_:1})}}}),_sfc_main$A=defineComponent$1({__name:"ScryptedPlugin",props:{id:{}},emits:["update:plugin"],setup(e,{emit:t}){const r=ref(!1),n=e,i=t;async function o(g,v){i("update:plugin"),await installPlugin(g,v)}const a=getDeviceFromId(()=>n.id),s=asyncComputed({async get(){return await checkNpmUpdate(a.value.info.manufacturer,a.value.info.version)},watch:{info:()=>{var g;return(g=a.value)==null?void 0:g.info}}}),l=asyncComputed({async get(){return await getPluginInfo(a.value.info.manufacturer)}}),c=computed(()=>{const g={version:a.value.info.version,tag:"installed",time:""};if(!s.value)return g;const _=s.value.versions.find(S=>S.version===a.value.info.version)||g;return _.tag="installed",_}),d=computed(()=>{const g={version:a.value.info.version,tag:"latest",time:""};return s.value&&s.value.versions.find(S=>S.tag==="latest")||g});function m(g){if(g.tag)return g.tag==="latest"?"warning":g.tag==="beta"?"error":"info"}return(g,v)=>(openBlock(),createBlock(VMenu,{location:"bottom right","close-on-content-click":!1,modelValue:r.value,"onUpdate:modelValue":v[0]||(v[0]=_=>r.value=_)},{activator:withCtx(({props:_})=>{var S;return[(S=unref(s))!=null&&S.updateAvailable?(openBlock(),createBlock(VBtn,mergeProps({key:0},_,{density:"compact",color:"warning","append-icon":unref(getFaPrefix)("fa-caret-down"),style:{"text-transform":"unset"}}),{default:withCtx(()=>[...v[1]||(v[1]=[createTextVNode("Update Available",-1)])]),_:2},1040,["append-icon"])):unref(l)&&!unref(l).pid?(openBlock(),createBlock(VBtn,mergeProps({key:1},_,{density:"compact",color:"red","append-icon":unref(getFaPrefix)("fa-caret-down"),style:{"text-transform":"unset"}}),{default:withCtx(()=>[...v[2]||(v[2]=[createTextVNode("Crashed",-1)])]),_:2},1040,["append-icon"])):(openBlock(),createBlock(VBtn,mergeProps({key:2},_,{density:"compact",color:"info","append-icon":unref(getFaPrefix)("fa-caret-down"),style:{"text-transform":"unset"}}),{default:withCtx(()=>[createTextVNode("v"+toDisplayString(unref(a).info.version),1)]),_:2},1040,["append-icon"]))]}),default:withCtx(()=>[createVNode(VList,{density:"compact",width:"300"},{default:withCtx(()=>{var _;return[createVNode(_sfc_main$C,{items:(_=unref(s))==null?void 0:_.versions,pageSize:7},{item:withCtx(({item:S})=>[S?(openBlock(),createBlock(VListItem,{key:1,onClick:C=>{r.value=!1,o(unref(a).info.manufacturer,S.version)}},createSlots({default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode("v"+toDisplayString(S.version),1)]),_:2},1024),createVNode(VListItemSubtitle,{style:{"font-size":".6rem"}},{default:withCtx(()=>[createTextVNode(toDisplayString(S.time),1)]),_:2},1024)]),_:2},[S.tag?{name:"append",fn:withCtx(()=>[createVNode(VChip,{variant:"flat",size:"x-small",class:"ml-8",color:m(S)},{default:withCtx(()=>[createTextVNode(toDisplayString(S.tag),1)]),_:2},1032,["color"])]),key:"0"}:void 0]),1032,["onClick"])):(openBlock(),createBlock(VListSubheader,{key:0},{default:withCtx(()=>[...v[3]||(v[3]=[createTextVNode("Other Versions",-1)])]),_:1})),(S==null?void 0:S.version)===c.value.version||(S==null?void 0:S.version)===d.value.version?(openBlock(),createBlock(VDivider,{key:2})):createCommentVNode("",!0)]),_:1},8,["items"]),createVNode(VBtn,{variant:"text",color:"info",block:"","prepend-icon":"fab fa-npm",href:`https://www.npmjs.com/package/${unref(a).info.manufacturer}`,target:"_blank"},{default:withCtx(()=>[...v[4]||(v[4]=[createTextVNode("View On NPM",-1)])]),_:1},8,["href"])]}),_:1})]),_:1},8,["modelValue"]))}}),_hoisted_1$l={style:{display:"flex"}},_hoisted_2$i=["onClick"],_hoisted_3$d=["src"],_hoisted_4$6={class:"ml-2"},_hoisted_5$4={style:{"font-weight":"550"}},_hoisted_6$1={key:0},_sfc_main$z=defineComponent$1({__name:"VideoClips",props:{id:{}},emits:["click:clip"],setup(e,{emit:t}){const r=isDark(),n=e,i=ref(),o=observeResize(i),a=computed(()=>o.value?Math.max(1,Math.floor(o.value.width/240)):1),s=t,l=ref(!1),c=new Date;c.setHours(0,0,0,0);const d=ref(c.getTime()),m=getDeviceFromId(()=>n.id),g=computed(()=>_.value.find(x=>{var E;return(E=x.detectionClasses)==null?void 0:E.find(T=>T!=="motion")})),v=ref(!0),_=asyncComputed({async get(){return await m.value.getVideoClips({endTime:d.value+864e5,startTime:d.value})},default:[],watch:{device:()=>m.value,date:()=>d.value}}),S=computed(()=>!g.value||!v.value?[..._.value].reverse():_.value.filter(E=>{var T;return(T=E.detectionClasses)==null?void 0:T.find(k=>k!=="motion")}).reverse()),C=computed(()=>{const x=[];for(let E=0;E<S.value.length;E+=a.value)x.push(S.value.slice(E,E+a.value));return x});function y(x,...E){const T=[];for(const k of E){const D=x%k,B=x-D;T.push(Math.floor(B/k)),x-=B}return T}function b(x,E=0){const[T,k,D,B]=y(x,864e5,36e5,6e4,1e3);let A="";return T&&(A+=`${T.toString().padStart(E,"0")}d`),k&&(A+=`${k.toString().padStart(E,"0")}h`),D&&(A+=`${D.toString().padStart(E,"0")}m`),B&&(A+=`${B.toString().padStart(E,"0")}s`),A}const u=computed(()=>{var x;return(x=m.value)==null?void 0:x.interfaces.includes(distExports.ScryptedInterface.VideoClips)}),w=computed(()=>{const x=m.value.pluginId;if(m)switch(x){case"@scrypted/reolink":case"@scrypted/onvif":case"@scrypted/rtsp":case"@scrypted/amcrest":case"@scrypted/hikvision":return!0}});return(x,E)=>{const T=resolveComponent("V2DatePicker");return u.value||w.value?(openBlock(),createBlock(VCard,{key:0},createSlots({prepend:withCtx(()=>[createVNode(VIcon,{size:"xx-small"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-clapperboard-play")),1)]),_:1})]),title:withCtx(()=>[createVNode(VCardSubtitle,{class:"pt-1 pl-4",style:{"text-transform":"uppercase"}},{default:withCtx(()=>[...E[3]||(E[3]=[createTextVNode(" Recorded Clips ",-1)])]),_:1})]),default:withCtx(()=>[u.value?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(VDivider),createBaseVNode("div",{ref_key:"container",ref:i,style:{width:"100%"}},[createVNode(VVirtualScroll,{class:"container",height:unref(isTouchPhone)?200:400,items:C.value,"item-height":80},{default:withCtx(({item:k})=>[createBaseVNode("div",_hoisted_1$l,[(openBlock(!0),createElementBlock(Fragment,null,renderList(k,(D,B)=>{var A,O,V;return openBlock(),createElementBlock(Fragment,null,[B?(openBlock(),createBlock(VDivider,{key:0,vertical:""})):createCommentVNode("",!0),createBaseVNode("div",{style:normalizeStyle([`width: ${100/a.value}%`,{display:"flex",height:"100px","font-size":".8rem",cursor:"pointer"}]),class:"pa-2",onClick:H=>s("click:clip",D)},[createBaseVNode("img",{src:unref(fixupAppDomainImageUrl)((O=(A=D.resources)==null?void 0:A.thumbnail)==null?void 0:O.href),style:{"aspect-ratio":"16/9","object-fit":"cover"},class:"rounded-lg"},null,8,_hoisted_3$d),createBaseVNode("div",_hoisted_4$6,[createBaseVNode("div",_hoisted_5$4,toDisplayString(new Date(D.startTime).toLocaleTimeString()),1),createBaseVNode("div",null,toDisplayString(b(D.duration)),1),(V=D.detectionClasses)!=null&&V.length?(openBlock(),createElementBlock("div",_hoisted_6$1,toDisplayString(D.detectionClasses.join(", ")),1)):createCommentVNode("",!0)])],12,_hoisted_2$i)],64)}),256))]),createVNode(VDivider)]),_:1},8,["height","items"])],512)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(VCardText,null,{default:withCtx(()=>[...E[4]||(E[4]=[createTextVNode("This camera is not recording or the recordings are unavailable in Scrypted. Upgrade to Scrypted NVR for 24/7 recording.",-1)])]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{size:"small",href:"https://demo.scrypted.app/#/demo",target:"_blank",color:"info"},{default:withCtx(()=>[...E[5]||(E[5]=[createTextVNode("View Demo",-1)])]),_:1})]),_:1})],64))]),_:2},[u.value?{name:"append",fn:withCtx(()=>[g.value?(openBlock(),createBlock(_sfc_main$X,{key:0,active:!v.value,onClick:E[0]||(E[0]=k=>v.value=!v.value),tooltip:"Show unidentified motion",icon:"fa-wind",variant:"text",color:v.value?"info":void 0},null,8,["active","color"])):createCommentVNode("",!0),createVNode(VDialog,{width:"unset",modelValue:l.value,"onUpdate:modelValue":E[2]||(E[2]=k=>l.value=k)},{activator:withCtx(({props:k})=>[createVNode(VBtn,mergeProps(k,{size:"small",variant:"text"}),{default:withCtx(()=>[createVNode(VIcon,{"x-small":""},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-calendar-alt")),1)]),_:1}),createTextVNode("  "+toDisplayString(new Date(d.value).getFullYear())+"-"+toDisplayString(new Date(d.value).getMonth()+1)+"-"+toDisplayString(new Date(d.value).getDate()),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(T,{"is-dark":unref(r),mode:"date","model-value":new Date(d.value),"onUpdate:modelValue":E[1]||(E[1]=k=>d.value=k.getTime())},null,8,["is-dark","model-value"])]),_:1})]),_:1},8,["modelValue"])]),key:"0"}:void 0]),1024)):createCommentVNode("",!0)}}}),VideoClipsInterface=_export_sfc$1(_sfc_main$z,[["__scopeId","data-v-0e5f3aa1"]]),_sfc_main$y=defineComponent$1({__name:"WebComponentProvider",props:{id:{}},setup(e){const t=e,r=getDeviceFromId(()=>t.id);async function n(){if(!connectedClient.value)return;const{systemManager:d}=connectedClient.value,m={...distExports.ScryptedInterfaceDescriptors,WebComponentProvider:{name:"WebComponentProvider",methods:["getWebComponentClass"],properties:[]}};await d.setScryptedInterfaceDescriptors(void 0,m).catch(()=>{})}watch(()=>connectedClient.value,n),n();const i=ref(),o=ref(),a=ref(),s=ref([]),l=asyncComputed({async get(){try{const d=await r.value.getWebComponentClass();return o.value=d.name,d}catch(d){throw a.value=d.message,d}},watch:{device:()=>r.value}}),c=computed(()=>{var d;return(d=l.value)!=null&&d.height?{height:l.value.height,width:"100%"}:{width:"100%",height:"100%"}});return watch(()=>l.value,async d=>{if(d)try{a.value=void 0;for(const m of s.value)m.remove();if(s.value=[],d.styles)for(const m of d.styles){const g=document.createElement("link");g.rel="stylesheet",g.href=m,document.head.appendChild(g),s.value.push(g)}if(d.scripts)for(const m of d.scripts){const g=document.createElement("script");g.src=m,document.head.appendChild(g),s.value.push(g)}if(i.value&&d.name){const m=document.createElement(d.name);i.value.innerHTML="",i.value.appendChild(m)}}catch(m){console.error("web component load error",m),a.value=m.message}},{immediate:!0}),onUnmounted(()=>{i.value&&(i.value.innerHTML="");for(const d of s.value)d.remove();s.value=[]}),(d,m)=>{var g;return openBlock(),createBlock(VCard,null,createSlots({default:withCtx(()=>[createBaseVNode("div",{ref_key:"containerRef",ref:i,style:normalizeStyle(c.value)},null,4),a.value?(openBlock(),createBlock(VAlert,{key:0,color:"error",class:"ma-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(a.value),1)]),_:1})):createCommentVNode("",!0)]),_:2},[((g=unref(l))==null?void 0:g.layout)!=="frameless"?{name:"title",fn:withCtx(()=>[createVNode(VCardSubtitle,{class:"pt-1 pl-4",style:{"text-transform":"uppercase"}},{default:withCtx(()=>{var v;return[createTextVNode(toDisplayString(((v=unref(l))==null?void 0:v.title)||"Web Component"),1)]}),_:1})]),key:"0"}:void 0]),1024)}}}),_hoisted_1$k=["viewBox"],_hoisted_2$h=["d","stroke","stroke-width","fill"],_hoisted_3$c=["x","y","width","height","stroke","stroke-width","fill"],_hoisted_4$5=["x","y","font-size"],_hoisted_5$3=["dy"],_sfc_main$x=defineComponent$1({__name:"DetectedSVG",props:{detected:{}},setup(e){const t=e,r=computed(()=>{var a,s;return((s=(a=t.detected)==null?void 0:a.inputDimensions)==null?void 0:s[0])||1920}),n=computed(()=>{var a,s;return((s=(a=t.detected)==null?void 0:a.inputDimensions)==null?void 0:s[1])||1080}),i=computed(()=>15*r.value/1080),o=computed(()=>{var s,l;const a={rects:[],texts:[],paths:[]};for(const c of((s=t.detected)==null?void 0:s.detections)||[]){let d=c.boundingBox;c.boundingBox||(d=[0,t.detected.inputDimensions[1],t.detected.inputDimensions[0],0]);let m="red";if(c.className!=="motion"&&c.className){let g=`${c.className} ${(c.score*100).toFixed(0)}%`;m="blue",a.texts.push({point:[d[0],d[1]],tspans:[{content:g,dy:-.3}]}),c.label&&(g=c.label,a.texts.push({point:[d[0],d[1]],tspans:[{content:g,dy:-1.3}]}))}if((l=c.clipPaths)!=null&&l.length)for(const g of c.clipPaths)a.paths.push({points:g,stroke:m,strokeWidth:2,fill:"none"});else a.rects.push({boundingBox:d,stroke:m,strokeWidth:2,fill:"none"})}return a});return(a,s)=>(openBlock(),createElementBlock("svg",{viewBox:`0 0 ${r.value} ${n.value}`},[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.value.paths,(l,c)=>(openBlock(),createElementBlock("path",{key:`path-${c}`,d:l.points.map((d,m)=>`${m===0?"M":"L"} ${d[0]} ${d[1]}`).join(" ")+" Z",stroke:l.stroke,"stroke-width":l.strokeWidth,fill:l.stroke||"red","fill-opacity":"0.2"},null,8,_hoisted_2$h))),128)),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.value.rects,l=>(openBlock(),createElementBlock("rect",{x:l.boundingBox[0],y:l.boundingBox[1],width:l.boundingBox[2],height:l.boundingBox[3],stroke:l.stroke,"stroke-width":l.strokeWidth,fill:l.fill},null,8,_hoisted_3$c))),256)),s[0]||(s[0]=createBaseVNode("defs",null,[createBaseVNode("filter",{x:"0",y:"0",width:"1",height:"1",id:"solid"},[createBaseVNode("feFlood",{"flood-color":"blue",result:"bg"}),createBaseVNode("feMerge",null,[createBaseVNode("feMergeNode",{in:"bg"}),createBaseVNode("feMergeNode",{in:"SourceGraphic"})])])],-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.value.texts,l=>(openBlock(),createElementBlock("text",{filter:"url(#solid)",x:l.point[0],y:l.point[1],fill:"white","font-size":i.value,background:""},[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.tspans,c=>(openBlock(),createElementBlock("tspan",{dy:`${c.dy}em`},toDisplayString(c.content),9,_hoisted_5$3))),256))],8,_hoisted_4$5))),256))],8,_hoisted_1$k))}}),_hoisted_1$j=["src"],_sfc_main$w=defineComponent$1({__name:"ObjectDetection",props:{id:{}},setup(e){const t=e,r=getDeviceFromId(()=>t.id),n=ref(),i=ref(),o=ref();async function a(c){n.value=URL.createObjectURL(c);const d=Buffer.from(await c.arrayBuffer()),{mediaManager:m}=connectedClient.value||await connectPluginClient(),g=await m.createMediaObject(d,"image/*");i.value=await r.value.detectObjects(g),console.log(i.value)}async function s(c){c.preventDefault();const d=c.dataTransfer.files[0];await a(d)}async function l(){const c=o.value.files[0];await a(c)}return(c,d)=>(openBlock(),createBlock(VCard,null,{title:withCtx(()=>[createVNode(VCardSubtitle,{class:"pt-1 pl-4",style:{"text-transform":"uppercase"}},{default:withCtx(()=>[...d[2]||(d[2]=[createTextVNode(" Object Detection ",-1)])]),_:1})]),default:withCtx(()=>[createBaseVNode("div",{style:normalizeStyle([{display:"flex","justify-content":"center",position:"relative",cursor:"pointer"},n.value?void 0:{aspectRatio:"16/9"}]),onDragover:d[0]||(d[0]=m=>m.preventDefault()),onDrop:s,onClick:d[1]||(d[1]=m=>o.value.click())},[n.value?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("img",{src:n.value,style:{"object-fit":"contain",width:"100%"}},null,8,_hoisted_1$j),createVNode(_sfc_main$x,{detected:i.value,style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}},null,8,["detected"])],64)):(openBlock(),createBlock(VCardSubtitle,{key:1,style:{"align-content":"center"}},{default:withCtx(()=>[...d[3]||(d[3]=[createTextVNode("Drag and drop an image to detect objects.",-1)])]),_:1})),createBaseVNode("input",{type:"file",ref_key:"detectFile",ref:o,style:{display:"none"},onChange:l,accept:".jpg, .png, .jpeg"},null,544)],36)]),_:1}))}}),_sfc_main$v=defineComponent$1({__name:"ObjectDetector",props:{id:{}},setup(e){const t=e,r=getDeviceFromId(()=>t.id),n=ref();return registerListener(r,{event:distExports.ScryptedInterface.ObjectDetector},(i,o,a)=>{n.value=a}),watch(()=>t.id,()=>n.value=void 0),(i,o)=>(openBlock(),createBlock(_sfc_main$x,{detected:n.value},null,8,["detected"]))}}),_sfc_main$u=defineComponent$1({__name:"StateToggle",props:{name:{},state:{},states:{}},setup(e){const t=e,r=computed(()=>t.states.filter(i=>i.click)),n=computed(()=>t.states.find(i=>i.value===t.state)||t.states.find(i=>i.default));return(i,o)=>(openBlock(),createElementBlock(Fragment,null,[i.name?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(VDivider,{class:"mt-2 mb-2"}),createVNode(VListItemSubtitle,{class:"shrink ml-3 mr-3"},{default:withCtx(()=>[createTextVNode(toDisplayString(i.name),1)]),_:1})],64)):createCommentVNode("",!0),createVNode(VCardActions,null,{default:withCtx(()=>{var a;return[createVNode(VBtnGroup,{density:"compact",color:unref(chipColor),"model-value":i.state},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,s=>(openBlock(),createBlock(VBtn,{size:"x-small",class:"ml-0 mr-0",style:normalizeStyle(s.disabled?"cursor: initial;":void 0),ripple:!s.disabled,variant:n.value===s?"flat":s.disabled?"text":"outlined",onClick:l=>s==null?void 0:s.click(),key:s.name,"prepend-icon":unref(getFaPrefix)(s.icon),value:s.value},{default:withCtx(()=>[createTextVNode(toDisplayString(s.name),1)]),_:2},1032,["style","ripple","variant","onClick","prepend-icon","value"]))),128))]),_:1},8,["color","model-value"]),n.value&&!((a=n.value)!=null&&a.click)?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(VSpacer),(openBlock(),createBlock(VBtn,{variant:"flat",color:n.value.color,size:"x-small",class:"ml-0 mr-0",active:!0,disabled:"",key:n.value.name,"prepend-icon":unref(getFaPrefix)(n.value.icon)},{default:withCtx(()=>[createTextVNode(toDisplayString(n.value.name),1)]),_:1},8,["color","prepend-icon"]))],64)):createCommentVNode("",!0)]}),_:1})],64))}}),_sfc_main$t=defineComponent$1({__name:"StateToggles",props:{id:{}},setup(e){const t=e,r=getDeviceFromId(()=>t.id),n=computed(()=>r.value.interfaces.includes(distExports.ScryptedInterface.AudioSensor)),i=computed(()=>r.value.audioDetected?[{name:"Noise Detected",icon:"fa-volume-high",value:!0,click:()=>{},disabled:!0}]:[{name:"No Noise Detected",icon:"fa-volume-low",value:void 0,click:()=>{},disabled:!0}]),o=computed(()=>r.value.interfaces.includes(distExports.ScryptedInterface.MotionSensor)),a=computed(()=>r.value.motionDetected?[{name:"Motion",icon:"fa-wind",value:!0,click:()=>{},disabled:!0}]:[{name:"No Motion",icon:"fa-empty-set",value:void 0,click:()=>{},disabled:!0}]),s=computed(()=>r.value.interfaces.includes(distExports.ScryptedInterface.OccupancySensor)),l=computed(()=>r.value.occupied?[{name:"Occupied",icon:"fa-user",value:!0,click:()=>{},disabled:!0}]:[{name:"Vacant",icon:"fa-user-slash",value:void 0,click:()=>{},disabled:!0}]),c=computed(()=>r.value.interfaces.includes(distExports.ScryptedInterface.BinarySensor)),d=computed(()=>{var A,O,V,H;return r.value.binaryState?[{name:((A=r.value)==null?void 0:A.type)===distExports.ScryptedDeviceType.Doorbell?"Ringing":"Active",icon:((O=r.value)==null?void 0:O.type)===distExports.ScryptedDeviceType.Doorbell?"fa-bell-ring":"fa-sensor-on",value:!0,click:()=>{},disabled:!0}]:[{name:((V=r.value)==null?void 0:V.type)===distExports.ScryptedDeviceType.Doorbell?"Not Ringing":"Idle",icon:((H=r.value)==null?void 0:H.type)===distExports.ScryptedDeviceType.Doorbell?"fa-bell":"fa-sensor",value:void 0,click:()=>{},disabled:!0}]}),m=computed(()=>r.value.interfaces.includes(distExports.ScryptedInterface.EntrySensor)),g=computed(()=>r.value.entryOpen==="jammed"?[{name:"Jammed",icon:"fa-traffic-cone",value:void 0,click:()=>{},disabled:!0,color:"error"}]:r.value.entryOpen?[{name:"Opened",icon:"fa-door-open",value:void 0,click:()=>{},disabled:!0}]:[{name:"Closed",icon:"fa-door-closed",value:void 0,click:()=>{},disabled:!0}]),v=computed(()=>r.value.interfaces.includes(distExports.ScryptedInterface.Battery)),_=computed(()=>[{name:`${r.value.batteryLevel||0}%`,icon:"fa-battery-full",value:void 0,click:()=>{},disabled:!0}]),S=computed(()=>r.value.interfaces.includes(distExports.ScryptedInterface.OnOff)),C=computed(()=>[{name:"Off",icon:"fa-toggle-off",value:!1,default:!0,click:()=>r.value.turnOff()},{name:"On",icon:"fa-toggle-on",value:!0,click:()=>r.value.turnOn()}]),y=computed(()=>r.value.interfaces.includes(distExports.ScryptedInterface.Lock)),b=computed(()=>[{name:"Lock",icon:"fa-lock",value:distExports.LockState.Locked,click:()=>r.value.lock()},{name:"Unlock",icon:"fa-lock-open",value:distExports.LockState.Unlocked,default:!0,click:()=>r.value.unlock()},{name:"Jammed",icon:"fa-circle-exclamation",value:distExports.LockState.Jammed,color:"error"}]),u=computed(()=>r.value.interfaces.includes(distExports.ScryptedInterface.StartStop)),w=computed(()=>{const A=[{name:"Stop",icon:"fa-stop",value:"stop",default:!0,click:()=>r.value.stop()},{name:"Start",icon:"fa-play",value:"start",click:()=>r.value.start()}];return x.value&&A.push({name:"Pause",icon:"fa-circle-pause",value:"pause",click:()=>r.value.pause()},{name:"Resume",icon:"fa-circle-play",value:"resume",click:()=>r.value.resume()}),A}),x=computed(()=>r.value.interfaces.includes(distExports.ScryptedInterface.Pause)),E=computed(()=>r.value.interfaces.includes(distExports.ScryptedInterface.PanTiltZoom)),T=computed(()=>r.value.interfaces.includes(distExports.ScryptedInterface.PressButtons)),k=computed(()=>{var O,V,H;return[...(O=r.value.ptzCapabilities)!=null&&O.tilt?[{name:"Up",icon:"fa-arrow-up",value:"up",click:()=>r.value.ptzCommand({tilt:.1})},{name:"Down",icon:"fa-arrow-down",value:"down",click:()=>r.value.ptzCommand({tilt:-.1})}]:[],...(V=r.value.ptzCapabilities)!=null&&V.pan?[{name:"Left",icon:"fa-arrow-left",value:"left",click:()=>r.value.ptzCommand({pan:-.1})},{name:"Right",icon:"fa-arrow-right",value:"right",click:()=>r.value.ptzCommand({pan:.1})}]:[],...(H=r.value.ptzCapabilities)!=null&&H.zoom?[{name:"Zoom In",icon:"fa-search-plus",value:"zoomin",click:()=>r.value.ptzCommand({zoom:.1})},{name:"Zoom Out",icon:"fa-search-minus",value:"zoomout",click:()=>r.value.ptzCommand({zoom:-.1})}]:[]]}),D=computed(()=>(console.log(connectedClient.value.systemManager.getSystemState()[r.value.id]),console.log("buttons",r.value.buttons),(r.value.buttons||[]).map(A=>({name:A,icon:"fa-power-off",value:A,click:()=>r.value.pressButton(A)})))),B=computed(()=>S.value||y.value||u.value||E.value||o.value||c.value||n.value||s.value||T.value);return(A,O)=>B.value?(openBlock(),createBlock(VCard,{key:0},{prepend:withCtx(()=>[createVNode(VIcon,{size:"xx-small"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-light-switch")),1)]),_:1})]),title:withCtx(()=>[createVNode(VCardSubtitle,{class:"pt-1 pl-4",style:{"text-transform":"uppercase"}},{default:withCtx(()=>[...O[0]||(O[0]=[createTextVNode(" Status and Controls ",-1)])]),_:1})]),default:withCtx(()=>[o.value?(openBlock(),createBlock(_sfc_main$u,{key:0,states:a.value,state:unref(r).motionDetected},null,8,["states","state"])):createCommentVNode("",!0),n.value?(openBlock(),createBlock(_sfc_main$u,{key:1,states:i.value,state:unref(r).audioDetected},null,8,["states","state"])):createCommentVNode("",!0),s.value?(openBlock(),createBlock(_sfc_main$u,{key:2,states:l.value,state:unref(r).occupied},null,8,["states","state"])):createCommentVNode("",!0),m.value?(openBlock(),createBlock(_sfc_main$u,{key:3,states:g.value,state:unref(r).entryOpen},null,8,["states","state"])):createCommentVNode("",!0),c.value?(openBlock(),createBlock(_sfc_main$u,{key:4,states:d.value,state:unref(r).binaryState},null,8,["states","state"])):createCommentVNode("",!0),v.value?(openBlock(),createBlock(_sfc_main$u,{key:5,states:_.value,state:unref(r).batteryLevel},null,8,["states","state"])):createCommentVNode("",!0),S.value?(openBlock(),createBlock(_sfc_main$u,{key:6,states:C.value,state:unref(r).on,name:unref(r).type===unref(distExports.ScryptedDeviceType).Camera?"Indicator Light":unref(r).type},null,8,["states","state","name"])):createCommentVNode("",!0),y.value?(openBlock(),createBlock(_sfc_main$u,{key:7,states:b.value,state:unref(r).lockState,name:unref(r).type},null,8,["states","state","name"])):createCommentVNode("",!0),u.value?(openBlock(),createBlock(_sfc_main$u,{key:8,states:w.value,state:x.value&&unref(r).paused?"pause":unref(r).running?"start":"stop",name:unref(r).type},null,8,["states","state","name"])):createCommentVNode("",!0),E.value?(openBlock(),createBlock(_sfc_main$u,{key:9,states:k.value,state:null,name:"Pan/Tilt/Zoom"},null,8,["states"])):createCommentVNode("",!0),T.value?(openBlock(),createBlock(_sfc_main$u,{key:10,states:D.value,state:null,name:"Buttons"},null,8,["states"])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0)}}),_hoisted_1$i={key:0,class:"blur",style:{position:"absolute",width:"100%",height:"100%"}},_hoisted_2$g={style:{display:"flex"}},_hoisted_3$b={style:{display:"flex","align-items":"center"}},_hoisted_4$4=["src"],_sfc_main$s=defineComponent$1({__name:"Device",props:{id:{}},setup(e){const{mdAndUp:t}=useDisplay(),r=ref(!1),n=ref(!1),i=ref(!1),o=ref(!0),a=getIdFromRoute(),s=e,l=computed(()=>s.id||a.value),c=getDeviceFromId(()=>l.value),d=computed(()=>{var se;return(se=c.value)==null?void 0:se.interfaces.includes(distExports.ScryptedInterface.DeviceCreator)}),m=computed(()=>{var se;return(se=c.value)==null?void 0:se.interfaces.includes(distExports.ScryptedInterface.DeviceDiscovery)}),g=computed(()=>getAllDevices().find(se=>se.providerId===l.value&&se.id!==l.value&&se.type!==distExports.ScryptedDeviceType.Internal)),v=computed(()=>{var se;return(se=c.value)==null?void 0:se.interfaces.includes(distExports.ScryptedInterface.MixinProvider)}),_=computed(()=>{var se;return(se=c.value)==null?void 0:se.interfaces.includes(distExports.ScryptedInterface.Camera)}),S=computed(()=>{var se;return(se=c.value)==null?void 0:se.interfaces.includes(distExports.ScryptedInterface.ObjectDetection)}),C=computed(()=>{var se;return(se=c.value)==null?void 0:se.interfaces.includes("WebComponentProvider")}),y=computed(()=>{var se;return(se=c.value)==null?void 0:se.interfaces.includes(distExports.ScryptedInterface.Scriptable)}),b=computed(()=>{var se;return(se=c.value)==null?void 0:se.interfaces.includes(distExports.ScryptedInterface.PositionSensor)}),u=computed(()=>{var se,ce;return((se=c.value)==null?void 0:se.interfaces.includes(distExports.ScryptedInterface.StreamService))&&((ce=c.value)==null?void 0:ce.interfaces.includes(distExports.ScryptedInterface.TTY))}),w=computed(()=>{var se,ce;return((se=c.value)==null?void 0:se.interfaces.includes(distExports.ScryptedInterface.StreamService))&&((ce=c.value)==null?void 0:ce.interfaces.includes(distExports.ScryptedInterface.RTCSignalingChannel))}),x=computed(()=>{var se;return(se=c.value)==null?void 0:se.interfaces.includes(distExports.ScryptedInterface.ScryptedPlugin)}),E=computed(()=>{var se;return(se=c.value)==null?void 0:se.interfaces.includes(distExports.ScryptedInterface.OauthClient)}),T=ref(localStorage.getItem("showReadme")==="true");function k(se){T.value=se,localStorage.setItem("showReadme",se.toString())}const D=computed(()=>{var se;return(se=c.value)==null?void 0:se.interfaces.includes(distExports.ScryptedInterface.Readme)}),B=computed(()=>{var se;return(se=c.value)==null?void 0:se.interfaces.includes(distExports.ScryptedInterface.RTCSignalingChannel)}),A=computed(()=>{var se;return(se=c.value)==null?void 0:se.interfaces.includes(distExports.ScryptedInterface.VideoClips)}),O=computed(()=>{var se;return(se=c.value)==null?void 0:se.interfaces.includes(distExports.ScryptedInterface.Notifier)}),V=computed(()=>{var se,ce;return _.value?A.value?!0:((se=c.value)==null?void 0:se.type)===distExports.ScryptedDeviceType.Camera||((ce=c.value)==null?void 0:ce.type)===distExports.ScryptedDeviceType.Doorbell:!1}),H=computed(()=>{var se;return(se=c.value)==null?void 0:se.interfaces.includes(distExports.ScryptedInterface.Intercom)}),q=computed(()=>{var se;return(se=c.value)==null?void 0:se.interfaces.includes(distExports.ScryptedInterface.ObjectDetector)});watch(()=>c.value,()=>{ve.value=void 0,j.value=!1,K()});function K(){var se;if(isAdmin.value&&!isTouchDevice)switch((se=c.value)==null?void 0:se.type){case distExports.ScryptedDeviceType.Camera:case distExports.ScryptedDeviceType.Doorbell:case distExports.ScryptedDeviceType.DeviceProvider:case distExports.ScryptedDeviceType.API:r.value=!0;break;default:r.value=!1;break}else r.value=!1;n.value=!1}K();function Q(se){if(!se)return;let ce=!1;for(const ye of se)for(const be of ye)Math.abs(be)>=2&&(ce=!0);return ce?se.map(ye=>ye.map(be=>be/100)):se}const X=ref(),N=ref(),I=computed(()=>N.value||l.value);let U;async function F(se){if(se.console&&(r.value=!0),se.type==="clippath"){if(typeof se.value=="string")try{se.value=Q(JSON.parse(se.value))}catch{se.value=void 0}U=se,se&&!Array.isArray(se.value)&&(se.value=void 0),X.value={points:se.value||[]},N.value=se.deviceFilter,oe(()=>W.value);return}se.type==="button"&&await c.value.putSetting(se.key,void 0)}async function ee(){X.value=void 0,N.value=void 0,await nextTick$1(),U.value=U.originalValue}async function ue(){X.value=void 0,await c.value.putSetting(U.key,U.value)}function he(){var se,ce;(ce=X.value)==null||ce.points.splice(0,(se=X.value)==null?void 0:se.points.length)}watch(()=>{var se;return(se=X.value)==null?void 0:se.points},()=>{var se;U.value=(se=X.value)==null?void 0:se.points},{deep:!0});const ve=ref(),j=ref(!1),M=ref("Default"),ne=["Default","local","local-recorder","remote","low-resolution","remote-recorder"],Y=computed(()=>{const se=`/device/${l.value}`;return scryptedAlerts.value.filter(ce=>ce.path===se)}),de=ref();async function L(se){var ye,be;console.warn(se);let ce=(be=(ye=se.resources)==null?void 0:ye.video)==null?void 0:be.href;if(!ce){const xe=await c.value.getVideoClip(se.videoId);ce=(await connectedClient.value.mediaManager.convertMediaObject(xe,distExports.ScryptedMimeTypes.LocalUrl)).toString()}de.value=fixupAppDomainImageUrl(ce),oe(()=>W.value)}const W=ref(),J=ref(),ae=ref(),me=ref();async function oe(se){var ye;await sleep(500);const ce=(ye=se())==null?void 0:ye.$el;ce==null||ce.scrollIntoView({block:"start",inline:"nearest",behavior:"smooth"})}const _e=computed(()=>y.value||S.value||b.value||_.value||N.value||u.value||C.value||d.value||g.value||m.value),pe=computed(()=>r.value||i.value||n.value||D.value&&T.value);return(se,ce)=>(openBlock(),createBlock(VContainer,{fluid:"",style:{position:"relative"}},{default:withCtx(()=>[X.value?(openBlock(),createElementBlock("div",_hoisted_1$i)):createCommentVNode("",!0),unref(c)?(openBlock(),createBlock(VRow,{key:1,justify:"center"},{default:withCtx(()=>[createVNode(_sfc_main$Z,{cols:"12",md:6,xl:_e.value&&pe.value?3:4},{default:withCtx(()=>[unref(isTouchDevice)?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(Y.value,ye=>(openBlock(),createBlock(VAlert,{key:ye._id,class:"mb-2",color:"error",closable:"",density:"compact",text:ye.message,"onClick:close":be=>unref(removeAlert)(ye)},null,8,["text","onClick:close"]))),128)):createCommentVNode("",!0),unref(c)?(openBlock(),createBlock(VCard,{key:1,class:"mb-4"},createSlots({prepend:withCtx(()=>[createVNode(VIcon,{size:"xx-small",class:"mt-1",icon:unref(typeToIcon)(unref(c).type)},null,8,["icon"])]),title:withCtx(()=>[createVNode(VCardSubtitle,{class:"pt-1 pl-4",style:{"text-transform":"uppercase"}},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(c).name),1)]),_:1})]),default:withCtx(()=>[createVNode(VCardActions,null,{default:withCtx(()=>{var ye;return[E.value?(openBlock(),createBlock(_sfc_main$H,{key:0,id:l.value},null,8,["id"])):createCommentVNode("",!0),unref(isAdmin)?(openBlock(),createElementBlock(Fragment,{key:1},[x.value?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(VBtn,{size:"x-small",color:"info",onClick:ce[1]||(ce[1]=be=>{r.value=!0,unref(restartPlugin)(unref(c).info.manufacturer)})},{default:withCtx(()=>[...ce[21]||(ce[21]=[createTextVNode("Restart Plugin",-1)])]),_:1}),createVNode(_sfc_main$X,{size:"x-small",icon:"fa-rectangle-history",tooltip:"Log",onClick:ce[2]||(ce[2]=be=>{r.value=!0,oe(()=>J.value)})})],64)):(openBlock(),createBlock(VBtn,{key:1,class:"ml-1",size:"x-small",color:"info",onClick:ce[3]||(ce[3]=be=>{r.value=!0,oe(()=>J.value)})},{default:withCtx(()=>[...ce[22]||(ce[22]=[createTextVNode("Log",-1)])]),_:1})),createVNode(_sfc_main$X,{size:"x-small",icon:"fa-clock-rotate-left",tooltip:"Events",onClick:ce[4]||(ce[4]=be=>{i.value=!0,oe(()=>ae.value)})}),createVNode(_sfc_main$X,{size:"x-small",icon:"fa-rectangle-terminal",tooltip:"REPL",onClick:ce[5]||(ce[5]=be=>{n.value=!0,oe(()=>me.value)})})],64)):createCommentVNode("",!0),D.value&&!T.value?(openBlock(),createBlock(VBadge,{key:2,dot:"",color:"error","offset-x":"8"},{default:withCtx(()=>[createVNode(_sfc_main$X,{size:"x-small",icon:"fa-book",tooltip:"Readme",onClick:ce[6]||(ce[6]=be=>k(!0))})]),_:1})):createCommentVNode("",!0),(ye=unref(c).info)!=null&&ye.managementUrl?(openBlock(),createBlock(_sfc_main$X,{key:3,size:"x-small",icon:"fa-wrench",tooltip:"Manufacturer Settings",href:unref(c).info.managementUrl,target:"_blank"},null,8,["href"])):createCommentVNode("",!0),createVNode(VSpacer),unref(isAdmin)?(openBlock(),createBlock(_sfc_main$T,{key:4,id:l.value},{activator:withCtx(({activatorProps:be})=>[createVNode(_sfc_main$X,mergeProps(be,{size:"x-small",icon:"fa-trash",tooltip:"Delete",color:"error"}),null,16)]),_:1},8,["id"])):createCommentVNode("",!0)]}),_:1})]),_:2},[x.value?{name:"append",fn:withCtx(()=>[createBaseVNode("div",_hoisted_2$g,[createVNode(_sfc_main$A,{id:l.value,"onUpdate:plugin":ce[0]||(ce[0]=ye=>r.value=!0)},null,8,["id"])])]),key:"0"}:void 0,!x.value&&unref(c).providerId&&unref(c).nativeId&&unref(t)?{name:"append",fn:withCtx(()=>[createBaseVNode("div",_hoisted_3$b,[createVNode(VBtn,{to:`/device/${unref(c).providerId}`,variant:"text",size:"x-small",density:"compact"},{default:withCtx(()=>{var ye,be;return[createTextVNode(toDisplayString((be=(ye=unref(connectedClient))==null?void 0:ye.systemManager.getDeviceById(unref(c).providerId))==null?void 0:be.name),1)]}),_:1},8,["to"])])]),key:"1"}:void 0]),1024)):(openBlock(),createElementBlock(Fragment,{key:2},[],64)),O.value?(openBlock(),createBlock(Notifier,{key:3,id:l.value,class:"mb-4"},null,8,["id"])):createCommentVNode("",!0),createVNode(_sfc_main$Q,{id:l.value,class:"mb-4",onClickButtonSetting:F,onShowConsole:ce[7]||(ce[7]=ye=>r.value=!0)},null,8,["id"]),v.value?(openBlock(),createBlock(MixinProvider,{key:4,class:"mb-4",id:l.value},null,8,["id"])):createCommentVNode("",!0),V.value?(openBlock(),createBlock(VideoClipsInterface,{key:5,id:l.value,class:"mb-4","onClick:clip":L},null,8,["id"])):createCommentVNode("",!0),createVNode(_sfc_main$t,{id:l.value,class:"mb-4"},null,8,["id"])]),_:1},8,["xl"]),_e.value||pe.value?(openBlock(),createBlock(_sfc_main$S,{key:0,ref:"deviceLayout","hide-default":!_e.value,"hide-extra":!pe.value},{default:withCtx(()=>[unref(isTouchDevice)?createCommentVNode("",!0):(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(Y.value,ye=>(openBlock(),createBlock(VAlert,{key:ye._id,class:"mb-2",color:"error",closable:"",density:"compact",text:ye.message,"onClick:close":be=>unref(removeAlert)(ye)},null,8,["text","onClick:close"]))),128)),y.value?(openBlock(),createBlock(Suspense,{key:1},{default:withCtx(()=>[createVNode(_sfc_main$D,{id:l.value,class:"mb-4",onRun:ce[8]||(ce[8]=ye=>r.value=!0)},null,8,["id"])]),_:1})):createCommentVNode("",!0),d.value||m.value||g.value?(openBlock(),createBlock(_sfc_main$K,{key:2,class:"mb-4",id:l.value},null,8,["id"])):createCommentVNode("",!0),S.value?(openBlock(),createBlock(_sfc_main$w,{key:3,id:l.value,class:"mb-4"},null,8,["id"])):createCommentVNode("",!0),(openBlock(),createBlock(Suspense,null,{default:withCtx(()=>[b.value?(openBlock(),createBlock(_sfc_main$G,{key:0,id:l.value,class:"mb-4"},null,8,["id"])):createCommentVNode("",!0)]),_:1})),C.value?(openBlock(),createBlock(_sfc_main$y,{key:4,id:l.value,class:"mb-4"},null,8,["id"])):createCommentVNode("",!0),N.value||_.value?(openBlock(),createBlock(Camera,{key:5,id:I.value,clickable:"",class:"mb-4 never-blur","hide-refresh":!!ve.value||!!de.value,"onImg:click":ce[15]||(ce[15]=ye=>ve.value=M.value),ref:"camera","img-style":X.value?"transform: scale(.9);":void 0},{prepend:withCtx(()=>[X.value?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(VCardSubtitle,{class:"mt-1"},{default:withCtx(()=>[...ce[23]||(ce[23]=[createTextVNode("Edit Zone",-1)])]),_:1}),createVNode(_sfc_main$X,{icon:unref(getFaPrefix)("fa-cancel"),variant:"text",size:"small",onClick:ee,tooltip:"Cancel"},null,8,["icon"]),createVNode(_sfc_main$X,{color:"error",icon:unref(getFaPrefix)("fa-broom-wide"),variant:"text",size:"small",onClick:he,tooltip:"Clear Points"},null,8,["icon"]),createVNode(_sfc_main$X,{color:"success",icon:unref(getFaPrefix)("fa-check"),variant:"text",size:"small",onClick:ue,tooltip:"Save Points"},null,8,["icon"])],64)):createCommentVNode("",!0),de.value?(openBlock(),createBlock(_sfc_main$X,{key:1,color:"error",icon:unref(getFaPrefix)("fa-stop"),variant:"text",size:"small",onClick:ce[10]||(ce[10]=ye=>de.value=void 0),tooltip:"Stop Playback"},null,8,["icon"])):B.value?(openBlock(),createElementBlock(Fragment,{key:2},[ve.value?(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(_sfc_main$X,{color:"error",icon:unref(getFaPrefix)("fa-stop"),variant:"text",size:"small",onClick:ce[12]||(ce[12]=ye=>ve.value=void 0),tooltip:`Stop (Stream: ${M.value})`},null,8,["icon","tooltip"]),createVNode(_sfc_main$X,{color:"error",icon:unref(getFaPrefix)(o.value?"fa-volume-slash":"fa-volume"),variant:"text",size:"small",onClick:ce[13]||(ce[13]=ye=>o.value=!o.value),tooltip:"Toggle Audio"},null,8,["icon"]),H.value?(openBlock(),createBlock(_sfc_main$X,{key:0,color:"error",icon:unref(getFaPrefix)(j.value?"fa-microphone-slash":"fa-microphone"),variant:"text",size:"small",onClick:ce[14]||(ce[14]=ye=>j.value=!j.value),tooltip:"Talk Back"},null,8,["icon"])):createCommentVNode("",!0)],64)):(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(_sfc_main$X,{color:"success",icon:unref(getFaPrefix)("fa-play"),variant:"text",size:"small",onClick:ce[11]||(ce[11]=ye=>ve.value=M.value),tooltip:"Play"},null,8,["icon"]),createVNode(VMenu,null,{activator:withCtx(({props:ye})=>[createVNode(VBtn,mergeProps({variant:"text",size:"small"},ye),{default:withCtx(()=>[createTextVNode(" Stream: "+toDisplayString(M.value),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(ne,(ye,be)=>createVNode(VListItem,{key:be,value:be,onClick:xe=>M.value=ye},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(ye),1)]),_:2},1024)]),_:2},1032,["value","onClick"])),64))]),_:1})]),_:1})],64))],64)):createCommentVNode("",!0)]),default:withCtx(()=>[X.value?(openBlock(),createBlock(_sfc_main$U,{key:0,modelValue:X.value,"onUpdate:modelValue":ce[9]||(ce[9]=ye=>X.value=ye),class:"over-camera",style:{"z-index":"3",cursor:"pointer"},scale:.9},null,8,["modelValue"])):createCommentVNode("",!0),B.value&&ve.value?(openBlock(),createBlock(_sfc_main$F,{key:1,id:I.value,class:"over-camera",destination:ve.value,muted:o.value,microphone:!!j.value,style:normalizeStyle(X.value?"transform: scale(.9);":void 0)},null,8,["id","destination","muted","microphone","style"])):createCommentVNode("",!0),w.value&&ve.value?(openBlock(),createBlock(_sfc_main$P,{key:2,id:l.value,class:"over-camera",style:{"z-index":"3",cursor:"pointer"}},null,8,["id"])):createCommentVNode("",!0),de.value?(openBlock(),createElementBlock("video",{key:3,class:"over-camera",src:de.value,playsinline:"",autoplay:"",controls:"",muted:"",style:normalizeStyle([{width:"100%",height:"100","object-fit":"contain"},X.value?"transform: scale(.9);":void 0])},null,12,_hoisted_4$4)):createCommentVNode("",!0),ve.value&&q.value?(openBlock(),createBlock(_sfc_main$v,{key:4,id:I.value,class:"over-camera",style:normalizeStyle(X.value?"transform: scale(.9);":void 0)},null,8,["id","style"])):createCommentVNode("",!0)]),_:1},8,["id","hide-refresh","img-style"])):createCommentVNode("",!0),u.value?(openBlock(),createBlock(_sfc_main$W,{key:6,reconnect:!0,title:"Interactive Terminal","expand-button":!0,control:!0,pluginId:unref(c).pluginId,nativeId:unref(c).nativeId,class:"mb-4"},null,8,["pluginId","nativeId"])):createCommentVNode("",!0)]),extra:withCtx(()=>[D.value&&T.value?(openBlock(),createBlock(Readme,{key:0,id:l.value,class:"mb-4",onClose:ce[16]||(ce[16]=ye=>k(!1))},null,8,["id"])):createCommentVNode("",!0),r.value?(openBlock(),createBlock(_sfc_main$W,{key:1,ref_key:"consoleCard",ref:J,reconnect:!0,clearButton:!0,onClear:ce[17]||(ce[17]=ye=>unref(clearConsole)(l.value)),"expand-button":!0,copyButton:!0,title:"Log",hello:unref(c).nativeId||"undefined",nativeId:"consoleservice",control:!1,options:{pluginId:unref(c).pluginId},close:"",onClose:ce[18]||(ce[18]=ye=>r.value=!1),class:"mb-4"},null,8,["hello","options"])):createCommentVNode("",!0),n.value?(openBlock(),createBlock(_sfc_main$W,{key:2,ref_key:"replCard",ref:me,copyButton:!0,title:"REPL",hello:unref(c).nativeId||"undefined","expand-button":!0,nativeId:"replservice",control:!1,options:{pluginId:unref(c).pluginId},close:"",onClose:ce[19]||(ce[19]=ye=>n.value=!1),class:"mb-4"},null,8,["hello","options"])):createCommentVNode("",!0),i.value?(openBlock(),createBlock(_sfc_main$B,{key:3,ref_key:"eventsCard",ref:ae,id:l.value,onClose:ce[20]||(ce[20]=ye=>i.value=!1)},null,8,["id"])):createCommentVNode("",!0)]),_:1},8,["hide-default","hide-extra"])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0)]),_:1}))}}),Device=_export_sfc$1(_sfc_main$s,[["__scopeId","data-v-2d370806"]]),_hoisted_1$h={style:{display:"flex","align-items":"center"}},_hoisted_2$f={key:0,style:{height:"300px",display:"flex","text-align":"center","flex-direction":"column","justify-content":"center","align-items":"center"}},_hoisted_3$a={style:{display:"flex"},class:"mt-4"},_sfc_main$r=defineComponent$1({__name:"DeviceList",setup(e){const t=computed(()=>connectedClient.value?getAllDevices().filter(a=>{var l;if(a.interfaces.includes(distExports.ScryptedInterface.ScryptedPlugin)&&!hasFixedPhysicalLocation(a.type))return!1;const s=(l=connectedClient.value)==null?void 0:l.systemManager.getDeviceById(a.providerId);return(s==null?void 0:s.id)===a.id||!(s!=null&&s.type)?!0:!hasFixedPhysicalLocation(s==null?void 0:s.type)}).sort((a,s)=>a.name.localeCompare(s.name)):(connectPluginClient(),[])),r=createDeviceGroups(()=>t.value),n=ref(!1);return(i,o)=>(openBlock(),createBlock(VContainer,{fluid:""},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(_sfc_main$Z,{cols:"12"},{default:withCtx(()=>[createVNode(VCard,null,{prepend:withCtx(()=>[createVNode(VIcon,{size:"small",icon:unref(getFaPrefix)("fa-microchip")},null,8,["icon"])]),title:withCtx(()=>[createBaseVNode("div",_hoisted_1$h,[createVNode(VCardSubtitle,{class:"pt-1 pl-4",style:{"text-transform":"uppercase"}},{default:withCtx(()=>[...o[2]||(o[2]=[createTextVNode("Devices",-1)])]),_:1}),createVNode(VDialog,{"max-width":"500",modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=a=>n.value=a)},createSlots({default:withCtx(({isActive:a})=>[createVNode(_sfc_main$N,{"onClick:cancel":s=>a.value=!1,onCreated:s=>a.value=!1},null,8,["onClick:cancel","onCreated"])]),_:2},[unref(r).length>1?{name:"activator",fn:withCtx(({props:a})=>[createVNode(VBtn,mergeProps(a,{variant:"flat",color:"success",class:"ml-4",size:"x-small"}),{default:withCtx(()=>[...o[3]||(o[3]=[createTextVNode("Add Device",-1)])]),_:2},1040)]),key:"0"}:void 0]),1032,["modelValue"]),unref(isAdmin)?(openBlock(),createBlock(VBtn,{key:0,size:"x-small",class:"ml-4",color:"info",to:"/component/plugin/install",variant:"outlined"},{default:withCtx(()=>[...o[4]||(o[4]=[createTextVNode("Install Plugin",-1)])]),_:1})):createCommentVNode("",!0)])]),default:withCtx(()=>[unref(r).length<=1?(openBlock(),createElementBlock("div",_hoisted_2$f,[o[7]||(o[7]=createBaseVNode("div",null,"Welcome to Scrypted.",-1)),o[8]||(o[8]=createBaseVNode("div",null,"Get started by installing the plugin that supports your hardware. Then add the device below or within the plugin.",-1)),createBaseVNode("div",_hoisted_3$a,[createVNode(VBtn,{variant:"flat",size:"x-small",class:"ml-4",color:"info",to:"/component/plugin/install"},{default:withCtx(()=>[...o[5]||(o[5]=[createTextVNode("Install Plugin",-1)])]),_:1}),createVNode(VBtn,{variant:"flat",color:"success",class:"ml-4",size:"x-small",onClick:o[1]||(o[1]=a=>n.value=!0)},{default:withCtx(()=>[...o[6]||(o[6]=[createTextVNode("Add Device",-1)])]),_:1})])])):(openBlock(),createBlock(_sfc_main$M,{key:1,devices:t.value,"device-groups":unref(r),"show-physical-only":""},null,8,["devices","device-groups"]))]),_:1})]),_:1})]),_:1})]),_:1}))}}),_hoisted_1$g={style:{width:"100%",display:"flex","justify-content":"center"},class:"mb-2"},_sfc_main$q=defineComponent$1({__name:"Launcher",setup(e){const t=computed(()=>connectedClient.value?!connectedClient.value.systemManager.getDeviceById("@scrypted/nvr"):!1),r=asyncComputedRaw({async get(){const{systemManager:n}=connectedClient.value||await connectPluginClient(),i=getAllDevices(n).filter(o=>o.interfaces.includes(distExports.ScryptedInterface.LauncherApplication)).map(o=>{var l,c,d,m;let a=isScryptedCloudHostname()?((l=o.applicationInfo)==null?void 0:l.cloudHref)||((c=o.applicationInfo)==null?void 0:c.href):(d=o.applicationInfo)==null?void 0:d.href;if(!a){const g=o.interfaces.includes(distExports.ScryptedInterface.ScryptedPlugin)?o.pluginId:o.id;a=combineBaseUrl(getBaseUrl(),`endpoint/${g}/public/`)}return{...o.applicationInfo,name:((m=o.applicationInfo)==null?void 0:m.name)||o.name,href:a,to:a?void 0:`/device/${o.id}`}});return i.unshift({name:"Management Console",icon:"fa-microchip",href:void 0,to:"/device"}),i},default:[{name:"Management Console",icon:"fa-microchip",href:void 0,to:"/device"}]});return(n,i)=>{var o,a;return openBlock(),createElementBlock("div",{style:normalizeStyle([{width:"100%",height:"100%",display:"flex","justify-content":"center","align-items":"center"},{background:unref(deepPurple).accent4}])},[createBaseVNode("div",null,[createVNode(VCard,{width:320,theme:"light",class:"rounded-lg"},createSlots({title:withCtx(()=>[createVNode(VCardTitle,{style:{"text-align":"center"},class:"scrypted-title"},{default:withCtx(()=>[...i[0]||(i[0]=[createTextVNode("Scrypted",-1)])]),_:1})]),default:withCtx(()=>[createVNode(VList,{style:{"text-align":"center"}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(r).computed.value,s=>(openBlock(),createBlock(VListItem,{class:"pr-16","prepend-icon":s.icon?unref(getFaPrefix)(s.icon):void 0,to:s.to,href:s.href},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(s.name),1)]),_:2},1024),createVNode(VListItemSubtitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(s.description),1)]),_:2},1024)]),_:2},1032,["prepend-icon","to","href"]))),256)),unref(r).loading.value?(openBlock(),createBlock(VListItem,{key:0,class:"pr-16"},{prepend:withCtx(()=>[createVNode(VProgressCircular,{size:"small",color:"info",indeterminate:""})]),default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[...i[1]||(i[1]=[createTextVNode("Loading...",-1)])]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(_sfc_main$X,{"force-icon":"","raw-icon":"",tooltip:"Discord",href:"https://discord.gg/DcFzmBHYGq",icon:"fab fa-discord",target:"_blank"}),createVNode(_sfc_main$X,{"force-icon":"","raw-icon":"",tooltip:"Reddit",icon:"fab fa-reddit",href:"https://www.reddit.com/r/Scrypted",target:"_blank"}),createVNode(_sfc_main$X,{"force-icon":"",tooltip:"Documentation",icon:"fa-book",href:"https://docs.scrypted.app",target:"_blank"}),createVNode(VSpacer),unref(isScryptedCloudHostname)()?(openBlock(),createBlock(_sfc_main$X,{key:0,href:"https://home.scrypted.app",tooltip:"Scrypted Cloud",icon:"fa-home"})):createCommentVNode("",!0),createVNode(_sfc_main$X,{onClick:unref(logoutClient),tooltip:"Sign Out",icon:"fa-arrow-right-from-bracket"},null,8,["onClick"])]),_:1})]),_:2},[(o=unref(connectedClient))!=null&&o.serverVersion?{name:"subtitle",fn:withCtx(()=>[createVNode(VCardSubtitle,{style:{"text-align":"center"},class:"scrypted-subtitle"},{default:withCtx(()=>{var s;return[createTextVNode(toDisplayString((s=unref(connectedClient))==null?void 0:s.serverVersion),1)]}),_:1}),createVNode(VCardSubtitle,{style:{"text-align":"center"},class:"scrypted-subtitle2"},{default:withCtx(()=>{var s;return[createTextVNode(toDisplayString((s=unref(connectedClient))==null?void 0:s.loginResult.hostname),1)]}),_:1})]),key:"0"}:void 0]),1024),t.value?(openBlock(),createBlock(VCard,{key:0,width:320,theme:"dark",class:"rounded-lg mt-4"},createSlots({title:withCtx(()=>[createVNode(VCardTitle,{style:{"text-align":"center"},class:"scrypted-title"},{default:withCtx(()=>[...i[2]||(i[2]=[createTextVNode("Supercharge Scrypted",-1)])]),_:1})]),default:withCtx(()=>[createVNode(VList,{density:"compact"},{default:withCtx(()=>[createVNode(VListItem,{href:"https://demo.scrypted.app/#demo",target:"_blank"},{prepend:withCtx(()=>[createVNode(VIcon,{small:""},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-timeline")),1)]),_:1})]),default:withCtx(()=>[createVNode(VListItemSubtitle,null,{default:withCtx(()=>[...i[4]||(i[4]=[createTextVNode(" 24/7 recording with smart detections. ",-1)])]),_:1})]),_:1}),createVNode(VListItem,{lines:"two",href:"https://docs.scrypted.app/scrypted-nvr/features.html#rich-notifications",target:"_blank"},{prepend:withCtx(()=>[createVNode(VIcon,{small:""},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-video-camera")),1)]),_:1})]),default:withCtx(()=>[createVNode(VListItemSubtitle,null,{default:withCtx(()=>[...i[5]||(i[5]=[createTextVNode(" Rich Notifications with a concise thumbnail of the event. ",-1)])]),_:1})]),_:1}),createVNode(VListItem,{lines:"two",href:"https://docs.scrypted.app/scrypted-nvr/features.html#adaptive-bitrate",target:"_blank"},{prepend:withCtx(()=>[createVNode(VIcon,{small:""},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-bolt-lightning")),1)]),_:1})]),default:withCtx(()=>[createVNode(VListItemSubtitle,null,{default:withCtx(()=>[...i[6]||(i[6]=[createTextVNode(" Adaptive bitrate streaming for HomeKit, Google Home, and Alexa. ",-1)])]),_:1})]),_:1}),createVNode(VListItem,{lines:"two",href:"https://docs.scrypted.app/scrypted-nvr/apps.html",target:"_blank"},{prepend:withCtx(()=>[createVNode(VIcon,{small:""},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-cloud")),1)]),_:1})]),default:withCtx(()=>[createVNode(VListItemSubtitle,null,{default:withCtx(()=>[...i[7]||(i[7]=[createTextVNode(" Beautiful iOS, Android, and web app for local and remote viewing. ",-1)])]),_:1})]),_:1}),createVNode(VListItem,{lines:"two",href:"https://ha-demo.scrypted.app",target:"_blank"},{prepend:withCtx(()=>[createVNode(VIcon,{small:""},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-table-layout")),1)]),_:1})]),default:withCtx(()=>[createVNode(VListItemSubtitle,null,{default:withCtx(()=>[...i[8]||(i[8]=[createTextVNode(" Home Assistant cards with snappy streams and two way audio. ",-1)])]),_:1})]),_:1})]),_:1}),createBaseVNode("div",_hoisted_1$g,[createVNode(VBtn,{size:"small",style:{"justify-self":"center"},href:"https://demo.scrypted.app/#/demo",target:"_blank"},{default:withCtx(()=>[...i[9]||(i[9]=[createTextVNode("View Demo ",-1)])]),_:1}),createVNode(VBtn,{size:"small",style:{"justify-self":"center"},to:"/component/plugin/install?search=@scrypted/nvr"},{default:withCtx(()=>[...i[10]||(i[10]=[createTextVNode("Install ",-1)])]),_:1})])]),_:2},[(a=unref(connectedClient))!=null&&a.serverVersion?{name:"subtitle",fn:withCtx(()=>[createVNode(VCardSubtitle,{style:{"text-align":"center"},class:"scrypted-subtitle"},{default:withCtx(()=>[...i[3]||(i[3]=[createTextVNode("Get Scrypted NVR",-1)])]),_:1})]),key:"0"}:void 0]),1024)):createCommentVNode("",!0)])],4)}}}),_hoisted_1$f={style:{"text-align":"end"}},_hoisted_2$e={style:{"white-space":"pre-wrap"}},_sfc_main$p=defineComponent$1({__name:"InstallPlugin",setup(e){const t=useRoute$1(),r=ref(t.query.search||""),n=asyncComputed({async get({isCancelled:c}){var S,C;if(await sleep(500),c())return;let d="https://registry.npmjs.org/-/v1/search?text=keywords:scrypted";(((S=r.value)==null?void 0:S.length)||0)>2&&(d+=`+${r.value}`);const v=(await(await fetch(d)).json()).objects.map(y=>{var b;return{description:(b=y.package.description)==null?void 0:b.replace(" for Scrypted",""),name:y.package.name,version:y.package.version,username:y.package.publisher.username,date:new Date(y.package.date).toLocaleDateString(),link:y.package.links.npm,keywords:y.package.keywords}}),_=((C=r.value)==null?void 0:C.split(" "))||[];return v.sort((y,b)=>{var x,E;let u=0,w=0;for(const T of _)return y.keywords.includes(T)&&u++,b.keywords.includes(T)&&w++,y.name.includes(T)&&u++,b.name.includes(T)&&w++,(x=y.description)!=null&&x.includes(T)&&u++,(E=b.description)!=null&&E.includes(T)&&w++,w-u}),v},default(c){return c||[]},watch:{search:()=>r.value}}),i=ref(!1),o=ref(),a=ref(!1),s=useRouter$1();async function l(c){try{o.value=`Installing ${c.name}...`,a.value=!1,i.value=!0,await installPlugin(c.name);const d=connectedClient.value.systemManager.getDeviceById(c.name);goDevice(s,d),i.value=!1}catch(d){a.value=!0,o.value=`${c.name} failed to install.

${d.message}`}}return(c,d)=>(openBlock(),createBlock(VContainer,{fluid:""},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(_sfc_main$Z,{cols:"12",md:"8",lg:"6"},{default:withCtx(()=>[createVNode(VCard,{text:"Search for Plugins created by Scrypted and other developers."},{prepend:withCtx(()=>[createVNode(VIcon,{size:"x-small"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-puzzle-piece")),1)]),_:1})]),title:withCtx(()=>[createVNode(VCardSubtitle,{class:"mt-1"},{default:withCtx(()=>[...d[3]||(d[3]=[createTextVNode("Install Plugins",-1)])]),_:1})]),append:withCtx(()=>[createVNode(VBtn,{size:"x-small",variant:"flat",color:"info","prepend-icon":unref(getFaPrefix)("fa-puzzle"),to:"/component/plugin",class:"mr-2"},{default:withCtx(()=>[...d[4]||(d[4]=[createTextVNode("View Current Plugins",-1)])]),_:1},8,["prepend-icon"])]),default:withCtx(()=>[createVNode(VTextField,{modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=m=>r.value=m),density:"compact",variant:"outlined",class:"ma-4",label:"Search Plugins","persistent-placeholder":"",hint:"Keywords. E.g. Hikvision, Unifi, Ring, etc.","persistent-hint":""},null,8,["modelValue"])]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n),m=>(openBlock(),createBlock(VCard,{class:"mt-4"},{prepend:withCtx(()=>[createVNode(VIcon,{color:"info",size:"x-small",icon:unref(getFaPrefix)("fa-puzzle-piece")},null,8,["icon"])]),append:withCtx(()=>[createBaseVNode("div",_hoisted_1$f,"v"+toDisplayString(m.version),1)]),title:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(m.name),1)]),_:2},1024)]),default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createTextVNode(toDisplayString(m.description),1)]),_:2},1024),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{variant:"outlined",color:"info",size:"x-small","prepend-icon":"fab fa-npm",href:m.link,target:"_blank"},{default:withCtx(()=>[...d[5]||(d[5]=[createTextVNode("View On NPM",-1)])]),_:2},1032,["href"]),createVNode(VBtn,{variant:"flat",color:"deep-purple-accent-4",size:"x-small","prepend-icon":unref(getFaPrefix)("fa-download"),onClick:g=>l(m)},{default:withCtx(()=>[...d[6]||(d[6]=[createTextVNode("Install",-1)])]),_:2},1032,["prepend-icon","onClick"])]),_:2},1024)]),_:2},1024))),256)),createVNode(VDialog,{modelValue:i.value,"onUpdate:modelValue":d[2]||(d[2]=m=>i.value=m),"max-width":"400"},{default:withCtx(()=>[createVNode(VCard,{title:a.value?"Plugin Install Failed":"Installing Plugin"},{append:withCtx(()=>[a.value?(openBlock(),createBlock(VIcon,{key:1,color:"error"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-circle-exclamation")),1)]),_:1})):(openBlock(),createBlock(VProgressCircular,{key:0,size:"x-small",indeterminate:"",class:"ma-8"}))]),default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$e,toDisplayString(o.value),1)]),_:1}),a.value?(openBlock(),createBlock(VCardActions,{key:0},{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{variant:"text",color:"info",onClick:d[1]||(d[1]=m=>i.value=!1)},{default:withCtx(()=>[...d[7]||(d[7]=[createTextVNode("Cancel",-1)])]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1},8,["title"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}}),_sfc_main$o=defineComponent$1({__name:"PluginStats",props:{plugins:{}},setup(e){const t=isDark(),r=computed(()=>t.value?chipColor:"light-blue-darken-1"),n=e,i=computed(()=>[...n.plugins||[]].filter(d=>{var m;return!!((m=d.info)!=null&&m.rpcObjects)}).sort((d,m)=>{var g,v;return((g=m.info)==null?void 0:g.rpcObjects)-((v=d.info)==null?void 0:v.rpcObjects)}).slice(0,5)),o=computed(()=>[...n.plugins||[]].filter(d=>{var m;return!!((m=d.info)!=null&&m.pendingResults)}).sort((d,m)=>{var g,v;return((g=m.info)==null?void 0:g.pendingResults)-((v=d.info)==null?void 0:v.pendingResults)}).slice(0,5)),a=computed(()=>[...n.plugins||[]].filter(d=>{var m;return!!((m=d.info)!=null&&m.clientsCount)}).sort((d,m)=>{var g,v;return((g=m.info)==null?void 0:g.clientsCount)-((v=d.info)==null?void 0:v.clientsCount)}).slice(0,5)),s=ref(0),l=asyncComputed({async get(){const{clusterManager:d}=connectedClient.value||await connectPluginClient(),m=await d.getClusterWorkers();return Object.entries(m).map(([g,v])=>({name:g,...v}))},default(d){return d},watch:{connectedClient:()=>connectedClient.value,refreshclusters:()=>s.value}}),c=computed(()=>{const{systemManager:d}=connectedClient.value;if(!d)return[];const m=new Map;function g(v){var S;let _=m.get(v);_||(_={id:v,name:((S=d.getDeviceById(v))==null?void 0:S.name)||"Unknown Device",count:0},m.set(v,_)),_.count++}for(const v of l.value)for(const _ of v.forks)g(_.id);return[...m.values()]});return(d,m)=>{var g;return openBlock(),createElementBlock(Fragment,null,[createVNode(VCard,{class:"mb-2"},{prepend:withCtx(()=>[createVNode(VIcon,{size:"x-small"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-chart-simple")),1)]),_:1})]),title:withCtx(()=>[createVNode(VCardSubtitle,{class:"mt-1"},{default:withCtx(()=>[...m[1]||(m[1]=[createTextVNode("Plugin Stats",-1)])]),_:1})]),default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[createVNode(VListSubheader,null,{default:withCtx(()=>[...m[2]||(m[2]=[createTextVNode("RPC Objects",-1)])]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(i.value,v=>(openBlock(),createBlock(VListItem,null,{default:withCtx(()=>{var _;return[createVNode(VProgressLinear,{color:r.value,"model-value":(_=v==null?void 0:v.info)==null?void 0:_.rpcObjects,max:Math.max(...i.value.map(S=>S.info.rpcObjects)),height:"20",rounded:""},{default:withCtx(()=>{var S;return[createTextVNode(toDisplayString(v==null?void 0:v.name)+": "+toDisplayString((S=v==null?void 0:v.info)==null?void 0:S.rpcObjects),1)]}),_:2},1032,["color","model-value","max"])]}),_:2},1024))),256)),createVNode(VDivider),createVNode(VListSubheader,null,{default:withCtx(()=>[...m[3]||(m[3]=[createTextVNode("Pending Results",-1)])]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.value,v=>(openBlock(),createBlock(VListItem,null,{default:withCtx(()=>{var _;return[createVNode(VProgressLinear,{color:r.value,"model-value":(_=v==null?void 0:v.info)==null?void 0:_.pendingResults,max:Math.max(...i.value.map(S=>S.info.pendingResults)),height:"20",rounded:""},{default:withCtx(()=>{var S;return[createTextVNode(toDisplayString(v==null?void 0:v.name)+": "+toDisplayString((S=v==null?void 0:v.info)==null?void 0:S.pendingResults),1)]}),_:2},1032,["color","model-value","max"])]}),_:2},1024))),256)),createVNode(VDivider),createVNode(VListSubheader,null,{default:withCtx(()=>[...m[4]||(m[4]=[createTextVNode("Connections",-1)])]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(a.value,v=>(openBlock(),createBlock(VListItem,null,{default:withCtx(()=>{var _;return[createVNode(VProgressLinear,{color:r.value,"model-value":(_=v==null?void 0:v.info)==null?void 0:_.clientsCount,max:Math.max(...i.value.map(S=>S.info.clientsCount)),height:"20",rounded:""},{default:withCtx(()=>{var S;return[createTextVNode(toDisplayString(v==null?void 0:v.name)+": "+toDisplayString((S=v==null?void 0:v.info)==null?void 0:S.clientsCount),1)]}),_:2},1032,["color","model-value","max"])]}),_:2},1024))),256))]),_:1})]),_:1}),(g=unref(l))!=null&&g.length?(openBlock(),createBlock(VCard,{key:0},{prepend:withCtx(()=>[createVNode(VIcon,{size:"x-small"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-circle-nodes")),1)]),_:1})]),append:withCtx(()=>[createVNode(VBtn,{variant:"text",onClick:m[0]||(m[0]=v=>s.value++)},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-refresh")),1)]),_:1})]),_:1})]),title:withCtx(()=>[createVNode(VCardSubtitle,{class:"mt-1"},{default:withCtx(()=>[...m[5]||(m[5]=[createTextVNode("Cluster Processes",-1)])]),_:1})]),default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[createVNode(VListSubheader,null,{default:withCtx(()=>[...m[6]||(m[6]=[createTextVNode("Workers",-1)])]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(l),v=>(openBlock(),createBlock(VListItem,null,{default:withCtx(()=>[createVNode(VProgressLinear,{color:r.value,"model-value":v.forks.length,max:Math.max(...unref(l).map(_=>_.forks.length)),height:"20",rounded:""},{default:withCtx(()=>[createTextVNode(toDisplayString(v.name)+": "+toDisplayString(v.forks.length),1)]),_:2},1032,["color","model-value","max"])]),_:2},1024))),256)),createVNode(VListSubheader,null,{default:withCtx(()=>[...m[7]||(m[7]=[createTextVNode("Devices",-1)])]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(c.value,v=>(openBlock(),createBlock(VListItem,null,{default:withCtx(()=>[createVNode(VProgressLinear,{color:r.value,"model-value":v.count,max:Math.max(...c.value.map(_=>_.count)),height:"20",rounded:""},{default:withCtx(()=>[createTextVNode(toDisplayString(v.name)+": "+toDisplayString(v.count),1)]),_:2},1032,["color","model-value","max"])]),_:2},1024))),256))]),_:1})]),_:1})):createCommentVNode("",!0)],64)}}}),PluginStats=_export_sfc$1(_sfc_main$o,[["__scopeId","data-v-f9c556a3"]]),_hoisted_1$e={style:{display:"flex","justify-content":"end","align-items":"end","flex-direction":"column"}},_hoisted_2$d={key:2},_sfc_main$n=defineComponent$1({__name:"Plugins",setup(e){const t=ref(),{mdAndUp:r}=useDisplay(),n=new Map,i=computed(s=>{if(!connectedClient.value)return connectPluginClient(),[];const c=getAllDevices().filter(d=>d.interfaces.includes(distExports.ScryptedInterface.ScryptedPlugin)).sort((d,m)=>d.name.localeCompare(m.name)).map(d=>{var m,g,v;return reactive({id:d.id,name:d.name,package:(m=d.info)==null?void 0:m.manufacturer,version:(g=d.info)==null?void 0:g.version,type:d.type,updateAvailable:!!n.get(d.id),info:(v=s==null?void 0:s.find(_=>_.id===d.id))==null?void 0:v.info})});return c.forEach(async d=>{const m=await checkNpmUpdate(d.package,d.version);d.updateAvailable=!!m.updateAvailable,n.set(d.id,!!m.updateAvailable)}),c.forEach(async d=>{d.info=await getPluginInfo(d.package)}),c});async function o(s){try{s.updateAvailable=void 0,await installPlugin(s.package),s.updateAvailable=!1,n.set(s.id,!1)}catch(l){s.updateAvailable=!0,t.value=l.message}}const a=computed(()=>{var c;if(!connectedClient.value)return;const{systemManager:s}=connectedClient.value,l=(c=s.getDeviceById("@scrypted/core","automation:update-plugins"))==null?void 0:c.id;if(l)return getDeviceRoute(l)});return(s,l)=>(openBlock(),createBlock(VContainer,{fluid:""},{default:withCtx(()=>[t.value?(openBlock(),createBlock(VAlert,{key:0,closable:"",color:"error",icon:unref(getFaPrefix)("fa-circle-exclamation"),class:"mt-2 mb-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(t.value),1)]),_:1},8,["icon"])):createCommentVNode("",!0),createVNode(VRow,{justify:"center"},{default:withCtx(()=>[unref(isAdmin)?(openBlock(),createBlock(_sfc_main$Z,{key:1,cols:"12",md:"6",lg:"4"},{default:withCtx(()=>[createVNode(VCard,{class:"mb-4"},{prepend:withCtx(()=>[createVNode(VIcon,{size:"x-small"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-puzzle")),1)]),_:1})]),title:withCtx(()=>[createVNode(VCardSubtitle,{class:"mt-1"},{default:withCtx(()=>[...l[3]||(l[3]=[createTextVNode("Plugins",-1)])]),_:1})]),append:withCtx(()=>[createVNode(VBtn,{size:"x-small",variant:"outlined",color:"info","prepend-icon":unref(getFaPrefix)("fa-bolt-auto"),to:a.value,class:"mr-2"},{default:withCtx(()=>[...l[4]||(l[4]=[createTextVNode("Auto Updates",-1)])]),_:1},8,["prepend-icon","to"]),createVNode(VBtn,{size:"x-small",variant:"flat",color:"success","prepend-icon":unref(getFaPrefix)("fa-download"),to:"/component/plugin/install"},{default:withCtx(()=>[...l[5]||(l[5]=[createTextVNode("Install",-1)])]),_:1},8,["prepend-icon"])]),default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[...l[1]||(l[1]=[createTextVNode("Plugins are the primary way to extend Scrypted by adding new devices and capabilities.",-1)])]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[...l[2]||(l[2]=[createTextVNode("These plugins are currently installed in Scrypted.",-1)])]),_:1}),createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.value,c=>(openBlock(),createBlock(VListItem,{to:`/device/${c.id}`},{prepend:withCtx(()=>[createVNode(VIcon,{size:"x-small"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)(unref(typeToIcon)(c.type))),1)]),_:2},1024)]),append:withCtx(()=>[createBaseVNode("div",_hoisted_1$e,[c.updateAvailable!==void 0?(openBlock(),createElementBlock(Fragment,{key:0},[c.updateAvailable?(openBlock(),createBlock(VBtn,{key:0,size:"x-small","prepend-icon":unref(getFaPrefix)("fa-download"),color:"info",onClick:withModifiers(d=>o(c),["prevent"]),class:"mb-1"},{default:withCtx(()=>[...l[6]||(l[6]=[createTextVNode("Update",-1)])]),_:2},1032,["prepend-icon","onClick"])):(openBlock(),createBlock(VListItemSubtitle,{key:1,class:"ml-2",style:{"font-size":".8rem","text-align":"end"}},{default:withCtx(()=>[createTextVNode("v"+toDisplayString(c.version),1)]),_:2},1024)),c.info?(openBlock(),createElementBlock("div",_hoisted_2$d,[c.info.pid?(openBlock(),createBlock(VListItemSubtitle,{key:1,class:"ml-2",style:{"font-size":".8rem","text-align":"end"}},{default:withCtx(()=>[createTextVNode("pid: "+toDisplayString(c.info.pid),1)]),_:2},1024)):(openBlock(),createBlock(VChip,{key:0,size:"x-small",variant:"flat",color:"red",text:"Crashed"}))])):createCommentVNode("",!0)],64)):createCommentVNode("",!0)])]),default:withCtx(()=>[createVNode(VListItemTitle,{style:{"font-size":".8rem","font-weight":"500","text-transform":"uppercase"}},{default:withCtx(()=>[createTextVNode(toDisplayString(c.name),1)]),_:2},1024),createVNode(VListItemSubtitle,{style:{"font-size":".8rem"}},{default:withCtx(()=>[createTextVNode(toDisplayString(c.package),1)]),_:2},1024)]),_:2},1032,["to"]))),256))]),_:1})]),_:1}),unref(r)?createCommentVNode("",!0):(openBlock(),createBlock(PluginStats,{key:0,plugins:i.value},null,8,["plugins"]))]),_:1})):(openBlock(),createBlock(_sfc_main$Z,{key:0,cols:"12",md:"6",lg:"4"},{default:withCtx(()=>[createVNode(VCard,{class:"mb-4"},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[...l[0]||(l[0]=[createTextVNode("Plugins are the primary way to extend Scrypted by adding new devices and capabilities.",-1)])]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createTextVNode('User "'+toDisplayString(unref(connectedClient).username)+'" must be an administrator to install plugins.',1)]),_:1})]),_:1})]),_:1})),unref(r)&&unref(isAdmin)?(openBlock(),createBlock(_sfc_main$Z,{key:2,cols:"12",md:"6",lg:"4"},{default:withCtx(()=>[createVNode(PluginStats,{plugins:i.value},null,8,["plugins"])]),_:1})):createCommentVNode("",!0)]),_:1})]),_:1}))}}),_sfc_main$m=defineComponent$1({__name:"ScryptedCoreDeviceShortcut",props:{nativeId:{}},setup(e){const t=e,r=asyncComputed({async get(){const{systemManager:n}=connectedClient.value||await connectPluginClient(),i=n.getDeviceById("@scrypted/core",t.nativeId);return i==null?void 0:i.id},default(n){return n},watch:{nativeId:()=>t.nativeId}});return(n,i)=>unref(r)?(openBlock(),createBlock(Device,{key:0,id:unref(r)},null,8,["id"])):createCommentVNode("",!0)}}),routes=[{path:"/device/:id",name:"Device",component:Device},{path:"/device",name:"DeviceList",component:_sfc_main$r},{path:"/component/plugin/install",name:"InstallPlugin",component:_sfc_main$p},{path:"/component/plugin",name:"Plugins",component:_sfc_main$n},{path:"/component/shell",component:_sfc_main$V},{path:"/settings",component:_sfc_main$Y},{path:"/scripts",component:_sfc_main$m,props:{nativeId:"scriptcore"}},{path:"/users",component:_sfc_main$m,props:{nativeId:"users"}},{path:"/automations",component:_sfc_main$m,props:{nativeId:"automationcore"}},{path:"/",name:"Launcher",component:_sfc_main$q}],router=createRouter({history:createWebHashHistory(),routes,scrollBehavior(e,t,r){return r||{top:0}}});var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(e,t){return e.concat([t+"-"+start,t+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(e,t){return e.concat([t,t+"-"+start,t+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(e){return e?(e.nodeName||"").toLowerCase():null}function getWindow(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function isElement(e){var t=getWindow(e).Element;return e instanceof t||e instanceof Element}function isHTMLElement(e){var t=getWindow(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function isShadowRoot(e){if(typeof ShadowRoot>"u")return!1;var t=getWindow(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function applyStyles(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},o=t.elements[r];!isHTMLElement(o)||!getNodeName(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function effect$2(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],o=t.attributes[n]||{},a=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),s=a.reduce(function(l,c){return l[c]="",l},{});!isHTMLElement(i)||!getNodeName(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(e){return e.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,o=1;t&&isHTMLElement(e)&&(i=e.offsetWidth>0&&round(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&round(n.height)/e.offsetHeight||1);var a=isElement(e)?getWindow(e):window,s=a.visualViewport,l=!isLayoutViewport()&&r,c=(n.left+(l&&s?s.offsetLeft:0))/i,d=(n.top+(l&&s?s.offsetTop:0))/o,m=n.width/i,g=n.height/o;return{width:m,height:g,top:d,right:c+m,bottom:d+g,left:c,x:c,y:d}}function getLayoutRect(e){var t=getBoundingClientRect(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function contains(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&isShadowRoot(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function getComputedStyle$1(e){return getWindow(e).getComputedStyle(e)}function isTableElement(e){return["table","td","th"].indexOf(getNodeName(e))>=0}function getDocumentElement(e){return((isElement(e)?e.ownerDocument:e.document)||window.document).documentElement}function getParentNode(e){return getNodeName(e)==="html"?e:e.assignedSlot||e.parentNode||(isShadowRoot(e)?e.host:null)||getDocumentElement(e)}function getTrueOffsetParent(e){return!isHTMLElement(e)||getComputedStyle$1(e).position==="fixed"?null:e.offsetParent}function getContainingBlock(e){var t=/firefox/i.test(getUAString()),r=/Trident/i.test(getUAString());if(r&&isHTMLElement(e)){var n=getComputedStyle$1(e);if(n.position==="fixed")return null}var i=getParentNode(e);for(isShadowRoot(i)&&(i=i.host);isHTMLElement(i)&&["html","body"].indexOf(getNodeName(i))<0;){var o=getComputedStyle$1(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function getOffsetParent(e){for(var t=getWindow(e),r=getTrueOffsetParent(e);r&&isTableElement(r)&&getComputedStyle$1(r).position==="static";)r=getTrueOffsetParent(r);return r&&(getNodeName(r)==="html"||getNodeName(r)==="body"&&getComputedStyle$1(r).position==="static")?t:r||getContainingBlock(e)||t}function getMainAxisFromPlacement(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function within(e,t,r){return max(e,min(t,r))}function withinMaxClamp(e,t,r){var n=within(e,t,r);return n>r?r:n}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(e){return Object.assign({},getFreshSideObject(),e)}function expandToHashMap(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var toPaddingObject=function e(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,mergePaddingObject(typeof t!="number"?t:expandToHashMap(t,basePlacements))};function arrow(e){var t,r=e.state,n=e.name,i=e.options,o=r.elements.arrow,a=r.modifiersData.popperOffsets,s=getBasePlacement(r.placement),l=getMainAxisFromPlacement(s),c=[left,right].indexOf(s)>=0,d=c?"height":"width";if(!(!o||!a)){var m=toPaddingObject(i.padding,r),g=getLayoutRect(o),v=l==="y"?top:left,_=l==="y"?bottom:right,S=r.rects.reference[d]+r.rects.reference[l]-a[l]-r.rects.popper[d],C=a[l]-r.rects.reference[l],y=getOffsetParent(o),b=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,u=S/2-C/2,w=m[v],x=b-g[d]-m[_],E=b/2-g[d]/2+u,T=within(w,E,x),k=l;r.modifiersData[n]=(t={},t[k]=T,t.centerOffset=T-E,t)}}function effect$1(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||contains(t.elements.popper,i)&&(t.elements.arrow=i))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(e){return e.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(e,t){var r=e.x,n=e.y,i=t.devicePixelRatio||1;return{x:round(r*i)/i||0,y:round(n*i)/i||0}}function mapToStyles(e){var t,r=e.popper,n=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,m=e.isFixed,g=a.x,v=g===void 0?0:g,_=a.y,S=_===void 0?0:_,C=typeof d=="function"?d({x:v,y:S}):{x:v,y:S};v=C.x,S=C.y;var y=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),u=left,w=top,x=window;if(c){var E=getOffsetParent(r),T="clientHeight",k="clientWidth";if(E===getWindow(r)&&(E=getDocumentElement(r),getComputedStyle$1(E).position!=="static"&&s==="absolute"&&(T="scrollHeight",k="scrollWidth")),E=E,i===top||(i===left||i===right)&&o===end){w=bottom;var D=m&&E===x&&x.visualViewport?x.visualViewport.height:E[T];S-=D-n.height,S*=l?1:-1}if(i===left||(i===top||i===bottom)&&o===end){u=right;var B=m&&E===x&&x.visualViewport?x.visualViewport.width:E[k];v-=B-n.width,v*=l?1:-1}}var A=Object.assign({position:s},c&&unsetSides),O=d===!0?roundOffsetsByDPR({x:v,y:S},getWindow(r)):{x:v,y:S};if(v=O.x,S=O.y,l){var V;return Object.assign({},A,(V={},V[w]=b?"0":"",V[u]=y?"0":"",V.transform=(x.devicePixelRatio||1)<=1?"translate("+v+"px, "+S+"px)":"translate3d("+v+"px, "+S+"px, 0)",V))}return Object.assign({},A,(t={},t[w]=b?S+"px":"",t[u]=y?v+"px":"",t.transform="",t))}function computeStyles(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,a=o===void 0?!0:o,s=r.roundOffsets,l=s===void 0?!0:s,c={placement:getBasePlacement(t.placement),variation:getVariation(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,mapToStyles(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,mapToStyles(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,o=i===void 0?!0:i,a=n.resize,s=a===void 0?!0:a,l=getWindow(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(d){d.addEventListener("scroll",r.update,passive)}),s&&l.addEventListener("resize",r.update,passive),function(){o&&c.forEach(function(d){d.removeEventListener("scroll",r.update,passive)}),s&&l.removeEventListener("resize",r.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function e(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(e){return e.replace(/left|right|bottom|top/g,function(t){return hash$1[t]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(e){return e.replace(/start|end/g,function(t){return hash[t]})}function getWindowScroll(e){var t=getWindow(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function getWindowScrollBarX(e){return getBoundingClientRect(getDocumentElement(e)).left+getWindowScroll(e).scrollLeft}function getViewportRect(e,t){var r=getWindow(e),n=getDocumentElement(e),i=r.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var c=isLayoutViewport();(c||!c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+getWindowScrollBarX(e),y:l}}function getDocumentRect(e){var t,r=getDocumentElement(e),n=getWindowScroll(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=max(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=max(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+getWindowScrollBarX(e),l=-n.scrollTop;return getComputedStyle$1(i||r).direction==="rtl"&&(s+=max(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function isScrollParent(e){var t=getComputedStyle$1(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function getScrollParent(e){return["html","body","#document"].indexOf(getNodeName(e))>=0?e.ownerDocument.body:isHTMLElement(e)&&isScrollParent(e)?e:getScrollParent(getParentNode(e))}function listScrollParents(e,t){var r;t===void 0&&(t=[]);var n=getScrollParent(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),o=getWindow(n),a=i?[o].concat(o.visualViewport||[],isScrollParent(n)?n:[]):n,s=t.concat(a);return i?s:s.concat(listScrollParents(getParentNode(a)))}function rectToClientRect(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function getInnerBoundingClientRect(e,t){var r=getBoundingClientRect(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function getClientRectFromMixedType(e,t,r){return t===viewport?rectToClientRect(getViewportRect(e,r)):isElement(t)?getInnerBoundingClientRect(t,r):rectToClientRect(getDocumentRect(getDocumentElement(e)))}function getClippingParents(e){var t=listScrollParents(getParentNode(e)),r=["absolute","fixed"].indexOf(getComputedStyle$1(e).position)>=0,n=r&&isHTMLElement(e)?getOffsetParent(e):e;return isElement(n)?t.filter(function(i){return isElement(i)&&contains(i,n)&&getNodeName(i)!=="body"}):[]}function getClippingRect(e,t,r,n){var i=t==="clippingParents"?getClippingParents(e):[].concat(t),o=[].concat(i,[r]),a=o[0],s=o.reduce(function(l,c){var d=getClientRectFromMixedType(e,c,n);return l.top=max(d.top,l.top),l.right=min(d.right,l.right),l.bottom=min(d.bottom,l.bottom),l.left=max(d.left,l.left),l},getClientRectFromMixedType(e,a,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function computeOffsets(e){var t=e.reference,r=e.element,n=e.placement,i=n?getBasePlacement(n):null,o=n?getVariation(n):null,a=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,l;switch(i){case top:l={x:a,y:t.y-r.height};break;case bottom:l={x:a,y:t.y+t.height};break;case right:l={x:t.x+t.width,y:s};break;case left:l={x:t.x-r.width,y:s};break;default:l={x:t.x,y:t.y}}var c=i?getMainAxisFromPlacement(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(o){case start:l[c]=l[c]-(t[d]/2-r[d]/2);break;case end:l[c]=l[c]+(t[d]/2-r[d]/2);break}}return l}function detectOverflow(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,o=r.strategy,a=o===void 0?e.strategy:o,s=r.boundary,l=s===void 0?clippingParents:s,c=r.rootBoundary,d=c===void 0?viewport:c,m=r.elementContext,g=m===void 0?popper:m,v=r.altBoundary,_=v===void 0?!1:v,S=r.padding,C=S===void 0?0:S,y=mergePaddingObject(typeof C!="number"?C:expandToHashMap(C,basePlacements)),b=g===popper?reference:popper,u=e.rects.popper,w=e.elements[_?b:g],x=getClippingRect(isElement(w)?w:w.contextElement||getDocumentElement(e.elements.popper),l,d,a),E=getBoundingClientRect(e.elements.reference),T=computeOffsets({reference:E,element:u,placement:i}),k=rectToClientRect(Object.assign({},u,T)),D=g===popper?k:E,B={top:x.top-D.top+y.top,bottom:D.bottom-x.bottom+y.bottom,left:x.left-D.left+y.left,right:D.right-x.right+y.right},A=e.modifiersData.offset;if(g===popper&&A){var O=A[i];Object.keys(B).forEach(function(V){var H=[right,bottom].indexOf(V)>=0?1:-1,q=[top,bottom].indexOf(V)>=0?"y":"x";B[V]+=O[q]*H})}return B}function computeAutoPlacement(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,a=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?placements:l,d=getVariation(n),m=d?s?variationPlacements:variationPlacements.filter(function(_){return getVariation(_)===d}):basePlacements,g=m.filter(function(_){return c.indexOf(_)>=0});g.length===0&&(g=m);var v=g.reduce(function(_,S){return _[S]=detectOverflow(e,{placement:S,boundary:i,rootBoundary:o,padding:a})[getBasePlacement(S)],_},{});return Object.keys(v).sort(function(_,S){return v[_]-v[S]})}function getExpandedFallbackPlacements(e){if(getBasePlacement(e)===auto)return[];var t=getOppositePlacement(e);return[getOppositeVariationPlacement(e),t,getOppositeVariationPlacement(t)]}function flip(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!0:a,l=r.fallbackPlacements,c=r.padding,d=r.boundary,m=r.rootBoundary,g=r.altBoundary,v=r.flipVariations,_=v===void 0?!0:v,S=r.allowedAutoPlacements,C=t.options.placement,y=getBasePlacement(C),b=y===C,u=l||(b||!_?[getOppositePlacement(C)]:getExpandedFallbackPlacements(C)),w=[C].concat(u).reduce(function(ue,he){return ue.concat(getBasePlacement(he)===auto?computeAutoPlacement(t,{placement:he,boundary:d,rootBoundary:m,padding:c,flipVariations:_,allowedAutoPlacements:S}):he)},[]),x=t.rects.reference,E=t.rects.popper,T=new Map,k=!0,D=w[0],B=0;B<w.length;B++){var A=w[B],O=getBasePlacement(A),V=getVariation(A)===start,H=[top,bottom].indexOf(O)>=0,q=H?"width":"height",K=detectOverflow(t,{placement:A,boundary:d,rootBoundary:m,altBoundary:g,padding:c}),Q=H?V?right:left:V?bottom:top;x[q]>E[q]&&(Q=getOppositePlacement(Q));var X=getOppositePlacement(Q),N=[];if(o&&N.push(K[O]<=0),s&&N.push(K[Q]<=0,K[X]<=0),N.every(function(ue){return ue})){D=A,k=!1;break}T.set(A,N)}if(k)for(var I=_?3:1,U=function(he){var ve=w.find(function(j){var M=T.get(j);if(M)return M.slice(0,he).every(function(ne){return ne})});if(ve)return D=ve,"break"},F=I;F>0;F--){var ee=U(F);if(ee==="break")break}t.placement!==D&&(t.modifiersData[n]._skip=!0,t.placement=D,t.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function isAnySideFullyClipped(e){return[top,right,bottom,left].some(function(t){return e[t]>=0})}function hide(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=detectOverflow(t,{elementContext:"reference"}),s=detectOverflow(t,{altBoundary:!0}),l=getSideOffsets(a,n),c=getSideOffsets(s,i,o),d=isAnySideFullyClipped(l),m=isAnySideFullyClipped(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":m})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(e,t,r){var n=getBasePlacement(e),i=[left,top].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[left,right].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}function offset(e){var t=e.state,r=e.options,n=e.name,i=r.offset,o=i===void 0?[0,0]:i,a=placements.reduce(function(d,m){return d[m]=distanceAndSkiddingToXY(m,t.rects,o),d},{}),s=a[t.placement],l=s.x,c=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=a}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(e){var t=e.state,r=e.name;t.modifiersData[r]=computeOffsets({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(e){return e==="x"?"y":"x"}function preventOverflow(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!1:a,l=r.boundary,c=r.rootBoundary,d=r.altBoundary,m=r.padding,g=r.tether,v=g===void 0?!0:g,_=r.tetherOffset,S=_===void 0?0:_,C=detectOverflow(t,{boundary:l,rootBoundary:c,padding:m,altBoundary:d}),y=getBasePlacement(t.placement),b=getVariation(t.placement),u=!b,w=getMainAxisFromPlacement(y),x=getAltAxis(w),E=t.modifiersData.popperOffsets,T=t.rects.reference,k=t.rects.popper,D=typeof S=="function"?S(Object.assign({},t.rects,{placement:t.placement})):S,B=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,O={x:0,y:0};if(E){if(o){var V,H=w==="y"?top:left,q=w==="y"?bottom:right,K=w==="y"?"height":"width",Q=E[w],X=Q+C[H],N=Q-C[q],I=v?-k[K]/2:0,U=b===start?T[K]:k[K],F=b===start?-k[K]:-T[K],ee=t.elements.arrow,ue=v&&ee?getLayoutRect(ee):{width:0,height:0},he=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:getFreshSideObject(),ve=he[H],j=he[q],M=within(0,T[K],ue[K]),ne=u?T[K]/2-I-M-ve-B.mainAxis:U-M-ve-B.mainAxis,Y=u?-T[K]/2+I+M+j+B.mainAxis:F+M+j+B.mainAxis,de=t.elements.arrow&&getOffsetParent(t.elements.arrow),L=de?w==="y"?de.clientTop||0:de.clientLeft||0:0,W=(V=A==null?void 0:A[w])!=null?V:0,J=Q+ne-W-L,ae=Q+Y-W,me=within(v?min(X,J):X,Q,v?max(N,ae):N);E[w]=me,O[w]=me-Q}if(s){var oe,_e=w==="x"?top:left,pe=w==="x"?bottom:right,se=E[x],ce=x==="y"?"height":"width",ye=se+C[_e],be=se-C[pe],xe=[top,left].indexOf(y)!==-1,ke=(oe=A==null?void 0:A[x])!=null?oe:0,Te=xe?ye:se-T[ce]-k[ce]-ke+B.altAxis,z=xe?se+T[ce]+k[ce]-ke-B.altAxis:be,R=v&&xe?withinMaxClamp(Te,se,z):within(v?Te:ye,se,v?z:be);E[x]=R,O[x]=R-se}t.modifiersData[n]=O}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function getNodeScroll(e){return e===getWindow(e)||!isHTMLElement(e)?getWindowScroll(e):getHTMLElementScroll(e)}function isElementScaled(e){var t=e.getBoundingClientRect(),r=round(t.width)/e.offsetWidth||1,n=round(t.height)/e.offsetHeight||1;return r!==1||n!==1}function getCompositeRect(e,t,r){r===void 0&&(r=!1);var n=isHTMLElement(t),i=isHTMLElement(t)&&isElementScaled(t),o=getDocumentElement(t),a=getBoundingClientRect(e,i,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((getNodeName(t)!=="body"||isScrollParent(o))&&(s=getNodeScroll(t)),isHTMLElement(t)?(l=getBoundingClientRect(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=getWindowScrollBarX(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function order(e){var t=new Map,r=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function i(o){r.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!r.has(s)){var l=t.get(s);l&&i(l)}}),n.push(o)}return e.forEach(function(o){r.has(o.name)||i(o)}),n}function orderModifiers(e){var t=order(e);return modifierPhases.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function debounce(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function mergeByName(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function popperGenerator(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,o=i===void 0?DEFAULT_OPTIONS:i;return function(s,l,c){c===void 0&&(c=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},m=[],g=!1,v={state:d,setOptions:function(y){var b=typeof y=="function"?y(d.options):y;S(),d.options=Object.assign({},o,d.options,b),d.scrollParents={reference:isElement(s)?listScrollParents(s):s.contextElement?listScrollParents(s.contextElement):[],popper:listScrollParents(l)};var u=orderModifiers(mergeByName([].concat(n,d.options.modifiers)));return d.orderedModifiers=u.filter(function(w){return w.enabled}),_(),v.update()},forceUpdate:function(){if(!g){var y=d.elements,b=y.reference,u=y.popper;if(areValidElements(b,u)){d.rects={reference:getCompositeRect(b,getOffsetParent(u),d.options.strategy==="fixed"),popper:getLayoutRect(u)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(B){return d.modifiersData[B.name]=Object.assign({},B.data)});for(var w=0;w<d.orderedModifiers.length;w++){if(d.reset===!0){d.reset=!1,w=-1;continue}var x=d.orderedModifiers[w],E=x.fn,T=x.options,k=T===void 0?{}:T,D=x.name;typeof E=="function"&&(d=E({state:d,options:k,name:D,instance:v})||d)}}}},update:debounce(function(){return new Promise(function(C){v.forceUpdate(),C(d)})}),destroy:function(){S(),g=!0}};if(!areValidElements(s,l))return v;v.setOptions(c).then(function(C){!g&&c.onFirstUpdate&&c.onFirstUpdate(C)});function _(){d.orderedModifiers.forEach(function(C){var y=C.name,b=C.options,u=b===void 0?{}:b,w=C.effect;if(typeof w=="function"){var x=w({state:d,name:y,instance:v,options:u}),E=function(){};m.push(x||E)}})}function S(){m.forEach(function(C){return C()}),m=[]}return v}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers}),__defProp=Object.defineProperty,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__publicField=(e,t,r)=>(__defNormalProp(e,typeof t!="symbol"?t+"":t,r),r),commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var objectProto$g=Object.prototype,hasOwnProperty$d=objectProto$g.hasOwnProperty;function baseHas$1(e,t){return e!=null&&hasOwnProperty$d.call(e,t)}var _baseHas=baseHas$1,isArray$c=Array.isArray,isArray_1=isArray$c,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$8=freeGlobal||freeSelf||Function("return this")(),_root=root$8,root$7=_root,Symbol$5=root$7.Symbol,_Symbol=Symbol$5,Symbol$4=_Symbol,objectProto$f=Object.prototype,hasOwnProperty$c=objectProto$f.hasOwnProperty,nativeObjectToString$1=objectProto$f.toString,symToStringTag$1=Symbol$4?Symbol$4.toStringTag:void 0;function getRawTag$1(e){var t=hasOwnProperty$c.call(e,symToStringTag$1),r=e[symToStringTag$1];try{e[symToStringTag$1]=void 0;var n=!0}catch{}var i=nativeObjectToString$1.call(e);return n&&(t?e[symToStringTag$1]=r:delete e[symToStringTag$1]),i}var _getRawTag=getRawTag$1,objectProto$e=Object.prototype,nativeObjectToString=objectProto$e.toString;function objectToString$1(e){return nativeObjectToString.call(e)}var _objectToString=objectToString$1,Symbol$3=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$3?Symbol$3.toStringTag:void 0;function baseGetTag$a(e){return e==null?e===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString(e)}var _baseGetTag=baseGetTag$a;function isObjectLike$b(e){return e!=null&&typeof e=="object"}var isObjectLike_1=isObjectLike$b,baseGetTag$9=_baseGetTag,isObjectLike$a=isObjectLike_1,symbolTag$1="[object Symbol]";function isSymbol$3(e){return typeof e=="symbol"||isObjectLike$a(e)&&baseGetTag$9(e)==symbolTag$1}var isSymbol_1=isSymbol$3,isArray$b=isArray_1,isSymbol$2=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(e,t){if(isArray$b(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||isSymbol$2(e)?!0:reIsPlainProp.test(e)||!reIsDeepProp.test(e)||t!=null&&e in Object(t)}var _isKey=isKey$3;function isObject$a(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var isObject_1=isObject$a,baseGetTag$8=_baseGetTag,isObject$9=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$3(e){if(!isObject$9(e))return!1;var t=baseGetTag$8(e);return t==funcTag$1||t==genTag||t==asyncTag||t==proxyTag}var isFunction_1=isFunction$3,root$6=_root,coreJsData$1=root$6["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked$1(e){return!!maskSrcKey&&maskSrcKey in e}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2(e){if(e!=null){try{return funcToString$2.call(e)}catch{}try{return e+""}catch{}}return""}var _toSource=toSource$2,isFunction$2=isFunction_1,isMasked=_isMasked,isObject$8=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$d=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$b=objectProto$d.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$b).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(e){if(!isObject$8(e)||isMasked(e))return!1;var t=isFunction$2(e)?reIsNative:reIsHostCtor;return t.test(toSource$1(e))}var _baseIsNative=baseIsNative$1;function getValue$1(e,t){return e==null?void 0:e[t]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(e,t){var r=getValue(e,t);return baseIsNative(r)?r:void 0}var _getNative=getNative$7,getNative$6=_getNative,nativeCreate$4=getNative$6(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty;function hashGet$1(e){var t=this.__data__;if(nativeCreate$2){var r=t[e];return r===HASH_UNDEFINED$2?void 0:r}return hasOwnProperty$a.call(t,e)?t[e]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty;function hashHas$1(e){var t=this.__data__;return nativeCreate$1?t[e]!==void 0:hasOwnProperty$9.call(t,e)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nativeCreate&&t===void 0?HASH_UNDEFINED$1:t,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$6(e,t){return e===t||e!==e&&t!==t}var eq_1=eq$6,eq$5=eq_1;function assocIndexOf$4(e,t){for(var r=e.length;r--;)if(eq$5(e[r][0],t))return r;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(e){var t=this.__data__,r=assocIndexOf$3(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():splice.call(t,r,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(e){var t=this.__data__,r=assocIndexOf$2(t,e);return r<0?void 0:t[r][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(e){return assocIndexOf$1(this.__data__,e)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(e,t){var r=this.__data__,n=assocIndexOf(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,getNative$5=_getNative,root$5=_root,Map$3=getNative$5(root$5,"Map"),_Map=Map$3,Hash=_Hash,ListCache$3=_ListCache,Map$2=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache$3),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(e,t){var r=e.__data__;return isKeyable(t)?r[typeof t=="string"?"string":"hash"]:r.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(e){var t=getMapData$3(this,e).delete(e);return this.size-=t?1:0,t}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(e){return getMapData$2(this,e).get(e)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(e){return getMapData$1(this,e).has(e)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(e,t){var r=getMapData(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,MapCache$2=_MapCache,FUNC_ERROR_TEXT="Expected a function";function memoize$1(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(memoize$1.Cache||MapCache$2),r}memoize$1.Cache=MapCache$2;var memoize_1=memoize$1,memoize=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(e){var t=memoize(e,function(n){return r.size===MAX_MEMOIZE_SIZE&&r.clear(),n}),r=t.cache;return t}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(rePropName,function(r,n,i,o){t.push(i?o.replace(reEscapeChar,"$1"):n||r)}),t}),_stringToPath=stringToPath$1;function arrayMap$1(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var _arrayMap=arrayMap$1,Symbol$2=_Symbol,arrayMap=_arrayMap,isArray$a=isArray_1,isSymbol$1=isSymbol_1,symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(e){if(typeof e=="string")return e;if(isArray$a(e))return arrayMap(e,baseToString$1)+"";if(isSymbol$1(e))return symbolToString?symbolToString.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$1(e){return e==null?"":baseToString(e)}var toString_1=toString$1,isArray$9=isArray_1,isKey$2=_isKey,stringToPath=_stringToPath,toString=toString_1;function castPath$2(e,t){return isArray$9(e)?e:isKey$2(e,t)?[e]:stringToPath(toString(e))}var _castPath=castPath$2,baseGetTag$7=_baseGetTag,isObjectLike$9=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(e){return isObjectLike$9(e)&&baseGetTag$7(e)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$8=isObjectLike_1,objectProto$a=Object.prototype,hasOwnProperty$8=objectProto$a.hasOwnProperty,propertyIsEnumerable$1=objectProto$a.propertyIsEnumerable,isArguments$3=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike$8(e)&&hasOwnProperty$8.call(e,"callee")&&!propertyIsEnumerable$1.call(e,"callee")},isArguments_1=isArguments$3,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$3(e,t){var r=typeof e;return t=t??MAX_SAFE_INTEGER$1,!!t&&(r=="number"||r!="symbol"&&reIsUint.test(e))&&e>-1&&e%1==0&&e<t}var _isIndex=isIndex$3,MAX_SAFE_INTEGER=9007199254740991;function isLength$3(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}var isLength_1=isLength$3,isSymbol=isSymbol_1;function toKey$4(e){if(typeof e=="string"||isSymbol(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var _toKey=toKey$4,castPath$1=_castPath,isArguments$2=isArguments_1,isArray$8=isArray_1,isIndex$2=_isIndex,isLength$2=isLength_1,toKey$3=_toKey;function hasPath$2(e,t,r){t=castPath$1(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var a=toKey$3(t[n]);if(!(o=e!=null&&r(e,a)))break;e=e[a]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&isLength$2(i)&&isIndex$2(a,i)&&(isArray$8(e)||isArguments$2(e)))}var _hasPath=hasPath$2,baseHas=_baseHas,hasPath$1=_hasPath;function has$1(e,t){return e!=null&&hasPath$1(e,t,baseHas)}var has_1=has$1,baseGetTag$6=_baseGetTag,isObjectLike$7=isObjectLike_1,dateTag$2="[object Date]";function baseIsDate$1(e){return isObjectLike$7(e)&&baseGetTag$6(e)==dateTag$2}var _baseIsDate=baseIsDate$1;function baseUnary$2(e){return function(t){return e(t)}}var _baseUnary=baseUnary$2,_nodeUtilExports={},_nodeUtil={get exports(){return _nodeUtilExports},set exports(e){_nodeUtilExports=e}};(function(e,t){var r=_freeGlobal,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,a=o&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s})(_nodeUtil,_nodeUtilExports);var baseIsDate=_baseIsDate,baseUnary$1=_baseUnary,nodeUtil$1=_nodeUtilExports,nodeIsDate=nodeUtil$1&&nodeUtil$1.isDate,isDate$1=nodeIsDate?baseUnary$1(nodeIsDate):baseIsDate,isDate_1=isDate$1,baseGetTag$5=_baseGetTag,isArray$7=isArray_1,isObjectLike$6=isObjectLike_1,stringTag$2="[object String]";function isString(e){return typeof e=="string"||!isArray$7(e)&&isObjectLike$6(e)&&baseGetTag$5(e)==stringTag$2}var isString_1=isString;function arraySome$2(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var _arraySome=arraySome$2,ListCache$2=_ListCache;function stackClear$1(){this.__data__=new ListCache$2,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var _stackDelete=stackDelete$1;function stackGet$1(e){return this.__data__.get(e)}var _stackGet=stackGet$1;function stackHas$1(e){return this.__data__.has(e)}var _stackHas=stackHas$1,ListCache$1=_ListCache,Map$1=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(e,t){var r=this.__data__;if(r instanceof ListCache$1){var n=r.__data__;if(!Map$1||n.length<LARGE_ARRAY_SIZE-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new MapCache$1(n)}return r.set(e,t),this.size=r.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$3(e){var t=this.__data__=new ListCache(e);this.size=t.size}Stack$3.prototype.clear=stackClear;Stack$3.prototype.delete=stackDelete;Stack$3.prototype.get=stackGet;Stack$3.prototype.has=stackHas;Stack$3.prototype.set=stackSet;var _Stack=Stack$3,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(e){return this.__data__.set(e,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(e){return this.__data__.has(e)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$1(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new MapCache;++t<r;)this.add(e[t])}SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd;SetCache$1.prototype.has=setCacheHas;var _SetCache=SetCache$1;function cacheHas$1(e,t){return e.has(t)}var _cacheHas=cacheHas$1,SetCache=_SetCache,arraySome$1=_arraySome,cacheHas=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(e,t,r,n,i,o){var a=r&COMPARE_PARTIAL_FLAG$5,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e),d=o.get(t);if(c&&d)return c==t&&d==e;var m=-1,g=!0,v=r&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(o.set(e,t),o.set(t,e);++m<s;){var _=e[m],S=t[m];if(n)var C=a?n(S,_,m,t,e,o):n(_,S,m,e,t,o);if(C!==void 0){if(C)continue;g=!1;break}if(v){if(!arraySome$1(t,function(y,b){if(!cacheHas(v,b)&&(_===y||i(_,y,r,n,o)))return v.push(b)})){g=!1;break}}else if(!(_===S||i(_,S,r,n,o))){g=!1;break}}return o.delete(e),o.delete(t),g}var _equalArrays=equalArrays$2,root$4=_root,Uint8Array$2=root$4.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var _mapToArray=mapToArray$1;function setToArray$1(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var _setToArray=setToArray$1,Symbol$1=_Symbol,Uint8Array$1=_Uint8Array,eq$4=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$2="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$2="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(e,t,r,n,i,o,a){switch(r){case dataViewTag$2:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case arrayBufferTag$1:return!(e.byteLength!=t.byteLength||!o(new Uint8Array$1(e),new Uint8Array$1(t)));case boolTag$2:case dateTag$1:case numberTag$2:return eq$4(+e,+t);case errorTag$1:return e.name==t.name&&e.message==t.message;case regexpTag$1:case stringTag$1:return e==t+"";case mapTag$2:var s=mapToArray;case setTag$2:var l=n&COMPARE_PARTIAL_FLAG$4;if(s||(s=setToArray),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;n|=COMPARE_UNORDERED_FLAG$2,a.set(e,t);var d=equalArrays$1(s(e),s(t),n,i,o,a);return a.delete(e),d;case symbolTag:if(symbolValueOf)return symbolValueOf.call(e)==symbolValueOf.call(t)}return!1}var _equalByTag=equalByTag$1;function arrayPush$1(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var _arrayPush=arrayPush$1,arrayPush=_arrayPush,isArray$6=isArray_1;function baseGetAllKeys$1(e,t,r){var n=t(e);return isArray$6(e)?n:arrayPush(n,r(e))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$9=Object.prototype,propertyIsEnumerable=objectProto$9.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(e){return e==null?[]:(e=Object(e),arrayFilter(nativeGetSymbols(e),function(t){return propertyIsEnumerable.call(e,t)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var _baseTimes=baseTimes$1,isBufferExports={},isBuffer$3={get exports(){return isBufferExports},set exports(e){isBufferExports=e}};function stubFalse(){return!1}var stubFalse_1=stubFalse;(function(e,t){var r=_root,n=stubFalse_1,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(isBuffer$3,isBufferExports);var baseGetTag$4=_baseGetTag,isLength$1=isLength_1,isObjectLike$5=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag$1="[object Number]",objectTag$3="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag$1]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(e){return isObjectLike$5(e)&&isLength$1(e.length)&&!!typedArrayTags[baseGetTag$4(e)]}var _baseIsTypedArray=baseIsTypedArray$1,baseIsTypedArray=_baseIsTypedArray,baseUnary=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$3=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$3,baseTimes=_baseTimes,isArguments$1=isArguments_1,isArray$5=isArray_1,isBuffer$2=isBufferExports,isIndex$1=_isIndex,isTypedArray$2=isTypedArray_1,objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function arrayLikeKeys$2(e,t){var r=isArray$5(e),n=!r&&isArguments$1(e),i=!r&&!n&&isBuffer$2(e),o=!r&&!n&&!i&&isTypedArray$2(e),a=r||n||i||o,s=a?baseTimes(e.length,String):[],l=s.length;for(var c in e)(t||hasOwnProperty$7.call(e,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||isIndex$1(c,l)))&&s.push(c);return s}var _arrayLikeKeys=arrayLikeKeys$2,objectProto$7=Object.prototype;function isPrototype$3(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||objectProto$7;return e===r}var _isPrototype=isPrototype$3;function overArg$2(e,t){return function(r){return e(t(r))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype$2=_isPrototype,nativeKeys=_nativeKeys,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function baseKeys$1(e){if(!isPrototype$2(e))return nativeKeys(e);var t=[];for(var r in Object(e))hasOwnProperty$6.call(e,r)&&r!="constructor"&&t.push(r);return t}var _baseKeys=baseKeys$1,isFunction$1=isFunction_1,isLength=isLength_1;function isArrayLike$5(e){return e!=null&&isLength(e.length)&&!isFunction$1(e)}var isArrayLike_1=isArrayLike$5,arrayLikeKeys$1=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$4=isArrayLike_1;function keys$3(e){return isArrayLike$4(e)?arrayLikeKeys$1(e):baseKeys(e)}var keys_1=keys$3,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$2=keys_1;function getAllKeys$1(e){return baseGetAllKeys(e,keys$2,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function equalObjects$1(e,t,r,n,i,o){var a=r&COMPARE_PARTIAL_FLAG$3,s=getAllKeys(e),l=s.length,c=getAllKeys(t),d=c.length;if(l!=d&&!a)return!1;for(var m=l;m--;){var g=s[m];if(!(a?g in t:hasOwnProperty$5.call(t,g)))return!1}var v=o.get(e),_=o.get(t);if(v&&_)return v==t&&_==e;var S=!0;o.set(e,t),o.set(t,e);for(var C=a;++m<l;){g=s[m];var y=e[g],b=t[g];if(n)var u=a?n(b,y,g,t,e,o):n(y,b,g,e,t,o);if(!(u===void 0?y===b||i(y,b,r,n,o):u)){S=!1;break}C||(C=g=="constructor")}if(S&&!C){var w=e.constructor,x=t.constructor;w!=x&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof x=="function"&&x instanceof x)&&(S=!1)}return o.delete(e),o.delete(t),S}var _equalObjects=equalObjects$1,getNative$4=_getNative,root$3=_root,DataView$1=getNative$4(root$3,"DataView"),_DataView=DataView$1,getNative$3=_getNative,root$2=_root,Promise$2=getNative$3(root$2,"Promise"),_Promise=Promise$2,getNative$2=_getNative,root$1=_root,Set$1=getNative$2(root$1,"Set"),_Set=Set$1,getNative$1=_getNative,root=_root,WeakMap$1=getNative$1(root,"WeakMap"),_WeakMap=WeakMap$1,DataView$2=_DataView,Map$4=_Map,Promise$1=_Promise,Set$2=_Set,WeakMap$2=_WeakMap,baseGetTag$3=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$2),mapCtorString=toSource(Map$4),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$2),getTag$1=baseGetTag$3;(DataView$2&&getTag$1(new DataView$2(new ArrayBuffer(1)))!=dataViewTag||Map$4&&getTag$1(new Map$4)!=mapTag||Promise$1&&getTag$1(Promise$1.resolve())!=promiseTag||Set$2&&getTag$1(new Set$2)!=setTag||WeakMap$2&&getTag$1(new WeakMap$2)!=weakMapTag)&&(getTag$1=function(e){var t=baseGetTag$3(e),r=t==objectTag$2?e.constructor:void 0,n=r?toSource(r):"";if(n)switch(n){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return t});var _getTag=getTag$1,Stack$2=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag=_getTag,isArray$4=isArray_1,isBuffer$1=isBufferExports,isTypedArray$1=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag$1="[object Object]",objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function baseIsEqualDeep$1(e,t,r,n,i,o){var a=isArray$4(e),s=isArray$4(t),l=a?arrayTag:getTag(e),c=s?arrayTag:getTag(t);l=l==argsTag?objectTag$1:l,c=c==argsTag?objectTag$1:c;var d=l==objectTag$1,m=c==objectTag$1,g=l==c;if(g&&isBuffer$1(e)){if(!isBuffer$1(t))return!1;a=!0,d=!1}if(g&&!d)return o||(o=new Stack$2),a||isTypedArray$1(e)?equalArrays(e,t,r,n,i,o):equalByTag(e,t,l,r,n,i,o);if(!(r&COMPARE_PARTIAL_FLAG$2)){var v=d&&hasOwnProperty$4.call(e,"__wrapped__"),_=m&&hasOwnProperty$4.call(t,"__wrapped__");if(v||_){var S=v?e.value():e,C=_?t.value():t;return o||(o=new Stack$2),i(S,C,r,n,o)}}return g?(o||(o=new Stack$2),equalObjects(e,t,r,n,i,o)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$4=isObjectLike_1;function baseIsEqual$2(e,t,r,n,i){return e===t?!0:e==null||t==null||!isObjectLike$4(e)&&!isObjectLike$4(t)?e!==e&&t!==t:baseIsEqualDeep(e,t,r,n,baseIsEqual$2,i)}var _baseIsEqual=baseIsEqual$2,Stack$1=_Stack,baseIsEqual$1=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(e,t,r,n){var i=r.length,o=i,a=!n;if(e==null)return!o;for(e=Object(e);i--;){var s=r[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=r[i];var l=s[0],c=e[l],d=s[1];if(a&&s[2]){if(c===void 0&&!(l in e))return!1}else{var m=new Stack$1;if(n)var g=n(c,d,l,e,t,m);if(!(g===void 0?baseIsEqual$1(d,c,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,n,m):g))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$7=isObject_1;function isStrictComparable$2(e){return e===e&&!isObject$7(e)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$1=keys_1;function getMatchData$1(e){for(var t=keys$1(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,isStrictComparable$1(i)]}return t}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(e){var t=getMatchData(e);return t.length==1&&t[0][2]?matchesStrictComparable$1(t[0][0],t[0][1]):function(r){return r===e||baseIsMatch(r,e,t)}}var _baseMatches=baseMatches$1,castPath=_castPath,toKey$2=_toKey;function baseGet$2(e,t){t=castPath(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[toKey$2(t[r++])];return r&&r==n?e:void 0}var _baseGet=baseGet$2,baseGet$1=_baseGet;function get$1(e,t,r){var n=e==null?void 0:baseGet$1(e,t);return n===void 0?r:n}var get_1=get$1;function baseHasIn$1(e,t){return e!=null&&t in Object(e)}var _baseHasIn=baseHasIn$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(e,t){return e!=null&&hasPath(e,t,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual=_baseIsEqual,get=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(e,t){return isKey$1(e)&&isStrictComparable(t)?matchesStrictComparable(toKey$1(e),t):function(r){var n=get(r,e);return n===void 0&&n===t?hasIn(r,e):baseIsEqual(t,n,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$3(e){return e}var identity_1=identity$3;function baseProperty$1(e){return function(t){return t==null?void 0:t[e]}}var _baseProperty=baseProperty$1,baseGet=_baseGet;function basePropertyDeep$1(e){return function(t){return baseGet(t,e)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey=_toKey;function property$1(e){return isKey(e)?baseProperty(toKey(e)):basePropertyDeep(e)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$2=identity_1,isArray$3=isArray_1,property=property_1;function baseIteratee$2(e){return typeof e=="function"?e:e==null?identity$2:typeof e=="object"?isArray$3(e)?baseMatchesProperty(e[0],e[1]):baseMatches(e):property(e)}var _baseIteratee=baseIteratee$2;function createBaseFor$1(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var l=a[e?s:++i];if(r(o[l],l,o)===!1)break}return t}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$2=createBaseFor(),_baseFor=baseFor$2,baseFor$1=_baseFor,keys=keys_1;function baseForOwn$2(e,t){return e&&baseFor$1(e,t,keys)}var _baseForOwn=baseForOwn$2,isArrayLike$3=isArrayLike_1;function createBaseEach$1(e,t){return function(r,n){if(r==null)return r;if(!isArrayLike$3(r))return e(r,n);for(var i=r.length,o=t?i:-1,a=Object(r);(t?o--:++o<i)&&n(a[o],o,a)!==!1;);return r}}var _createBaseEach=createBaseEach$1,baseForOwn$1=_baseForOwn,createBaseEach=_createBaseEach,baseEach$1=createBaseEach(baseForOwn$1),_baseEach=baseEach$1,baseEach=_baseEach;function baseSome$1(e,t){var r;return baseEach(e,function(n,i,o){return r=t(n,i,o),!r}),!!r}var _baseSome=baseSome$1,eq$3=eq_1,isArrayLike$2=isArrayLike_1,isIndex=_isIndex,isObject$6=isObject_1;function isIterateeCall$3(e,t,r){if(!isObject$6(r))return!1;var n=typeof t;return(n=="number"?isArrayLike$2(r)&&isIndex(t,r.length):n=="string"&&t in r)?eq$3(r[t],e):!1}var _isIterateeCall=isIterateeCall$3,arraySome=_arraySome,baseIteratee$1=_baseIteratee,baseSome=_baseSome,isArray$2=isArray_1,isIterateeCall$2=_isIterateeCall;function some(e,t,r){var n=isArray$2(e)?arraySome:baseSome;return r&&isIterateeCall$2(e,t,r)&&(t=void 0),n(e,baseIteratee$1(t))}var some_1=some,baseGetTag$2=_baseGetTag,isObjectLike$3=isObjectLike_1,boolTag="[object Boolean]";function isBoolean(e){return e===!0||e===!1||isObjectLike$3(e)&&baseGetTag$2(e)==boolTag}var isBoolean_1=isBoolean,baseGetTag$1=_baseGetTag,isObjectLike$2=isObjectLike_1,numberTag="[object Number]";function isNumber(e){return typeof e=="number"||isObjectLike$2(e)&&baseGetTag$1(e)==numberTag}var isNumber_1=isNumber,getNative=_getNative,defineProperty$2=function(){try{var e=getNative(Object,"defineProperty");return e({},"",{}),e}catch{}}(),_defineProperty=defineProperty$2,defineProperty$1=_defineProperty;function baseAssignValue$4(e,t,r){t=="__proto__"&&defineProperty$1?defineProperty$1(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var _baseAssignValue=baseAssignValue$4,baseAssignValue$3=_baseAssignValue,eq$2=eq_1,objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function assignValue$1(e,t,r){var n=e[t];(!(hasOwnProperty$3.call(e,t)&&eq$2(n,r))||r===void 0&&!(t in e))&&baseAssignValue$3(e,t,r)}var _assignValue=assignValue$1,baseAssignValue$2=_baseAssignValue,baseForOwn=_baseForOwn,baseIteratee=_baseIteratee;function mapValues(e,t){var r={};return t=baseIteratee(t),baseForOwn(e,function(n,i,o){baseAssignValue$2(r,i,t(n,i,o))}),r}var mapValues_1=mapValues;function apply$2(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var _apply=apply$2,apply$1=_apply,nativeMax=Math.max;function overRest$1(e,t,r){return t=nativeMax(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=nativeMax(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),apply$1(e,this,s)}}var _overRest=overRest$1;function constant$1(e){return function(){return e}}var constant_1=constant$1,constant=constant_1,defineProperty=_defineProperty,identity$1=identity_1,baseSetToString$1=defineProperty?function(e,t){return defineProperty(e,"toString",{configurable:!0,enumerable:!1,value:constant(t),writable:!0})}:identity$1,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(e){var t=0,r=0;return function(){var n=nativeNow(),i=HOT_SPAN-(n-r);if(r=n,i>0){if(++t>=HOT_COUNT)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$1=shortOut(baseSetToString),_setToString=setToString$1,identity=identity_1,overRest=_overRest,setToString=_setToString;function baseRest$3(e,t){return setToString(overRest(e,t,identity),e+"")}var _baseRest=baseRest$3;function nativeKeysIn$1(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var _nativeKeysIn=nativeKeysIn$1,isObject$5=isObject_1,isPrototype$1=_isPrototype,nativeKeysIn=_nativeKeysIn,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeysIn$1(e){if(!isObject$5(e))return nativeKeysIn(e);var t=isPrototype$1(e),r=[];for(var n in e)n=="constructor"&&(t||!hasOwnProperty$2.call(e,n))||r.push(n);return r}var _baseKeysIn=baseKeysIn$1,arrayLikeKeys=_arrayLikeKeys,baseKeysIn=_baseKeysIn,isArrayLike$1=isArrayLike_1;function keysIn$3(e){return isArrayLike$1(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}var keysIn_1=keysIn$3,baseRest$2=_baseRest,eq$1=eq_1,isIterateeCall$1=_isIterateeCall,keysIn$2=keysIn_1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty,defaults=baseRest$2(function(e,t){e=Object(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&isIterateeCall$1(t[0],t[1],i)&&(n=1);++r<n;)for(var o=t[r],a=keysIn$2(o),s=-1,l=a.length;++s<l;){var c=a[s],d=e[c];(d===void 0||eq$1(d,objectProto$1[c])&&!hasOwnProperty$1.call(e,c))&&(e[c]=o[c])}return e}),defaults_1=defaults,baseAssignValue$1=_baseAssignValue,eq=eq_1;function assignMergeValue$2(e,t,r){(r!==void 0&&!eq(e[t],r)||r===void 0&&!(t in e))&&baseAssignValue$1(e,t,r)}var _assignMergeValue=assignMergeValue$2,_cloneBufferExports={},_cloneBuffer={get exports(){return _cloneBufferExports},set exports(e){_cloneBufferExports=e}};(function(e,t){var r=_root,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,a=o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;function l(c,d){if(d)return c.slice();var m=c.length,g=s?s(m):new c.constructor(m);return c.copy(g),g}e.exports=l})(_cloneBuffer,_cloneBufferExports);var Uint8Array2=_Uint8Array;function cloneArrayBuffer$1(e){var t=new e.constructor(e.byteLength);return new Uint8Array2(t).set(new Uint8Array2(e)),t}var _cloneArrayBuffer=cloneArrayBuffer$1,cloneArrayBuffer=_cloneArrayBuffer;function cloneTypedArray$1(e,t){var r=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var _cloneTypedArray=cloneTypedArray$1;function copyArray$1(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var _copyArray=copyArray$1,isObject$4=isObject_1,objectCreate=Object.create,baseCreate$1=function(){function e(){}return function(t){if(!isObject$4(t))return{};if(objectCreate)return objectCreate(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),_baseCreate=baseCreate$1,overArg=_overArg,getPrototype$2=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$2,baseCreate=_baseCreate,getPrototype$1=_getPrototype,isPrototype=_isPrototype;function initCloneObject$1(e){return typeof e.constructor=="function"&&!isPrototype(e)?baseCreate(getPrototype$1(e)):{}}var _initCloneObject=initCloneObject$1,isArrayLike=isArrayLike_1,isObjectLike$1=isObjectLike_1;function isArrayLikeObject$1(e){return isObjectLike$1(e)&&isArrayLike(e)}var isArrayLikeObject_1=isArrayLikeObject$1,baseGetTag=_baseGetTag,getPrototype=_getPrototype,isObjectLike=isObjectLike_1,objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$1(e){if(!isObjectLike(e)||baseGetTag(e)!=objectTag)return!1;var t=getPrototype(e);if(t===null)return!0;var r=hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&funcToString.call(r)==objectCtorString}var isPlainObject_1=isPlainObject$1;function safeGet$2(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var _safeGet=safeGet$2,assignValue=_assignValue,baseAssignValue=_baseAssignValue;function copyObject$1(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=n?n(r[s],e[s],s,r,e):void 0;l===void 0&&(l=e[s]),i?baseAssignValue(r,s,l):assignValue(r,s,l)}return r}var _copyObject=copyObject$1,copyObject=_copyObject,keysIn$1=keysIn_1;function toPlainObject$1(e){return copyObject(e,keysIn$1(e))}var toPlainObject_1=toPlainObject$1,assignMergeValue$1=_assignMergeValue,cloneBuffer=_cloneBufferExports,cloneTypedArray=_cloneTypedArray,copyArray=_copyArray,initCloneObject=_initCloneObject,isArguments=isArguments_1,isArray$1=isArray_1,isArrayLikeObject=isArrayLikeObject_1,isBuffer=isBufferExports,isFunction=isFunction_1,isObject$3=isObject_1,isPlainObject=isPlainObject_1,isTypedArray=isTypedArray_1,safeGet$1=_safeGet,toPlainObject=toPlainObject_1;function baseMergeDeep$1(e,t,r,n,i,o,a){var s=safeGet$1(e,r),l=safeGet$1(t,r),c=a.get(l);if(c){assignMergeValue$1(e,r,c);return}var d=o?o(s,l,r+"",e,t,a):void 0,m=d===void 0;if(m){var g=isArray$1(l),v=!g&&isBuffer(l),_=!g&&!v&&isTypedArray(l);d=l,g||v||_?isArray$1(s)?d=s:isArrayLikeObject(s)?d=copyArray(s):v?(m=!1,d=cloneBuffer(l,!0)):_?(m=!1,d=cloneTypedArray(l,!0)):d=[]:isPlainObject(l)||isArguments(l)?(d=s,isArguments(s)?d=toPlainObject(s):(!isObject$3(s)||isFunction(s))&&(d=initCloneObject(l))):m=!1}m&&(a.set(l,d),i(d,l,n,o,a),a.delete(l)),assignMergeValue$1(e,r,d)}var _baseMergeDeep=baseMergeDeep$1,Stack=_Stack,assignMergeValue=_assignMergeValue,baseFor=_baseFor,baseMergeDeep=_baseMergeDeep,isObject$2=isObject_1,keysIn=keysIn_1,safeGet=_safeGet;function baseMerge$2(e,t,r,n,i){e!==t&&baseFor(t,function(o,a){if(i||(i=new Stack),isObject$2(o))baseMergeDeep(e,t,a,r,baseMerge$2,n,i);else{var s=n?n(safeGet(e,a),o,a+"",e,t,i):void 0;s===void 0&&(s=o),assignMergeValue(e,a,s)}},keysIn)}var _baseMerge=baseMerge$2,baseMerge$1=_baseMerge,isObject$1=isObject_1;function customDefaultsMerge$1(e,t,r,n,i,o){return isObject$1(e)&&isObject$1(t)&&(o.set(t,e),baseMerge$1(e,t,void 0,customDefaultsMerge$1,o),o.delete(t)),e}var _customDefaultsMerge=customDefaultsMerge$1,baseRest$1=_baseRest,isIterateeCall=_isIterateeCall;function createAssigner$1(e){return baseRest$1(function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,a&&isIterateeCall(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,o)}return t})}var _createAssigner=createAssigner$1,baseMerge=_baseMerge,createAssigner=_createAssigner,mergeWith$1=createAssigner(function(e,t,r,n){baseMerge(e,t,r,n)}),mergeWith_1=mergeWith$1,apply=_apply,baseRest=_baseRest,customDefaultsMerge=_customDefaultsMerge,mergeWith=mergeWith_1,defaultsDeep=baseRest(function(e){return e.push(void 0,customDefaultsMerge),apply(mergeWith,void 0,e)}),defaultsDeep_1=defaultsDeep;function head(e){return e&&e.length?e[0]:void 0}var head_1=head;function last(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var last_1=last;const getType=e=>Object.prototype.toString.call(e).slice(8,-1),isDate=e=>isDate_1(e)&&!isNaN(e.getTime()),isObject=e=>getType(e)==="Object",has=has_1,hasAny=(e,t)=>some_1(t,r=>has_1(e,r)),pad=(e,t,r="0")=>{for(e=e!=null?String(e):"",t=t||2;e.length<t;)e=`${r}${e}`;return e},isArray=e=>Array.isArray(e),arrayHasItems=e=>isArray(e)&&e.length>0,resolveEl=e=>e==null?null:document&&isString_1(e)?document.querySelector(e):e.$el??e,off=(e,t,r,n=void 0)=>{e.removeEventListener(t,r,n)},on=(e,t,r,n=void 0)=>(e.addEventListener(t,r,n),()=>off(e,t,r,n)),elementContains=(e,t)=>!!e&&!!t&&(e===t||e.contains(t)),onSpaceOrEnter=(e,t)=>{(e.key===" "||e.key==="Enter")&&(t(e),e.preventDefault())},omit=(e,...t)=>{const r={};let n;for(n in e)t.includes(n)||(r[n]=e[n]);return r},pick=(e,t)=>{const r={};return t.forEach(n=>{n in e&&(r[n]=e[n])}),r};function clamp(e,t,r){return Math.min(Math.max(e,t),r)}var toIntegerExports={},toInteger$2={get exports(){return toIntegerExports},set exports(e){toIntegerExports=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){if(n===null||n===!0||n===!1)return NaN;var i=Number(n);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}e.exports=t.default})(toInteger$2,toIntegerExports);const toInteger$1=getDefaultExportFromCjs(toIntegerExports);var getTimezoneOffsetInMillisecondsExports={},getTimezoneOffsetInMilliseconds$2={get exports(){return getTimezoneOffsetInMillisecondsExports},set exports(e){getTimezoneOffsetInMillisecondsExports=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){var i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i.setUTCFullYear(n.getFullYear()),n.getTime()-i.getTime()}e.exports=t.default})(getTimezoneOffsetInMilliseconds$2,getTimezoneOffsetInMillisecondsExports);const getTimezoneOffsetInMilliseconds$1=getDefaultExportFromCjs(getTimezoneOffsetInMillisecondsExports);function tzTokenizeDate(e,t){var r=getDateTimeFormat(t);return r.formatToParts?partsOffset(r,e):hackyOffset(r,e)}var typeToPos={year:0,month:1,day:2,hour:3,minute:4,second:5};function partsOffset(e,t){try{for(var r=e.formatToParts(t),n=[],i=0;i<r.length;i++){var o=typeToPos[r[i].type];o>=0&&(n[o]=parseInt(r[i].value,10))}return n}catch(a){if(a instanceof RangeError)return[NaN];throw a}}function hackyOffset(e,t){var r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var dtfCache={};function getDateTimeFormat(e){if(!dtfCache[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),r=t==="06/25/2014, 00:00:00"||t==="06/25/2014 00:00:00";dtfCache[e]=r?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return dtfCache[e]}function newDateUTC(e,t,r,n,i,o,a){var s=new Date(0);return s.setUTCFullYear(e,t,r),s.setUTCHours(n,i,o,a),s}var MILLISECONDS_IN_HOUR$1=36e5,MILLISECONDS_IN_MINUTE$1=6e4,patterns$1={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function tzParseTimezone(e,t,r){var n,i;if(!e||(n=patterns$1.timezoneZ.exec(e),n))return 0;var o;if(n=patterns$1.timezoneHH.exec(e),n)return o=parseInt(n[1],10),validateTimezone(o)?-(o*MILLISECONDS_IN_HOUR$1):NaN;if(n=patterns$1.timezoneHHMM.exec(e),n){o=parseInt(n[1],10);var a=parseInt(n[2],10);return validateTimezone(o,a)?(i=Math.abs(o)*MILLISECONDS_IN_HOUR$1+a*MILLISECONDS_IN_MINUTE$1,o>0?-i:i):NaN}if(isValidTimezoneIANAString(e)){t=new Date(t||Date.now());var s=toUtcDate(t),l=calcOffset(s,e),c=fixOffset(t,l,e);return-c}return NaN}function toUtcDate(e){return newDateUTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function calcOffset(e,t){var r=tzTokenizeDate(e,t),n=newDateUTC(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime(),i=e.getTime(),o=i%1e3;return i-=o>=0?o:1e3+o,n-i}function fixOffset(e,t,r){var n=e.getTime(),i=n-t,o=calcOffset(new Date(i),r);if(t===o)return t;i-=o-t;var a=calcOffset(new Date(i),r);return o===a?o:Math.max(o,a)}function validateTimezone(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var validIANATimezoneCache={};function isValidTimezoneIANAString(e){if(validIANATimezoneCache[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),validIANATimezoneCache[e]=!0,!0}catch{return!1}}var tzPattern=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const tzPattern$1=tzPattern;var MILLISECONDS_IN_HOUR=36e5,MILLISECONDS_IN_MINUTE=6e4,DEFAULT_ADDITIONAL_DIGITS=2,patterns={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:tzPattern$1};function toDate$1(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var r=t||{},n=r.additionalDigits==null?DEFAULT_ADDITIONAL_DIGITS:toInteger$1(r.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=splitDateString(e),o=parseYear(i.date,n),a=o.year,s=o.restDateString,l=parseDate$1(s,a);if(isNaN(l))return new Date(NaN);if(l){var c=l.getTime(),d=0,m;if(i.time&&(d=parseTime(i.time),isNaN(d)))return new Date(NaN);if(i.timeZone||r.timeZone){if(m=tzParseTimezone(i.timeZone||r.timeZone,new Date(c+d)),isNaN(m))return new Date(NaN)}else m=getTimezoneOffsetInMilliseconds$1(new Date(c+d)),m=getTimezoneOffsetInMilliseconds$1(new Date(c+d+m));return new Date(c+d+m)}else return new Date(NaN)}function splitDateString(e){var t={},r=patterns.dateTimePattern.exec(e),n;if(r?(t.date=r[1],n=r[3]):(r=patterns.datePattern.exec(e),r?(t.date=r[1],n=r[2]):(t.date=null,n=e)),n){var i=patterns.timeZone.exec(n);i?(t.time=n.replace(i[1],""),t.timeZone=i[1].trim()):t.time=n}return t}function parseYear(e,t){var r=patterns.YYY[t],n=patterns.YYYYY[t],i;if(i=patterns.YYYY.exec(e)||n.exec(e),i){var o=i[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(i=patterns.YY.exec(e)||r.exec(e),i){var a=i[1];return{year:parseInt(a,10)*100,restDateString:e.slice(a.length)}}return{year:null}}function parseDate$1(e,t){if(t===null)return null;var r,n,i,o;if(e.length===0)return n=new Date(0),n.setUTCFullYear(t),n;if(r=patterns.MM.exec(e),r)return n=new Date(0),i=parseInt(r[1],10)-1,validateDate(t,i)?(n.setUTCFullYear(t,i),n):new Date(NaN);if(r=patterns.DDD.exec(e),r){n=new Date(0);var a=parseInt(r[1],10);return validateDayOfYearDate(t,a)?(n.setUTCFullYear(t,0,a),n):new Date(NaN)}if(r=patterns.MMDD.exec(e),r){n=new Date(0),i=parseInt(r[1],10)-1;var s=parseInt(r[2],10);return validateDate(t,i,s)?(n.setUTCFullYear(t,i,s),n):new Date(NaN)}if(r=patterns.Www.exec(e),r)return o=parseInt(r[1],10)-1,validateWeekDate(t,o)?dayOfISOWeekYear(t,o):new Date(NaN);if(r=patterns.WwwD.exec(e),r){o=parseInt(r[1],10)-1;var l=parseInt(r[2],10)-1;return validateWeekDate(t,o,l)?dayOfISOWeekYear(t,o,l):new Date(NaN)}return null}function parseTime(e){var t,r,n;if(t=patterns.HH.exec(e),t)return r=parseFloat(t[1].replace(",",".")),validateTime(r)?r%24*MILLISECONDS_IN_HOUR:NaN;if(t=patterns.HHMM.exec(e),t)return r=parseInt(t[1],10),n=parseFloat(t[2].replace(",",".")),validateTime(r,n)?r%24*MILLISECONDS_IN_HOUR+n*MILLISECONDS_IN_MINUTE:NaN;if(t=patterns.HHMMSS.exec(e),t){r=parseInt(t[1],10),n=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return validateTime(r,n,i)?r%24*MILLISECONDS_IN_HOUR+n*MILLISECONDS_IN_MINUTE+i*1e3:NaN}return null}function dayOfISOWeekYear(e,t,r){t=t||0,r=r||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var i=n.getUTCDay()||7,o=t*7+r+1-i;return n.setUTCDate(n.getUTCDate()+o),n}var DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],DAYS_IN_MONTH_LEAP_YEAR=[31,29,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(e){return e%400===0||e%4===0&&e%100!==0}function validateDate(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;var n=isLeapYearIndex(e);if(n&&r>DAYS_IN_MONTH_LEAP_YEAR[t]||!n&&r>DAYS_IN_MONTH[t])return!1}return!0}function validateDayOfYearDate(e,t){if(t<1)return!1;var r=isLeapYearIndex(e);return!(r&&t>366||!r&&t>365)}function validateWeekDate(e,t,r){return!(t<0||t>52||r!=null&&(r<0||r>6))}function validateTime(e,t,r){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}function requiredArgs(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function _typeof(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(r){return typeof r}:_typeof=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof(e)}function toDate(e){requiredArgs(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||_typeof(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function toInteger(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var defaultOptions={};function getDefaultOptions(){return defaultOptions}function startOfWeek$1(e,t){var r,n,i,o,a,s,l,c;requiredArgs(1,arguments);var d=getDefaultOptions(),m=toInteger((r=(n=(i=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=toDate(e),v=g.getDay(),_=(v<m?7:0)+v-m;return g.setDate(g.getDate()-_),g.setHours(0,0,0,0),g}function getTimezoneOffsetInMilliseconds(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var MILLISECONDS_IN_WEEK$2=6048e5;function differenceInCalendarWeeks(e,t,r){requiredArgs(2,arguments);var n=startOfWeek$1(e,r),i=startOfWeek$1(t,r),o=n.getTime()-getTimezoneOffsetInMilliseconds(n),a=i.getTime()-getTimezoneOffsetInMilliseconds(i);return Math.round((o-a)/MILLISECONDS_IN_WEEK$2)}function lastDayOfMonth(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function startOfMonth(e){requiredArgs(1,arguments);var t=toDate(e);return t.setDate(1),t.setHours(0,0,0,0),t}function getWeeksInMonth(e,t){return requiredArgs(1,arguments),differenceInCalendarWeeks(lastDayOfMonth(e),startOfMonth(e),t)+1}function getWeekYear(e,t){var r,n,i,o,a,s,l,c;requiredArgs(1,arguments);var d=toDate(e),m=d.getFullYear(),g=getDefaultOptions(),v=toInteger((r=(n=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:g.firstWeekContainsDate)!==null&&n!==void 0?n:(l=g.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=new Date(0);_.setFullYear(m+1,0,v),_.setHours(0,0,0,0);var S=startOfWeek$1(_,t),C=new Date(0);C.setFullYear(m,0,v),C.setHours(0,0,0,0);var y=startOfWeek$1(C,t);return d.getTime()>=S.getTime()?m+1:d.getTime()>=y.getTime()?m:m-1}function startOfWeekYear(e,t){var r,n,i,o,a,s,l,c;requiredArgs(1,arguments);var d=getDefaultOptions(),m=toInteger((r=(n=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),g=getWeekYear(e,t),v=new Date(0);v.setFullYear(g,0,m),v.setHours(0,0,0,0);var _=startOfWeek$1(v,t);return _}var MILLISECONDS_IN_WEEK$1=6048e5;function getWeek(e,t){requiredArgs(1,arguments);var r=toDate(e),n=startOfWeek$1(r,t).getTime()-startOfWeekYear(r,t).getTime();return Math.round(n/MILLISECONDS_IN_WEEK$1)+1}function startOfISOWeek(e){return requiredArgs(1,arguments),startOfWeek$1(e,{weekStartsOn:1})}function getISOWeekYear(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getFullYear(),n=new Date(0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);var i=startOfISOWeek(n),o=new Date(0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);var a=startOfISOWeek(o);return t.getTime()>=i.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function startOfISOWeekYear(e){requiredArgs(1,arguments);var t=getISOWeekYear(e),r=new Date(0);r.setFullYear(t,0,4),r.setHours(0,0,0,0);var n=startOfISOWeek(r);return n}var MILLISECONDS_IN_WEEK=6048e5;function getISOWeek(e){requiredArgs(1,arguments);var t=toDate(e),r=startOfISOWeek(t).getTime()-startOfISOWeekYear(t).getTime();return Math.round(r/MILLISECONDS_IN_WEEK)+1}function addDays(e,t){requiredArgs(2,arguments);var r=toDate(e),n=toInteger(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function addMonths(e,t){requiredArgs(2,arguments);var r=toDate(e),n=toInteger(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var i=r.getDate(),o=new Date(r.getTime());o.setMonth(r.getMonth()+n+1,0);var a=o.getDate();return i>=a?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}function addYears(e,t){requiredArgs(2,arguments);var r=toInteger(t);return addMonths(e,r*12)}const viewAddressKeys={daily:["year","month","day"],weekly:["year","month","week"],monthly:["year","month"]};function getDays({monthComps:e,prevMonthComps:t,nextMonthComps:r},n){const i=[],{firstDayOfWeek:o,firstWeekday:a,isoWeeknumbers:s,weeknumbers:l,numDays:c,numWeeks:d}=e,m=a+(a<o?daysInWeek:0)-o;let g=!0,v=!1,_=!1,S=0;const C=new Intl.DateTimeFormat(n.id,{weekday:"long",year:"numeric",month:"short",day:"numeric"});let y=t.numDays-m+1,b=t.numDays-y+1,u=Math.floor((y-1)/daysInWeek+1),w=1,x=t.numWeeks,E=1,T=t.month,k=t.year;const D=new Date,B=D.getDate(),A=D.getMonth()+1,O=D.getFullYear();for(let V=1;V<=weeksInMonth;V++){for(let H=1,q=o;H<=daysInWeek;H++,q+=q===daysInWeek?1-daysInWeek:1){g&&q===a&&(y=1,b=e.numDays,u=Math.floor((y-1)/daysInWeek+1),w=Math.floor((c-y)/daysInWeek+1),x=1,E=d,T=e.month,k=e.year,g=!1,v=!0);const K=n.getDateFromParams(k,T,y,0,0,0,0),Q=n.getDateFromParams(k,T,y,12,0,0,0),X=n.getDateFromParams(k,T,y,23,59,59,999),N=K,I=`${pad(k,4)}-${pad(T,2)}-${pad(y,2)}`,U=H,F=daysInWeek-H,ee=l[V-1],ue=s[V-1],he=y===B&&T===A&&k===O,ve=v&&y===1,j=v&&y===c,M=V===1,ne=V===d,Y=H===1,de=H===daysInWeek,L=getDayIndex(k,T,y);i.push({locale:n,id:I,position:++S,label:y.toString(),ariaLabel:C.format(new Date(k,T-1,y)),day:y,dayFromEnd:b,weekday:q,weekdayPosition:U,weekdayPositionFromEnd:F,weekdayOrdinal:u,weekdayOrdinalFromEnd:w,week:x,weekFromEnd:E,weekPosition:V,weeknumber:ee,isoWeeknumber:ue,month:T,year:k,date:N,startDate:K,endDate:X,noonDate:Q,dayIndex:L,isToday:he,isFirstDay:ve,isLastDay:j,isDisabled:!v,isFocusable:!v,isFocused:!1,inMonth:v,inPrevMonth:g,inNextMonth:_,onTop:M,onBottom:ne,onLeft:Y,onRight:de,classes:[`id-${I}`,`day-${y}`,`day-from-end-${b}`,`weekday-${q}`,`weekday-position-${U}`,`weekday-ordinal-${u}`,`weekday-ordinal-from-end-${w}`,`week-${x}`,`week-from-end-${E}`,{"is-today":he,"is-first-day":ve,"is-last-day":j,"in-month":v,"in-prev-month":g,"in-next-month":_,"on-top":M,"on-bottom":ne,"on-left":Y,"on-right":de}]}),v&&j?(v=!1,_=!0,y=1,b=c,u=1,w=Math.floor((c-y)/daysInWeek+1),x=1,E=r.numWeeks,T=r.month,k=r.year):(y++,b--,u=Math.floor((y-1)/daysInWeek+1),w=Math.floor((c-y)/daysInWeek+1))}x++,E--}return i}function getWeeks(e,t,r,n){const i=e.reduce((o,a,s)=>{const l=Math.floor(s/7);let c=o[l];return c||(c={id:`week-${l+1}`,title:"",week:a.week,weekPosition:a.weekPosition,weeknumber:a.weeknumber,isoWeeknumber:a.isoWeeknumber,weeknumberDisplay:t?a.weeknumber:r?a.isoWeeknumber:void 0,days:[]},o[l]=c),c.days.push(a),o},Array(e.length/daysInWeek));return i.forEach(o=>{const a=o.days[0],s=o.days[o.days.length-1];a.month===s.month?o.title=`${n.formatDate(a.date,"MMMM YYYY")}`:a.year===s.year?o.title=`${n.formatDate(a.date,"MMM")} - ${n.formatDate(s.date,"MMM YYYY")}`:o.title=`${n.formatDate(a.date,"MMM YYYY")} - ${n.formatDate(s.date,"MMM YYYY")}`}),i}function getWeekdays(e,t){return e.days.map(r=>({label:t.formatDate(r.date,t.masks.weekdays),weekday:r.weekday}))}function getPageId(e,t){return`${t}.${pad(e,2)}`}function getPageAddressForDate(e,t,r){return pick(r.getDateParts(r.toDate(e)),viewAddressKeys[t])}function addPages({day:e,week:t,month:r,year:n},i,o,a){if(o==="daily"&&e){const s=new Date(n,r-1,e),l=addDays(s,i);return{day:l.getDate(),month:l.getMonth()+1,year:l.getFullYear()}}else if(o==="weekly"&&t){const l=a.getMonthParts(r,n).firstDayOfMonth,c=addDays(l,(t-1+i)*7),d=a.getDateParts(c);return{week:d.week,month:d.month,year:d.year}}else{const s=new Date(n,r-1,1),l=addMonths(s,i);return{month:l.getMonth()+1,year:l.getFullYear()}}}function pageIsValid(e){return e!=null&&e.month!=null&&e.year!=null}function pageIsBeforePage(e,t){return!pageIsValid(e)||!pageIsValid(t)?!1:(e=e,t=t,e.year!==t.year?e.year<t.year:e.month&&t.month&&e.month!==t.month?e.month<t.month:e.week&&t.week&&e.week!==t.week?e.week<t.week:e.day&&t.day&&e.day!==t.day?e.day<t.day:!1)}function pageIsAfterPage(e,t){return!pageIsValid(e)||!pageIsValid(t)?!1:(e=e,t=t,e.year!==t.year?e.year>t.year:e.month&&t.month&&e.month!==t.month?e.month>t.month:e.week&&t.week&&e.week!==t.week?e.week>t.week:e.day&&t.day&&e.day!==t.day?e.day>t.day:!1)}function pageIsBetweenPages(e,t,r){return(e||!1)&&!pageIsBeforePage(e,t)&&!pageIsAfterPage(e,r)}function pageIsEqualToPage(e,t){return!e&&t||e&&!t?!1:!e&&!t?!0:(e=e,t=t,e.year===t.year&&e.month===t.month&&e.week===t.week&&e.day===t.day)}function pageRangeToArray(e,t,r,n){if(!pageIsValid(e)||!pageIsValid(t))return[];const i=[];for(;!pageIsAfterPage(e,t);)i.push(e),e=addPages(e,1,r,n);return i}function getPageKey(e){const{day:t,week:r,month:n,year:i}=e;let o=`${i}-${pad(n,2)}`;return r&&(o=`${o}-w${r}`),t&&(o=`${o}-${pad(t,2)}`),o}function getCachedPage(e,t){const{month:r,year:n,showWeeknumbers:i,showIsoWeeknumbers:o}=e,a=new Date(n,r-1,15),s=t.getMonthParts(r,n),l=t.getPrevMonthParts(r,n),c=t.getNextMonthParts(r,n),d=getDays({monthComps:s,prevMonthComps:l,nextMonthComps:c},t),m=getWeeks(d,i,o,t),g=getWeekdays(m[0],t);return{id:getPageKey(e),month:r,year:n,monthTitle:t.formatDate(a,t.masks.title),shortMonthLabel:t.formatDate(a,"MMM"),monthLabel:t.formatDate(a,"MMMM"),shortYearLabel:n.toString().substring(2),yearLabel:n.toString(),monthComps:s,prevMonthComps:l,nextMonthComps:c,days:d,weeks:m,weekdays:g}}function getPage(e,t){const{day:r,week:n,view:i,trimWeeks:o}=e,a={...t,...e,title:"",viewDays:[],viewWeeks:[]};switch(i){case"daily":{let s=a.days.find(c=>c.inMonth);r?s=a.days.find(c=>c.day===r&&c.inMonth)||s:n&&(s=a.days.find(c=>c.week===n&&c.inMonth));const l=a.weeks[s.week-1];a.viewWeeks=[l],a.viewDays=[s],a.week=s.week,a.weekTitle=l.title,a.day=s.day,a.dayTitle=s.ariaLabel,a.title=a.dayTitle;break}case"weekly":{a.week=n||1;const s=a.weeks[a.week-1];a.viewWeeks=[s],a.viewDays=s.days,a.weekTitle=s.title,a.title=a.weekTitle;break}default:{a.title=a.monthTitle,a.viewWeeks=a.weeks.slice(0,o?a.monthComps.numWeeks:void 0),a.viewDays=a.days;break}}return a}class Cache{constructor(t,r,n){__publicField(this,"keys",[]),__publicField(this,"store",{}),this.size=t,this.createKey=r,this.createItem=n}get(...t){const r=this.createKey(...t);return this.store[r]}getOrSet(...t){const r=this.createKey(...t);if(this.store[r])return this.store[r];const n=this.createItem(...t);if(this.keys.length>=this.size){const i=this.keys.shift();i!=null&&delete this.store[i]}return this.keys.push(r),this.store[r]=n,n}}class DateRange{constructor(t,r=new Locale){__publicField(this,"order"),__publicField(this,"locale"),__publicField(this,"start",null),__publicField(this,"end",null),__publicField(this,"repeat",null);var n;this.locale=r;const{start:i,end:o,span:a,order:s,repeat:l}=t;isDate(i)&&(this.start=r.getDateParts(i)),isDate(o)?this.end=r.getDateParts(o):this.start!=null&&a&&(this.end=r.getDateParts(addDays(this.start.date,a-1))),this.order=s??0,l&&(this.repeat=new DateRepeat({from:(n=this.start)==null?void 0:n.date,...l},{locale:this.locale}))}static fromMany(t,r){return(isArray(t)?t:[t]).filter(n=>n).map(n=>DateRange.from(n,r))}static from(t,r){if(t instanceof DateRange)return t;const n={start:null,end:null};return t!=null&&(isArray(t)?(n.start=t[0]??null,n.end=t[1]??null):isObject(t)?Object.assign(n,t):(n.start=t,n.end=t)),n.start!=null&&(n.start=new Date(n.start)),n.end!=null&&(n.end=new Date(n.end)),new DateRange(n,r)}get opts(){const{order:t,locale:r}=this;return{order:t,locale:r}}get hasRepeat(){return!!this.repeat}get isSingleDay(){const{start:t,end:r}=this;return t&&r&&t.year===r.year&&t.month===r.month&&t.day===r.day}get isMultiDay(){return!this.isSingleDay}get daySpan(){return this.start==null||this.end==null?this.hasRepeat?1:1/0:this.end.dayIndex-this.start.dayIndex}startsOnDay(t){var r,n;return((r=this.start)==null?void 0:r.dayIndex)===t.dayIndex||!!((n=this.repeat)!=null&&n.passes(t))}intersectsDay(t){return this.intersectsDayRange(t,t)}intersectsRange(t){var r,n;return this.intersectsDayRange(((r=t.start)==null?void 0:r.dayIndex)??-1/0,((n=t.end)==null?void 0:n.dayIndex)??1/0)}intersectsDayRange(t,r){return!(this.start&&this.start.dayIndex>r||this.end&&this.end.dayIndex<t)}}class DateRangeContext{constructor(){__publicField(this,"records",{})}render(t,r,n){var i,o,a,s;let l=null;const c=n[0].dayIndex,d=n[n.length-1].dayIndex;return r.hasRepeat?n.forEach(m=>{var g,v;if(r.startsOnDay(m)){const _=r.daySpan<1/0?r.daySpan:1;l={startDay:m.dayIndex,startTime:((g=r.start)==null?void 0:g.time)??0,endDay:m.dayIndex+_-1,endTime:((v=r.end)==null?void 0:v.time)??MS_PER_DAY},this.getRangeRecords(t).push(l)}}):r.intersectsDayRange(c,d)&&(l={startDay:((i=r.start)==null?void 0:i.dayIndex)??-1/0,startTime:((o=r.start)==null?void 0:o.time)??-1/0,endDay:((a=r.end)==null?void 0:a.dayIndex)??1/0,endTime:((s=r.end)==null?void 0:s.time)??1/0},this.getRangeRecords(t).push(l)),l}getRangeRecords(t){let r=this.records[t.key];return r||(r={ranges:[],data:t},this.records[t.key]=r),r.ranges}getCell(t,r){return this.getCells(r).find(o=>o.data.key===t)}cellExists(t,r){const n=this.records[t];return n==null?!1:n.ranges.some(i=>i.startDay<=r&&i.endDay>=r)}getCells(t){const r=Object.values(this.records),n=[],{dayIndex:i}=t;return r.forEach(({data:o,ranges:a})=>{a.filter(s=>s.startDay<=i&&s.endDay>=i).forEach(s=>{const l=i===s.startDay,c=i===s.endDay,d=l?s.startTime:0,m=new Date(t.startDate.getTime()+d),g=c?s.endTime:MS_PER_DAY,v=new Date(t.endDate.getTime()+g),_=d===0&&g===MS_PER_DAY,S=o.order||0;n.push({...s,data:o,onStart:l,onEnd:c,startTime:d,startDate:m,endTime:g,endDate:v,allDay:_,order:S})})}),n.sort((o,a)=>o.order-a.order),n}}const locales={ar:{dow:7,L:"D/M/YYYY"},bg:{dow:2,L:"D.MM.YYYY"},ca:{dow:2,L:"DD/MM/YYYY"},"zh-CN":{dow:2,L:"YYYY/MM/DD"},"zh-TW":{dow:1,L:"YYYY/MM/DD"},hr:{dow:2,L:"DD.MM.YYYY"},cs:{dow:2,L:"DD.MM.YYYY"},da:{dow:2,L:"DD.MM.YYYY"},nl:{dow:2,L:"DD-MM-YYYY"},"en-US":{dow:1,L:"MM/DD/YYYY"},"en-AU":{dow:2,L:"DD/MM/YYYY"},"en-CA":{dow:1,L:"YYYY-MM-DD"},"en-GB":{dow:2,L:"DD/MM/YYYY"},"en-IE":{dow:2,L:"DD-MM-YYYY"},"en-NZ":{dow:2,L:"DD/MM/YYYY"},"en-ZA":{dow:1,L:"YYYY/MM/DD"},eo:{dow:2,L:"YYYY-MM-DD"},et:{dow:2,L:"DD.MM.YYYY"},fi:{dow:2,L:"DD.MM.YYYY"},fr:{dow:2,L:"DD/MM/YYYY"},"fr-CA":{dow:1,L:"YYYY-MM-DD"},"fr-CH":{dow:2,L:"DD.MM.YYYY"},de:{dow:2,L:"DD.MM.YYYY"},he:{dow:1,L:"DD.MM.YYYY"},id:{dow:2,L:"DD/MM/YYYY"},it:{dow:2,L:"DD/MM/YYYY"},ja:{dow:1,L:"YYYYMD"},ko:{dow:1,L:"YYYY.MM.DD"},lv:{dow:2,L:"DD.MM.YYYY"},lt:{dow:2,L:"DD.MM.YYYY"},mk:{dow:2,L:"D.MM.YYYY"},nb:{dow:2,L:"D. MMMM YYYY"},nn:{dow:2,L:"D. MMMM YYYY"},pl:{dow:2,L:"DD.MM.YYYY"},pt:{dow:2,L:"DD/MM/YYYY"},ro:{dow:2,L:"DD.MM.YYYY"},ru:{dow:2,L:"DD.MM.YYYY"},sk:{dow:2,L:"DD.MM.YYYY"},"es-ES":{dow:2,L:"DD/MM/YYYY"},"es-MX":{dow:2,L:"DD/MM/YYYY"},sv:{dow:2,L:"YYYY-MM-DD"},th:{dow:1,L:"DD/MM/YYYY"},tr:{dow:2,L:"DD.MM.YYYY"},uk:{dow:2,L:"DD.MM.YYYY"},vi:{dow:2,L:"DD/MM/YYYY"}};locales.en=locales["en-US"];locales.es=locales["es-ES"];locales.no=locales.nb;locales.zh=locales["zh-CN"];const localeSettings=Object.entries(locales).reduce((e,[t,{dow:r,L:n}])=>(e[t]={id:t,firstDayOfWeek:r,masks:{L:n}},e),{}),title="MMMM YYYY",weekdays="W",navMonths="MMM",hours="h A",input=["L","YYYY-MM-DD","YYYY/MM/DD"],inputDateTime=["L h:mm A","YYYY-MM-DD h:mm A","YYYY/MM/DD h:mm A"],inputDateTime24hr=["L HH:mm","YYYY-MM-DD HH:mm","YYYY/MM/DD HH:mm"],inputTime=["h:mm A"],inputTime24hr=["HH:mm"],dayPopover="WWW, MMM D, YYYY",data=["L","YYYY-MM-DD","YYYY/MM/DD"],model="iso",iso="YYYY-MM-DDTHH:mm:ss.SSSZ",masks={title,weekdays,navMonths,hours,input,inputDateTime,inputDateTime24hr,inputTime,inputTime24hr,dayPopover,data,model,iso},maxSwipeTime=300,minHorizontalSwipeDistance=60,maxVerticalSwipeDistance=80,touch={maxSwipeTime,minHorizontalSwipeDistance,maxVerticalSwipeDistance},defaultConfig={componentPrefix:"V",color:"blue",isDark:!1,navVisibility:"click",titlePosition:"center",transition:"slide-h",touch,masks,locales:localeSettings,datePicker:{updateOnInput:!0,inputDebounce:1e3,popover:{visibility:"hover-focus",placement:"bottom-start",isInteractive:!0}}},state=reactive(defaultConfig),defaultLocales=computed(()=>mapValues_1(state.locales,e=>(e.masks=defaultsDeep_1(e.masks,state.masks),e))),getDefault=e=>typeof window<"u"&&has(window.__vcalendar__,e)?get_1(window.__vcalendar__,e):get_1(state,e),setupDefaults=(e,t)=>(e.config.globalProperties.$VCalendar=state,Object.assign(state,defaultsDeep_1(t,state))),DEFAULT_MONTH_CACHE_SIZE=12,DEFAULT_PAGE_CACHE_SIZE=5;function resolveConfig(e,t){const r=new Intl.DateTimeFormat().resolvedOptions().locale;let n;isString_1(e)?n=e:has(e,"id")&&(n=e.id),n=(n||r).toLowerCase();const i=Object.keys(t),o=l=>i.find(c=>c.toLowerCase()===l);n=o(n)||o(n.substring(0,2))||r;const a={...t["en-IE"],...t[n],id:n,monthCacheSize:DEFAULT_MONTH_CACHE_SIZE,pageCacheSize:DEFAULT_PAGE_CACHE_SIZE};return isObject(e)?defaultsDeep_1(e,a):a}class Locale{constructor(t=void 0,r){__publicField(this,"id"),__publicField(this,"daysInWeek"),__publicField(this,"firstDayOfWeek"),__publicField(this,"masks"),__publicField(this,"timezone"),__publicField(this,"hourLabels"),__publicField(this,"dayNames"),__publicField(this,"dayNamesShort"),__publicField(this,"dayNamesShorter"),__publicField(this,"dayNamesNarrow"),__publicField(this,"monthNames"),__publicField(this,"monthNamesShort"),__publicField(this,"relativeTimeNames"),__publicField(this,"amPm",["am","pm"]),__publicField(this,"monthCache"),__publicField(this,"pageCache");const{id:n,firstDayOfWeek:i,masks:o,monthCacheSize:a,pageCacheSize:s}=resolveConfig(t,defaultLocales.value);this.monthCache=new Cache(a,getMonthPartsKey,getMonthParts),this.pageCache=new Cache(s,getPageKey,getCachedPage),this.id=n,this.daysInWeek=daysInWeek,this.firstDayOfWeek=clamp(i,1,daysInWeek),this.masks=o,this.timezone=r||void 0,this.hourLabels=this.getHourLabels(),this.dayNames=getDayNames("long",this.id),this.dayNamesShort=getDayNames("short",this.id),this.dayNamesShorter=this.dayNamesShort.map(l=>l.substring(0,2)),this.dayNamesNarrow=getDayNames("narrow",this.id),this.monthNames=getMonthNames("long",this.id),this.monthNamesShort=getMonthNames("short",this.id),this.relativeTimeNames=getRelativeTimeNames(this.id)}formatDate(t,r){return formatDate(t,r,this)}parseDate(t,r){return parseDate(t,r,this)}toDate(t,r={}){const n=new Date(NaN);let i=n;const{fillDate:o,mask:a,patch:s,rules:l}=r;if(isNumber_1(t)?(r.type="number",i=new Date(+t)):isString_1(t)?(r.type="string",i=t?parseDate(t,a||"iso",this):n):isDate(t)?(r.type="date",i=new Date(t.getTime())):isDateParts(t)&&(r.type="object",i=this.getDateFromParts(t)),i&&(s||l)){let c=this.getDateParts(i);if(s&&o!=null){const d=this.getDateParts(this.toDate(o));c=this.getDateParts(this.toDate({...d,...pick(c,DatePatchKeys[s])}))}l&&(c=applyRulesForDateParts(c,l)),i=this.getDateFromParts(c)}return i||n}toDateOrNull(t,r={}){const n=this.toDate(t,r);return isNaN(n.getTime())?null:n}fromDate(t,{type:r,mask:n}={}){switch(r){case"number":return t?t.getTime():NaN;case"string":return t?this.formatDate(t,n||"iso"):"";case"object":return t?this.getDateParts(t):null;default:return t?new Date(t):null}}range(t){return DateRange.from(t,this)}ranges(t){return DateRange.fromMany(t,this)}getDateParts(t){return getDateParts(t,this)}getDateFromParts(t){return getDateFromParts(t,this.timezone)}getDateFromParams(t,r,n,i,o,a,s){return this.getDateFromParts({year:t,month:r,day:n,hours:i,minutes:o,seconds:a,milliseconds:s})}getPage(t){const r=this.pageCache.getOrSet(t,this);return getPage(t,r)}getMonthParts(t,r){const{firstDayOfWeek:n}=this;return this.monthCache.getOrSet(t,r,n)}getThisMonthParts(){const t=new Date;return this.getMonthParts(t.getMonth()+1,t.getFullYear())}getPrevMonthParts(t,r){return t===1?this.getMonthParts(12,r-1):this.getMonthParts(t-1,r)}getNextMonthParts(t,r){return t===12?this.getMonthParts(1,r+1):this.getMonthParts(t+1,r)}getHourLabels(){return getHourDates().map(t=>this.formatDate(t,this.masks.hours))}getDayId(t){return this.formatDate(t,"YYYY-MM-DD")}}var GroupRuleType=(e=>(e.Any="any",e.All="all",e))(GroupRuleType||{}),IntervalRuleType=(e=>(e.Days="days",e.Weeks="weeks",e.Months="months",e.Years="years",e))(IntervalRuleType||{}),ComponentRuleType=(e=>(e.Days="days",e.Weekdays="weekdays",e.Weeks="weeks",e.Months="months",e.Years="years",e))(ComponentRuleType||{}),OrdinalComponentRuleType=(e=>(e.OrdinalWeekdays="ordinalWeekdays",e))(OrdinalComponentRuleType||{});class IntervalRule{constructor(t,r,n){__publicField(this,"validated",!0),this.type=t,this.interval=r,this.from=n,this.from||(console.error('A valid "from" date is required for date interval rule. This rule will be skipped.'),this.validated=!1)}passes(t){if(!this.validated)return!0;const{date:r}=t;switch(this.type){case"days":return diffInDays(this.from.date,r)%this.interval===0;case"weeks":return diffInWeeks(this.from.date,r)%this.interval===0;case"months":return diffInMonths(this.from.date,r)%this.interval===0;case"years":return diffInYears(this.from.date,r)%this.interval===0;default:return!1}}}class ComponentRule{constructor(t,r,n,i){__publicField(this,"components",[]),this.type=t,this.validator=n,this.getter=i,this.components=this.normalizeComponents(r)}static create(t,r){switch(t){case"days":return new DaysRule(r);case"weekdays":return new WeekdaysRule(r);case"weeks":return new WeeksRule(r);case"months":return new MonthsRule(r);case"years":return new YearsRule(r)}}normalizeComponents(t){if(this.validator(t))return[t];if(!isArray(t))return[];const r=[];return t.forEach(n=>{if(!this.validator(n)){console.error(`Component value ${n} in invalid for "${this.type}" rule. This rule will be skipped.`);return}r.push(n)}),r}passes(t){return this.getter(t).some(i=>this.components.includes(i))}}class DaysRule extends ComponentRule{constructor(t){super("days",t,isDayInMonth,({day:r,dayFromEnd:n})=>[r,-n])}}class WeekdaysRule extends ComponentRule{constructor(t){super("weekdays",t,isDayOfWeek,({weekday:r})=>[r])}}class WeeksRule extends ComponentRule{constructor(t){super("weeks",t,isWeekInMonth,({week:r,weekFromEnd:n})=>[r,-n])}}class MonthsRule extends ComponentRule{constructor(t){super("months",t,isMonthInYear,({month:r})=>[r])}}class YearsRule extends ComponentRule{constructor(t){super("years",t,isNumber_1,({year:r})=>[r])}}class OrdinalComponentRule{constructor(t,r){__publicField(this,"components"),this.type=t,this.components=this.normalizeComponents(r)}normalizeArrayConfig(t){const r=[];return t.forEach((n,i)=>{if(isNumber_1(n)){if(i===0)return;if(!isOrdinalWeekInMonth(t[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!isDayOfWeek(n)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}r.push([t[0],n])}else isArray(n)&&r.push(...this.normalizeArrayConfig(n))}),r}normalizeComponents(t){const r=[];return t.forEach((n,i)=>{if(isNumber_1(n)){if(i===0)return;if(!isOrdinalWeekInMonth(t[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!isDayOfWeek(n)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}r.push([t[0],n])}else isArray(n)&&r.push(...this.normalizeArrayConfig(n))}),r}passes(t){const{weekday:r,weekdayOrdinal:n,weekdayOrdinalFromEnd:i}=t;return this.components.some(([o,a])=>(o===n||o===-i)&&r===a)}}class FunctionRule{constructor(t){__publicField(this,"type","function"),__publicField(this,"validated",!0),this.fn=t,isFunction_1(t)||(console.error("The function rule requires a valid function. This rule will be skipped."),this.validated=!1)}passes(t){return this.validated?this.fn(t):!0}}class DateRepeat{constructor(t,r={},n){__publicField(this,"validated",!0),__publicField(this,"config"),__publicField(this,"type",GroupRuleType.Any),__publicField(this,"from"),__publicField(this,"until"),__publicField(this,"rules",[]),__publicField(this,"locale",new Locale),this.parent=n,r.locale&&(this.locale=r.locale),this.config=t,isFunction_1(t)?(this.type=GroupRuleType.All,this.rules=[new FunctionRule(t)]):isArray(t)?(this.type=GroupRuleType.Any,this.rules=t.map(i=>new DateRepeat(i,r,this))):isObject(t)?(this.type=GroupRuleType.All,this.from=t.from?this.locale.getDateParts(t.from):n==null?void 0:n.from,this.until=t.until?this.locale.getDateParts(t.until):n==null?void 0:n.until,this.rules=this.getObjectRules(t)):(console.error("Rule group configuration must be an object or an array."),this.validated=!1)}getObjectRules(t){const r=[];if(t.every&&(isString_1(t.every)&&(t.every=[1,`${t.every}s`]),isArray(t.every))){const[n=1,i=IntervalRuleType.Days]=t.every;r.push(new IntervalRule(i,n,this.from))}return Object.values(ComponentRuleType).forEach(n=>{n in t&&r.push(ComponentRule.create(n,t[n]))}),Object.values(OrdinalComponentRuleType).forEach(n=>{n in t&&r.push(new OrdinalComponentRule(n,t[n]))}),t.on!=null&&(isArray(t.on)||(t.on=[t.on]),r.push(new DateRepeat(t.on,{locale:this.locale},this.parent))),r}passes(t){return this.validated?this.from&&t.dayIndex<=this.from.dayIndex||this.until&&t.dayIndex>=this.until.dayIndex?!1:this.type===GroupRuleType.Any?this.rules.some(r=>r.passes(t)):this.rules.every(r=>r.passes(t)):!0}}function isDayInMonth(e){return isNumber_1(e)?e>=1&&e<=31:!1}function isDayOfWeek(e){return isNumber_1(e)?e>=1&&e<=7:!1}function isWeekInMonth(e){return isNumber_1(e)?e>=-6&&e<=-1||e>=1&&e<=6:!1}function isMonthInYear(e){return isNumber_1(e)?e>=1&&e<=12:!1}function isOrdinalWeekInMonth(e){return!(!isNumber_1(e)||e<-5||e>5||e===0)}const DatePatchKeys={dateTime:["year","month","day","hours","minutes","seconds","milliseconds"],date:["year","month","day"],time:["hours","minutes","seconds","milliseconds"]},daysInWeek=7,weeksInMonth=6,MS_PER_SECOND=1e3,MS_PER_MINUTE=MS_PER_SECOND*60,MS_PER_HOUR=MS_PER_MINUTE*60,MS_PER_DAY=MS_PER_HOUR*24,daysInMonths=[31,28,31,30,31,30,31,31,30,31,30,31],maskMacros=["L","iso"],DATE_PART_RANGES={milliseconds:[0,999,3],seconds:[0,59,2],minutes:[0,59,2],hours:[0,23,2]},token=/d{1,2}|W{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|Z{1,4}|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,literal=/\[([^]*?)\]/gm,formatFlags={D(e){return e.day},DD(e){return pad(e.day,2)},d(e){return e.weekday-1},dd(e){return pad(e.weekday-1,2)},W(e,t){return t.dayNamesNarrow[e.weekday-1]},WW(e,t){return t.dayNamesShorter[e.weekday-1]},WWW(e,t){return t.dayNamesShort[e.weekday-1]},WWWW(e,t){return t.dayNames[e.weekday-1]},M(e){return e.month},MM(e){return pad(e.month,2)},MMM(e,t){return t.monthNamesShort[e.month-1]},MMMM(e,t){return t.monthNames[e.month-1]},YY(e){return String(e.year).substr(2)},YYYY(e){return pad(e.year,4)},h(e){return e.hours%12||12},hh(e){return pad(e.hours%12||12,2)},H(e){return e.hours},HH(e){return pad(e.hours,2)},m(e){return e.minutes},mm(e){return pad(e.minutes,2)},s(e){return e.seconds},ss(e){return pad(e.seconds,2)},S(e){return Math.round(e.milliseconds/100)},SS(e){return pad(Math.round(e.milliseconds/10),2)},SSS(e){return pad(e.milliseconds,3)},a(e,t){return e.hours<12?t.amPm[0]:t.amPm[1]},A(e,t){return e.hours<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},Z(){return"Z"},ZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${pad(Math.floor(Math.abs(t)/60),2)}`},ZZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${pad(Math.floor(Math.abs(t)/60)*100+Math.abs(t)%60,4)}`},ZZZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${pad(Math.floor(Math.abs(t)/60),2)}:${pad(Math.abs(t)%60,2)}`}},twoDigits=/\d\d?/,threeDigits=/\d{3}/,fourDigits=/\d{4}/,word=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF/]+(\s*?[\u0600-\u06FF]+){1,2}/i,noop=()=>{},monthUpdate=e=>(t,r,n)=>{const i=n[e].indexOf(r.charAt(0).toUpperCase()+r.substr(1).toLowerCase());~i&&(t.month=i)},parseFlags={D:[twoDigits,(e,t)=>{e.day=t}],Do:[new RegExp(twoDigits.source+word.source),(e,t)=>{e.day=parseInt(t,10)}],d:[twoDigits,noop],W:[word,noop],M:[twoDigits,(e,t)=>{e.month=t-1}],MMM:[word,monthUpdate("monthNamesShort")],MMMM:[word,monthUpdate("monthNames")],YY:[twoDigits,(e,t)=>{const n=+new Date().getFullYear().toString().substr(0,2);e.year=+`${t>68?n-1:n}${t}`}],YYYY:[fourDigits,(e,t)=>{e.year=t}],S:[/\d/,(e,t)=>{e.milliseconds=t*100}],SS:[/\d{2}/,(e,t)=>{e.milliseconds=t*10}],SSS:[threeDigits,(e,t)=>{e.milliseconds=t}],h:[twoDigits,(e,t)=>{e.hours=t}],m:[twoDigits,(e,t)=>{e.minutes=t}],s:[twoDigits,(e,t)=>{e.seconds=t}],a:[word,(e,t,r)=>{const n=t.toLowerCase();n===r.amPm[0]?e.isPm=!1:n===r.amPm[1]&&(e.isPm=!0)}],Z:[/[^\s]*?[+-]\d\d:?\d\d|[^\s]*?Z?/,(e,t)=>{t==="Z"&&(t="+00:00");const r=`${t}`.match(/([+-]|\d\d)/gi);if(r){const n=+r[1]*60+parseInt(r[2],10);e.timezoneOffset=r[0]==="+"?n:-n}}]};parseFlags.DD=parseFlags.D;parseFlags.dd=parseFlags.d;parseFlags.WWWW=parseFlags.WWW=parseFlags.WW=parseFlags.W;parseFlags.MM=parseFlags.M;parseFlags.mm=parseFlags.m;parseFlags.hh=parseFlags.H=parseFlags.HH=parseFlags.h;parseFlags.ss=parseFlags.s;parseFlags.A=parseFlags.a;parseFlags.ZZZZ=parseFlags.ZZZ=parseFlags.ZZ=parseFlags.Z;function normalizeMasks(e,t){return(arrayHasItems(e)&&e||[isString_1(e)&&e||"YYYY-MM-DD"]).map(r=>maskMacros.reduce((n,i)=>n.replace(i,t.masks[i]||""),r))}function isDateParts(e){return isObject(e)&&"year"in e&&"month"in e&&"day"in e}function startOfWeek(e,t=1){const r=e.getDay()+1,n=r>=t?t-r:-(7-(t-r));return addDays(e,n)}function getDayIndex(e,t,r){const n=Date.UTC(e,t-1,r);return diffInDays(new Date(0),new Date(n))}function diffInDays(e,t){return Math.round((t.getTime()-e.getTime())/MS_PER_DAY)}function diffInWeeks(e,t){return Math.ceil(diffInDays(startOfWeek(e),startOfWeek(t))/7)}function diffInYears(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}function diffInMonths(e,t){return diffInYears(e,t)*12+(t.getMonth()-e.getMonth())}function getDateFromParts(e,t=""){const r=new Date,{year:n=r.getFullYear(),month:i=r.getMonth()+1,day:o=r.getDate(),hours:a=0,minutes:s=0,seconds:l=0,milliseconds:c=0}=e;if(t){const d=`${pad(n,4)}-${pad(i,2)}-${pad(o,2)}T${pad(a,2)}:${pad(s,2)}:${pad(l,2)}.${pad(c,3)}`;return toDate$1(d,{timeZone:t})}return new Date(n,i-1,o,a,s,l,c)}function getDateParts(e,t){let r=new Date(e.getTime());t.timezone&&(r=new Date(e.toLocaleString("en-US",{timeZone:t.timezone})),r.setMilliseconds(e.getMilliseconds()));const n=r.getMilliseconds(),i=r.getSeconds(),o=r.getMinutes(),a=r.getHours(),s=n+i*MS_PER_SECOND+o*MS_PER_MINUTE+a*MS_PER_HOUR,l=r.getMonth()+1,c=r.getFullYear(),d=t.getMonthParts(l,c),m=r.getDate(),g=d.numDays-m+1,v=r.getDay()+1,_=Math.floor((m-1)/7+1),S=Math.floor((d.numDays-m)/7+1),C=Math.ceil((m+Math.abs(d.firstWeekday-d.firstDayOfWeek))/7),y=d.numWeeks-C+1,b=d.weeknumbers[C],u=getDayIndex(c,l,m);return{milliseconds:n,seconds:i,minutes:o,hours:a,time:s,day:m,dayFromEnd:g,weekday:v,weekdayOrdinal:_,weekdayOrdinalFromEnd:S,week:C,weekFromEnd:y,weeknumber:b,month:l,year:c,date:r,dateTime:r.getTime(),dayIndex:u,timezoneOffset:0,isValid:!0}}function getMonthPartsKey(e,t,r){return`${t}-${e}-${r}`}function getMonthParts(e,t,r){const n=t%4===0&&t%100!==0||t%400===0,i=new Date(t,e-1,1),o=i.getDay()+1,a=e===2&&n?29:daysInMonths[e-1],s=r-1,l=getWeeksInMonth(i,{weekStartsOn:s}),c=[],d=[];for(let m=0;m<l;m++){const g=addDays(i,m*7);c.push(getWeek(g,{weekStartsOn:s})),d.push(getISOWeek(g))}return{firstDayOfWeek:r,firstDayOfMonth:i,inLeapYear:n,firstWeekday:o,numDays:a,numWeeks:l,month:e,year:t,weeknumbers:c,isoWeeknumbers:d}}function getWeekdayDates(){const e=[];for(let i=0;i<daysInWeek;i++)e.push(getDateFromParts({year:2020,month:1,day:5+i,hours:12}));return e}function getDayNames(e,t=void 0){const r=new Intl.DateTimeFormat(t,{weekday:e});return getWeekdayDates().map(n=>r.format(n))}function getHourDates(){const e=[];for(let t=0;t<=24;t++)e.push(new Date(2e3,0,1,t));return e}function getRelativeTimeNames(e=void 0){const t=["second","minute","hour","day","week","month","quarter","year"],r=new Intl.RelativeTimeFormat(e);return t.reduce((n,i)=>{const o=r.formatToParts(100,i);return n[i]=o[1].unit,n},{})}function getMonthDates(){const e=[];for(let t=0;t<12;t++)e.push(new Date(2e3,t,15));return e}function getMonthNames(e,t=void 0){const r=new Intl.DateTimeFormat(t,{month:e,timeZone:"UTC"});return getMonthDates().map(n=>r.format(n))}function datePartIsValid(e,t,r){return isNumber_1(t)?t===e:isArray(t)?t.includes(e):isFunction_1(t)?t(e,r):!(t.min!=null&&t.min>e||t.max!=null&&t.max<e||t.interval!=null&&e%t.interval!==0)}function getDatePartOptions(e,t,r){const n=[],[i,o,a]=t;for(let s=i;s<=o;s++)(r==null||datePartIsValid(s,r,e))&&n.push({value:s,label:pad(s,a)});return n}function getDatePartsOptions(e,t){return{milliseconds:getDatePartOptions(e,DATE_PART_RANGES.milliseconds,t.milliseconds),seconds:getDatePartOptions(e,DATE_PART_RANGES.seconds,t.seconds),minutes:getDatePartOptions(e,DATE_PART_RANGES.minutes,t.minutes),hours:getDatePartOptions(e,DATE_PART_RANGES.hours,t.hours)}}function getNearestDatePart(e,t,r,n){const o=getDatePartOptions(e,t,n).reduce((a,s)=>{if(s.disabled)return a;if(isNaN(a))return s.value;const l=Math.abs(a-r);return Math.abs(s.value-r)<l?s.value:a},NaN);return isNaN(o)?r:o}function applyRulesForDateParts(e,t){const r={...e};return Object.entries(t).forEach(([n,i])=>{const o=DATE_PART_RANGES[n],a=e[n];r[n]=getNearestDatePart(e,o,a,i)}),r}function parseDate(e,t,r){return normalizeMasks(t,r).map(i=>{if(typeof i!="string")throw new Error("Invalid mask");let o=e;if(o.length>1e3)return!1;let a=!0;const s={};if(i.replace(token,d=>{if(parseFlags[d]){const m=parseFlags[d],g=o.search(m[0]);~g?o.replace(m[0],v=>(m[1](s,v,r),o=o.substr(g+v.length),v)):a=!1}return parseFlags[d]?"":d.slice(1,d.length-1)}),!a)return!1;const l=new Date;s.hours!=null&&(s.isPm===!0&&+s.hours!=12?s.hours=+s.hours+12:s.isPm===!1&&+s.hours==12&&(s.hours=0));let c;return s.timezoneOffset!=null?(s.minutes=+(s.minutes||0)-+s.timezoneOffset,c=new Date(Date.UTC(s.year||l.getFullYear(),s.month||0,s.day||1,s.hours||0,s.minutes||0,s.seconds||0,s.milliseconds||0))):c=r.getDateFromParts({year:s.year||l.getFullYear(),month:(s.month||0)+1,day:s.day||1,hours:s.hours||0,minutes:s.minutes||0,seconds:s.seconds||0,milliseconds:s.milliseconds||0}),c}).find(i=>i)||new Date(e)}function formatDate(e,t,r){if(e==null)return"";let n=normalizeMasks(t,r)[0];/Z$/.test(n)&&(r.timezone="utc");const i=[];n=n.replace(literal,(a,s)=>(i.push(s),"??"));const o=r.getDateParts(e);return n=n.replace(token,a=>a in formatFlags?formatFlags[a](o,r):a.slice(1,a.length-1)),n.replace(/\?\?/g,()=>i.shift())}let attrKey=0;class Attribute{constructor(t,r,n){__publicField(this,"key",""),__publicField(this,"hashcode",""),__publicField(this,"highlight",null),__publicField(this,"content",null),__publicField(this,"dot",null),__publicField(this,"bar",null),__publicField(this,"event",null),__publicField(this,"popover",null),__publicField(this,"customData",null),__publicField(this,"ranges"),__publicField(this,"hasRanges",!1),__publicField(this,"order",0),__publicField(this,"pinPage",!1),__publicField(this,"maxRepeatSpan",0),__publicField(this,"locale");const{dates:i}=Object.assign(this,{hashcode:"",order:0,pinPage:!1},t);this.key||(this.key=++attrKey),this.locale=n,r.normalizeGlyphs(this),this.ranges=n.ranges(i??[]),this.hasRanges=!!arrayHasItems(this.ranges),this.maxRepeatSpan=this.ranges.filter(o=>o.hasRepeat).map(o=>o.daySpan).reduce((o,a)=>Math.max(o,a),0)}intersectsRange({start:t,end:r}){if(t==null||r==null)return!1;const n=this.ranges.filter(a=>!a.hasRepeat);for(const a of n)if(a.intersectsDayRange(t.dayIndex,r.dayIndex))return!0;const i=this.ranges.filter(a=>a.hasRepeat);if(!i.length)return!1;let o=t;for(this.maxRepeatSpan>1&&(o=this.locale.getDateParts(addDays(o.date,-this.maxRepeatSpan)));o.dayIndex<=r.dayIndex;){for(const a of i)if(a.startsOnDay(o))return!0;o=this.locale.getDateParts(addDays(o.date,1))}return!1}}function showPopover(e){document&&document.dispatchEvent(new CustomEvent("show-popover",{detail:e}))}function hidePopover(e){document&&document.dispatchEvent(new CustomEvent("hide-popover",{detail:e}))}function togglePopover(e){document&&document.dispatchEvent(new CustomEvent("toggle-popover",{detail:e}))}function getPopoverEventHandlers(e){const{visibility:t}=e,r=t==="click",n=t==="hover",i=t==="hover-focus",o=t==="focus";e.autoHide=!r;let a=!1,s=!1;const l=_=>{r&&(togglePopover({...e,target:e.target||_.currentTarget}),_.stopPropagation())},c=_=>{a||(a=!0,(n||i)&&showPopover({...e,target:e.target||_.currentTarget}))},d=()=>{a&&(a=!1,(n||i&&!s)&&hidePopover(e))},m=_=>{s||(s=!0,(o||i)&&showPopover({...e,target:e.target||_.currentTarget}))},g=_=>{s&&!elementContains(_.currentTarget,_.relatedTarget)&&(s=!1,(o||i&&!a)&&hidePopover(e))},v={};switch(e.visibility){case"click":v.click=l;break;case"hover":v.mousemove=c,v.mouseleave=d;break;case"focus":v.focusin=m,v.focusout=g;break;case"hover-focus":v.mousemove=c,v.mouseleave=d,v.focusin=m,v.focusout=g;break}return v}const removeHandlers=e=>{const t=resolveEl(e);if(t==null)return;const r=t.popoverHandlers;!r||!r.length||(r.forEach(n=>n()),delete t.popoverHandlers)},addHandlers=(e,t)=>{const r=resolveEl(e);if(r==null)return;const n=[],i=getPopoverEventHandlers(t);Object.entries(i).forEach(([o,a])=>{n.push(on(r,o,a))}),r.popoverHandlers=n},popoverDirective={mounted(e,t){const{value:r}=t;r&&addHandlers(e,r)},updated(e,t){const{oldValue:r,value:n}=t,i=r==null?void 0:r.visibility,o=n==null?void 0:n.visibility;i!==o&&(i&&(removeHandlers(e),o||hidePopover(r)),o&&addHandlers(e,n))},unmounted(e){removeHandlers(e)}},addHorizontalSwipeHandler=(e,t,{maxSwipeTime:r,minHorizontalSwipeDistance:n,maxVerticalSwipeDistance:i})=>{if(!e||!e.addEventListener||!isFunction_1(t))return null;let o=0,a=0,s=null,l=!1;function c(m){const g=m.changedTouches[0];o=g.screenX,a=g.screenY,s=new Date().getTime(),l=!0}function d(m){if(!l||!s)return;l=!1;const g=m.changedTouches[0],v=g.screenX-o,_=g.screenY-a;if(new Date().getTime()-s<r&&Math.abs(v)>=n&&Math.abs(_)<=i){const C={toLeft:!1,toRight:!1};v<0?C.toLeft=!0:C.toRight=!0,t(C)}}return on(e,"touchstart",c,{passive:!0}),on(e,"touchend",d,{passive:!0}),()=>{off(e,"touchstart",c),off(e,"touchend",d)}},watchSkippers={},skipWatcher=(e,t=10)=>{watchSkippers[e]=Date.now()+t},handleWatcher=(e,t)=>{if(e in watchSkippers){const r=watchSkippers[e];if(Date.now()<r)return;delete watchSkippers[e]}t()};function windowExists(){return typeof window<"u"}function windowHasFeature(e){return windowExists()&&e in window}function useDarkMode(e){const t=ref(!1),r=computed(()=>t.value?"dark":"light");let n,i;function o(v){t.value=v.matches}function a(){windowHasFeature("matchMedia")&&(n=window.matchMedia("(prefers-color-scheme: dark)"),n.addEventListener("change",o),t.value=n.matches)}function s(){const{selector:v=":root",darkClass:_="dark"}=e.value,S=document.querySelector(v);t.value=S.classList.contains(_)}function l(v){const{selector:_=":root",darkClass:S="dark"}=v;if(windowExists()&&_&&S){const C=document.querySelector(_);C&&(i=new MutationObserver(s),i.observe(C,{attributes:!0,attributeFilter:["class"]}),t.value=C.classList.contains(S))}}function c(){m();const v=typeof e.value;v==="string"&&e.value.toLowerCase()==="system"?a():v==="object"?l(e.value):t.value=!!e.value}const d=watch(()=>e.value,()=>c(),{immediate:!0});function m(){n&&(n.removeEventListener("change",o),n=void 0),i&&(i.disconnect(),i=void 0)}function g(){m(),d()}return onUnmounted(()=>g()),{isDark:t,displayMode:r,cleanup:g}}const targetProps=["base","start","end","startEnd"],displayProps=["class","wrapperClass","contentClass","style","contentStyle","color","fillMode"],_defaultProfile={base:{},start:{},end:{}};function normalizeConfig(e,t,r=_defaultProfile){let n=e,i={};t===!0||isString_1(t)?(n=isString_1(t)?t:n,i={...r}):isObject(t)&&(hasAny(t,targetProps)?i={...t}:i={base:{...t},start:{...t},end:{...t}});const o=defaultsDeep_1(i,{start:i.startEnd,end:i.startEnd},r);return Object.entries(o).forEach(([a,s])=>{let l=n;s===!0||isString_1(s)?(l=isString_1(s)?s:l,o[a]={color:l}):isObject(s)&&(hasAny(s,displayProps)?o[a]={...s}:o[a]={}),defaultsDeep_1(o[a],{color:l})}),o}class HighlightRenderer{constructor(){__publicField(this,"type","highlight")}normalizeConfig(t,r){return normalizeConfig(t,r,{base:{fillMode:"light"},start:{fillMode:"solid"},end:{fillMode:"solid"}})}prepareRender(t){t.highlights=[],t.content||(t.content=[])}render({data:t,onStart:r,onEnd:n},i){const{key:o,highlight:a}=t;if(!a)return;const{highlights:s}=i,{base:l,start:c,end:d}=a;r&&n?s.push({...c,key:o,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-bg-${c.fillMode}`,c.class],contentClass:[`vc-attr vc-highlight-content-${c.fillMode} vc-${c.color}`,c.contentClass]}):r?(s.push({...l,key:`${o}-base`,wrapperClass:`vc-day-layer vc-day-box-right-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-start vc-highlight-bg-${l.fillMode}`,l.class]}),s.push({...c,key:o,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-bg-${c.fillMode}`,c.class],contentClass:[`vc-attr vc-highlight-content-${c.fillMode} vc-${c.color}`,c.contentClass]})):n?(s.push({...l,key:`${o}-base`,wrapperClass:`vc-day-layer vc-day-box-left-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-end vc-highlight-bg-${l.fillMode}`,l.class]}),s.push({...d,key:o,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${d.color}`,class:[`vc-highlight vc-highlight-bg-${d.fillMode}`,d.class],contentClass:[`vc-attr vc-highlight-content-${d.fillMode} vc-${d.color}`,d.contentClass]})):s.push({...l,key:`${o}-middle`,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-middle vc-highlight-bg-${l.fillMode}`,l.class],contentClass:[`vc-attr vc-highlight-content-${l.fillMode} vc-${l.color}`,l.contentClass]})}}class BaseRenderer{constructor(t,r){__publicField(this,"type",""),__publicField(this,"collectionType",""),this.type=t,this.collectionType=r}normalizeConfig(t,r){return normalizeConfig(t,r)}prepareRender(t){t[this.collectionType]=[]}render({data:t,onStart:r,onEnd:n},i){const{key:o}=t,a=t[this.type];if(!o||!a)return;const s=i[this.collectionType],{base:l,start:c,end:d}=a;r?s.push({...c,key:o,class:[`vc-${this.type} vc-${this.type}-start vc-${c.color} vc-attr`,c.class]}):n?s.push({...d,key:o,class:[`vc-${this.type} vc-${this.type}-end vc-${d.color} vc-attr`,d.class]}):s.push({...l,key:o,class:[`vc-${this.type} vc-${this.type}-base vc-${l.color} vc-attr`,l.class]})}}class ContentRenderer extends BaseRenderer{constructor(){super("content","content")}normalizeConfig(t,r){return normalizeConfig("base",r)}}class DotRenderer extends BaseRenderer{constructor(){super("dot","dots")}}class BarRenderer extends BaseRenderer{constructor(){super("bar","bars")}}class Theme{constructor(t){__publicField(this,"color"),__publicField(this,"renderers",[new ContentRenderer,new HighlightRenderer,new DotRenderer,new BarRenderer]),this.color=t}normalizeGlyphs(t){this.renderers.forEach(r=>{const n=r.type;t[n]!=null&&(t[n]=r.normalizeConfig(this.color,t[n]))})}prepareRender(t={}){return this.renderers.forEach(r=>{r.prepareRender(t)}),t}render(t,r){this.renderers.forEach(n=>{n.render(t,r)})}}const contextKey$4=Symbol("__vc_base_context__"),propsDef$2={color:{type:String,default:()=>getDefault("color")},isDark:{type:[Boolean,String,Object],default:()=>getDefault("isDark")},firstDayOfWeek:Number,masks:Object,locale:[String,Object],timezone:String,minDate:null,maxDate:null,disabledDates:null};function createBase(e){const t=computed(()=>e.color??""),r=computed(()=>e.isDark??!1),{displayMode:n}=useDarkMode(r),i=computed(()=>new Theme(t.value)),o=computed(()=>{if(e.locale instanceof Locale)return e.locale;const g=isObject(e.locale)?e.locale:{id:e.locale,firstDayOfWeek:e.firstDayOfWeek,masks:e.masks};return new Locale(g,e.timezone)}),a=computed(()=>o.value.masks),s=computed(()=>e.minDate),l=computed(()=>e.maxDate),c=computed(()=>{const g=e.disabledDates?[...e.disabledDates]:[];return s.value!=null&&g.push({start:null,end:addDays(o.value.toDate(s.value),-1)}),l.value!=null&&g.push({start:addDays(o.value.toDate(l.value),1),end:null}),o.value.ranges(g)}),d=computed(()=>new Attribute({key:"disabled",dates:c.value,order:100},i.value,o.value)),m={color:t,isDark:r,displayMode:n,theme:i,locale:o,masks:a,minDate:s,maxDate:l,disabledDates:c,disabledAttribute:d};return provide(contextKey$4,m),m}function useOrCreateBase(e){return inject$1(contextKey$4,()=>createBase(e),!0)}function contextKey$3(e){return`__vc_slot_${e}__`}function provideSlots(e,t={}){Object.keys(e).forEach(r=>{provide(contextKey$3(t[r]??r),e[r])})}function useSlot(e){return inject$1(contextKey$3(e),null)}const propsDef$1={...propsDef$2,view:{type:String,default:"monthly",validator(e){return["daily","weekly","monthly"].includes(e)}},rows:{type:Number,default:1},columns:{type:Number,default:1},step:Number,titlePosition:{type:String,default:()=>getDefault("titlePosition")},navVisibility:{type:String,default:()=>getDefault("navVisibility")},showWeeknumbers:[Boolean,String],showIsoWeeknumbers:[Boolean,String],expanded:Boolean,borderless:Boolean,transparent:Boolean,initialPage:Object,initialPagePosition:{type:Number,default:1},minPage:Object,maxPage:Object,transition:String,attributes:Array,trimWeeks:Boolean,disablePageSwipe:Boolean},emitsDef=["dayclick","daymouseenter","daymouseleave","dayfocusin","dayfocusout","daykeydown","weeknumberclick","transition-start","transition-end","did-move","update:view","update:pages"],contextKey$2=Symbol("__vc_calendar_context__");function createCalendar(e,{slots:t,emit:r}){const n=ref(null),i=ref(null),o=ref(new Date().getDate()),a=ref(!1),s=ref(Symbol()),l=ref(Symbol()),c=ref(e.view),d=ref([]),m=ref("");let g=null,v=null;provideSlots(t);const{theme:_,color:S,displayMode:C,locale:y,masks:b,minDate:u,maxDate:w,disabledAttribute:x,disabledDates:E}=useOrCreateBase(e),T=computed(()=>e.rows*e.columns),k=computed(()=>e.step||T.value),D=computed(()=>head_1(d.value)??null),B=computed(()=>last_1(d.value)??null),A=computed(()=>e.minPage||(u.value?F(u.value):null)),O=computed(()=>e.maxPage||(w.value?F(w.value):null)),V=computed(()=>e.navVisibility),H=computed(()=>!!e.showWeeknumbers),q=computed(()=>!!e.showIsoWeeknumbers),K=computed(()=>c.value==="monthly"),Q=computed(()=>c.value==="weekly"),X=computed(()=>c.value==="daily"),N=()=>{a.value=!0,r("transition-start")},I=()=>{a.value=!1,r("transition-end"),g&&(g.resolve(!0),g=null)},U=(Ce,te,we=c.value)=>addPages(Ce,te,we,y.value),F=Ce=>getPageAddressForDate(Ce,c.value,y.value),ee=Ce=>{!x.value||!ne.value||(Ce.isDisabled=ne.value.cellExists(x.value.key,Ce.dayIndex))},ue=Ce=>{Ce.isFocusable=Ce.inMonth&&Ce.day===o.value},he=(Ce,te)=>{for(const we of Ce)for(const Pe of we.days)if(te(Pe)===!1)return},ve=computed(()=>d.value.reduce((Ce,te)=>(Ce.push(...te.viewDays),Ce),[])),j=computed(()=>{const Ce=[];return(e.attributes||[]).forEach((te,we)=>{!te||!te.dates||Ce.push(new Attribute({...te,order:te.order||0},_.value,y.value))}),x.value&&Ce.push(x.value),Ce}),M=computed(()=>arrayHasItems(j.value)),ne=computed(()=>{const Ce=new DateRangeContext;return j.value.forEach(te=>{te.ranges.forEach(we=>{Ce.render(te,we,ve.value)})}),Ce}),Y=computed(()=>ve.value.reduce((Ce,te)=>(Ce[te.dayIndex]={day:te,cells:[]},Ce[te.dayIndex].cells.push(...ne.value.getCells(te)),Ce),{})),de=(Ce,te)=>{const we=e.showWeeknumbers||e.showIsoWeeknumbers;return we==null?"":isBoolean_1(we)?we?"left":"":we.startsWith("right")?te>1?"right":we:Ce>1?"left":we},L=()=>{var Ce,te;if(!M.value)return null;const we=j.value.find(Ge=>Ge.pinPage)||j.value[0];if(!we||!we.hasRanges)return null;const[Pe]=we.ranges,Ue=((Ce=Pe.start)==null?void 0:Ce.date)||((te=Pe.end)==null?void 0:te.date);return Ue?F(Ue):null},W=()=>{if(pageIsValid(D.value))return D.value;const Ce=L();return pageIsValid(Ce)?Ce:F(new Date)},J=(Ce,te={})=>{const{view:we=c.value,position:Pe=1,force:Ue}=te,Ge=Pe>0?1-Pe:-(T.value+Pe);let Je=U(Ce,Ge,we),ie=U(Je,T.value-1,we);return Ue||(pageIsBeforePage(Je,A.value)?Je=A.value:pageIsAfterPage(ie,O.value)&&(Je=U(O.value,1-T.value)),ie=U(Je,T.value-1)),{fromPage:Je,toPage:ie}},ae=(Ce,te,we="")=>{if(we==="none"||we==="fade")return we;if((Ce==null?void 0:Ce.view)!==(te==null?void 0:te.view))return"fade";const Pe=pageIsAfterPage(te,Ce),Ue=pageIsBeforePage(te,Ce);return!Pe&&!Ue?"fade":we==="slide-v"?Ue?"slide-down":"slide-up":Ue?"slide-right":"slide-left"},me=(Ce={})=>new Promise((te,we)=>{const{position:Pe=1,force:Ue=!1,transition:Ge}=Ce,Je=pageIsValid(Ce.page)?Ce.page:W(),{fromPage:ie}=J(Je,{position:Pe,force:Ue}),Se=[];for(let Re=0;Re<T.value;Re++){const Fe=U(ie,Re),qe=Re+1,Ze=Math.ceil(qe/e.columns),Be=e.rows-Ze+1,Ve=qe%e.columns||e.columns,Ie=e.columns-Ve+1,Qe=de(Ve,Ie);Se.push(y.value.getPage({...Fe,view:c.value,titlePosition:e.titlePosition,trimWeeks:e.trimWeeks,position:qe,row:Ze,rowFromEnd:Be,column:Ve,columnFromEnd:Ie,showWeeknumbers:H.value,showIsoWeeknumbers:q.value,weeknumberPosition:Qe}))}m.value=ae(d.value[0],Se[0],Ge),d.value=Se,m.value&&m.value!=="none"?g={resolve:te,reject:we}:te(!0)}),oe=Ce=>{const te=D.value??F(new Date);return U(te,Ce)},_e=(Ce,te={})=>{const we=pageIsValid(Ce)?Ce:F(Ce);return Object.assign(te,J(we,{...te,force:!0})),pageRangeToArray(te.fromPage,te.toPage,c.value,y.value).map(Ue=>pageIsBetweenPages(Ue,A.value,O.value)).some(Ue=>Ue)},pe=(Ce,te={})=>_e(oe(Ce),te),se=computed(()=>pe(-k.value)),ce=computed(()=>pe(k.value)),ye=async(Ce,te={})=>!te.force&&!_e(Ce,te)?!1:(te.fromPage&&!pageIsEqualToPage(te.fromPage,D.value)&&(hidePopover({id:s.value,hideDelay:0}),te.view&&(skipWatcher("view",10),c.value=te.view),await me({...te,page:te.fromPage,position:1,force:!0}),r("did-move",d.value)),!0),be=(Ce,te={})=>ye(oe(Ce),te),xe=()=>be(-k.value),ke=()=>be(k.value),Te=Ce=>{const te=K.value?".in-month":"",we=`.id-${y.value.getDayId(Ce)}${te}`,Pe=`${we}.vc-focusable, ${we} .vc-focusable`,Ue=n.value;if(Ue){const Ge=Ue.querySelector(Pe);if(Ge)return Ge.focus(),!0}return!1},z=async(Ce,te={})=>Te(Ce)?!0:(await ye(Ce,te),Te(Ce)),R=(Ce,te)=>{o.value=Ce.day,r("dayclick",Ce,te)},$=(Ce,te)=>{r("daymouseenter",Ce,te)},G=(Ce,te)=>{r("daymouseleave",Ce,te)},le=(Ce,te)=>{o.value=Ce.day,i.value=Ce,Ce.isFocused=!0,r("dayfocusin",Ce,te)},fe=(Ce,te)=>{i.value=null,Ce.isFocused=!1,r("dayfocusout",Ce,te)},ge=(Ce,te)=>{r("daykeydown",Ce,te);const we=Ce.noonDate;let Pe=null;switch(te.key){case"ArrowLeft":{Pe=addDays(we,-1);break}case"ArrowRight":{Pe=addDays(we,1);break}case"ArrowUp":{Pe=addDays(we,-7);break}case"ArrowDown":{Pe=addDays(we,7);break}case"Home":{Pe=addDays(we,-Ce.weekdayPosition+1);break}case"End":{Pe=addDays(we,Ce.weekdayPositionFromEnd);break}case"PageUp":{te.altKey?Pe=addYears(we,-1):Pe=addMonths(we,-1);break}case"PageDown":{te.altKey?Pe=addYears(we,1):Pe=addMonths(we,1);break}}Pe&&(te.preventDefault(),z(Pe).catch())},Le=Ce=>{const te=i.value;te!=null&&ge(te,Ce)},Ne=(Ce,te)=>{r("weeknumberclick",Ce,te)};me({page:e.initialPage,position:e.initialPagePosition}),onMounted(()=>{!e.disablePageSwipe&&n.value&&(v=addHorizontalSwipeHandler(n.value,({toLeft:Ce=!1,toRight:te=!1})=>{Ce?ke():te&&xe()},getDefault("touch")))}),onUnmounted(()=>{d.value=[],v&&v()}),watch(()=>y.value,()=>{me()}),watch(()=>T.value,()=>me()),watch(()=>e.view,()=>c.value=e.view),watch(()=>c.value,()=>{handleWatcher("view",()=>{me()}),r("update:view",c.value)}),watch(()=>o.value,()=>{he(d.value,Ce=>ue(Ce))}),watchEffect(()=>{r("update:pages",d.value),he(d.value,Ce=>{ee(Ce),ue(Ce)})});const Me={emit:r,containerRef:n,focusedDay:i,inTransition:a,navPopoverId:s,dayPopoverId:l,view:c,pages:d,transitionName:m,theme:_,color:S,displayMode:C,locale:y,masks:b,attributes:j,disabledAttribute:x,disabledDates:E,attributeContext:ne,days:ve,dayCells:Y,count:T,step:k,firstPage:D,lastPage:B,canMovePrev:se,canMoveNext:ce,minPage:A,maxPage:O,isMonthly:K,isWeekly:Q,isDaily:X,navVisibility:V,showWeeknumbers:H,showIsoWeeknumbers:q,getDateAddress:F,canMove:_e,canMoveBy:pe,move:ye,moveBy:be,movePrev:xe,moveNext:ke,onTransitionBeforeEnter:N,onTransitionAfterEnter:I,tryFocusDate:Te,focusDate:z,onKeydown:Le,onDayKeydown:ge,onDayClick:R,onDayMouseenter:$,onDayMouseleave:G,onDayFocusin:le,onDayFocusout:fe,onWeeknumberClick:Ne};return provide(contextKey$2,Me),Me}function useCalendar(){const e=inject$1(contextKey$2);if(e)return e;throw new Error("Calendar context missing. Please verify this component is nested within a valid context provider.")}const _sfc_main$k=defineComponent$1({inheritAttrs:!1,emits:["before-show","after-show","before-hide","after-hide"],props:{id:{type:[Number,String,Symbol],required:!0},showDelay:{type:Number,default:0},hideDelay:{type:Number,default:110},boundarySelector:{type:String}},setup(e,{emit:t}){let r;const n=ref();let i=null,o=null;const a=reactive({isVisible:!1,target:null,data:null,transition:"slide-fade",placement:"bottom",direction:"",positionFixed:!1,modifiers:[],isInteractive:!0,visibility:"click",isHovered:!1,isFocused:!1,autoHide:!1,force:!1});function s(I){I&&(a.direction=I.split("-")[0])}function l({placement:I,options:U}){s(I||(U==null?void 0:U.placement))}const c=computed(()=>({placement:a.placement,strategy:a.positionFixed?"fixed":"absolute",boundary:"",modifiers:[{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:l},...a.modifiers||[]],onFirstUpdate:l})),d=computed(()=>{const I=a.direction==="left"||a.direction==="right";let U="";if(a.placement){const F=a.placement.split("-");F.length>1&&(U=F[1])}return["start","top","left"].includes(U)?I?"top":"left":["end","bottom","right"].includes(U)?I?"bottom":"right":I?"middle":"center"});function m(){o&&(o.destroy(),o=null)}function g(){nextTick$1(()=>{const I=resolveEl(a.target);!I||!n.value||(o&&o.state.elements.reference!==I&&m(),o?o.update():o=createPopper(I,n.value,c.value))})}function v(I){Object.assign(a,omit(I,"force"))}function _(I,U){clearTimeout(r),I>0?r=setTimeout(U,I):U()}function S(I){return!I||!o?!1:resolveEl(I)===o.state.elements.reference}async function C(I={}){a.force||(I.force&&(a.force=!0),_(I.showDelay??e.showDelay,()=>{a.isVisible&&(a.force=!1),v({...I,isVisible:!0}),g()}))}function y(I={}){o&&(I.target&&!S(I.target)||a.force||(I.force&&(a.force=!0),_(I.hideDelay??e.hideDelay,()=>{a.isVisible||(a.force=!1),a.isVisible=!1})))}function b(I={}){I.target!=null&&(a.isVisible&&S(I.target)?y(I):C(I))}function u(I){if(!o)return;const U=o.state.elements.reference;if(!n.value||!U)return;const F=I.target;elementContains(n.value,F)||elementContains(U,F)||y({force:!0})}function w(I){(I.key==="Esc"||I.key==="Escape")&&y()}function x({detail:I}){!I.id||I.id!==e.id||C(I)}function E({detail:I}){!I.id||I.id!==e.id||y(I)}function T({detail:I}){!I.id||I.id!==e.id||b(I)}function k(){on(document,"keydown",w),on(document,"click",u),on(document,"show-popover",x),on(document,"hide-popover",E),on(document,"toggle-popover",T)}function D(){off(document,"keydown",w),off(document,"click",u),off(document,"show-popover",x),off(document,"hide-popover",E),off(document,"toggle-popover",T)}function B(I){t("before-show",I)}function A(I){a.force=!1,t("after-show",I)}function O(I){t("before-hide",I)}function V(I){a.force=!1,m(),t("after-hide",I)}function H(I){I.stopPropagation()}function q(){a.isHovered=!0,a.isInteractive&&["hover","hover-focus"].includes(a.visibility)&&C()}function K(){if(a.isHovered=!1,!o)return;const I=o.state.elements.reference;a.autoHide&&!a.isFocused&&(!I||I!==document.activeElement)&&["hover","hover-focus"].includes(a.visibility)&&y()}function Q(){a.isFocused=!0,a.isInteractive&&["focus","hover-focus"].includes(a.visibility)&&C()}function X(I){["focus","hover-focus"].includes(a.visibility)&&(!I.relatedTarget||!elementContains(n.value,I.relatedTarget))&&(a.isFocused=!1,!a.isHovered&&a.autoHide&&y())}function N(){i!=null&&(i.disconnect(),i=null)}return watch(()=>n.value,I=>{N(),I&&(i=new ResizeObserver(()=>{o&&o.update()}),i.observe(I))}),watch(()=>a.placement,s,{immediate:!0}),onMounted(()=>{k()}),onUnmounted(()=>{m(),N(),D()}),{...toRefs(a),popoverRef:n,alignment:d,hide:y,setupPopper:g,beforeEnter:B,afterEnter:A,beforeLeave:O,afterLeave:V,onClick:H,onMouseOver:q,onMouseLeave:K,onFocusIn:Q,onFocusOut:X}}}),_export_sfc=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r};function _sfc_render$7(e,t,r,n,i,o){return openBlock(),createElementBlock("div",{class:normalizeClass(["vc-popover-content-wrapper",{"is-interactive":e.isInteractive}]),ref:"popoverRef",onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a)),onMouseover:t[1]||(t[1]=(...a)=>e.onMouseOver&&e.onMouseOver(...a)),onMouseleave:t[2]||(t[2]=(...a)=>e.onMouseLeave&&e.onMouseLeave(...a)),onFocusin:t[3]||(t[3]=(...a)=>e.onFocusIn&&e.onFocusIn(...a)),onFocusout:t[4]||(t[4]=(...a)=>e.onFocusOut&&e.onFocusOut(...a))},[createVNode(Transition,{name:`vc-${e.transition}`,appear:"",onBeforeEnter:e.beforeEnter,onAfterEnter:e.afterEnter,onBeforeLeave:e.beforeLeave,onAfterLeave:e.afterLeave},{default:withCtx(()=>[e.isVisible?(openBlock(),createElementBlock("div",mergeProps({key:0,tabindex:"-1",class:`vc-popover-content direction-${e.direction}`},e.$attrs),[renderSlot(e.$slots,"default",{direction:e.direction,alignment:e.alignment,data:e.data,hide:e.hide},()=>[createTextVNode(toDisplayString(e.data),1)]),createBaseVNode("span",{class:normalizeClass(["vc-popover-caret",`direction-${e.direction}`,`align-${e.alignment}`])},null,2)],16)):createCommentVNode("",!0)]),_:3},8,["name","onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],34)}const Popover=_export_sfc(_sfc_main$k,[["render",_sfc_render$7]]),_hoisted_1$c={class:"vc-day-popover-row"},_hoisted_2$b={key:0,class:"vc-day-popover-row-indicator"},_hoisted_3$9={class:"vc-day-popover-row-label"},_sfc_main$j=defineComponent$1({__name:"PopoverRow",props:{attribute:null},setup(e){const t=e,r=computed(()=>{const{content:n,highlight:i,dot:o,bar:a,popover:s}=t.attribute;return s&&s.hideIndicator?null:n?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${n.base.color}`}:i?{class:`vc-highlight-bg-solid vc-day-popover-row-highlight vc-attr vc-${i.base.color}`}:o?{class:`vc-dot vc-attr vc-${o.base.color}`}:a?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${a.base.color}`}:null});return(n,i)=>(openBlock(),createElementBlock("div",_hoisted_1$c,[unref(r)?(openBlock(),createElementBlock("div",_hoisted_2$b,[createBaseVNode("span",{class:normalizeClass(unref(r).class)},null,2)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$9,[renderSlot(n.$slots,"default",{},()=>[createTextVNode(toDisplayString(e.attribute.popover?e.attribute.popover.label:"No content provided"),1)])])]))}}),__default__$3={inheritAttrs:!1},_sfc_main$i=defineComponent$1({...__default__$3,__name:"CalendarSlot",props:{name:null},setup(e){const r=useSlot(e.name);return(n,i)=>unref(r)?(openBlock(),createBlock(resolveDynamicComponent(unref(r)),normalizeProps(mergeProps({key:0},n.$attrs)),null,16)):renderSlot(n.$slots,"default",{key:1})}}),_hoisted_1$b={class:"vc-day-popover-container"},_hoisted_2$a={key:0,class:"vc-day-popover-header"},_sfc_main$h=defineComponent$1({__name:"CalendarDayPopover",setup(e){const{dayPopoverId:t,displayMode:r,color:n,masks:i,locale:o}=useCalendar();function a(l,c){return o.value.formatDate(l,c)}function s(l){return o.value.formatDate(l.date,i.value.dayPopover)}return(l,c)=>(openBlock(),createBlock(Popover,{id:unref(t),class:normalizeClass([`vc-${unref(n)}`,`vc-${unref(r)}`])},{default:withCtx(({data:{day:d,attributes:m},hide:g})=>[createVNode(_sfc_main$i,{name:"day-popover",day:d,"day-title":s(d),attributes:m,format:a,masks:unref(i),hide:g},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$b,[unref(i).dayPopover?(openBlock(),createElementBlock("div",_hoisted_2$a,toDisplayString(s(d)),1)):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(m,v=>(openBlock(),createBlock(_sfc_main$j,{key:v.key,attribute:v},null,8,["attribute"]))),128))])]),_:2},1032,["day","day-title","attributes","masks","hide"])]),_:1},8,["id","class"]))}}),_sfc_main$g={},_hoisted_1$a={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},_hoisted_2$9=createBaseVNode("polyline",{points:"9 18 15 12 9 6"},null,-1),_hoisted_3$8=[_hoisted_2$9];function _sfc_render$6(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$a,_hoisted_3$8)}const IconChevronRight=_export_sfc(_sfc_main$g,[["render",_sfc_render$6]]),_sfc_main$f={},_hoisted_1$9={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},_hoisted_2$8=createBaseVNode("polyline",{points:"15 18 9 12 15 6"},null,-1),_hoisted_3$7=[_hoisted_2$8];function _sfc_render$5(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$9,_hoisted_3$7)}const IconChevronLeft=_export_sfc(_sfc_main$f,[["render",_sfc_render$5]]),_sfc_main$e={},_hoisted_1$8={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},_hoisted_2$7=createBaseVNode("polyline",{points:"6 9 12 15 18 9"},null,-1),_hoisted_3$6=[_hoisted_2$7];function _sfc_render$4(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$8,_hoisted_3$6)}const IconChevronDown=_export_sfc(_sfc_main$e,[["render",_sfc_render$4]]),_sfc_main$d={},_hoisted_1$7={fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},_hoisted_2$6=createBaseVNode("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),_hoisted_3$5=[_hoisted_2$6];function _sfc_render$3(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$7,_hoisted_3$5)}const IconClock=_export_sfc(_sfc_main$d,[["render",_sfc_render$3]]),icons=Object.freeze(Object.defineProperty({__proto__:null,IconChevronDown,IconChevronLeft,IconChevronRight,IconClock},Symbol.toStringTag,{value:"Module"})),_sfc_main$c=defineComponent$1({__name:"BaseIcon",props:{name:{type:String,required:!0},width:{type:String},height:{type:String},size:{type:String,default:"26"},viewBox:{type:String}},setup(e){const t=e,r=computed(()=>t.width||t.size),n=computed(()=>t.height||t.size),i=computed(()=>icons[`Icon${t.name}`]);return(o,a)=>(openBlock(),createBlock(resolveDynamicComponent(unref(i)),{width:unref(r),height:unref(n),class:"vc-base-icon"},null,8,["width","height"]))}}),_hoisted_1$6=["disabled"],_hoisted_2$5={key:1,class:"vc-title-wrapper"},_hoisted_3$4={type:"button",class:"vc-title"},_hoisted_4$3=["disabled"],_sfc_main$b=defineComponent$1({__name:"CalendarHeader",props:{page:null,layout:null,isLg:{type:Boolean},isXl:{type:Boolean},is2xl:{type:Boolean},hideTitle:{type:Boolean},hideArrows:{type:Boolean}},setup(e){const t=e,{navPopoverId:r,navVisibility:n,canMovePrev:i,movePrev:o,canMoveNext:a,moveNext:s}=useCalendar(),l=computed(()=>{switch(t.page.titlePosition){case"left":return"bottom-start";case"right":return"bottom-end";default:return"bottom"}}),c=computed(()=>{const{page:S}=t;return{id:r.value,visibility:n.value,placement:l.value,modifiers:[{name:"flip",options:{fallbackPlacements:["bottom"]}}],data:{page:S},isInteractive:!0}}),d=computed(()=>t.page.titlePosition.includes("left")),m=computed(()=>t.page.titlePosition.includes("right")),g=computed(()=>t.layout?t.layout:d.value?"tu-pn":m.value?"pn-tu":"p-tu-n;"),v=computed(()=>({prev:g.value.includes("p")&&!t.hideArrows,title:g.value.includes("t")&&!t.hideTitle,next:g.value.includes("n")&&!t.hideArrows})),_=computed(()=>({gridTemplateColumns:g.value.split("").map(C=>{switch(C){case"p":return"[prev] auto";case"n":return"[next] auto";case"t":return"[title] auto";case"-":return"1fr";default:return""}}).join(" ")}));return(S,C)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["vc-header",{"is-lg":e.isLg,"is-xl":e.isXl,"is-2xl":e.is2xl}]),style:normalizeStyle(unref(_))},[unref(v).prev?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"vc-arrow vc-prev vc-focus",disabled:!unref(i),onClick:C[0]||(C[0]=(...y)=>unref(o)&&unref(o)(...y)),onKeydown:C[1]||(C[1]=withKeys((...y)=>unref(o)&&unref(o)(...y),["space","enter"]))},[createVNode(_sfc_main$i,{name:"header-prev-button",disabled:!unref(i)},{default:withCtx(()=>[createVNode(_sfc_main$c,{name:"ChevronLeft",size:"24"})]),_:1},8,["disabled"])],40,_hoisted_1$6)):createCommentVNode("",!0),unref(v).title?(openBlock(),createElementBlock("div",_hoisted_2$5,[createVNode(_sfc_main$i,{name:"header-title-wrapper"},{default:withCtx(()=>[withDirectives((openBlock(),createElementBlock("button",_hoisted_3$4,[createVNode(_sfc_main$i,{name:"header-title",title:e.page.title},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(e.page.title),1)]),_:1},8,["title"])])),[[unref(popoverDirective),unref(c)]])]),_:1})])):createCommentVNode("",!0),unref(v).next?(openBlock(),createElementBlock("button",{key:2,type:"button",class:"vc-arrow vc-next vc-focus",disabled:!unref(a),onClick:C[2]||(C[2]=(...y)=>unref(s)&&unref(s)(...y)),onKeydown:C[3]||(C[3]=withKeys((...y)=>unref(s)&&unref(s)(...y),["space","enter"]))},[createVNode(_sfc_main$i,{name:"header-next-button",disabled:!unref(a)},{default:withCtx(()=>[createVNode(_sfc_main$c,{name:"ChevronRight",size:"24"})]),_:1},8,["disabled"])],40,_hoisted_4$3)):createCommentVNode("",!0)],6))}}),contextKey$1=Symbol("__vc_page_context__");function createPage(e){const{locale:t,getDateAddress:r,canMove:n}=useCalendar();function i(s,l){const{month:c,year:d}=r(new Date);return getMonthDates().map((m,g)=>{const v=g+1;return{month:v,year:s,id:getPageId(v,s),label:t.value.formatDate(m,l),ariaLabel:t.value.formatDate(m,"MMMM"),isActive:v===e.value.month&&s===e.value.year,isCurrent:v===c&&s===d,isDisabled:!n({month:v,year:s},{position:e.value.position})}})}function o(s,l){const{year:c}=r(new Date),{position:d}=e.value,m=[];for(let g=s;g<=l;g+=1){const v=[...Array(12).keys()].some(_=>n({month:_+1,year:g},{position:d}));m.push({year:g,id:g.toString(),label:g.toString(),ariaLabel:g.toString(),isActive:g===e.value.year,isCurrent:g===c,isDisabled:!v})}return m}const a={page:e,getMonthItems:i,getYearItems:o};return provide(contextKey$1,a),a}function usePage(){const e=inject$1(contextKey$1);if(e)return e;throw new Error("Page context missing. Please verify this component is nested within a valid context provider.")}const _hoisted_1$5={class:"vc-nav-header"},_hoisted_2$4=["disabled"],_hoisted_3$3=["disabled"],_hoisted_4$2={class:"vc-nav-items"},_hoisted_5$2=["data-id","aria-label","disabled","onClick","onKeydown"],_sfc_main$a=defineComponent$1({__name:"CalendarNav",setup(e){const{masks:t,move:r}=useCalendar(),{page:n,getMonthItems:i,getYearItems:o}=usePage(),a=ref(!0),s=12,l=ref(n.value.year),c=ref(g(n.value.year)),d=ref(null);function m(){setTimeout(()=>{if(d.value==null)return;const F=d.value.querySelector(".vc-nav-item:not(:disabled)");F&&F.focus()},10)}function g(F){return Math.floor(F/s)}function v(){a.value=!a.value}function _(F){return F*s}function S(F){return s*(F+1)-1}function C(){Q.value&&(a.value&&b(),w())}function y(){X.value&&(a.value&&u(),x())}function b(){l.value--}function u(){l.value++}function w(){c.value--}function x(){c.value++}const E=computed(()=>i(l.value,t.value.navMonths).map(F=>({...F,click:()=>r({month:F.month,year:F.year},{position:n.value.position})}))),T=computed(()=>i(l.value-1,t.value.navMonths)),k=computed(()=>T.value.some(F=>!F.isDisabled)),D=computed(()=>i(l.value+1,t.value.navMonths)),B=computed(()=>D.value.some(F=>!F.isDisabled)),A=computed(()=>o(_(c.value),S(c.value)).map(F=>({...F,click:()=>{l.value=F.year,a.value=!0,m()}}))),O=computed(()=>o(_(c.value-1),S(c.value-1))),V=computed(()=>O.value.some(F=>!F.isDisabled)),H=computed(()=>o(_(c.value+1),S(c.value+1))),q=computed(()=>H.value.some(F=>!F.isDisabled)),K=computed(()=>a.value?E.value:A.value),Q=computed(()=>a.value?k.value:V.value),X=computed(()=>a.value?B.value:q.value),N=computed(()=>head_1(A.value.map(F=>F.year))),I=computed(()=>last_1(A.value.map(F=>F.year))),U=computed(()=>a.value?l.value:`${N.value} - ${I.value}`);return watchEffect(()=>{l.value=n.value.year,m()}),watch(()=>l.value,F=>c.value=g(F)),onMounted(()=>m()),(F,ee)=>(openBlock(),createElementBlock("div",{class:"vc-nav-container",ref_key:"navContainer",ref:d},[createBaseVNode("div",_hoisted_1$5,[createBaseVNode("button",{type:"button",class:"vc-nav-arrow is-left vc-focus",disabled:!unref(Q),onClick:C,onKeydown:ee[0]||(ee[0]=ue=>unref(onSpaceOrEnter)(ue,C))},[createVNode(_sfc_main$i,{name:"nav-prev-button",move:C,disabled:!unref(Q)},{default:withCtx(()=>[createVNode(_sfc_main$c,{name:"ChevronLeft",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,_hoisted_2$4),createBaseVNode("button",{type:"button",class:"vc-nav-title vc-focus",onClick:v,onKeydown:ee[1]||(ee[1]=ue=>unref(onSpaceOrEnter)(ue,v))},toDisplayString(unref(U)),33),createBaseVNode("button",{type:"button",class:"vc-nav-arrow is-right vc-focus",disabled:!unref(X),onClick:y,onKeydown:ee[2]||(ee[2]=ue=>unref(onSpaceOrEnter)(ue,y))},[createVNode(_sfc_main$i,{name:"nav-next-button",move:y,disabled:!unref(X)},{default:withCtx(()=>[createVNode(_sfc_main$c,{name:"ChevronRight",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,_hoisted_3$3)]),createBaseVNode("div",_hoisted_4$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(K),ue=>(openBlock(),createElementBlock("button",{key:ue.label,type:"button","data-id":ue.id,"aria-label":ue.ariaLabel,class:normalizeClass(["vc-nav-item vc-focus",[ue.isActive?"is-active":ue.isCurrent?"is-current":""]]),disabled:ue.isDisabled,onClick:ue.click,onKeydown:he=>unref(onSpaceOrEnter)(he,ue.click)},toDisplayString(ue.label),43,_hoisted_5$2))),128))])],512))}}),_sfc_main$9=defineComponent$1({__name:"CalendarPageProvider",props:{page:null},setup(e){return createPage(toRef(e,"page")),(r,n)=>renderSlot(r.$slots,"default")}}),_sfc_main$8=defineComponent$1({__name:"CalendarNavPopover",setup(e){const{navPopoverId:t,color:r,displayMode:n}=useCalendar();return(i,o)=>(openBlock(),createBlock(Popover,{id:unref(t),class:normalizeClass(["vc-nav-popover-container",`vc-${unref(r)}`,`vc-${unref(n)}`])},{default:withCtx(({data:a})=>[createVNode(_sfc_main$9,{page:a.page},{default:withCtx(()=>[createVNode(_sfc_main$i,{name:"nav"},{default:withCtx(()=>[createVNode(_sfc_main$a)]),_:1})]),_:2},1032,["page"])]),_:1},8,["id","class"]))}}),_sfc_main$7=defineComponent$1({directives:{popover:popoverDirective},components:{CalendarSlot:_sfc_main$i},props:{day:{type:Object,required:!0}},setup(e){const{locale:t,theme:r,attributeContext:n,dayPopoverId:i,onDayClick:o,onDayMouseenter:a,onDayMouseleave:s,onDayFocusin:l,onDayFocusout:c,onDayKeydown:d}=useCalendar(),m=computed(()=>e.day),g=computed(()=>n.value.getCells(m.value)),v=computed(()=>g.value.map(q=>q.data)),_=computed(()=>({...m.value,attributes:v.value,attributeCells:g.value}));function S({data:q},{popovers:K}){const{key:Q,customData:X,popover:N}=q;if(!N)return;const I=defaults_1({key:Q,customData:X,attribute:q},{...N},{visibility:N.label?"hover":"click",placement:"bottom",isInteractive:!N.label});K.splice(0,0,I)}const C=computed(()=>{const q={...r.value.prepareRender({}),popovers:[]};return g.value.forEach(K=>{r.value.render(K,q),S(K,q)}),q}),y=computed(()=>C.value.highlights),b=computed(()=>!!arrayHasItems(y.value)),u=computed(()=>C.value.content),w=computed(()=>C.value.dots),x=computed(()=>!!arrayHasItems(w.value)),E=computed(()=>C.value.bars),T=computed(()=>!!arrayHasItems(E.value)),k=computed(()=>C.value.popovers),D=computed(()=>k.value.map(q=>q.attribute)),B=useSlot("day-content"),A=computed(()=>["vc-day",...m.value.classes,{"vc-day-box-center-center":!B},{"is-not-in-month":!e.day.inMonth}]),O=computed(()=>{let q;m.value.isFocusable?q="0":q="-1";const K=["vc-day-content vc-focusable vc-focus vc-attr",{"vc-disabled":m.value.isDisabled},get_1(last_1(y.value),"contentClass"),get_1(last_1(u.value),"class")||""],Q={...get_1(last_1(y.value),"contentStyle"),...get_1(last_1(u.value),"style")};return{class:K,style:Q,tabindex:q,"aria-label":m.value.ariaLabel,"aria-disabled":!!m.value.isDisabled,role:"button"}}),V=computed(()=>({click(q){o(_.value,q)},mouseenter(q){a(_.value,q)},mouseleave(q){s(_.value,q)},focusin(q){l(_.value,q)},focusout(q){c(_.value,q)},keydown(q){d(_.value,q)}})),H=computed(()=>arrayHasItems(k.value)?defaults_1({id:i.value,data:{day:m,attributes:D.value}},...k.value):null);return{attributes:v,attributeCells:g,bars:E,dayClasses:A,dayContentProps:O,dayContentEvents:V,dayPopover:H,glyphs:C,dots:w,hasDots:x,hasBars:T,highlights:y,hasHighlights:b,locale:t,popovers:k}}}),_hoisted_1$4={key:0,class:"vc-highlights vc-day-layer"},_hoisted_2$3={key:1,class:"vc-day-layer vc-day-box-center-bottom"},_hoisted_3$2={class:"vc-dots"},_hoisted_4$1={key:2,class:"vc-day-layer vc-day-box-center-bottom"},_hoisted_5$1={class:"vc-bars"};function _sfc_render$2(e,t,r,n,i,o){const a=resolveComponent("CalendarSlot"),s=resolveDirective("popover");return openBlock(),createElementBlock("div",{class:normalizeClass(e.dayClasses)},[e.hasHighlights?(openBlock(),createElementBlock("div",_hoisted_1$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.highlights,({key:l,wrapperClass:c,class:d,style:m})=>(openBlock(),createElementBlock("div",{key:l,class:normalizeClass(c)},[createBaseVNode("div",{class:normalizeClass(d),style:normalizeStyle(m)},null,6)],2))),128))])):createCommentVNode("",!0),createVNode(a,{name:"day-content",day:e.day,attributes:e.attributes,"attribute-cells":e.attributeCells,dayProps:e.dayContentProps,dayEvents:e.dayContentEvents,locale:e.locale},{default:withCtx(()=>[withDirectives((openBlock(),createElementBlock("div",mergeProps(e.dayContentProps,toHandlers(e.dayContentEvents,!0)),[createTextVNode(toDisplayString(e.day.label),1)],16)),[[s,e.dayPopover]])]),_:1},8,["day","attributes","attribute-cells","dayProps","dayEvents","locale"]),e.hasDots?(openBlock(),createElementBlock("div",_hoisted_2$3,[createBaseVNode("div",_hoisted_3$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.dots,({key:l,class:c,style:d})=>(openBlock(),createElementBlock("span",{key:l,class:normalizeClass(c),style:normalizeStyle(d)},null,6))),128))])])):createCommentVNode("",!0),e.hasBars?(openBlock(),createElementBlock("div",_hoisted_4$1,[createBaseVNode("div",_hoisted_5$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.bars,({key:l,class:c,style:d})=>(openBlock(),createElementBlock("span",{key:l,class:normalizeClass(c),style:normalizeStyle(d)},null,6))),128))])])):createCommentVNode("",!0)],2)}const CalendarDay=_export_sfc(_sfc_main$7,[["render",_sfc_render$2]]),_hoisted_1$3$1={class:"vc-weekdays"},_hoisted_2$2=["onClick"],__default__$2={inheritAttrs:!1},_sfc_main$6=defineComponent$1({...__default__$2,__name:"CalendarPage",setup(e){const{page:t}=usePage(),{onWeeknumberClick:r}=useCalendar();return(n,i)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["vc-pane",`row-${unref(t).row}`,`row-from-end-${unref(t).rowFromEnd}`,`column-${unref(t).column}`,`column-from-end-${unref(t).columnFromEnd}`]),ref:"pane"},[createVNode(_sfc_main$b,{page:unref(t),"is-lg":"","hide-arrows":""},null,8,["page"]),createBaseVNode("div",{class:normalizeClass(["vc-weeks",{[`vc-show-weeknumbers-${unref(t).weeknumberPosition}`]:unref(t).weeknumberPosition}])},[createBaseVNode("div",_hoisted_1$3$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(t).weekdays,({weekday:o,label:a},s)=>(openBlock(),createElementBlock("div",{key:s,class:normalizeClass(`vc-weekday vc-weekday-${o}`)},toDisplayString(a),3))),128))]),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(t).viewWeeks,o=>(openBlock(),createElementBlock("div",{key:`weeknumber-${o.weeknumber}`,class:"vc-week"},[unref(t).weeknumberPosition?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["vc-weeknumber",`is-${unref(t).weeknumberPosition}`])},[createBaseVNode("span",{class:normalizeClass(["vc-weeknumber-content"]),onClick:a=>unref(r)(o,a)},toDisplayString(o.weeknumberDisplay),9,_hoisted_2$2)],2)):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.days,a=>(openBlock(),createBlock(CalendarDay,{key:a.id,day:a},null,8,["day"]))),128))]))),128))],2)],2))}}),_sfc_main$5$1=defineComponent$1({components:{CalendarHeader:_sfc_main$b,CalendarPage:_sfc_main$6,CalendarNavPopover:_sfc_main$8,CalendarDayPopover:_sfc_main$h,CalendarPageProvider:_sfc_main$9,CalendarSlot:_sfc_main$i},props:propsDef$1,emit:emitsDef,setup(e,{emit:t,slots:r}){return createCalendar(e,{emit:t,slots:r})}}),_hoisted_1$2$1={class:"vc-pane-header-wrapper"};function _sfc_render$1(e,t,r,n,i,o){const a=resolveComponent("CalendarHeader"),s=resolveComponent("CalendarPage"),l=resolveComponent("CalendarSlot"),c=resolveComponent("CalendarPageProvider"),d=resolveComponent("CalendarDayPopover"),m=resolveComponent("CalendarNavPopover");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",mergeProps({"data-helptext":"Press the arrow keys to navigate by day, Home and End to navigate to week ends, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year"},e.$attrs,{class:["vc-container",`vc-${e.view}`,`vc-${e.color}`,`vc-${e.displayMode}`,{"vc-expanded":e.expanded,"vc-bordered":!e.borderless,"vc-transparent":e.transparent}],onMouseup:t[0]||(t[0]=withModifiers(()=>{},["prevent"])),ref:"containerRef"}),[createBaseVNode("div",{class:normalizeClass(["vc-pane-container",{"in-transition":e.inTransition}])},[createBaseVNode("div",_hoisted_1$2$1,[e.firstPage?(openBlock(),createBlock(a,{key:0,page:e.firstPage,"is-lg":"","hide-title":""},null,8,["page"])):createCommentVNode("",!0)]),createVNode(Transition,{name:`vc-${e.transitionName}`,onBeforeEnter:e.onTransitionBeforeEnter,onAfterEnter:e.onTransitionAfterEnter},{default:withCtx(()=>[(openBlock(),createElementBlock("div",{key:e.pages[0].id,class:"vc-pane-layout",style:normalizeStyle({gridTemplateColumns:`repeat(${e.columns}, 1fr)`})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.pages,g=>(openBlock(),createBlock(c,{key:g.id,page:g},{default:withCtx(()=>[createVNode(l,{name:"page",page:g},{default:withCtx(()=>[createVNode(s)]),_:2},1032,["page"])]),_:2},1032,["page"]))),128))],4))]),_:1},8,["name","onBeforeEnter","onAfterEnter"]),createVNode(l,{name:"footer"})],2)],16),createVNode(d),createVNode(m)],64)}const Calendar=_export_sfc(_sfc_main$5$1,[["render",_sfc_render$1]]),contextKey=Symbol("__vc_date_picker_context__"),propsDef={...propsDef$2,mode:{type:String,default:"date"},modelValue:{type:[Number,String,Date,Object]},modelModifiers:{type:Object,default:()=>({})},rules:[String,Object],is24hr:Boolean,hideTimeHeader:Boolean,timeAccuracy:{type:Number,default:2},isRequired:Boolean,isRange:Boolean,updateOnInput:{type:Boolean,default:()=>getDefault("datePicker.updateOnInput")},inputDebounce:{type:Number,default:()=>getDefault("datePicker.inputDebounce")},popover:{type:[Boolean,Object],default:!0},dragAttribute:Object,selectAttribute:Object,attributes:[Object,Array]},emits=["update:modelValue","drag","dayclick","daykeydown","popover-will-show","popover-did-show","popover-will-hide","popover-did-hide"];function createDatePicker(e,{emit:t,slots:r}){provideSlots(r,{footer:"dp-footer"});const n=createBase(e),{locale:i,masks:o,disabledAttribute:a}=n,s=ref(!1),l=ref(Symbol()),c=ref(null),d=ref(null),m=ref(["",""]),g=ref(null),v=ref(null);let _,S,C=!0;const y=computed(()=>e.isRange||e.modelModifiers.range===!0),b=computed(()=>y.value&&c.value!=null?c.value.start:null),u=computed(()=>y.value&&c.value!=null?c.value.end:null),w=computed(()=>e.mode.toLowerCase()==="date"),x=computed(()=>e.mode.toLowerCase()==="datetime"),E=computed(()=>e.mode.toLowerCase()==="time"),T=computed(()=>!!d.value),k=computed(()=>{let te="date";e.modelModifiers.number&&(te="number"),e.modelModifiers.string&&(te="string");const we=o.value.modelValue||"iso";return ee({type:te,mask:we})}),D=computed(()=>pe(d.value??c.value)),B=computed(()=>E.value?e.is24hr?o.value.inputTime24hr:o.value.inputTime:x.value?e.is24hr?o.value.inputDateTime24hr:o.value.inputDateTime:o.value.input),A=computed(()=>/[Hh]/g.test(B.value)),O=computed(()=>/[dD]{1,2}|Do|W{1,4}|M{1,4}|YY(?:YY)?/g.test(B.value)),V=computed(()=>{if(A.value&&O.value)return"dateTime";if(O.value)return"date";if(A.value)return"time"}),H=computed(()=>{var te;const we=((te=g.value)==null?void 0:te.$el.previousElementSibling)??void 0;return defaultsDeep_1({},e.popover,getDefault("datePicker.popover"),{target:we})}),q=computed(()=>getPopoverEventHandlers({...H.value,id:l.value})),K=computed(()=>y.value?{start:m.value[0],end:m.value[1]}:m.value[0]),Q=computed(()=>{const te=["start","end"].map(we=>({input:me(we),change:oe(we),keyup:_e,...e.popover&&q.value}));return y.value?{start:te[0],end:te[1]}:te[0]}),X=computed(()=>{if(!j(c.value))return null;const te={key:"select-drag",...e.selectAttribute,dates:c.value,pinPage:!0},{dot:we,bar:Pe,highlight:Ue,content:Ge}=te;return!we&&!Pe&&!Ue&&!Ge&&(te.highlight=!0),te}),N=computed(()=>{if(!y.value||!j(d.value))return null;const te={key:"select-drag",...e.dragAttribute,dates:d.value},{dot:we,bar:Pe,highlight:Ue,content:Ge}=te;return!we&&!Pe&&!Ue&&!Ge&&(te.highlight={startEnd:{fillMode:"outline"}}),te}),I=computed(()=>{const te=isArray(e.attributes)?[...e.attributes]:[];return N.value?te.unshift(N.value):X.value&&te.unshift(X.value),te}),U=computed(()=>ee(e.rules==="auto"?F():e.rules??{}));function F(){const te={ms:[0,999],sec:[0,59],min:[0,59],hr:[0,23]},we=w.value?0:e.timeAccuracy;return[0,1].map(Pe=>{switch(we){case 0:return{hours:te.hr[Pe],minutes:te.min[Pe],seconds:te.sec[Pe],milliseconds:te.ms[Pe]};case 1:return{minutes:te.min[Pe],seconds:te.sec[Pe],milliseconds:te.ms[Pe]};case 3:return{milliseconds:te.ms[Pe]};case 4:return{};default:return{seconds:te.sec[Pe],milliseconds:te.ms[Pe]}}})}function ee(te){return isArray(te)?te.length===1?[te[0],te[0]]:te:[te,te]}function ue(te){return ee(te).map((we,Pe)=>({...we,rules:U.value[Pe]}))}function he(te){return te==null?!1:isNumber_1(te)?!isNaN(te):isDate(te)?!isNaN(te.getTime()):isString_1(te)?te!=="":isDateParts(te)}function ve(te){return isObject(te)&&"start"in te&&"end"in te&&he(te.start??null)&&he(te.end??null)}function j(te){return ve(te)||he(te)}function M(te,we){if(te==null&&we==null)return!0;if(te==null||we==null)return!1;const Pe=isDate(te),Ue=isDate(we);return Pe&&Ue?te.getTime()===we.getTime():Pe||Ue?!1:M(te.start,we.start)&&M(te.end,we.end)}function ne(te){return!j(te)||!a.value?!1:a.value.intersectsRange(i.value.range(te))}function Y(te,we,Pe,Ue){if(!j(te))return null;if(ve(te)){const Ge=i.value.toDate(te.start,{...we[0],fillDate:b.value??void 0,patch:Pe}),Je=i.value.toDate(te.end,{...we[1],fillDate:u.value??void 0,patch:Pe});return fe({start:Ge,end:Je},Ue)}return i.value.toDateOrNull(te,{...we[0],fillDate:c.value,patch:Pe})}function de(te,we){return ve(te)?{start:i.value.fromDate(te.start,we[0]),end:i.value.fromDate(te.end,we[1])}:y.value?null:i.value.fromDate(te,we[0])}function L(te,we={}){return clearTimeout(_),new Promise(Pe=>{const{debounce:Ue=0,...Ge}=we;Ue>0?_=window.setTimeout(()=>{Pe(W(te,Ge))},Ue):Pe(W(te,Ge))})}function W(te,{config:we=k.value,patch:Pe="dateTime",clearIfEqual:Ue=!1,formatInput:Ge=!0,hidePopover:Je=!1,dragging:ie=T.value,targetPriority:Se,moveToValue:Re=!1}={}){const Fe=ue(we);let qe=Y(te,Fe,Pe,Se);if(ne(qe)){if(ie)return null;qe=c.value,Je=!1}else qe==null&&e.isRequired?qe=c.value:qe!=null&&M(c.value,qe)&&Ue&&(qe=null);const Be=ie?d:c,Ve=!M(Be.value,qe);Be.value=qe,ie||(d.value=null);const Ie=de(qe,k.value);return Ve&&(C=!1,t(ie?"drag":"update:modelValue",Ie),nextTick$1(()=>C=!0)),Je&&!ie&&G(),Ge&&J(),Re&&nextTick$1(()=>Ne(Se??"start")),Ie}function J(){nextTick$1(()=>{const te=ue({type:"string",mask:B.value}),we=de(d.value??c.value,te);y.value?m.value=[we&&we.start,we&&we.end]:m.value=[we,""]})}function ae(te,we,Pe){m.value.splice(we==="start"?0:1,1,te);const Ue=y.value?{start:m.value[0],end:m.value[1]||m.value[0]}:te,Ge={type:"string",mask:B.value};L(Ue,{...Pe,config:Ge,patch:V.value,targetPriority:we,moveToValue:!0})}function me(te){return we=>{e.updateOnInput&&ae(we.currentTarget.value,te,{formatInput:!1,hidePopover:!1,debounce:e.inputDebounce})}}function oe(te){return we=>{ae(we.currentTarget.value,te,{formatInput:!0,hidePopover:!1})}}function _e(te){te.key==="Escape"&&L(c.value,{formatInput:!0,hidePopover:!0})}function pe(te){return y.value?[te&&te.start?i.value.getDateParts(te.start):null,te&&te.end?i.value.getDateParts(te.end):null]:[te?i.value.getDateParts(te):null]}function se(){d.value=null,J()}function ce(te){t("popover-will-show",te)}function ye(te){t("popover-did-show",te)}function be(te){se(),t("popover-will-hide",te)}function xe(te){t("popover-did-hide",te)}function ke(te){const we={patch:"date",formatInput:!0,hidePopover:!0};if(y.value){const Pe=!T.value;Pe?S={start:te.startDate,end:te.endDate}:S!=null&&(S.end=te.date),L(S,{...we,dragging:Pe})}else L(te.date,{...we,clearIfEqual:!e.isRequired})}function Te(te,we){ke(te),t("dayclick",te,we)}function z(te,we){switch(we.key){case" ":case"Enter":{ke(te),we.preventDefault();break}case"Escape":G()}t("daykeydown",te,we)}function R(te,we){!T.value||S==null||(S.end=te.date,L(fe(S),{patch:"date",formatInput:!0}))}function $(te={}){showPopover({...H.value,...te,isInteractive:!0,id:l.value})}function G(te={}){hidePopover({hideDelay:10,force:!0,...H.value,...te,id:l.value})}function le(te){togglePopover({...H.value,...te,isInteractive:!0,id:l.value})}function fe(te,we){const{start:Pe,end:Ue}=te;if(Pe>Ue)switch(we){case"start":return{start:Pe,end:Pe};case"end":return{start:Ue,end:Ue};default:return{start:Ue,end:Pe}}return{start:Pe,end:Ue}}async function ge(te,we={}){return v.value==null?!1:v.value.move(te,we)}async function Le(te,we={}){return v.value==null?!1:v.value.moveBy(te,we)}async function Ne(te,we={}){const Pe=c.value;if(v.value==null||!j(Pe))return!1;const Ue=te!=="end",Ge=Ue?1:-1,Je=ve(Pe)?Ue?Pe.start:Pe.end:Pe,ie=getPageAddressForDate(Je,"monthly",i.value);return v.value.move(ie,{position:Ge,...we})}watch(()=>e.isRange,te=>{te&&console.warn("The `is-range` prop will be deprecated in future releases. Please use the `range` modifier.")},{immediate:!0}),watch(()=>y.value,()=>{W(null,{formatInput:!0})}),watch(()=>B.value,()=>J()),watch(()=>e.modelValue,te=>{C&&W(te,{formatInput:!0,hidePopover:!1})}),watch(()=>U.value,()=>{isObject(e.rules)&&W(e.modelValue,{formatInput:!0,hidePopover:!1})}),watch(()=>e.timezone,()=>{W(c.value,{formatInput:!0})});const Me=ee(k.value);c.value=Y(e.modelValue??null,Me,"dateTime"),onMounted(()=>{W(e.modelValue,{formatInput:!0,hidePopover:!1})}),nextTick$1(()=>s.value=!0);const Ce={...n,showCalendar:s,datePickerPopoverId:l,popoverRef:g,popoverEvents:q,calendarRef:v,isRange:y,isTimeMode:E,isDateTimeMode:x,is24hr:toRef(e,"is24hr"),hideTimeHeader:toRef(e,"hideTimeHeader"),timeAccuracy:toRef(e,"timeAccuracy"),isDragging:T,inputValue:K,inputEvents:Q,dateParts:D,attributes:I,rules:U,move:ge,moveBy:Le,moveToValue:Ne,updateValue:L,showPopover:$,hidePopover:G,togglePopover:le,onDayClick:Te,onDayKeydown:z,onDayMouseEnter:R,onPopoverBeforeShow:ce,onPopoverAfterShow:ye,onPopoverBeforeHide:be,onPopoverAfterHide:xe};return provide(contextKey,Ce),Ce}function useDatePicker(){const e=inject$1(contextKey);if(e)return e;throw new Error("DatePicker context missing. Please verify this component is nested within a valid context provider.")}const _amOptions=[{value:0,label:"12"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"},{value:11,label:"11"}],_pmOptions=[{value:12,label:"12"},{value:13,label:"1"},{value:14,label:"2"},{value:15,label:"3"},{value:16,label:"4"},{value:17,label:"5"},{value:18,label:"6"},{value:19,label:"7"},{value:20,label:"8"},{value:21,label:"9"},{value:22,label:"10"},{value:23,label:"11"}];function createTimePicker(e){const t=useDatePicker(),{locale:r,isRange:n,isTimeMode:i,dateParts:o,rules:a,is24hr:s,hideTimeHeader:l,timeAccuracy:c,updateValue:d}=t;function m(O){O=Object.assign(v.value,O);let V=null;if(n.value){const H=g.value?O:o.value[0],q=g.value?o.value[1]:O;V={start:H,end:q}}else V=O;d(V,{patch:"time",targetPriority:g.value?"start":"end",moveToValue:!0})}const g=computed(()=>e.position===0),v=computed(()=>o.value[e.position]||{isValid:!1}),_=computed(()=>isDateParts(v.value)),S=computed(()=>!!v.value.isValid),C=computed(()=>!l.value&&S.value),y=computed(()=>{if(!_.value)return null;let O=r.value.toDate(v.value);return v.value.hours===24&&(O=new Date(O.getTime()-1)),O}),b=computed({get(){return v.value.hours},set(O){m({hours:O})}}),u=computed({get(){return v.value.minutes},set(O){m({minutes:O})}}),w=computed({get(){return v.value.seconds},set(O){m({seconds:O})}}),x=computed({get(){return v.value.milliseconds},set(O){m({milliseconds:O})}}),E=computed({get(){return v.value.hours<12},set(O){O=String(O).toLowerCase()=="true";let V=b.value;O&&V>=12?V-=12:!O&&V<12&&(V+=12),m({hours:V})}}),T=computed(()=>getDatePartsOptions(v.value,a.value[e.position])),k=computed(()=>_amOptions.filter(O=>T.value.hours.some(V=>V.value===O.value))),D=computed(()=>_pmOptions.filter(O=>T.value.hours.some(V=>V.value===O.value))),B=computed(()=>s.value?T.value.hours:E.value?k.value:D.value),A=computed(()=>{const O=[];return arrayHasItems(k.value)&&O.push({value:!0,label:"AM"}),arrayHasItems(D.value)&&O.push({value:!1,label:"PM"}),O});return{...t,showHeader:C,timeAccuracy:c,parts:v,isValid:S,date:y,hours:b,minutes:u,seconds:w,milliseconds:x,options:T,hourOptions:B,isAM:E,isAMOptions:A,is24hr:s}}const _hoisted_1$1$1=["value"],_hoisted_2$1=["value","disabled"],_hoisted_3$1={key:1,class:"vc-base-sizer","aria-hidden":"true"},__default__$1={inheritAttrs:!1},_sfc_main$4$1=defineComponent$1({...__default__$1,__name:"BaseSelect",props:{options:null,modelValue:null,alignRight:{type:Boolean},alignLeft:{type:Boolean},showIcon:{type:Boolean},fitContent:{type:Boolean}},emits:["update:modelValue"],setup(e){const t=e,r=computed(()=>{const n=t.options.find(i=>i.value===t.modelValue);return n==null?void 0:n.label});return(n,i)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["vc-base-select",{"vc-fit-content":e.fitContent,"vc-has-icon":e.showIcon}])},[createBaseVNode("select",mergeProps(n.$attrs,{value:e.modelValue,class:["vc-focus",{"vc-align-right":e.alignRight,"vc-align-left":e.alignLeft}],onChange:i[0]||(i[0]=o=>n.$emit("update:modelValue",o.target.value))}),[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.options,o=>(openBlock(),createElementBlock("option",{key:o.value,value:o.value,disabled:o.disabled},toDisplayString(o.label),9,_hoisted_2$1))),128))],16,_hoisted_1$1$1),e.showIcon?(openBlock(),createBlock(_sfc_main$c,{key:0,name:"ChevronDown",size:"18"})):createCommentVNode("",!0),e.fitContent?(openBlock(),createElementBlock("div",_hoisted_3$1,toDisplayString(unref(r)),1)):createCommentVNode("",!0)],2))}}),_hoisted_1$d={key:0,class:"vc-time-header"},_hoisted_2$c={class:"vc-time-weekday"},_hoisted_3={class:"vc-time-month"},_hoisted_4={class:"vc-time-day"},_hoisted_5={class:"vc-time-year"},_hoisted_6={class:"vc-time-select-group"},_hoisted_7=createBaseVNode("span",{class:"vc-time-colon"},":",-1),_hoisted_8=createBaseVNode("span",{class:"vc-time-colon"},":",-1),_hoisted_9=createBaseVNode("span",{class:"vc-time-decimal"},".",-1),_sfc_main$3$1=defineComponent$1({__name:"TimePicker",props:{position:null},setup(e,{expose:t}){const n=createTimePicker(e);t(n);const{locale:i,isValid:o,date:a,hours:s,minutes:l,seconds:c,milliseconds:d,options:m,hourOptions:g,isTimeMode:v,isAM:_,isAMOptions:S,is24hr:C,showHeader:y,timeAccuracy:b}=n;return(u,w)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["vc-time-picker",[{"vc-invalid":!unref(o),"vc-attached":!unref(v)}]])},[createVNode(_sfc_main$i,{name:"time-header"},{default:withCtx(()=>[unref(y)&&unref(a)?(openBlock(),createElementBlock("div",_hoisted_1$d,[createBaseVNode("span",_hoisted_2$c,toDisplayString(unref(i).formatDate(unref(a),"WWW")),1),createBaseVNode("span",_hoisted_3,toDisplayString(unref(i).formatDate(unref(a),"MMM")),1),createBaseVNode("span",_hoisted_4,toDisplayString(unref(i).formatDate(unref(a),"D")),1),createBaseVNode("span",_hoisted_5,toDisplayString(unref(i).formatDate(unref(a),"YYYY")),1)])):createCommentVNode("",!0)]),_:1}),createBaseVNode("div",_hoisted_6,[createVNode(_sfc_main$c,{name:"Clock",size:"17"}),createVNode(_sfc_main$4$1,{modelValue:unref(s),"onUpdate:modelValue":w[0]||(w[0]=x=>isRef(s)?s.value=x:null),modelModifiers:{number:!0},options:unref(g),class:"vc-time-select-hours","align-right":""},null,8,["modelValue","options"]),unref(b)>1?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_7,createVNode(_sfc_main$4$1,{modelValue:unref(l),"onUpdate:modelValue":w[1]||(w[1]=x=>isRef(l)?l.value=x:null),modelModifiers:{number:!0},options:unref(m).minutes,class:"vc-time-select-minutes","align-left":unref(b)===2},null,8,["modelValue","options","align-left"])],64)):createCommentVNode("",!0),unref(b)>2?(openBlock(),createElementBlock(Fragment,{key:1},[_hoisted_8,createVNode(_sfc_main$4$1,{modelValue:unref(c),"onUpdate:modelValue":w[2]||(w[2]=x=>isRef(c)?c.value=x:null),modelModifiers:{number:!0},options:unref(m).seconds,class:"vc-time-select-seconds","align-left":unref(b)===3},null,8,["modelValue","options","align-left"])],64)):createCommentVNode("",!0),unref(b)>3?(openBlock(),createElementBlock(Fragment,{key:2},[_hoisted_9,createVNode(_sfc_main$4$1,{modelValue:unref(d),"onUpdate:modelValue":w[3]||(w[3]=x=>isRef(d)?d.value=x:null),modelModifiers:{number:!0},options:unref(m).milliseconds,class:"vc-time-select-milliseconds","align-left":""},null,8,["modelValue","options"])],64)):createCommentVNode("",!0),unref(C)?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$4$1,{key:3,modelValue:unref(_),"onUpdate:modelValue":w[4]||(w[4]=x=>isRef(_)?_.value=x:null),options:unref(S)},null,8,["modelValue","options"]))])],2))}}),_sfc_main$2$1=defineComponent$1({__name:"DatePickerBase",setup(e){const{attributes:t,calendarRef:r,color:n,displayMode:i,isDateTimeMode:o,isTimeMode:a,isRange:s,onDayClick:l,onDayMouseEnter:c,onDayKeydown:d}=useDatePicker(),m=s.value?[0,1]:[0];return(g,v)=>unref(a)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(`vc-container vc-bordered vc-${unref(n)} vc-${unref(i)}`)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(m),_=>(openBlock(),createBlock(_sfc_main$3$1,{key:_,position:_},null,8,["position"]))),128))],2)):(openBlock(),createBlock(Calendar,{key:1,attributes:unref(t),ref_key:"calendarRef",ref:r,onDayclick:unref(l),onDaymouseenter:unref(c),onDaykeydown:unref(d)},{footer:withCtx(()=>[unref(o)?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(unref(m),_=>(openBlock(),createBlock(_sfc_main$3$1,{key:_,position:_},null,8,["position"]))),128)):createCommentVNode("",!0),createVNode(_sfc_main$i,{name:"dp-footer"})]),_:1},8,["attributes","onDayclick","onDaymouseenter","onDaykeydown"]))}}),__default__={inheritAttrs:!1},_sfc_main$1$1=defineComponent$1({...__default__,__name:"DatePickerPopover",setup(e){const{datePickerPopoverId:t,color:r,displayMode:n,popoverRef:i,onPopoverBeforeShow:o,onPopoverAfterShow:a,onPopoverBeforeHide:s,onPopoverAfterHide:l}=useDatePicker();return(c,d)=>(openBlock(),createBlock(Popover,{id:unref(t),placement:"bottom-start",class:normalizeClass(`vc-date-picker-content vc-${unref(r)} vc-${unref(n)}`),ref_key:"popoverRef",ref:i,onBeforeShow:unref(o),onAfterShow:unref(a),onBeforeHide:unref(s),onAfterHide:unref(l)},{default:withCtx(()=>[createVNode(_sfc_main$2$1,normalizeProps(guardReactiveProps(c.$attrs)),null,16)]),_:1},8,["id","class","onBeforeShow","onAfterShow","onBeforeHide","onAfterHide"]))}}),_sfc_main$l=defineComponent$1({inheritAttrs:!1,emits,props:propsDef,components:{DatePickerBase:_sfc_main$2$1,DatePickerPopover:_sfc_main$1$1},setup(e,t){const r=createDatePicker(e,t),n=reactive(omit(r,"calendarRef","popoverRef"));return{...r,slotCtx:n}}});function _sfc_render(e,t,r,n,i,o){const a=resolveComponent("DatePickerPopover"),s=resolveComponent("DatePickerBase");return e.$slots.default?(openBlock(),createElementBlock(Fragment,{key:0},[renderSlot(e.$slots,"default",normalizeProps(guardReactiveProps(e.slotCtx))),createVNode(a,normalizeProps(guardReactiveProps(e.$attrs)),null,16)],64)):(openBlock(),createBlock(s,normalizeProps(mergeProps({key:1},e.$attrs)),null,16))}const DatePicker=_export_sfc(_sfc_main$l,[["render",_sfc_render]]);function registerPlugins(e){e.use(vuetify),e.use(router),e.use(setupDefaults,{}),e.component("V2Calendar",Calendar),e.component("V2DatePicker",DatePicker)}const version="1.0.0",_hoisted_1$3={key:1,class:"pl-8 pr-8 pb-2",style:{color:"red"}},_sfc_main$5=defineComponent$1({__name:"CloudLogin",props:{title:{}},setup(e){const t=ref(),r=ref(),n=ref(!1),i=ref(!1),o=ref("");function a(){i.value=!0;const c=new URL(`https://${SCRYPTED_SERVER}/_punch/login`);c.searchParams.set("client_id","scrypted-app"),c.searchParams.set("response_type","code");const d=new URL("/_punch/oob",window.location.href);d.searchParams.set("link",window.location.href),c.searchParams.set("redirect_uri",d.toString()),window.location.href=c.toString()}async function s(){try{const c=`https://${t.value}/login`,m=await(await fetch(c)).json();if(saveSelfHostedDomain(t.value),cloudLoginRedirect.value=void 0,windowLocationReload(),!m.hasLogin)throw new Error("Server invalid.")}catch(c){r.value=c.toString()}}async function l(){const m=(await(await fetch(`https://${SCRYPTED_SERVER}/_punch/state?id=${o.value}`)).json()).search,g=new URL(`https://${SCRYPTED_SERVER}/_punch/oob`);g.hash="",g.search=m,console.warn(m,g.href),window.location.href=g.href}return(c,d)=>(openBlock(),createBlock(VDialog,{"model-value":!0,persistent:"","max-width":"300px"},{default:withCtx(()=>[createVNode(VForm,{onSubmit:d[5]||(d[5]=withModifiers(()=>{},["prevent"]))},{default:withCtx(()=>[createVNode(VCard,{class:"rounded-lg pb-8"},{default:withCtx(()=>[createVNode(VCardTitle,{style:{"text-align":"center"},class:"pt-8 scrypted-title"},{default:withCtx(()=>[...d[6]||(d[6]=[createTextVNode("Scrypted ",-1)])]),_:1}),createVNode(VCardSubtitle,{style:{"text-align":"center"},class:"pb-4 scrypted-subtitle"},{default:withCtx(()=>[createTextVNode(toDisplayString(c.title),1)]),_:1}),createVNode(VCardSubtitle,{onClick:unref(windowLocationReload),style:{"text-align":"center"},class:"pb-4 scrypted-subtitle2"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(clientAppVersion)),1)]),_:1},8,["onClick"]),i.value?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(VTextField,{class:"pl-8 pr-8 pb-2 pt-8 mb-4",density:"comfortable",variant:"outlined",modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=m=>o.value=m),autocorrect:"off",autocapitalize:"off",spellcheck:"false",label:"Cloud Sign In Code",hint:"An external browser has been opened to Sign In with Scrypted. Enter the code provided by the Sign In.","persistent-hint":"",placeholder:"ABCDEFGH"},null,8,["modelValue"]),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{size:"small",onClick:d[1]||(d[1]=m=>i.value=!1)},{default:withCtx(()=>[...d[7]||(d[7]=[createTextVNode("Cancel",-1)])]),_:1}),createVNode(VBtn,{size:"small",onClick:l,disabled:!o.value},{default:withCtx(()=>[...d[8]||(d[8]=[createTextVNode("Next",-1)])]),_:1},8,["disabled"])]),_:1})],64)):n.value?(openBlock(),createElementBlock(Fragment,{key:2},[n.value?(openBlock(),createBlock(VTextField,{key:0,class:"pl-8 pr-8 pb-2 pt-8 mb-4",density:"comfortable",variant:"outlined",modelValue:t.value,"onUpdate:modelValue":d[3]||(d[3]=m=>t.value=m),autocorrect:"off",autocapitalize:"off",spellcheck:"false",label:"Host",hint:"Host and port of a self hosted installation. E.g. scrypted.example.com or 192.168.2.100:10443","persistent-hint":"",placeholder:"scrypted.example.com"},null,8,["modelValue"])):createCommentVNode("",!0),r.value?(openBlock(),createElementBlock("div",_hoisted_1$3,toDisplayString(r.value),1)):createCommentVNode("",!0),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{size:"small",onClick:d[4]||(d[4]=m=>n.value=!1)},{default:withCtx(()=>[...d[13]||(d[13]=[createTextVNode("Cancel",-1)])]),_:1}),createVNode(VBtn,{size:"small",color:"success",onClick:s},{default:withCtx(()=>[...d[14]||(d[14]=[createTextVNode("Connect",-1)])]),_:1})]),_:1})],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(VCardText,{style:{"text-align":"center","font-size":".75rem"}},{default:withCtx(()=>[...d[9]||(d[9]=[createTextVNode("Connect to a Scrypted server with a Cloud Sign In.",-1)])]),_:1}),createVNode(VBtn,{variant:"outlined",class:"ml-8 mr-8 mb-4 pa-2",onClick:a},{default:withCtx(()=>[...d[10]||(d[10]=[createTextVNode("Sign In with Cloud",-1)])]),_:1}),createVNode(VCardText,{style:{"text-align":"center","font-size":".75rem"}},{default:withCtx(()=>[...d[11]||(d[11]=[createTextVNode("Connect to a Scrypted server using self hosted configuration.",-1)])]),_:1}),createVNode(VBtn,{variant:"outlined",class:"ml-8 mr-8 pa-2",onClick:d[2]||(d[2]=m=>n.value=!0)},{default:withCtx(()=>[...d[12]||(d[12]=[createTextVNode("Connect Self Hosted",-1)])]),_:1})],64))]),_:1})]),_:1})]),_:1}))}}),_hoisted_1$2={key:3,class:"pl-8 pr-8 pb-2",style:{color:"red"}},_sfc_main$4=defineComponent$1({__name:"Login",props:{title:{}},setup(e){const t=ref(),r=ref(),n=ref(),i=ref(!1),o=ref(),a=ref(),s=ref(),l=getBaseUrl();checkScryptedClientLogin({baseUrl:l}).then(d=>{s.value=d.hostname});async function c(){const d=getBaseUrl();a.value="";try{let m;if(!hasLogin.value){if(n.value!==r.value){a.value="Passwords do not match.";return}m=n.value}if(i.value){if(n.value!==o.value){a.value="New passwords do not match.";return}m=n.value}const g=await loginScryptedClient({baseUrl:d,username:t.value,password:r.value,change_password:m,maxAge:7*24*60*60*1e3});if(g.error){a.value=g.error;return}try{const v=new URL(window.location.href).searchParams.get("redirect_uri");if(v){window.location.href=v;return}}catch{}isSelfHosted()&&saveSelfHostedCredentials(t.value,r.value),windowLocationReload()}catch(m){const g=m.toString();a.value=g,g.includes("Network Error")&&window.location.href.startsWith("https:")&&(window.location.href="/")}}return(d,m)=>(openBlock(),createBlock(VDialog,{"model-value":!0,persistent:"","max-width":"300px"},{default:withCtx(()=>[createVNode(VForm,{onSubmit:withModifiers(c,["prevent"])},{default:withCtx(()=>[createVNode(VCard,{class:"rounded-lg"},{default:withCtx(()=>[createVNode(VCardTitle,{style:{"text-align":"center"},class:"pt-8 scrypted-title"},{default:withCtx(()=>[...m[6]||(m[6]=[createTextVNode("Scrypted ",-1)])]),_:1}),createVNode(VCardSubtitle,{style:{"text-align":"center"},class:"pb-4 scrypted-subtitle"},{default:withCtx(()=>[createTextVNode(toDisplayString(d.title),1)]),_:1}),s.value?(openBlock(),createBlock(VCardSubtitle,{key:0,style:{"text-align":"center"},class:"scrypted-subtitle2"},{default:withCtx(()=>[createTextVNode("Log into: "+toDisplayString(s.value),1)]),_:1})):createCommentVNode("",!0),createVNode(VTextField,{class:"ml-8 mr-8 mt-8 mb-8",density:"compact",variant:"outlined",modelValue:t.value,"onUpdate:modelValue":m[0]||(m[0]=g=>t.value=g),autocorrect:"off",autocapitalize:"off",spellcheck:"false",label:"User Name","persistent-placeholder":"","hide-details":""},null,8,["modelValue"]),createVNode(VTextField,{class:"ml-8 mr-8 mb-8",density:"compact",variant:"outlined",modelValue:r.value,"onUpdate:modelValue":m[1]||(m[1]=g=>r.value=g),type:"password",label:i.value?"Current Password":"Password",autocomplete:"on","persistent-placeholder":"","hide-details":""},null,8,["modelValue","label"]),i.value?(openBlock(),createBlock(VTextField,{key:1,class:"ml-8 mr-8 mb-4",density:"compact",variant:"outlined",modelValue:o.value,"onUpdate:modelValue":m[2]||(m[2]=g=>o.value=g),type:"password",label:"New Password",autocomplete:"on","persistent-placeholder":""},null,8,["modelValue"])):createCommentVNode("",!0),!unref(hasLogin)||i.value?(openBlock(),createBlock(VTextField,{key:2,class:"ml-8 mr-8 mb-4",density:"compact",variant:"outlined",modelValue:n.value,"onUpdate:modelValue":m[3]||(m[3]=g=>n.value=g),type:"password",label:i.value?"Confirm New Password":"Confirm Password",autocomplete:"on","persistent-placeholder":""},null,8,["modelValue","label"])):createCommentVNode("",!0),a.value?(openBlock(),createElementBlock("div",_hoisted_1$2,toDisplayString(a.value),1)):createCommentVNode("",!0),createVNode(VCardActions,null,{default:withCtx(()=>[unref(isScryptedCloudHostname)()?(openBlock(),createBlock(VBtn,{key:0,icon:unref(getFaPrefix)("fa-home"),size:"small",onClick:withModifiers(unref(logoutClient),["prevent"])},null,8,["icon","onClick"])):createCommentVNode("",!0),unref(hasLogin)?(openBlock(),createElementBlock(Fragment,{key:1},[i.value?(openBlock(),createBlock(VBtn,{key:1,size:"small",variant:"text",onClick:m[5]||(m[5]=g=>i.value=!1)},{default:withCtx(()=>[...m[8]||(m[8]=[createTextVNode("Cancel",-1)])]),_:1})):(openBlock(),createBlock(VBtn,{key:0,size:"small",variant:"text",onClick:m[4]||(m[4]=g=>i.value=!0)},{default:withCtx(()=>[...m[7]||(m[7]=[createTextVNode("Change Password",-1)])]),_:1}))],64)):createCommentVNode("",!0),createVNode(VSpacer),unref(hasLogin)?(openBlock(),createBlock(VBtn,{key:2,size:"small",type:"submit",variant:"text",onClick:withModifiers(c,["prevent"])},{default:withCtx(()=>[...m[9]||(m[9]=[createTextVNode("Log In",-1)])]),_:1})):(openBlock(),createBlock(VBtn,{key:3,type:"submit",size:"small",variant:"text",onClick:withModifiers(c,["prevent"])},{default:withCtx(()=>[...m[10]||(m[10]=[createTextVNode("Create Account",-1)])]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}))}});function getThemeManager(){const e=ref(),t=useTheme(),r=t.global.name;function n(s){s?localStorage.setItem("globalTheme",s):localStorage.removeItem("globalTheme"),i()}function i(){const s=localStorage.getItem("globalTheme");s==="light"||s==="dark"?t.change(s):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?t.change("dark"):t.change("light"),e.value=s||void 0}e.value=localStorage.getItem("globalTheme")||void 0;function o(){return e.value==="light"?"Light":e.value==="dark"?"Dark":"System Default"}function a(){return[{id:void 0,text:"System Default"},{id:"light",text:"Light"},{id:"dark",text:"Dark"}]}return{getThemes:a,getThemeName:o,theme:e,globalTheme:r,setTheme:n,updateTheme:i}}const _sfc_main$3=defineComponent$1({__name:"ThemeToggle",props:{icon:{type:[Boolean,String,Array]},iconSize:{}},setup(e){const t=getThemeManager(),{theme:r}=t;function n(){r.value==="light"?t.setTheme("dark"):r.value==="dark"?t.setTheme():t.setTheme("light")}return(i,o)=>(openBlock(),createBlock(VTooltip,{text:"Toggle Theme",location:"top","open-delay":1e3},{activator:withCtx(({props:a})=>[createVNode(VFadeTransition,{"leave-absolute":""},{default:withCtx(()=>[unref(r)==="light"?(openBlock(),createBlock(VBtn,mergeProps({key:0,icon:i.icon,variant:"text",onClick:n},a),{default:withCtx(()=>[createVNode(VIcon,{size:i.iconSize},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-sun-bright")),1)]),_:1},8,["size"])]),_:2},1040,["icon"])):unref(r)==="dark"?(openBlock(),createBlock(VBtn,mergeProps({key:1,icon:i.icon,variant:"text",onClick:n},a),{default:withCtx(()=>[createVNode(VIcon,{size:i.iconSize},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-moon")),1)]),_:1},8,["size"])]),_:2},1040,["icon"])):(openBlock(),createBlock(VBtn,mergeProps({key:2,icon:i.icon,variant:"text",onClick:n},a),{default:withCtx(()=>[createVNode(VIcon,{size:i.iconSize},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-moon-over-sun")),1)]),_:1},8,["size"])]),_:2},1040,["icon"]))]),_:2},1024)]),_:1}))}}),_hoisted_1$1={key:0,class:"pt-1",style:{color:"lightgrey"}},_sfc_main$2=defineComponent$1({__name:"AppBar",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const r=t,n=ref(),i=ref(),o=useRouter$1(),a=getServerUpdateMonitor(),s=computed(()=>{var m;return(m=a.value)!=null&&m.updateAvailable?1:0}),l=computed(()=>scryptedAlerts.value.length||d.value||s.value);watch(()=>i.value,async()=>{i.value&&goDevice(o,i.value.value)});const c=computed(()=>{var g;if(!connectedClient.value)return[];const m=(g=n.value)==null?void 0:g.toLowerCase();return getAllDevices().sort((v,_)=>{const S=hasFixedPhysicalLocation(v.type),C=hasFixedPhysicalLocation(_.type);return S&&!C?-1:C&&!S?1:v.type===distExports.ScryptedDeviceType.Doorbell?-1:_.type===distExports.ScryptedDeviceType.Doorbell?1:v.type===distExports.ScryptedDeviceType.Camera?-1:_.type===distExports.ScryptedDeviceType.Camera?1:v.interfaces.includes(distExports.ScryptedInterface.ScryptedPlugin)?-1:_.interfaces.includes(distExports.ScryptedInterface.ScryptedPlugin)?1:v.name.localeCompare(_.name)}).map(v=>{var S,C,y,b,u,w,x,E,T,k,D,B;let _;return m?v.name.toLowerCase().includes(m)?_=v.name:v.type.toLowerCase().includes(m)?_=v.type:v.pluginId.toLowerCase().includes(m)?_=v.pluginId:(C=(S=v.info)==null?void 0:S.manufacturer)!=null&&C.toLowerCase().includes(m)?_=v.info.manufacturer:(b=(y=v.info)==null?void 0:y.model)!=null&&b.toLowerCase().includes(m)?_=v.info.model:(w=(u=v.info)==null?void 0:u.serialNumber)!=null&&w.toLowerCase().includes(m)?_=v.info.serialNumber:(E=(x=v.info)==null?void 0:x.ip)!=null&&E.toLowerCase().includes(m)?_=v.info.ip:(k=(T=v.info)==null?void 0:T.mac)!=null&&k.toLowerCase().includes(m)?_=v.info.mac:(B=(D=v.info)==null?void 0:D.managementUrl)!=null&&B.toLowerCase().includes(m)?_=v.info.managementUrl:_=v.pluginId:_=v.pluginId,{subtitle:_,title:`${v.name} ${v.type} ${JSON.stringify(v.info||{})} ${v.pluginId}`,value:v}})}),{pluginUpdateCount:d}=getPluginMonitors();return(m,g)=>(openBlock(),createBlock(VAppBar,{app:"","clipped-left":"",color:"deep-purple accent-4"},{default:withCtx(()=>{var v,_;return[createVNode(VAppBarNavIcon,{variant:"text",onClick:g[0]||(g[0]=S=>r("update:modelValue",!m.modelValue)),class:"mt-1"},{default:withCtx(()=>[!m.modelValue&&l.value?(openBlock(),createBlock(VBadge,{key:0,content:l.value.toString(),color:"error"},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-bars")),1)]),_:1})]),_:1},8,["content"])):(openBlock(),createBlock(VIcon,{key:1},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-bars")),1)]),_:1}))]),_:1}),createVNode(VToolbarTitle,{class:"scrypted-title mr-4",style:{flex:"none"}},{default:withCtx(()=>[...g[3]||(g[3]=[createBaseVNode("a",{class:"hide-link",href:"#/"},"Scrypted",-1)])]),_:1}),(v=unref(connectedClient))!=null&&v.serverVersion&&!unref(isTouchPhone)?(openBlock(),createElementBlock("div",_hoisted_1$1,"v"+toDisplayString((_=unref(connectedClient))==null?void 0:_.serverVersion),1)):createCommentVNode("",!0),createVNode(VSpacer),unref(isTouchDevice)?createCommentVNode("",!0):(openBlock(),createBlock(VAutocomplete,{key:1,"max-width":"320","onUpdate:search":g[1]||(g[1]=S=>n.value=S),items:c.value,"hide-details":"","return-object":"","persistent-placeholder":"",label:"Search",variant:"outlined",density:"compact",modelValue:i.value,"onUpdate:modelValue":g[2]||(g[2]=S=>i.value=S)},{"no-data":withCtx(()=>[...g[4]||(g[4]=[])]),selection:withCtx(()=>[...g[5]||(g[5]=[])]),item:withCtx(({props:S,item:C})=>[createVNode(VListItem,normalizeProps(guardReactiveProps(S)),{prepend:withCtx(()=>[createVNode(VIcon,{size:"xx-small"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(typeToIcon)(C.raw.value.type)),1)]),_:2},1024)]),title:withCtx(()=>[createVNode(VListItemTitle,{style:{"font-size":".8rem"}},{default:withCtx(()=>[createTextVNode(toDisplayString(C.raw.value.name),1)]),_:2},1024)]),subtitle:withCtx(()=>[createVNode(VListItemSubtitle,{style:{"font-size":".8rem"}},{default:withCtx(()=>[createTextVNode(toDisplayString(C.raw.subtitle),1)]),_:2},1024)]),_:2},1040)]),_:1},8,["items","modelValue"])),createVNode(_sfc_main$3),unref(isLoggedIn)?(openBlock(),createBlock(VBtn,{key:2,onClick:unref(logoutClient)},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-arrow-right-from-bracket")),1)]),_:1})]),_:1},8,["onClick"])):createCommentVNode("",!0)]}),_:1}))}}),AppBar=_export_sfc$1(_sfc_main$2,[["__scopeId","data-v-73d52866"]]),_sfc_main$1=defineComponent$1({__name:"Drawer",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const r=t,n=useRoute$1(),i=computed(()=>n.name),o=ref(0),a=ref(!1);watch(()=>a.value,()=>o.value=0);const s=computed(()=>scryptedAlerts.value[o.value]);watch(()=>s.value,()=>{s.value||(a.value=!1)});const l=computed(()=>{var S;const v="/device/";return(S=s.value)!=null&&S.path.startsWith(v)?s.value.path.substring(v.length):void 0}),c=computed(()=>{if(!l.value)return;const v=connectedClient==null?void 0:connectedClient.value.systemManager.getDeviceById(l.value);if(v)return typeToIcon(v.type)}),{pluginUpdateCount:d}=getPluginMonitors(),m=getServerUpdateMonitor(),g=computed(()=>{var _;return[{title:void 0,items:[{title:"Devices",icon:getFaPrefix("fa-house-signal"),to:"/device",active:()=>i.value==="Device"||i.value==="DeviceList"},...isAdmin.value?d.value?[{title:"Plugins",icon:getFaPrefix("fa-puzzle"),to:"/component/plugin",badge:d.value.toString()}]:[{title:"Plugins",icon:getFaPrefix("fa-puzzle"),to:"/component/plugin"}]:[]]},{title:"Utilities",items:[...isAdmin.value?[{title:"Users",icon:getFaPrefix("fa-users"),to:"/users"},{title:"Automations",icon:getFaPrefix("fa-bolt"),to:"/automations"},{title:"Scripts",icon:getFaPrefix("fa-code"),to:"/scripts"},{title:"Terminal",icon:getFaPrefix("fa-rectangle-terminal"),to:"/component/shell"}]:[],...scryptedAlerts.value.length?[{title:"Alerts",icon:getFaPrefix("fa-message-exclamation"),click:()=>{a.value=!0},badge:scryptedAlerts.value.length.toString()}]:[],...isAdmin.value?[{title:"Settings",icon:getFaPrefix("fa-gear"),to:"/settings",badge:(_=m.value)!=null&&_.updateAvailable?getFaPrefix("fa-download"):void 0,badgeIcon:!0}]:[]]},{title:"Community",items:[{title:"Documentation",icon:getFaPrefix("fa-book"),href:"https://docs.scrypted.app",target:"_blank"},{title:"Discord",icon:"fa-brands fa-discord",href:"https://discord.gg/DcFzmBHYGq",target:"_blank"},{title:"Reddit",icon:"fa-brands fa-reddit-alien",href:"https://www.reddit.com/r/Scrypted",target:"_blank"}]}]});return(v,_)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(VNavigationDrawer,{"onUpdate:modelValue":_[0]||(_[0]=S=>r("update:modelValue",S)),"model-value":v.modelValue,app:"",clipped:"",fixed:"",rail:!unref(isTouchDevice),permanent:!unref(isTouchDevice)},{default:withCtx(()=>[createVNode(VList,{density:"compact",nav:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.value,(S,C)=>(openBlock(),createElementBlock(Fragment,{key:S.title},[S.title&&unref(isTouchDevice)?(openBlock(),createBlock(VListSubheader,{key:0},{default:withCtx(()=>[createTextVNode(toDisplayString(S.title),1)]),_:2},1024)):createCommentVNode("",!0),S.title&&!unref(isTouchDevice)?(openBlock(),createBlock(VDivider,{key:1})):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(S.items,y=>{var b;return openBlock(),createBlock(VListItem,{link:"",href:y.href,target:y.target,to:y.to,onClick:y.click,active:(b=y.active)==null?void 0:b.call(y),title:y.title},{prepend:withCtx(()=>[y.badge?(openBlock(),createBlock(VBadge,{key:0,color:"error",content:!y.badgeIcon&&y.badge,icon:y.badgeIcon&&y.badge},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[createTextVNode(toDisplayString(y.icon),1)]),_:2},1024)]),_:2},1032,["content","icon"])):(openBlock(),createBlock(VIcon,{key:1},{default:withCtx(()=>[createTextVNode(toDisplayString(y.icon),1)]),_:2},1024))]),default:withCtx(()=>[unref(isTouchDevice)?createCommentVNode("",!0):(openBlock(),createBlock(VTooltip,{key:0,activator:"parent",location:"end"},{default:withCtx(()=>[createTextVNode(toDisplayString(y.title),1)]),_:2},1024))]),_:2},1032,["href","target","to","onClick","active","title"])}),256)),C?(openBlock(),createBlock(VDivider,{key:2})):createCommentVNode("",!0)],64))),128))]),_:1})]),_:1},8,["model-value","rail","permanent"]),s.value?(openBlock(),createBlock(VDialog,{key:0,modelValue:a.value,"onUpdate:modelValue":_[5]||(_[5]=S=>a.value=S),location:"center","max-width":"400"},{default:withCtx(()=>[createVNode(VCard,{color:"error","prepend-icon":c.value},{title:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(s.value.title),1)]),_:1})]),append:withCtx(()=>[createVNode(VBtn,{variant:"text",disabled:!o.value,onClick:_[1]||(_[1]=S=>o.value--),icon:unref(getFaPrefix)("fa-arrow-left")},null,8,["disabled","icon"]),createVNode(VBtn,{variant:"text",disabled:o.value>=unref(scryptedAlerts).length-1,onClick:_[2]||(_[2]=S=>o.value++),icon:unref(getFaPrefix)("fa-arrow-right")},null,8,["disabled","icon"])]),default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createTextVNode(toDisplayString(s.value.message),1)]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{onClick:_[3]||(_[3]=S=>unref(removeAlert)(s.value))},{default:withCtx(()=>[..._[6]||(_[6]=[createTextVNode("Dismiss",-1)])]),_:1}),createVNode(VBtn,{to:l.value?unref(getDeviceRoute)(l.value):void 0,onClick:_[4]||(_[4]=S=>a.value=!1)},{default:withCtx(()=>[..._[7]||(_[7]=[createTextVNode("View",-1)])]),_:1},8,["to"])]),_:1})]),_:1},8,["prepend-icon"])]),_:1},8,["modelValue"])):createCommentVNode("",!0)],64))}}),_hoisted_1={style:{display:"flex","justify-content":"center"}},_hoisted_2={class:"mr-4"},_sfc_main=defineComponent$1({__name:"App",setup(e){var n;const t=useRoute$1(),r=ref(!isTouchDevice.value);return getThemeManager().updateTheme(),setClientAppVersion(version),console.log("management ui version",clientAppVersion),setClientPluginId("@scrypted/core"),setAppDomain("manage.scrypted.app",!1),setClientConnectionPreferences({webrtc:!1}),isAppDomain()||(n=navigator.serviceWorker)==null||n.getRegistration().then(i=>{i&&(console.warn("unregistering service worker",i),i.unregister())}),connectPluginClient(),(i,o)=>{const a=resolveComponent("router-view");return unref(isLoggedIn)?unref(cloudLoginRedirect)?(openBlock(),createBlock(VApp,{key:1,style:{"background-color":"#6200EA"}},{default:withCtx(()=>[createVNode(_sfc_main$5)]),_:1})):unref(t).name==="Launcher"?(openBlock(),createBlock(VApp,{key:2},{default:withCtx(()=>[createVNode(_sfc_main$q)]),_:1})):(openBlock(),createBlock(VApp,{key:3},{default:withCtx(()=>[createVNode(AppBar,{modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=s=>r.value=s)},null,8,["modelValue"]),createVNode(_sfc_main$1,{modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=s=>r.value=s)},null,8,["modelValue"]),createVNode(VMain,null,{default:withCtx(()=>[createVNode(a,{style:{width:"100%",height:"100%"}},{default:withCtx(({Component:s})=>[(openBlock(),createBlock(resolveDynamicComponent(s)))]),_:1}),createVNode(VSnackbar,{color:"warning","model-value":!unref(connectedClient),timeout:-1,"close-on-content-click":""},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createVNode(VIcon,{size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(getFaPrefix)("fa-wifi-slash")),1)]),_:1})]),o[2]||(o[2]=createBaseVNode("div",{style:{"margin-top":"2px"},class:"mr-6"},"Disconnected",-1))])]),_:1},8,["model-value"])]),_:1})]),_:1})):(openBlock(),createBlock(VApp,{key:0,style:{"background-color":"#6200EA"}},{default:withCtx(()=>[createVNode(_sfc_main$4,{title:"Management Console"})]),_:1}))}}}),app=createApp(_sfc_main);registerPlugins(app);app.mount("#app");export{__vitePreload as _,reactive as a,onBeforeUnmount as b,computed as c,defineComponent$1 as d,onUnmounted as e,render as f,getDefaultExportFromCjs$1 as g,h,inject$1 as i,markRaw as m,nextTick$1 as n,onMounted as o,provide as p,ref as r,watch as w};
