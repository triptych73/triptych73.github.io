<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Firebase Auth Guard -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/10.7.1/firebase-app-compat.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/10.7.1/firebase-auth-compat.min.js"></script>
    <script src="../firebase-config.js"></script>
    <script>
        if (typeof firebase !== 'undefined' && typeof firebaseConfig !== 'undefined') {
            if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
            firebase.auth().onAuthStateChanged((user) => {
                if (!user) window.location.href = '../login.html';
            });
        }
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro Window Shutter Designer</title>
    <link rel="stylesheet" href="css/style.css">
    <script type="importmap">
        {
            "imports": {
                "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
                "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/",
                "lil-gui": "https://unpkg.com/lil-gui@0.19.1/dist/lil-gui.esm.min.js"
            }
        }
    </script>
</head>

<body>
    <div id="loader">
        <div class="spinner"></div>
        <div style="font-size:12px;color:#666; letter-spacing:1px;">INITIALIZING STUDIO</div>
    </div>
    <canvas id="canvas-3d"></canvas>

    <div id="schematic-panel">
        <div class="panel-header">
            <div style="display:flex; align-items:center;">
                <select id="window-select">
                    <option value="front">Front Window</option>
                    <option value="left">Left Window</option>
                    <option value="right">Right Window</option>
                </select>
            </div>
            <div style="display:flex; gap:10px; align-items:center;">
                <div class="view-controls">
                    <button class="view-btn active" data-view="TOP">TOP</button>
                    <button class="view-btn" data-view="FRONT">FRONT</button>
                    <button class="view-btn" data-view="SIDE">SIDE</button>
                </div>
                <div class="panel-actions">
                    <button id="btn-minimize">_</button>
                </div>
            </div>
        </div>
        <div id="canvas-wrapper">
            <canvas id="canvas-2d"></canvas>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>

</html>